var we=["ltr","rtl"];function kr(t){let e=t.dataset.dir;if(e!==void 0&&we.includes(e))return e;let n=document.documentElement.getAttribute("dir");return n==="ltr"||n==="rtl"?n:"ltr"}var xr=(t,e,n)=>{let r=t.dataset[e];if(r!==void 0&&(!n||n.includes(r)))return r},Cr=(t,e)=>{let n=t.dataset[e];if(typeof n=="string")return n.split(",").map(r=>r.trim()).filter(r=>r.length>0)},Lr=(t,e,n)=>{let r=t.dataset[e];if(r===void 0)return;let o=Number(r);if(!Number.isNaN(o))return n&&!n.includes(o)?0:o},_r=(t,e)=>{let n=e.replace(/([A-Z])/g,"-$1").toLowerCase();return t.hasAttribute(`data-${n}`)},Ir=(t,e="element")=>t?.id?t.id:`${e}-${Math.random().toString(36).substring(2,9)}`;var G=(t,e=[])=>({parts:(...n)=>{if(Ee(e))return G(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>G(t,[...e,...n]),omit:(...n)=>G(t,e.filter(r=>!n.includes(r))),rename:n=>G(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${I(t)}"][data-part="${I(r)}"]`,`& [data-scope="${I(t)}"][data-part="${I(r)}"]`].join(", "),attrs:{"data-scope":I(t),"data-part":I(r)}}}),{})}),I=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Ee=t=>t.length===0;var Ae=Object.defineProperty,Pe=(t,e,n)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ft=(t,e,n)=>Pe(t,typeof e!="symbol"?e+"":e,n);function Kr(t){if(t)try{if(t.ownerDocument.activeElement!==t)return;let e=t.value.length;t.setSelectionRange(e,e)}catch{}}var It=t=>Math.max(0,Math.min(1,t)),Se=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),dt=(...t)=>e=>t.reduce((n,r)=>r(n),e),N=()=>{},Z=t=>typeof t=="object"&&t!==null,Fr=2147483647,jr=t=>t?"":void 0,Br=t=>t?"true":void 0,Te=1,Oe=9,Re=11,S=t=>Z(t)&&t.nodeType===Te&&typeof t.nodeName=="string",yt=t=>Z(t)&&t.nodeType===Oe,Me=t=>Z(t)&&t===t.window;var Vt=t=>S(t)?t.localName||"":"#document";function Ne(t){return["html","body","#document"].includes(Vt(t))}var ke=t=>Z(t)&&t.nodeType!==void 0,z=t=>ke(t)&&t.nodeType===Re&&"host"in t,xe=t=>S(t)&&t.localName==="input",$r=t=>!!t?.matches("a[href]"),Ce=t=>S(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1;function W(t){if(!t)return!1;let e=t.getRootNode();return bt(e)===t}var Le=/(textarea|select)/;function _e(t){if(t==null||!S(t))return!1;try{return xe(t)&&t.selectionStart!=null||Le.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Ie(t,e){if(!t||!e||!S(t)||!S(e))return!1;let n=e.getRootNode?.();if(t===e||t.contains(e))return!0;if(n&&z(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function q(t){return yt(t)?t:Me(t)?t.document:t?.ownerDocument??document}function De(t){return q(t).documentElement}function T(t){return z(t)?T(t.host):yt(t)?t.defaultView??window:S(t)?t.ownerDocument?.defaultView??window:window}function bt(t){let e=t.activeElement;for(;e?.shadowRoot;){let n=e.shadowRoot.activeElement;if(!n||n===e)break;e=n}return e}function Ve(t){if(Vt(t)==="html")return t;let e=t.assignedSlot||t.parentNode||z(t)&&t.host||De(t);return z(e)?e.host:e}function vt(t){let e;try{if(e=t.getRootNode({composed:!0}),yt(e)||z(e))return e}catch{}return t.ownerDocument??document}var ht=new WeakMap;function zr(t){return ht.has(t)||ht.set(t,T(t).getComputedStyle(t)),ht.get(t)}var wt=new Set(["menu","listbox","dialog","grid","tree","region"]),Ke=t=>wt.has(t),Kt=t=>t.getAttribute("aria-controls")?.split(" ")||[];function Wr(t,e){let n=new Set,r=vt(t),o=s=>{let c=s.querySelectorAll("[aria-controls]");for(let i of c){if(i.getAttribute("aria-expanded")!=="true")continue;let l=Kt(i);for(let d of l){if(!d||n.has(d))continue;n.add(d);let h=r.getElementById(d);if(h){let a=h.getAttribute("role"),u=h.getAttribute("aria-modal")==="true";if(a&&Ke(a)&&!u&&(h===e||h.contains(e)||o(h)))return!0}}}return!1};return o(t)}function Fe(t,e){let n=vt(t),r=new Set,o=s=>{let c=s.querySelectorAll("[aria-controls]");for(let i of c){if(i.getAttribute("aria-expanded")!=="true")continue;let l=Kt(i);for(let d of l){if(!d||r.has(d))continue;r.add(d);let h=n.getElementById(d);if(h){let a=h.getAttribute("role"),u=h.getAttribute("aria-modal")==="true";a&&wt.has(a)&&!u&&(e(h),o(h))}}}};o(t)}function qr(t){let e=new Set;return Fe(t,n=>{t.contains(n)||e.add(n)}),Array.from(e)}function je(t){let e=t.getAttribute("role");return!!(e&&wt.has(e))}function Be(t){return t.hasAttribute("aria-controls")&&t.getAttribute("aria-expanded")==="true"}function Hr(t){return Be(t)?!0:!!t.querySelector?.('[aria-controls][aria-expanded="true"]')}function Ur(t){if(!t.id)return!1;let e=vt(t),n=CSS.escape(t.id),r=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(e.querySelector(r)&&je(t))}function Yr(t,e){let{type:n,quality:r=.92,background:o}=e;if(!t)throw new Error("[zag-js > getDataUrl]: Could not find the svg element");let s=T(t),c=s.document,i=t.getBoundingClientRect(),l=t.cloneNode(!0);l.hasAttribute("viewBox")||l.setAttribute("viewBox",`0 0 ${i.width} ${i.height}`);let h=`<?xml version="1.0" standalone="no"?>\r
`+new s.XMLSerializer().serializeToString(l),a="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(h);if(n==="image/svg+xml")return Promise.resolve(a).then(b=>(l.remove(),b));let u=s.devicePixelRatio||1,p=c.createElement("canvas"),g=new s.Image;g.src=a,p.width=i.width*u,p.height=i.height*u;let f=p.getContext("2d");return(n==="image/jpeg"||o)&&(f.fillStyle=o||"white",f.fillRect(0,0,p.width,p.height)),new Promise(b=>{g.onload=()=>{f?.drawImage(g,0,0,p.width,p.height),b(p.toDataURL(n,r)),l.remove()}})}var Q=()=>typeof document<"u";function $e(){return navigator.userAgentData?.platform??navigator.platform}function ze(){let t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var Et=t=>Q()&&t.test($e()),Ft=t=>Q()&&t.test(ze()),We=t=>Q()&&t.test(navigator.vendor),Gr=()=>Q()&&!!navigator.maxTouchPoints,qe=()=>Et(/^iPhone/i),He=()=>Et(/^iPad/i)||tt()&&navigator.maxTouchPoints>1,At=()=>qe()||He(),Ue=()=>tt()||At(),tt=()=>Et(/^Mac/i),Xr=()=>Ue()&&We(/apple/i),Ye=()=>Ft(/Firefox/i);var Ge=()=>Ft(/Android/i);function Jr(t){let{selectionStart:e,selectionEnd:n,value:r}=t.currentTarget,o=t.data;return r.slice(0,e)+(o??"")+r.slice(n)}function Xe(t){return t.composedPath?.()??t.nativeEvent?.composedPath?.()}function Je(t){return Xe(t)?.[0]??t.target}function Zr(t){let e=t.currentTarget;if(!e||!e.matches("a[href], button[type='submit'], input[type='submit']"))return!1;let r=t.button===1,o=Ze(t);return r||o}function Qr(t){let e=t.currentTarget;if(!e)return!1;let n=e.localName;return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function to(t){return en(t).isComposing||t.keyCode===229}function Ze(t){return tt()?t.metaKey:t.ctrlKey}function eo(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}function no(t){return t.pointerType===""&&t.isTrusted?!0:Ge()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var ro=t=>t.button===0,oo=t=>t.button===2||tt()&&t.ctrlKey&&t.button===0,so=t=>t.ctrlKey||t.altKey||t.metaKey,Qe=t=>"touches"in t&&t.touches.length>0,tn={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Dt={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function io(t,e={}){let{dir:n="ltr",orientation:r="horizontal"}=e,o=t.key;return o=tn[o]??o,n==="rtl"&&r==="horizontal"&&o in Dt&&(o=Dt[o]),o}function en(t){return t.nativeEvent??t}var nn=new Set(["PageUp","PageDown"]),rn=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function co(t){return t.ctrlKey||t.metaKey?.1:nn.has(t.key)||t.shiftKey&&rn.has(t.key)?10:1}function gt(t,e="client"){let n=Qe(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var P=(t,e,n,r)=>{let o=typeof t=="function"?t():t;return o?.addEventListener(e,n,r),()=>{o?.removeEventListener(e,n,r)}};function jt(t,e){let{type:n="HTMLInputElement",property:r="value"}=e,o=T(t)[n].prototype;return Object.getOwnPropertyDescriptor(o,r)??{}}function on(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function sn(t,e,n="value"){if(!t)return;let r=on(t);r&&jt(t,{type:r,property:n}).set?.call(t,e),t.setAttribute(n,e)}function cn(t,e){if(!t)return;jt(t,{type:"HTMLInputElement",property:"checked"}).set?.call(t,e),e?t.setAttribute("checked",""):t.removeAttribute("checked")}function ao(t,e){let{value:n,bubbles:r=!0}=e;if(!t)return;let o=T(t);t instanceof o.HTMLInputElement&&(sn(t,`${n}`),t.dispatchEvent(new o.Event("input",{bubbles:r})))}function uo(t,e){let{checked:n,bubbles:r=!0}=e;if(!t)return;let o=T(t);t instanceof o.HTMLInputElement&&(cn(t,n),t.dispatchEvent(new o.Event("click",{bubbles:r})))}function an(t){return un(t)?t.form:t.closest("form")}function un(t){return t.matches("textarea, input, select, button")}function ln(t,e){if(!t)return;let n=an(t),r=o=>{o.defaultPrevented||e()};return n?.addEventListener("reset",r,{passive:!0}),()=>n?.removeEventListener("reset",r)}function fn(t,e){let n=t?.closest("fieldset");if(!n)return;e(n.disabled);let r=T(n),o=new r.MutationObserver(()=>e(n.disabled));return o.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>o.disconnect()}function lo(t,e){if(!t)return;let{onFieldsetDisabledChange:n,onFormReset:r}=e,o=[ln(t,r),fn(t,n)];return()=>o.forEach(s=>s?.())}var Bt=t=>S(t)&&t.tagName==="IFRAME",dn=/^(audio|video|details)$/;function $t(t){let e=t.getAttribute("tabindex");return e?parseInt(e,10):NaN}var hn=t=>!Number.isNaN($t(t)),pn=t=>$t(t)<0;function gn(t,e){if(!e)return null;if(e===!0)return t.shadowRoot||null;let n=e(t);return(n===!0?t.shadowRoot:n)||null}function zt(t,e,n){let r=[...t],o=[...t],s=new Set,c=new Map;t.forEach((l,d)=>c.set(l,d));let i=0;for(;i<o.length;){let l=o[i++];if(!l||s.has(l))continue;s.add(l);let d=gn(l,e);if(d){let h=Array.from(d.querySelectorAll(et)).filter(n),a=c.get(l);if(a!==void 0){let u=a+1;r.splice(u,0,...h),h.forEach((p,g)=>{c.set(p,u+g)});for(let p=u+h.length;p<r.length;p++)c.set(r[p],p)}else{let u=r.length;r.push(...h),h.forEach((p,g)=>{c.set(p,u+g)})}o.push(...h)}}return r}var et="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",mn=(t,e={})=>{if(!t)return[];let{includeContainer:n=!1,getShadowRoot:r}=e,o=Array.from(t.querySelectorAll(et));(n==!0||n=="if-empty"&&o.length===0)&&S(t)&&X(t)&&o.unshift(t);let c=[];for(let i of o)if(X(i)){if(Bt(i)&&i.contentDocument){let l=i.contentDocument.body;c.push(...mn(l,{getShadowRoot:r}));continue}c.push(i)}return r?zt(c,r,X):c};function X(t){return!S(t)||t.closest("[inert]")?!1:t.matches(et)&&Ce(t)}function Pt(t,e={}){if(!t)return[];let{includeContainer:n,getShadowRoot:r}=e,o=Array.from(t.querySelectorAll(et));n&&pt(t)&&o.unshift(t);let s=[];for(let c of o)if(pt(c)){if(Bt(c)&&c.contentDocument){let i=c.contentDocument.body;s.push(...Pt(i,{getShadowRoot:r}));continue}s.push(c)}if(r){let c=zt(s,r,pt);return!c.length&&n?o:c}return!s.length&&n?o:s}function pt(t){return S(t)&&t.tabIndex>0?!0:X(t)&&!pn(t)}function yn(t,e={}){let n=Pt(t,e),r=n[0]||null,o=n[n.length-1]||null;return[r,o]}function fo(t){return t.tabIndex<0&&(dn.test(t.localName)||_e(t))&&!hn(t)?0:t.tabIndex}function ho(t){let{root:e,getInitialEl:n,filter:r,enabled:o=!0}=t;if(!o)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e?.querySelector("[data-autofocus],[autofocus]")),!s){let c=Pt(e);s=r?c.filter(r)[0]:c[0]}return s||e||void 0}function po(t){let e=t.currentTarget;if(!e)return!1;let[n,r]=yn(e);return!(W(n)&&t.shiftKey||W(r)&&!t.shiftKey||!n&&!r)}var bn=class Wt{constructor(){ft(this,"id",null),ft(this,"fn_cleanup"),ft(this,"cleanup",()=>{this.cancel()})}static create(){return new Wt}request(e){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=e?.()})}cancel(){this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),this.fn_cleanup?.(),this.fn_cleanup=void 0}isActive(){return this.id!==null}};function nt(t){let e=bn.create();return e.request(t),e.cleanup}function vn(t){let e=new Set;function n(r){let o=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(o))}return n(()=>n(t)),function(){e.forEach(o=>o())}}function wn(t,e,n){let r=nt(()=>{t.removeEventListener(e,o,!0),n()}),o=()=>{r(),n()};return t.addEventListener(e,o,{once:!0,capture:!0}),r}function En(t,e){if(!t)return;let{attributes:n,callback:r}=e,o=t.ownerDocument.defaultView||window,s=new o.MutationObserver(c=>{for(let i of c)i.type==="attributes"&&i.attributeName&&n.includes(i.attributeName)&&r(i)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function go(t,e){let{defer:n}=e,r=n?nt:s=>s(),o=[];return o.push(r(()=>{let s=typeof t=="function"?t():t;o.push(En(s,e))})),()=>{o.forEach(s=>s?.())}}function An(t,e){let{callback:n}=e;if(!t)return;let r=t.ownerDocument.defaultView||window,o=new r.MutationObserver(n);return o.observe(t,{childList:!0,subtree:!0}),()=>o.disconnect()}function mo(t,e){let{defer:n}=e,r=n?nt:s=>s(),o=[];return o.push(r(()=>{let s=typeof t=="function"?t():t;o.push(An(s,e))})),()=>{o.forEach(s=>s?.())}}function yo(t){let e=()=>{let n=T(t);t.dispatchEvent(new n.MouseEvent("click"))};Ye()?wn(t,"keyup",e):queueMicrotask(e)}function Pn(t){let e=Ve(t);return Ne(e)?q(e).body:S(e)&&qt(e)?e:Pn(e)}var Sn=/auto|scroll|overlay|hidden|clip/,Tn=new Set(["inline","contents"]);function qt(t){let e=T(t),{overflow:n,overflowX:r,overflowY:o,display:s}=e.getComputedStyle(t);return Sn.test(n+o+r)&&!Tn.has(s)}function On(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function bo(t,e){let{rootEl:n,...r}=e||{};!t||!n||!qt(n)||!On(n)||t.scrollIntoView(r)}function vo(t,e){let{left:n,top:r,width:o,height:s}=e.getBoundingClientRect(),c={x:t.x-n,y:t.y-r},i={x:It(c.x/o),y:It(c.y/s)};function l(d={}){let{dir:h="ltr",orientation:a="horizontal",inverted:u}=d,p=typeof u=="object"?u.x:u,g=typeof u=="object"?u.y:u;return a==="horizontal"?h==="rtl"||p?1-i.x:i.x:g?1-i.y:i.y}return{offset:c,percent:i,getPercentValue:l}}function wo(t,e){let n=t.body,r="pointerLockElement"in t||"mozPointerLockElement"in t,o=()=>!!t.pointerLockElement;function s(){e?.(o())}function c(l){o()&&e?.(!1),console.error("PointerLock error occurred:",l),t.exitPointerLock()}if(!r)return;try{n.requestPointerLock()}catch{}let i=[P(t,"pointerlockchange",s,!1),P(t,"pointerlockerror",c,!1)];return()=>{i.forEach(l=>l()),t.exitPointerLock()}}var D="default",mt="",J=new WeakMap;function Rn(t={}){let{target:e,doc:n}=t,r=n??document,o=r.documentElement;return At()?(D==="default"&&(mt=o.style.webkitUserSelect,o.style.webkitUserSelect="none"),D="disabled"):e&&(J.set(e,e.style.userSelect),e.style.userSelect="none"),()=>Mn({target:e,doc:r})}function Mn(t={}){let{target:e,doc:n}=t,o=(n??document).documentElement;if(At()){if(D!=="disabled")return;D="restoring",setTimeout(()=>{vn(()=>{D==="restoring"&&(o.style.webkitUserSelect==="none"&&(o.style.webkitUserSelect=mt||""),mt="",D="default")})},300)}else if(e&&J.has(e)){let s=J.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),J.delete(e)}}function Nn(t={}){let{defer:e,target:n,...r}=t,o=e?nt:c=>c(),s=[];return s.push(o(()=>{let c=typeof n=="function"?n():n;s.push(Rn({...r,target:c}))})),()=>{s.forEach(c=>c?.())}}function Eo(t,e){let{onPointerMove:n,onPointerUp:r}=e,o=i=>{let l=gt(i),d=Math.sqrt(l.x**2+l.y**2),h=i.pointerType==="touch"?10:5;if(!(d<h)){if(i.pointerType==="mouse"&&i.buttons===0){s(i);return}n({point:l,event:i})}},s=i=>{let l=gt(i);r({point:l,event:i})},c=[P(t,"pointermove",o,!1),P(t,"pointerup",s,!1),P(t,"pointercancel",s,!1),P(t,"contextmenu",s,!1),Nn({doc:t})];return()=>{c.forEach(i=>i())}}function Ao(t){let{pointerNode:e,keyboardNode:n=e,onPress:r,onPressStart:o,onPressEnd:s,isValidKey:c=E=>E.key==="Enter"}=t;if(!e)return N;let i=T(e),l=N,d=N,h=N,a=E=>({point:gt(E),event:E});function u(E){o?.(a(E))}function p(E){s?.(a(E))}let f=P(e,"pointerdown",E=>{d();let U=P(i,"pointerup",R=>{let m=Je(R);Ie(e,m)?r?.(a(R)):s?.(a(R))},{passive:!r,once:!0}),k=P(i,"pointercancel",p,{passive:!s,once:!0});d=dt(U,k),W(n)&&E.pointerType==="mouse"&&E.preventDefault(),u(E)},{passive:!o}),b=P(n,"focus",O);l=dt(f,b);function O(){let E=R=>{if(!c(R))return;let m=v=>{if(!c(v))return;let A=new i.PointerEvent("pointerup"),M=a(A);r?.(M),s?.(M)};d(),d=P(n,"keyup",m);let y=new i.PointerEvent("pointerdown");u(y)},_=()=>{let R=new i.PointerEvent("pointercancel");p(R)},U=P(n,"keydown",E),k=P(n,"blur",_);h=dt(U,k)}return()=>{l(),d(),h()}}function Po(t,e){return Array.from(t?.querySelectorAll(e)??[])}function So(t,e){return t?.querySelector(e)??null}var St=t=>t.id;function kn(t,e,n=St){return t.find(r=>n(r)===e)}function Tt(t,e,n=St){let r=kn(t,e,n);return r?t.indexOf(r):-1}function To(t,e,n=!0){let r=Tt(t,e);return r=n?(r+1)%t.length:Math.min(r+1,t.length-1),t[r]}function Oo(t,e,n=!0){let r=Tt(t,e);return r===-1?n?t[t.length-1]:null:(r=n?(r-1+t.length)%t.length:Math.max(0,r-1),t[r])}function xn(t){let e=new WeakMap,n,r=new WeakMap,o=i=>n||(n=new i.ResizeObserver(l=>{for(let d of l){r.set(d.target,d);let h=e.get(d.target);if(h)for(let a of h)a(d)}}),n);return{observe:(i,l)=>{let d=e.get(i)||new Set;d.add(l),e.set(i,d);let h=T(i);return o(h).observe(i,t),()=>{let a=e.get(i);a&&(a.delete(l),a.size===0&&(e.delete(i),o(h).unobserve(i)))}},unobserve:i=>{e.delete(i),n?.unobserve(i)}}}var Ro=xn({box:"border-box"});var Cn=t=>t.split("").map(e=>{let n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Ln=t=>Cn(t.dataset?.valuetext??t.textContent??""),_n=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function In(t,e,n,r=St){let o=n?Tt(t,n,r):-1,s=n?Se(t,o):t;return e.length===1&&(s=s.filter(i=>r(i)!==n)),s.find(i=>_n(Ln(i),e))}function Mo(t,e,n){let r=t.getAttribute(e),o=r!=null;return r===n?N:(t.setAttribute(e,n),()=>{o?t.setAttribute(e,r):t.removeAttribute(e)})}function No(t,e){if(!t)return N;let n=Object.keys(e).reduce((r,o)=>(r[o]=t.style.getPropertyValue(o),r),{});return Dn(n,e)?N:(Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")})}function ko(t,e,n){if(!t)return N;let r=t.style.getPropertyValue(e);return r===n?N:(t.style.setProperty(e,n),()=>{t.style.setProperty(e,r),t.style.length===0&&t.removeAttribute("style")})}function Dn(t,e){return Object.keys(t).every(n=>t[n]===e[n])}function Vn(t,e){let{state:n,activeId:r,key:o,timeout:s=350,itemToId:c}=e,i=n.keysSoFar+o,d=i.length>1&&Array.from(i).every(g=>g===i[0])?i[0]:i,h=t.slice(),a=In(h,d,r,c);function u(){clearTimeout(n.timer),n.timer=-1}function p(g){n.keysSoFar=g,u(),g!==""&&(n.timer=+setTimeout(()=>{p(""),u()},s))}return p(i),a}var xo=Object.assign(Vn,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Kn});function Kn(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var Co={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function Fn(t,e,n){let{signal:r}=e;return[new Promise((c,i)=>{let l=setTimeout(()=>{i(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(l),i(new Error("Promise aborted"))}),t.then(d=>{r.aborted||(clearTimeout(l),c(d))}).catch(d=>{r.aborted||(clearTimeout(l),i(d))})}),()=>e.abort()]}function Lo(t,e){let{timeout:n,rootNode:r}=e,o=T(r),s=q(r),c=new o.AbortController;return Fn(new Promise(i=>{let l=t();if(l){i(l);return}let d=new o.MutationObserver(()=>{let h=t();h&&h.isConnected&&(d.disconnect(),i(h))});d.observe(s.body,{childList:!0,subtree:!0})}),c,n)}var jn=Object.defineProperty,Jt=t=>{throw TypeError(t)},Bn=(t,e,n)=>e in t?jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e,n)=>Bn(t,typeof e!="symbol"?e+"":e,n),$n=(t,e,n)=>e.has(t)||Jt("Cannot "+n),Ht=(t,e,n)=>($n(t,e,"read from private field"),e.get(t)),zn=(t,e,n)=>e.has(t)?Jt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function Zt(t){return t==null?[]:Array.isArray(t)?t:[t]}var Io=t=>t[0],Wn=t=>t[t.length-1];var qn=(t,e)=>t.indexOf(e)!==-1,Hn=(t,...e)=>t.concat(e),Un=(t,...e)=>t.filter(n=>!e.includes(n));var Do=t=>Array.from(new Set(t)),Vo=(t,e)=>{let n=new Set(e);return t.filter(r=>!n.has(r))},Ko=(t,e)=>qn(t,e)?Un(t,e):Hn(t,e);function Qt(t,e,n={}){let{step:r=1,loop:o=!0}=n,s=e+r,c=t.length,i=c-1;return e===-1?r>0?0:i:s<0?o?i:0:s>=c?o?0:e>c?c:e:s}function Fo(t,e,n={}){return t[Qt(t,e,n)]}function Yn(t,e,n={}){let{step:r=1,loop:o=!0}=n;return Qt(t,e,{step:-r,loop:o})}function jo(t,e,n={}){return t[Yn(t,e,n)]}function Bo(t,e){return t.reduce((n,r,o)=>(o%e===0?n.push([r]):Wn(n)?.push(r),n),[])}function $o(t,e){return t.reduce(([n,r],o)=>(e(o)?n.push(o):r.push(o),[n,r]),[[],[]])}var Ut=t=>t?.constructor.name==="Array",Gn=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!V(t[n],e[n]))return!1;return!0},V=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof t?.isEqual=="function"&&typeof e?.isEqual=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(Ut(t)&&Ut(e))return Gn(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;let n=Object.keys(e??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(t,n[o]))return!1;for(let o=0;o<r;o++){let s=n[o];if(!V(t[s],e[s]))return!1}return!0};var Xn=t=>Array.isArray(t),zo=t=>t===!0||t===!1,te=t=>t!=null&&typeof t=="object",Wo=t=>te(t)&&!Xn(t);var K=t=>typeof t=="string",C=t=>typeof t=="function",qo=t=>t==null,Jn=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Zn=t=>Object.prototype.toString.call(t),ee=Function.prototype.toString,Qn=ee.call(Object),F=t=>{if(!te(t)||Zn(t)!="[object Object]"||nr(t))return!1;let e=Object.getPrototypeOf(t);if(e===null)return!0;let n=Jn(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ee.call(n)==Qn},tr=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,er=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,nr=t=>tr(t)||er(t),H=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,Ho=t=>t,ne=t=>t(),Uo=()=>{},re=(...t)=>(...e)=>{t.forEach(function(n){n?.(...e)})},Yo=(()=>{let t=0;return()=>(t++,t.toString(36))})();function rr(t,e,...n){if(t in e){let o=e[t];return C(o)?o(...n):o}let r=new Error(`No matching key: ${JSON.stringify(t)} in ${JSON.stringify(Object.keys(e))}`);throw Error.captureStackTrace?.(r,rr),r}function Go(t,e=0){let n=0,r=null;return(...o)=>{let s=Date.now(),c=s-n;c>=e?(r&&(clearTimeout(r),r=null),t(...o),n=s):r||(r=setTimeout(()=>{t(...o),n=Date.now(),r=null},e-c))}}var{floor:oe,abs:Yt,round:se,min:or,max:sr,pow:ir,sign:cr}=Math,Ot=t=>Number.isNaN(t),j=t=>Ot(t)?0:t;var Xo=(t,e)=>(t%e+e)%e;var Jo=(t,e)=>j(t)>=e,Zo=(t,e)=>j(t)<=e,Qo=(t,e,n)=>{let r=j(t),o=e==null||r>=e,s=n==null||r<=n;return o&&s};var ts=(t,e,n)=>or(sr(j(t),e),n);var Gt=(t,e)=>{let n=t,r=e.toString(),o=r.indexOf("."),s=o>=0?r.length-o:0;if(s>0){let c=ir(10,s);n=se(n*c)/c}return n},es=(t,e)=>typeof e=="number"?oe(t*e+.5)/e:se(t),ns=(t,e,n,r)=>{let o=e!=null?Number(e):0,s=Number(n),c=(t-o)%r,i=Yt(c)*2>=r?t+cr(c)*(r-Yt(c)):t-c;if(i=Gt(i,r),!Ot(o)&&i<o)i=o;else if(!Ot(s)&&i>s){let l=oe((s-o)/r),d=o+l*r;i=l<=0||d<o?s:d}return Gt(i,r)},rs=(t,e,n)=>t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)];var Xt=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},ie=(t,e,n)=>{let r=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){let o=10**Math.max(Xt(t),Xt(n));t=Math.round(t*o),n=Math.round(n*o),r=e==="+"?t+n:t-n,r/=o}return r},os=(t,e)=>ie(j(t),"+",e),ss=(t,e)=>ie(j(t),"-",e),is=t=>typeof t=="number"?`${t}px`:t;function Rt(t){if(!F(t)||t===void 0)return t;let e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(let r of e){let o=t[r];o!==void 0&&(n[r]=Rt(o))}return n}function cs(t,e){let n={};for(let r of e){let o=t[r];o!==void 0&&(n[r]=o)}return n}function ar(t,e){let n={},r={},o=new Set(e),s=Reflect.ownKeys(t);for(let c of s)o.has(c)?r[c]=t[c]:n[c]=t[c];return[r,n]}var as=t=>function(n){return ar(n,t)};var rt=()=>performance.now(),ot,ce=class{constructor(t){this.onTick=t,x(this,"frameId",null),x(this,"pausedAtMs",null),x(this,"context"),x(this,"cancelFrame",()=>{this.frameId!==null&&(cancelAnimationFrame(this.frameId),this.frameId=null)}),x(this,"setStartMs",e=>{this.context.startMs=e}),x(this,"start",()=>{if(this.frameId!==null)return;let e=rt();this.pausedAtMs!==null?(this.context.startMs+=e-this.pausedAtMs,this.pausedAtMs=null):this.context.startMs=e,this.frameId=requestAnimationFrame(Ht(this,ot))}),x(this,"pause",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=rt())}),x(this,"stop",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=null)}),zn(this,ot,e=>{if(this.context.now=e,this.context.deltaMs=e-this.context.startMs,this.onTick(this.context)===!1){this.stop();return}this.frameId=requestAnimationFrame(Ht(this,ot))}),this.context={now:0,startMs:rt(),deltaMs:0}}get elapsedMs(){return this.pausedAtMs!==null?this.pausedAtMs-this.context.startMs:rt()-this.context.startMs}};ot=new WeakMap;function us(t,e){let n=new ce(({now:r,deltaMs:o})=>{if(o>=e){let s=e>0?r-o%e:r;n.setStartMs(s),t({startMs:s,deltaMs:o})}});return n.start(),()=>n.stop()}function ls(t,e){let n=new ce(({deltaMs:r})=>{if(r>=e)return t(),!1});return n.start(),()=>n.stop()}function Mt(...t){let e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function fs(...t){let e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function ds(t,e){if(t==null)throw new Error(e())}function hs(t,e,n){let r=[];for(let o of e)t[o]==null&&r.push(o);if(r.length>0)throw new Error(`[zag-js${n?` > ${n}`:""}] missing required props: ${r.join(", ")}`)}var ur=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),lr=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,ae=t=>{let e={},n;for(;n=lr.exec(t);)e[n[1]]=n[2];return e},fr=(t,e)=>{if(K(t)){if(K(e))return`${t};${e}`;t=ae(t)}else K(e)&&(e=ae(e));return Object.assign({},t??{},e??{})};function bs(...t){let e={};for(let n of t){if(!n)continue;for(let o in e){if(o.startsWith("on")&&typeof e[o]=="function"&&typeof n[o]=="function"){e[o]=re(n[o],e[o]);continue}if(o==="className"||o==="class"){e[o]=ur(e[o],n[o]);continue}if(o==="style"){e[o]=fr(e[o],n[o]);continue}e[o]=n[o]!==void 0?n[o]:e[o]}for(let o in n)e[o]===void 0&&(e[o]=n[o]);let r=Object.getOwnPropertySymbols(n);for(let o of r)e[o]=n[o]}return e}function vs(t,e,n){let r=[],o;return s=>{let c=t(s);return(c.length!==r.length||c.some((l,d)=>!V(r[d],l)))&&(r=c,o=e(c,s),n?.onChange?.(o)),o}}function dr(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}function ws(){return{guards:dr(),createMachine:t=>t,choose:t=>function({choose:n}){return n(t)?.actions}}}var B=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(B||{}),st="__init__";function ue(t){let e=()=>t.getRootNode?.()??document,n=()=>q(e());return{...t,getRootNode:e,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>bt(e()),isActiveElement:W,getById:c=>e().getElementById(c)}}function le(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var As=()=>t=>Array.from(new Set(t));var Ss=Symbol(),hr=Symbol();var fe=Object.getPrototypeOf,Nt=new WeakMap,pr=t=>t&&(Nt.has(t)?Nt.get(t):fe(t)===Object.prototype||fe(t)===Array.prototype);var de=t=>pr(t)&&t[hr]||null,kt=(t,e=!0)=>{Nt.set(t,e)};function gr(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function pe(t,e){let n=gr();return n?(n[t]||(n[t]=e()),n[t]):e()}var it=pe("__zag__refSet",()=>new WeakSet),mr=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,yr=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,br=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",vr=t=>mr(t)||yr(t)||br(t),xt=t=>t!==null&&typeof t=="object",he=t=>xt(t)&&!it.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!vr(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise)&&!(t instanceof File)&&!(t instanceof Blob)&&!(t instanceof AbortController),ct=()=>!1;var L=pe("__zag__proxyStateMap",()=>new WeakMap),wr=(t=Object.is,e=(i,l)=>new Proxy(i,l),n=new WeakMap,r=(i,l)=>{let d=n.get(i);if(d?.[0]===l)return d[1];let h=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i));return kt(h,!0),n.set(i,[l,h]),Reflect.ownKeys(i).forEach(a=>{let u=Reflect.get(i,a);it.has(u)?(kt(u,!1),h[a]=u):L.has(u)?h[a]=Ar(u):h[a]=u}),Object.freeze(h)},o=new WeakMap,s=[1,1],c=i=>{if(!xt(i))throw new Error("object required");let l=o.get(i);if(l)return l;let d=s[0],h=new Set,a=(m,y=++s[0])=>{d!==y&&(d=y,h.forEach(v=>v(m,y)))},u=s[1],p=(m=++s[1])=>(u!==m&&!h.size&&(u=m,f.forEach(([y])=>{let v=y[1](m);v>d&&(d=v)})),d),g=m=>(y,v)=>{let A=[...y];A[1]=[m,...A[1]],a(A,v)},f=new Map,b=(m,y)=>{if(ct()&&f.has(m))throw new Error("prop listener already exists");if(h.size){let v=y[3](g(m));f.set(m,[y,v])}else f.set(m,[y])},O=m=>{let y=f.get(m);y&&(f.delete(m),y[1]?.())},E=m=>(h.add(m),h.size===1&&f.forEach(([v,A],M)=>{if(ct()&&A)throw new Error("remove already exists");let $=v[3](g(M));f.set(M,[v,$])}),()=>{h.delete(m),h.size===0&&f.forEach(([v,A],M)=>{A&&(A(),f.set(M,[v]))})}),_=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),k=e(_,{deleteProperty(m,y){let v=Reflect.get(m,y);O(y);let A=Reflect.deleteProperty(m,y);return A&&a(["delete",[y],v]),A},set(m,y,v,A){let M=Reflect.has(m,y),$=Reflect.get(m,y,A);if(M&&(t($,v)||o.has(v)&&t($,o.get(v))))return!0;O(y),xt(v)&&(v=de(v)||v);let Y=v;if(!Object.getOwnPropertyDescriptor(m,y)?.set){!L.has(v)&&he(v)&&(Y=Ct(v));let _t=!it.has(Y)&&L.get(Y);_t&&b(y,_t)}return Reflect.set(m,y,Y,A),a(["set",[y],v,$]),!0}});o.set(i,k);let R=[_,p,r,E];return L.set(k,R),Reflect.ownKeys(i).forEach(m=>{let y=Object.getOwnPropertyDescriptor(i,m);y.get||y.set?Object.defineProperty(_,m,y):k[m]=i[m]}),k})=>[c,L,it,t,e,he,n,r,o,s],[Er]=wr();function Ct(t={}){return Er(t)}function Lt(t,e,n){let r=L.get(t);ct()&&!r&&console.warn("Please use proxy object");let o,s=[],c=r[3],i=!1,d=c(h=>{if(s.push(h),n){e(s.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,i&&e(s.splice(0))}))});return i=!0,()=>{i=!1,d()}}function Ar(t){let e=L.get(t);ct()&&!e&&console.warn("Please use proxy object");let[n,r,o]=e;return o(n,r())}var Pr=Object.defineProperty,Sr=(t,e,n)=>e in t?Pr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e,n)=>Sr(t,typeof e!="symbol"?e+"":e,n),ge={onFocus:"onFocusin",onBlur:"onFocusout",onChange:"onInput",onDoubleClick:"onDblclick",htmlFor:"for",className:"class",defaultValue:"value",defaultChecked:"checked"},Tr=new Set(["viewBox","preserveAspectRatio"]),Or=t=>{let e="";for(let n in t){let r=t[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)),e+=`${n}:${r};`)}return e},Cs=le(t=>Object.entries(t).reduce((e,[n,r])=>{if(r===void 0)return e;if(n in ge&&(n=ge[n]),n==="style"&&typeof r=="object")return e.style=Or(r),e;let o=Tr.has(n)?n:n.toLowerCase();return e[o]=r,e},{})),at=new WeakMap,me=new Set(["value","checked","selected"]),Rr=new Set(["viewBox","preserveAspectRatio","clipPath","clipRule","fillRule","strokeWidth","strokeLinecap","strokeLinejoin","strokeDasharray","strokeDashoffset","strokeMiterlimit"]),Mr=t=>t.tagName==="svg"||t.namespaceURI==="http://www.w3.org/2000/svg",ut=(t,e)=>Mr(t)&&Rr.has(e)?e:e.toLowerCase();function ye(t,e,n){let r=n||"default",o=at.get(t);o||(o=new Map,at.set(t,o));let s=o.get(r)||{},c=Object.keys(e),i=(f,b)=>{t.addEventListener(f.toLowerCase(),b)},l=(f,b)=>{t.removeEventListener(f.toLowerCase(),b)},d=f=>f.startsWith("on"),h=f=>!f.startsWith("on"),a=f=>i(f.substring(2),e[f]),u=f=>l(f.substring(2),e[f]),p=f=>{let b=e[f],O=s[f];if(b!==O){if(f==="class"){t.className=b??"";return}if(me.has(f)){t[f]=b??"";return}if(typeof b=="boolean"&&!f.includes("aria-")){t.toggleAttribute(ut(t,f),b);return}if(f==="children"){t.innerHTML=b;return}if(b!=null){t.setAttribute(ut(t,f),b);return}t.removeAttribute(ut(t,f))}};for(let f in s)e[f]==null&&(f==="class"?t.className="":me.has(f)?t[f]="":t.removeAttribute(ut(t,f)));return Object.keys(s).filter(d).forEach(f=>{l(f.substring(2),s[f])}),c.filter(d).forEach(a),c.filter(h).forEach(p),o.set(r,e),function(){c.filter(d).forEach(u);let b=at.get(t);b&&(b.delete(r),b.size===0&&at.delete(t))}}function lt(t){let e=t().value??t().defaultValue;t().debug&&console.log(`[bindable > ${t().debug}] initial`,e);let n=t().isEqual??Object.is,r=Ct({value:e}),o=()=>t().value!==void 0;return{initial:e,ref:r,get(){return o()?t().value:r.value},set(s){let c=r.value,i=C(s)?s(c):s;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:i,prev:c}),o()||(r.value=i),n(i,c)||t().onChange?.(i,c)},invoke(s,c){t().onChange?.(s,c)},hash(s){return t().hash?.(s)??String(s)}}}lt.cleanup=t=>{};lt.ref=t=>{let e=t;return{get:()=>e,set:n=>{e=n}}};function Nr(t){let e={current:t};return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}function be(t,e){if(!F(t)||!F(e))return e===void 0?t:e;let n={...t};for(let r of Object.keys(e)){let o=e[r],s=t[r];o!==void 0&&(F(s)&&F(o)?n[r]=be(s,o):n[r]=o)}return n}var Ls=class{constructor(t,e={}){this.machine=t,w(this,"scope"),w(this,"context"),w(this,"prop"),w(this,"state"),w(this,"refs"),w(this,"computed"),w(this,"event",{type:""}),w(this,"previousEvent",{type:""}),w(this,"effects",new Map),w(this,"transition",null),w(this,"cleanups",[]),w(this,"subscriptions",[]),w(this,"userPropsRef"),w(this,"getEvent",()=>({...this.event,current:()=>this.event,previous:()=>this.previousEvent})),w(this,"getStateConfig",a=>this.machine.states[a]),w(this,"getState",()=>({...this.state,matches:(...a)=>a.includes(this.state.get()),hasTag:a=>!!this.getStateConfig(this.state.get())?.tags?.includes(a)})),w(this,"debug",(...a)=>{this.machine.debug&&console.log(...a)}),w(this,"notify",()=>{this.publish()}),w(this,"send",a=>{this.status===B.Started&&queueMicrotask(()=>{if(!a)return;this.previousEvent=this.event,this.event=a,this.debug("send",a);let u=this.state.get(),p=a.type,g=this.getStateConfig(u)?.on?.[p]??this.machine.on?.[p],f=this.choose(g);if(!f)return;this.transition=f;let b=f.target??u;this.debug("transition",f);let O=b!==u;O?this.state.set(b):f.reenter&&!O?this.state.invoke(u,u):this.action(f.actions)})}),w(this,"action",a=>{let u=C(a)?a(this.getParams()):a;if(!u)return;let p=u.map(g=>{let f=this.machine.implementations?.actions?.[g];return f||Mt(`[zag-js] No implementation found for action "${JSON.stringify(g)}"`),f});for(let g of p)g?.(this.getParams())}),w(this,"guard",a=>C(a)?a(this.getParams()):this.machine.implementations?.guards?.[a](this.getParams())),w(this,"effect",a=>{let u=C(a)?a(this.getParams()):a;if(!u)return;let p=u.map(f=>{let b=this.machine.implementations?.effects?.[f];return b||Mt(`[zag-js] No implementation found for effect "${JSON.stringify(f)}"`),b}),g=[];for(let f of p){let b=f?.(this.getParams());b&&g.push(b)}return()=>g.forEach(f=>f?.())}),w(this,"choose",a=>Zt(a).find(u=>{let p=!u.guard;return K(u.guard)?p=!!this.guard(u.guard):C(u.guard)&&(p=u.guard(this.getParams())),p})),w(this,"subscribe",a=>(this.subscriptions.push(a),()=>{let u=this.subscriptions.indexOf(a);u>-1&&this.subscriptions.splice(u,1)})),w(this,"status",B.NotStarted),w(this,"publish",()=>{this.callTrackers(),this.subscriptions.forEach(a=>a(this.service))}),w(this,"trackers",[]),w(this,"setupTrackers",()=>{this.machine.watch?.(this.getParams())}),w(this,"callTrackers",()=>{this.trackers.forEach(({deps:a,fn:u})=>{let p=a.map(g=>g());V(u.prev,p)||(u(),u.prev=p)})}),w(this,"getParams",()=>({state:this.getState(),context:this.context,event:this.getEvent(),prop:this.prop,send:this.send,action:this.action,guard:this.guard,track:(a,u)=>{u.prev=a.map(p=>p()),this.trackers.push({deps:a,fn:u})},refs:this.refs,computed:this.computed,flush:ne,scope:this.scope,choose:this.choose})),this.userPropsRef={current:e};let{id:n,ids:r,getRootNode:o}=H(e);this.scope=ue({id:n,ids:r,getRootNode:o});let s=a=>{let u=H(this.userPropsRef.current);return(t.props?.({props:Rt(u),scope:this.scope})??u)[a]};this.prop=s;let c=t.context?.({prop:s,bindable:lt,scope:this.scope,flush(a){queueMicrotask(a)},getContext(){return i},getComputed(){return l},getRefs(){return d},getEvent:this.getEvent.bind(this)});c&&Object.values(c).forEach(a=>{let u=Lt(a.ref,()=>this.notify());this.cleanups.push(u)});let i={get(a){return c?.[a].get()},set(a,u){c?.[a].set(u)},initial(a){return c?.[a].initial},hash(a){let u=c?.[a].get();return c?.[a].hash(u)}};this.context=i;let l=a=>t.computed?.[a]({context:i,event:this.getEvent(),prop:s,refs:this.refs,scope:this.scope,computed:l})??{};this.computed=l;let d=Nr(t.refs?.({prop:s,context:i})??{});this.refs=d;let h=lt(()=>({defaultValue:t.initialState({prop:s}),onChange:(a,u)=>{u&&(this.effects.get(u)?.(),this.effects.delete(u)),u&&this.action(this.getStateConfig(u)?.exit),this.action(this.transition?.actions);let p=this.effect(this.getStateConfig(a)?.effects);if(p&&this.effects.set(a,p),u===st){this.action(t.entry);let g=this.effect(t.effects);g&&this.effects.set(st,g)}this.action(this.getStateConfig(a)?.entry)}}));this.state=h,this.cleanups.push(Lt(this.state.ref,()=>this.notify()))}updateProps(t){let e=this.userPropsRef.current;this.userPropsRef.current=()=>{let n=H(e),r=H(t);return be(n,r)},this.notify()}start(){this.status=B.Started,this.debug("initializing..."),this.state.invoke(this.state.initial,st),this.setupTrackers()}stop(){this.effects.forEach(t=>t?.()),this.effects.clear(),this.transition=null,this.action(this.machine.exit),this.cleanups.forEach(t=>t()),this.cleanups=[],this.subscriptions=[],this.status=B.Stopped,this.debug("unmounting...")}get service(){return{state:this.getState(),send:this.send,context:this.context,prop:this.prop,scope:this.scope,refs:this.refs,computed:this.computed,event:this.getEvent(),getStatus:()=>this.status}}};var ve=class{el;doc;machine;api;constructor(e,n){if(!e)throw new Error("Root element not found");this.el=e,this.doc=document,this.machine=this.initMachine(n),this.api=this.initApi()}init=()=>{this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start()};destroy=()=>{this.machine.stop()};spreadProps=(e,n)=>{ye(e,n,this.machine.scope.id)};updateProps=e=>{this.machine.updateProps(e)}};export{G as a,Kr as b,Fr as c,jr as d,Br as e,S as f,yt as g,z as h,$r as i,_e as j,Ie as k,q as l,T as m,bt as n,zr as o,Wr as p,Fe as q,qr as r,Hr as s,Ur as t,Yr as u,Gr as v,At as w,Ue as x,tt as y,Xr as z,Jr as A,Je as B,Zr as C,Qr as D,to as E,Ze as F,eo as G,no as H,ro as I,oo as J,so as K,io as L,en as M,co as N,gt as O,P,sn as Q,cn as R,ao as S,uo as T,lo as U,mn as V,X as W,Pt as X,pt as Y,fo as Z,ho as _,po as $,bn as aa,nt as ba,vn as ca,go as da,mo as ea,yo as fa,Pn as ga,bo as ha,vo as ia,wo as ja,Mn as ka,Nn as la,Eo as ma,Ao as na,Po as oa,So as pa,kn as qa,To as ra,Oo as sa,Ro as ta,Mo as ua,No as va,ko as wa,xo as xa,Co as ya,Lo as za,Zt as Aa,Io as Ba,Wn as Ca,Hn as Da,Un as Ea,Do as Fa,Vo as Ga,Ko as Ha,Qt as Ia,Fo as Ja,Yn as Ka,jo as La,Bo as Ma,$o as Na,V as Oa,Xn as Pa,zo as Qa,Wo as Ra,C as Sa,qo as Ta,Jn as Ua,H as Va,Ho as Wa,Uo as Xa,re as Ya,Yo as Za,rr as _a,Go as $a,Xo as ab,Jo as bb,Zo as cb,Qo as db,ts as eb,es as fb,ns as gb,rs as hb,os as ib,ss as jb,is as kb,Rt as lb,cs as mb,as as nb,us as ob,ls as pb,Mt as qb,fs as rb,ds as sb,hs as tb,bs as ub,vs as vb,dr as wb,ws as xb,As as yb,Ct as zb,Lt as Ab,Cs as Bb,Ls as Cb,ve as Db,kr as Eb,xr as Fb,Cr as Gb,Lr as Hb,_r as Ib,Ir as Jb};
