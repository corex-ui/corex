var b=Object.defineProperty,O=(n,t,e)=>t in n?b(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,y=(n,t,e)=>O(n,typeof t!="symbol"?t+"":t,e),E=class r{constructor([t,e,i,s,o,m]=[0,0,0,0,0,0]){y(this,"m00"),y(this,"m01"),y(this,"m02"),y(this,"m10"),y(this,"m11"),y(this,"m12"),y(this,"rotate",(...c)=>this.prepend(r.rotate(...c))),y(this,"scale",(...c)=>this.prepend(r.scale(...c))),y(this,"translate",(...c)=>this.prepend(r.translate(...c))),this.m00=t,this.m01=e,this.m02=i,this.m10=s,this.m11=o,this.m12=m}applyTo(t){let{x:e,y:i}=t,{m00:s,m01:o,m02:m,m10:c,m11:h,m12:x}=this;return{x:s*e+o*i+m,y:c*e+h*i+x}}prepend(t){return new r([this.m00*t.m00+this.m01*t.m10,this.m00*t.m01+this.m01*t.m11,this.m00*t.m02+this.m01*t.m12+this.m02,this.m10*t.m00+this.m11*t.m10,this.m10*t.m01+this.m11*t.m11,this.m10*t.m02+this.m11*t.m12+this.m12])}append(t){return new r([t.m00*this.m00+t.m01*this.m10,t.m00*this.m01+t.m01*this.m11,t.m00*this.m02+t.m01*this.m12+t.m02,t.m10*this.m00+t.m11*this.m10,t.m10*this.m01+t.m11*this.m11,t.m10*this.m02+t.m11*this.m12+t.m12])}get determinant(){return this.m00*this.m11-this.m01*this.m10}get isInvertible(){let t=this.determinant;return isFinite(t)&&isFinite(this.m02)&&isFinite(this.m12)&&t!==0}invert(){let t=this.determinant;return new r([this.m11/t,-this.m01/t,(this.m01*this.m12-this.m11*this.m02)/t,-this.m10/t,this.m00/t,(this.m10*this.m02-this.m00*this.m12)/t])}get array(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,0,0,1]}get float32Array(){return new Float32Array(this.array)}static get identity(){return new r([1,0,0,0,1,0])}static rotate(t,e){let i=new r([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0]);return e&&(e.x!==0||e.y!==0)?r.multiply(r.translate(e.x,e.y),i,r.translate(-e.x,-e.y)):i}static scale(t,e=t,i={x:0,y:0}){let s=new r([t,0,0,0,e,0]);return i.x!==0||i.y!==0?r.multiply(r.translate(i.x,i.y),s,r.translate(-i.x,-i.y)):s}static translate(t,e){return new r([1,0,t,0,1,e])}static multiply(...[t,...e]){return t?e.reduce((i,s)=>i.prepend(s),t):r.identity}get a(){return this.m00}get b(){return this.m10}get c(){return this.m01}get d(){return this.m11}get tx(){return this.m02}get ty(){return this.m12}get scaleComponents(){return{x:this.a,y:this.d}}get translationComponents(){return{x:this.tx,y:this.ty}}get skewComponents(){return{x:this.c,y:this.b}}toString(){return`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`}};function z(n,t,e=n.center){let i=t.x-e.x,s=t.y-e.y;return 360-(Math.atan2(i,s)*(180/Math.PI)+180)}var C=(n,t,e)=>Math.min(Math.max(n,t),e),L=(n,t,e)=>{let i=C(n.x,e.x,e.x+e.width-t.width),s=C(n.y,e.y,e.y+e.height-t.height);return{x:i,y:s}},$={width:0,height:0},H={width:1/0,height:1/0},k=(n,t=$,e=H)=>({width:Math.min(Math.max(n.width,t.width),e.width),height:Math.min(Math.max(n.height,t.height),e.height)}),l=(n,t)=>({x:n,y:t}),G=(n,t)=>t?l(n.x-t.x,n.y-t.y):n,J=(n,t)=>l(n.x+t.x,n.y+t.y);function R(n){let{x:t,y:e,width:i,height:s}=n,o=t+i/2,m=e+s/2;return{x:t,y:e,width:i,height:s,minX:t,minY:e,maxX:t+i,maxY:e+s,midX:o,midY:m,center:l(o,m)}}function I(n){let t=l(n.minX,n.minY),e=l(n.maxX,n.minY),i=l(n.maxX,n.maxY),s=l(n.minX,n.maxY);return{top:t,right:e,bottom:i,left:s}}var K=(n,t)=>{let e=Math.max(t.x,Math.min(n.x,t.x+t.width-n.width)),i=Math.max(t.y,Math.min(n.y,t.y+t.height-n.height));return{x:e,y:i,width:Math.min(n.width,t.width),height:Math.min(n.height,t.height)}};var Q=(n,t)=>n.width===t?.width&&n.height===t?.height,U=(n,t)=>n.x===t?.x&&n.y===t?.y;var X=new WeakMap;function j(n){if(!X.has(n)){let t=n.ownerDocument.defaultView||window;X.set(n,t.getComputedStyle(n))}return X.get(n)}function Z(n,t={}){return R(D(n,t))}function D(n,t={}){let{excludeScrollbar:e=!1,excludeBorders:i=!1}=t,{x:s,y:o,width:m,height:c}=n.getBoundingClientRect(),h={x:s,y:o,width:m,height:c},x=j(n),{borderLeftWidth:u,borderTopWidth:d,borderRightWidth:g,borderBottomWidth:f}=x,w=W(u,g),a=W(d,f);if(i&&(h.width-=w,h.height-=a,h.x+=Y(u),h.y+=Y(d)),e){let T=n.offsetWidth-n.clientWidth-w,F=n.offsetHeight-n.clientHeight-a;h.width-=T,h.height-=F}return h}var Y=n=>parseFloat(n.replace("px","")),W=(...n)=>n.reduce((t,e)=>t+(e?Y(e):0),0);var{min:_,max:tt}=Math;function nt(n,t={}){return R(N(n,t))}function N(n,t){let{excludeScrollbar:e=!1}=t,{innerWidth:i,innerHeight:s,document:o,visualViewport:m}=n,c=m?.width||i,h=m?.height||s,x={x:0,y:0,width:c,height:h};if(e){let u=i-o.documentElement.clientWidth,d=s-o.documentElement.clientHeight;x.width-=u,x.height-=d}return x}function et(n,t){let e=R(n),{top:i,right:s,left:o,bottom:m}=I(e),[c]=t.split("-");return{top:[o,i,s,m],right:[i,s,m,o],bottom:[i,o,m,s],left:[s,i,o,m]}[c]}function it(n,t){let{x:e,y:i}=t,s=!1;for(let o=0,m=n.length-1;o<n.length;m=o++){let c=n[o].x,h=n[o].y,x=n[m].x,u=n[m].y;h>i!=u>i&&e<(x-c)*(i-h)/(u-h)+c&&(s=!s)}return s}var v={n:{x:.5,y:0},ne:{x:1,y:0},e:{x:1,y:.5},se:{x:1,y:1},s:{x:.5,y:1},sw:{x:0,y:1},w:{x:0,y:.5},nw:{x:0,y:0}},B={n:"s",ne:"sw",e:"w",se:"nw",s:"n",sw:"ne",w:"e",nw:"se"},{sign:M,abs:p,min:S}=Math;function A(n,t){let{minX:e,minY:i,maxX:s,maxY:o,midX:m,midY:c}=n,h=t.includes("w")?e:t.includes("e")?s:m,x=t.includes("n")?i:t.includes("s")?o:c;return{x:h,y:x}}function q(n){return B[n]}function st(n,t,e,i){let{scalingOriginMode:s,lockAspectRatio:o}=i,m=A(n,e),c=q(e),h=A(n,c);s==="center"&&(t={x:t.x*2,y:t.y*2});let x={x:m.x+t.x,y:m.y+t.y},u={x:v[e].x*2-1,y:v[e].y*2-1},d={width:x.x-h.x,height:x.y-h.y},g=u.x*d.width/n.width,f=u.y*d.height/n.height,w=p(g)>p(f)?g:f,a=o?{x:w,y:w}:{x:m.x===h.x?1:g,y:m.y===h.y?1:f};switch(m.y===h.y?a.y=p(a.y):M(a.y)!==M(f)&&(a.y*=-1),m.x===h.x?a.x=p(a.x):M(a.x)!==M(g)&&(a.x*=-1),s){case"extent":return P(n,E.scale(a.x,a.y,h),!1);case"center":return P(n,E.scale(a.x,a.y,{x:n.midX,y:n.midY}),!1)}}function V(n,t,e=!0){return e?{x:S(t.x,n.x),y:S(t.y,n.y),width:p(t.x-n.x),height:p(t.y-n.y)}:{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}}function P(n,t,e=!0){let i=t.applyTo({x:n.minX,y:n.minY}),s=t.applyTo({x:n.maxX,y:n.maxY});return V(i,s,e)}export{z as a,L as b,k as c,G as d,J as e,R as f,K as g,Q as h,U as i,Z as j,nt as k,et as l,it as m,st as n};
