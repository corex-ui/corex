"use strict";var Corex=(()=>{var Wr=Object.defineProperty,Ff=Object.defineProperties,$f=Object.getOwnPropertyDescriptor,Hf=Object.getOwnPropertyDescriptors,Bf=Object.getOwnPropertyNames,qr=Object.getOwnPropertySymbols;var Fa=Object.prototype.hasOwnProperty,ic=Object.prototype.propertyIsEnumerable;var La=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),_f=e=>{throw TypeError(e)};var Ma=(e,t,n)=>t in e?Wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))Fa.call(t,n)&&Ma(e,n,t[n]);if(qr)for(var n of qr(t))ic.call(t,n)&&Ma(e,n,t[n]);return e},y=(e,t)=>Ff(e,Hf(t));var ft=(e,t)=>{var n={};for(var i in e)Fa.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&qr)for(var i of qr(e))t.indexOf(i)<0&&ic.call(e,i)&&(n[i]=e[i]);return n};var re=(e,t)=>()=>(e&&(t=e(e=0)),t);var he=(e,t)=>{for(var n in t)Wr(e,n,{get:t[n],enumerable:!0})},Gf=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Bf(t))!Fa.call(e,r)&&r!==n&&Wr(e,r,{get:()=>t[r],enumerable:!(i=$f(t,r))||i.enumerable});return e};var Uf=e=>Gf(Wr({},"__esModule",{value:!0}),e);var Y=(e,t,n)=>Ma(e,typeof t!="symbol"?t+"":t,n);var Ve=(e,t,n)=>new Promise((i,r)=>{var s=l=>{try{o(n.next(l))}catch(c){r(c)}},a=l=>{try{o(n.throw(l))}catch(c){r(c)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(e,t)).next())}),qf=function(e,t){this[0]=e,this[1]=t};var rc=e=>{var t=e[La("asyncIterator")],n=!1,i,r={};return t==null?(t=e[La("iterator")](),i=s=>r[s]=a=>t[s](a)):(t=t.call(e),i=s=>r[s]=a=>{if(n){if(n=!1,s==="throw")throw a;return a}return n=!0,{done:!1,value:new qf(new Promise(o=>{var l=t[s](a);l instanceof Object||_f("Object expected"),o(l)}),1)}}),r[La("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=s=>{throw s},"return"in t&&i("return"),r};function Oe(e){let t=e.dataset.dir;if(t!==void 0&&Wf.includes(t))return t;let n=document.documentElement.getAttribute("dir");return n==="ltr"||n==="rtl"?n:"ltr"}function er(e){if(e)try{if(e.ownerDocument.activeElement!==e)return;let t=e.value.length;e.setSelectionRange(t,t)}catch(t){}}function em(e){return["html","body","#document"].includes(yc(e))}function Qr(e){if(!e)return!1;let t=e.getRootNode();return ci(t)===e}function Ot(e){if(e==null||!le(e))return!1;try{return nm(e)&&e.selectionStart!=null||rm.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch(t){return!1}}function ce(e,t){var i;if(!e||!t||!le(e)||!le(t))return!1;let n=(i=t.getRootNode)==null?void 0:i.call(t);if(e===t||e.contains(t))return!0;if(n&&Dn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Le(e){var t;return tr(e)?e:Qf(e)?e.document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function sm(e){return Le(e).documentElement}function de(e){var t,n,i;return Dn(e)?de(e.host):tr(e)?(t=e.defaultView)!=null?t:window:le(e)&&(i=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?i:window}function ci(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function am(e){if(yc(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Dn(e)&&e.host||sm(e);return Dn(t)?t.host:t}function Ka(e){var n;let t;try{if(t=e.getRootNode({composed:!0}),tr(t)||Dn(t))return t}catch(i){}return(n=e.ownerDocument)!=null?n:document}function at(e){return Ba.has(e)||Ba.set(e,de(e).getComputedStyle(e)),Ba.get(e)}function ss(e,t){let n=new Set,i=Ka(e),r=s=>{let a=s.querySelectorAll("[aria-controls]");for(let o of a){if(o.getAttribute("aria-expanded")!=="true")continue;let l=bc(o);for(let c of l){if(!c||n.has(c))continue;n.add(c);let d=i.getElementById(c);if(d){let h=d.getAttribute("role"),m=d.getAttribute("aria-modal")==="true";if(h&&om(h)&&!m&&(d===t||d.contains(t)||r(d)))return!0}}}return!1};return r(e)}function Ya(e,t){let n=Ka(e),i=new Set,r=s=>{let a=s.querySelectorAll("[aria-controls]");for(let o of a){if(o.getAttribute("aria-expanded")!=="true")continue;let l=bc(o);for(let c of l){if(!c||i.has(c))continue;i.add(c);let d=n.getElementById(c);if(d){let h=d.getAttribute("role"),m=d.getAttribute("aria-modal")==="true";h&&za.has(h)&&!m&&(t(d),r(d))}}}};r(e)}function Ec(e){let t=new Set;return Ya(e,n=>{e.contains(n)||t.add(n)}),Array.from(t)}function lm(e){let t=e.getAttribute("role");return!!(t&&za.has(t))}function cm(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Ic(e){var t;return cm(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function Pc(e){if(!e.id)return!1;let t=Ka(e),n=CSS.escape(e.id),i=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(t.querySelector(i)&&lm(e))}function Cc(e,t){let{type:n,quality:i=.92,background:r}=t;if(!e)throw new Error("[zag-js > getDataUrl]: Could not find the svg element");let s=de(e),a=s.document,o=e.getBoundingClientRect(),l=e.cloneNode(!0);l.hasAttribute("viewBox")||l.setAttribute("viewBox",`0 0 ${o.width} ${o.height}`);let d=`<?xml version="1.0" standalone="no"?>\r
`+new s.XMLSerializer().serializeToString(l),h="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(d);if(n==="image/svg+xml")return Promise.resolve(h).then(I=>(l.remove(),I));let m=s.devicePixelRatio||1,u=a.createElement("canvas"),p=new s.Image;p.src=h,u.width=o.width*m,u.height=o.height*m;let v=u.getContext("2d");return(n==="image/jpeg"||r)&&(v.fillStyle=r||"white",v.fillRect(0,0,u.width,u.height)),new Promise(I=>{p.onload=()=>{v==null||v.drawImage(p,0,0,u.width,u.height),I(u.toDataURL(n,i)),l.remove()}})}function dm(){var t;let e=navigator.userAgentData;return(t=e==null?void 0:e.platform)!=null?t:navigator.platform}function um(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function Tc(e){let{selectionStart:t,selectionEnd:n,value:i}=e.currentTarget,r=e.data;return i.slice(0,t)+(r!=null?r:"")+i.slice(n)}function vm(e){var t,n,i,r;return(r=(t=e.composedPath)==null?void 0:t.call(e))!=null?r:(i=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n)}function j(e){var n;let t=vm(e);return(n=t==null?void 0:t[0])!=null?n:e.target}function Mn(e){let t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;let i=e.button===1,r=os(e);return i||r}function ir(e){let t=e.currentTarget;if(!t)return!1;let n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function Re(e){return Yt(e).isComposing||e.keyCode===229}function os(e){return di()?e.metaKey:e.ctrlKey}function Oc(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function wc(e){return e.pointerType===""&&e.isTrusted?!0:mm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ge(e,t={}){var a;let{dir:n="ltr",orientation:i="horizontal"}=t,r=e.key;return r=(a=bm[r])!=null?a:r,n==="rtl"&&i==="horizontal"&&r in ac&&(r=ac[r]),r}function Yt(e){var t;return(t=e.nativeEvent)!=null?t:e}function hi(e){return e.ctrlKey||e.metaKey?.1:Em.has(e.key)||e.shiftKey&&Im.has(e.key)?10:1}function je(e,t="client"){let n=ym(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}function Vc(e,t){var s;let{type:n="HTMLInputElement",property:i="value"}=t,r=de(e)[n].prototype;return(s=Object.getOwnPropertyDescriptor(r,i))!=null?s:{}}function Pm(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Me(e,t,n="value"){var r;if(!e)return;let i=Pm(e);i&&((r=Vc(e,{type:i,property:n}).set)==null||r.call(e,t)),e.setAttribute(n,t)}function rr(e,t){var i;if(!e)return;(i=Vc(e,{type:"HTMLInputElement",property:"checked"}).set)==null||i.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function xc(e,t){let{value:n,bubbles:i=!0}=t;if(!e)return;let r=de(e);e instanceof r.HTMLInputElement&&(Me(e,`${n}`),e.dispatchEvent(new r.Event("input",{bubbles:i})))}function gi(e,t){let{checked:n,bubbles:i=!0}=t;if(!e)return;let r=de(e);e instanceof r.HTMLInputElement&&(rr(e,n),e.dispatchEvent(new r.Event("click",{bubbles:i})))}function Cm(e){return Sm(e)?e.form:e.closest("form")}function Sm(e){return e.matches("textarea, input, select, button")}function Tm(e,t){if(!e)return;let n=Cm(e),i=r=>{r.defaultPrevented||t()};return n==null||n.addEventListener("reset",i,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",i)}function Om(e,t){let n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);let i=de(n),r=new i.MutationObserver(()=>t(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function wt(e,t){if(!e)return;let{onFieldsetDisabledChange:n,onFormReset:i}=t,r=[Tm(e,i),Om(e,n)];return()=>r.forEach(s=>s==null?void 0:s())}function Nc(e){let t=e.getAttribute("tabindex");return t?parseInt(t,10):NaN}function Am(e,t){if(!t)return null;if(t===!0)return e.shadowRoot||null;let n=t(e);return(n===!0?e.shadowRoot:n)||null}function kc(e,t,n){let i=[...e],r=[...e],s=new Set,a=new Map;e.forEach((l,c)=>a.set(l,c));let o=0;for(;o<r.length;){let l=r[o++];if(!l||s.has(l))continue;s.add(l);let c=Am(l,t);if(c){let d=Array.from(c.querySelectorAll(ls)).filter(n),h=a.get(l);if(h!==void 0){let m=h+1;i.splice(m,0,...d),d.forEach((u,p)=>{a.set(u,m+p)});for(let u=m+d.length;u<i.length;u++)a.set(i[u],u)}else{let m=i.length;i.push(...d),d.forEach((u,p)=>{a.set(u,m+p)})}r.push(...d)}}return i}function Ye(e){return!le(e)||e.closest("[inert]")?!1:e.matches(ls)&&im(e)}function jt(e,t={}){if(!e)return[];let{includeContainer:n,getShadowRoot:i}=t,r=Array.from(e.querySelectorAll(ls));n&&dn(e)&&r.unshift(e);let s=[];for(let a of r)if(dn(a)){if(Ac(a)&&a.contentDocument){let o=a.contentDocument.body;s.push(...jt(o,{getShadowRoot:i}));continue}s.push(a)}if(i){let a=kc(s,i,dn);return!a.length&&n?r:a}return!s.length&&n?r:s}function dn(e){return le(e)&&e.tabIndex>0?!0:Ye(e)&&!xm(e)}function Nm(e,t={}){let n=jt(e,t),i=n[0]||null,r=n[n.length-1]||null;return[i,r]}function pi(e){return e.tabIndex<0&&(wm.test(e.localName)||Ot(e))&&!Vm(e)?0:e.tabIndex}function cs(e){let{root:t,getInitialEl:n,filter:i,enabled:r=!0}=e;if(!r)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!s){let a=jt(t);s=i?a.filter(i)[0]:a[0]}return s||t||void 0}function ds(e){let t=e.currentTarget;if(!t)return!1;let[n,i]=Nm(t);return!(Qr(n)&&e.shiftKey||Qr(i)&&!e.shiftKey||!n&&!i)}function H(e){let t=Ja.create();return t.request(e),t.cleanup}function Fn(e){let t=new Set;function n(i){let r=globalThis.requestAnimationFrame(i);t.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(e)),function(){t.forEach(r=>r())}}function km(e,t,n){let i=H(()=>{e.removeEventListener(t,r,!0),n()}),r=()=>{i(),n()};return e.addEventListener(t,r,{once:!0,capture:!0}),i}function Rm(e,t){if(!e)return;let{attributes:n,callback:i}=t,r=e.ownerDocument.defaultView||window,s=new r.MutationObserver(a=>{for(let o of a)o.type==="attributes"&&o.attributeName&&n.includes(o.attributeName)&&i(o)});return s.observe(e,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function ot(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(Rm(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Dm(e,t){let{callback:n}=t;if(!e)return;let i=e.ownerDocument.defaultView||window,r=new i.MutationObserver(n);return r.observe(e,{childList:!0,subtree:!0}),()=>r.disconnect()}function us(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(Dm(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function fi(e){let t=()=>{let n=de(e);e.dispatchEvent(new n.MouseEvent("click"))};fm()?km(e,"keyup",t):queueMicrotask(t)}function hs(e){let t=am(e);return em(t)?Le(t).body:le(t)&&Dc(t)?t:hs(t)}function Dc(e){let t=de(e),{overflow:n,overflowX:i,overflowY:r,display:s}=t.getComputedStyle(e);return Lm.test(n+r+i)&&!Mm.has(s)}function Fm(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Xt(e,t){let r=t||{},{rootEl:n}=r,i=ft(r,["rootEl"]);!e||!n||!Dc(n)||!Fm(n)||e.scrollIntoView(i)}function Qa(e,t){let{left:n,top:i,width:r,height:s}=t.getBoundingClientRect(),a={x:e.x-n,y:e.y-i},o={x:sc(a.x/r),y:sc(a.y/s)};function l(c={}){let{dir:d="ltr",orientation:h="horizontal",inverted:m}=c,u=typeof m=="object"?m.x:m,p=typeof m=="object"?m.y:m;return h==="horizontal"?d==="rtl"||u?1-o.x:o.x:p?1-o.y:o.y}return{offset:a,percent:o,getPercentValue:l}}function Lc(e,t){let n=e.body,i="pointerLockElement"in e||"mozPointerLockElement"in e,r=()=>!!e.pointerLockElement;function s(){t==null||t(r())}function a(l){r()&&(t==null||t(!1)),console.error("PointerLock error occurred:",l),e.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch(l){}let o=[ee(e,"pointerlockchange",s,!1),ee(e,"pointerlockerror",a,!1)];return()=>{o.forEach(l=>l()),e.exitPointerLock()}}function $m(e={}){let{target:t,doc:n}=e,i=n!=null?n:document,r=i.documentElement;return nr()?(li==="default"&&(Ga=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),li="disabled"):t&&(jr.set(t,t.style.userSelect),t.style.userSelect="none"),()=>eo({target:t,doc:i})}function eo(e={}){let{target:t,doc:n}=e,r=(n!=null?n:document).documentElement;if(nr()){if(li!=="disabled")return;li="restoring",setTimeout(()=>{Fn(()=>{li==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=Ga||""),Ga="",li="default")})},300)}else if(t&&jr.has(t)){let s=jr.get(t);t.style.userSelect==="none"&&(t.style.userSelect=s!=null?s:""),t.getAttribute("style")===""&&t.removeAttribute("style"),jr.delete(t)}}function to(e={}){let a=e,{defer:t,target:n}=a,i=ft(a,["defer","target"]),r=t?H:o=>o(),s=[];return s.push(r(()=>{let o=typeof n=="function"?n():n;s.push($m(y(g({},i),{target:o})))})),()=>{s.forEach(o=>o==null?void 0:o())}}function un(e,t){let{onPointerMove:n,onPointerUp:i}=t,r=o=>{let l=je(o),c=Math.sqrt(l.x**2+l.y**2),d=o.pointerType==="touch"?10:5;if(!(c<d)){if(o.pointerType==="mouse"&&o.buttons===0){s(o);return}n({point:l,event:o})}},s=o=>{let l=je(o);i({point:l,event:o})},a=[ee(e,"pointermove",r,!1),ee(e,"pointerup",s,!1),ee(e,"pointercancel",s,!1),ee(e,"contextmenu",s,!1),to({doc:e})];return()=>{a.forEach(o=>o())}}function gs(e){let{pointerNode:t,keyboardNode:n=t,onPress:i,onPressStart:r,onPressEnd:s,isValidKey:a=w=>w.key==="Enter"}=e;if(!t)return qt;let o=de(t),l=qt,c=qt,d=qt,h=w=>({point:je(w),event:w});function m(w){r==null||r(h(w))}function u(w){s==null||s(h(w))}let v=ee(t,"pointerdown",w=>{c();let f=ee(o,"pointerup",P=>{let V=j(P);ce(t,V)?i==null||i(h(P)):s==null||s(h(P))},{passive:!i,once:!0}),S=ee(o,"pointercancel",u,{passive:!s,once:!0});c=Ha(f,S),Qr(n)&&w.pointerType==="mouse"&&w.preventDefault(),m(w)},{passive:!r}),I=ee(n,"focus",T);l=Ha(v,I);function T(){let w=P=>{if(!a(P))return;let V=x=>{if(!a(x))return;let N=new o.PointerEvent("pointerup"),k=h(N);i==null||i(k),s==null||s(k)};c(),c=ee(n,"keyup",V);let A=new o.PointerEvent("pointerdown");m(A)},b=()=>{let P=new o.PointerEvent("pointercancel");u(P)},f=ee(n,"keydown",w),S=ee(n,"blur",b);d=Ha(f,S)}return()=>{l(),c(),d()}}function Fe(e,t){var n;return Array.from((n=e==null?void 0:e.querySelectorAll(t))!=null?n:[])}function mi(e,t){var n;return(n=e==null?void 0:e.querySelector(t))!=null?n:null}function io(e,t,n=no){return e.find(i=>n(i)===t)}function ro(e,t,n=no){let i=io(e,t,n);return i?e.indexOf(i):-1}function vi(e,t,n=!0){let i=ro(e,t);return i=n?(i+1)%e.length:Math.min(i+1,e.length-1),e[i]}function yi(e,t,n=!0){let i=ro(e,t);return i===-1?n?e[e.length-1]:null:(i=n?(i-1+e.length)%e.length:Math.max(0,i-1),e[i])}function Hm(e){let t=new WeakMap,n,i=new WeakMap,r=o=>n||(n=new o.ResizeObserver(l=>{for(let c of l){i.set(c.target,c);let d=t.get(c.target);if(d)for(let h of d)h(c)}}),n);return{observe:(o,l)=>{let c=t.get(o)||new Set;c.add(l),t.set(o,c);let d=de(o);return r(d).observe(o,e),()=>{let h=t.get(o);h&&(h.delete(l),h.size===0&&(t.delete(o),r(d).unobserve(o)))}},unobserve:o=>{t.delete(o),n==null||n.unobserve(o)}}}function Um(e,t,n,i=no){let r=n?ro(e,n,i):-1,s=n?jf(e,r):e;return t.length===1&&(s=s.filter(o=>i(o)!==n)),s.find(o=>Gm(_m(o),t))}function Mc(e,t,n){let i=e.getAttribute(t),r=i!=null;return i===n?qt:(e.setAttribute(t,n),()=>{r?e.setAttribute(t,i):e.removeAttribute(t)})}function $n(e,t){if(!e)return qt;let n=Object.keys(t).reduce((i,r)=>(i[r]=e.style.getPropertyValue(r),i),{});return qm(n,t)?qt:(Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")})}function Fc(e,t,n){if(!e)return qt;let i=e.style.getPropertyValue(t);return i===n?qt:(e.style.setProperty(t,n),()=>{e.style.setProperty(t,i),e.style.length===0&&e.removeAttribute("style")})}function qm(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function Wm(e,t){let{state:n,activeId:i,key:r,timeout:s=350,itemToId:a}=t,o=n.keysSoFar+r,c=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,d=e.slice(),h=Um(d,c,i,a);function m(){clearTimeout(n.timer),n.timer=-1}function u(p){n.keysSoFar=p,m(),p!==""&&(n.timer=+setTimeout(()=>{u(""),m()},s))}return u(o),h}function Km(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function zm(e,t,n){let{signal:i}=t;return[new Promise((a,o)=>{let l=setTimeout(()=>{o(new Error(`Timeout of ${n}ms exceeded`))},n);i.addEventListener("abort",()=>{clearTimeout(l),o(new Error("Promise aborted"))}),e.then(c=>{i.aborted||(clearTimeout(l),a(c))}).catch(c=>{i.aborted||(clearTimeout(l),o(c))})}),()=>t.abort()]}function $c(e,t){let{timeout:n,rootNode:i}=t,r=de(i),s=Le(i),a=new r.AbortController;return zm(new Promise(o=>{let l=e();if(l){o(l);return}let c=new r.MutationObserver(()=>{let d=e();d&&d.isConnected&&(c.disconnect(),o(d))});c.observe(s.body,{childList:!0,subtree:!0})}),a,n)}function ar(e){return e==null?[]:Array.isArray(e)?e:[e]}function bi(e,t,n={}){let{step:i=1,loop:r=!0}=n,s=t+i,a=e.length,o=a-1;return t===-1?i>0?0:o:s<0?r?o:0:s>=a?r?0:t>a?a:t:s}function Bc(e,t,n={}){return e[bi(e,t,n)]}function or(e,t,n={}){let{step:i=1,loop:r=!0}=n;return bi(e,t,{step:-i,loop:r})}function _c(e,t,n={}){return e[or(e,t,n)]}function lr(e,t){return e.reduce((n,i,r)=>{var s;return r%t===0?n.push([i]):(s=mt(n))==null||s.push(i),n},[])}function so(e,t){return e.reduce(([n,i],r)=>(t(r)?n.push(r):i.push(r),[n,i]),[[],[]])}function Ce(e,t,...n){var r;if(e in t){let s=t[e];return Wt(s)?s(...n):s}let i=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(r=Error.captureStackTrace)==null||r.call(Error,i,Ce),i}function zc(e,t=0){let n=0,i=null;return(...r)=>{let s=Date.now(),a=s-n;a>=t?(i&&(clearTimeout(i),i=null),e(...r),n=s):i||(i=setTimeout(()=>{e(...r),n=Date.now(),i=null},t-a))}}function Ci(e){if(!Ji(e)||e===void 0)return e;let t=Reflect.ownKeys(e).filter(i=>typeof i=="string"),n={};for(let i of t){let r=e[i];r!==void 0&&(n[i]=Ci(r))}return n}function pn(e,t){let n={};for(let i of t){let r=e[i];r!==void 0&&(n[i]=r)}return n}function dv(e,t){let n={},i={},r=new Set(t),s=Reflect.ownKeys(e);for(let a of s)r.has(a)?i[a]=e[a]:n[a]=e[a];return[i,n]}function rd(e,t){let n=new id(({now:i,deltaMs:r})=>{if(r>=t){let s=t>0?i-r%t:i;n.setStartMs(s),e({startMs:s,deltaMs:r})}});return n.start(),()=>n.stop()}function fn(e,t){let n=new id(({deltaMs:i})=>{if(i>=t)return e(),!1});return n.start(),()=>n.stop()}function zt(...e){let t=e.length===1?e[0]:e[1];(e.length===2?e[0]:!0)&&console.warn(t)}function ms(...e){let t=e.length===1?e[0]:e[1];if(e.length===2?e[0]:!0)throw new Error(t)}function mn(e,t){if(e==null)throw new Error(t())}function vn(e,t,n){let i=[];for(let r of t)e[r]==null&&i.push(r);if(i.length>0)throw new Error(`[zag-js${n?` > ${n}`:""}] missing required props: ${i.join(", ")}`)}function sd(...e){let t={};for(let n of e){if(!n)continue;for(let r in t){if(r.startsWith("on")&&typeof t[r]=="function"&&typeof n[r]=="function"){t[r]=At(n[r],t[r]);continue}if(r==="className"||r==="class"){t[r]=uv(t[r],n[r]);continue}if(r==="style"){t[r]=gv(t[r],n[r]);continue}t[r]=n[r]!==void 0?n[r]:t[r]}for(let r in n)t[r]===void 0&&(t[r]=n[r]);let i=Object.getOwnPropertySymbols(n);for(let r of i)t[r]=n[r]}return t}function Hn(e,t,n){let i=[],r;return s=>{var l;let a=e(s);return(a.length!==i.length||a.some((c,d)=>!me(i[d],c)))&&(i=a,r=t(a,s),(l=n==null?void 0:n.onChange)==null||l.call(n,r)),r}}function Ee(){return{and:(...e)=>function(n){return e.every(i=>n.guard(i))},or:(...e)=>function(n){return e.some(i=>n.guard(i))},not:e=>function(n){return!n.guard(e)}}}function dt(){return{guards:Ee(),createMachine:e=>e,choose:e=>function({choose:n}){var i;return(i=n(e))==null?void 0:i.actions}}}function pv(e){let t=()=>{var a,o;return(o=(a=e.getRootNode)==null?void 0:a.call(e))!=null?o:document},n=()=>Le(t()),i=()=>{var a;return(a=n().defaultView)!=null?a:window},r=()=>ci(t()),s=a=>t().getElementById(a);return y(g({},e),{getRootNode:t,getDoc:n,getWin:i,getActiveElement:r,isActiveElement:Qr,getById:s})}function fv(e){return new Proxy({},{get(t,n){return n==="style"?i=>e({style:i}).style:e}})}function bv(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function ad(e,t){let n=bv();return n?(n[e]||(n[e]=t()),n[e]):t()}function vs(e={}){return Tv(e)}function ts(e,t,n){let i=Rn.get(e);es()&&!i&&console.warn("Please use proxy object");let r,s=[],a=i[3],o=!1,c=a(d=>{if(s.push(d),n){t(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,o&&t(s.splice(0))}))});return o=!0,()=>{o=!1,c()}}function Ov(e){let t=Rn.get(e);es()&&!t&&console.warn("Please use proxy object");let[n,i,r]=t;return r(n,i())}function Rv(e,t,n){let i=n||"default",r=zr.get(e);r||(r=new Map,zr.set(e,r));let s=r.get(i)||{},a=Object.keys(t),o=(v,I)=>{e.addEventListener(v.toLowerCase(),I)},l=(v,I)=>{e.removeEventListener(v.toLowerCase(),I)},c=v=>v.startsWith("on"),d=v=>!v.startsWith("on"),h=v=>o(v.substring(2),t[v]),m=v=>l(v.substring(2),t[v]),u=v=>{let I=t[v],T=s[v];if(I!==T){if(v==="class"){e.className=I!=null?I:"";return}if(vc.has(v)){e[v]=I!=null?I:"";return}if(typeof I=="boolean"&&!v.includes("aria-")){e.toggleAttribute(Yr(e,v),I);return}if(v==="children"){e.innerHTML=I;return}if(I!=null){e.setAttribute(Yr(e,v),I);return}e.removeAttribute(Yr(e,v))}};for(let v in s)t[v]==null&&(v==="class"?e.className="":vc.has(v)?e[v]="":e.removeAttribute(Yr(e,v)));return Object.keys(s).filter(c).forEach(v=>{l(v.substring(2),s[v])}),a.filter(c).forEach(h),a.filter(d).forEach(u),r.set(i,t),function(){a.filter(c).forEach(m);let I=zr.get(e);I&&(I.delete(i),I.size===0&&zr.delete(e))}}function ns(e){var s,a;let t=(s=e().value)!=null?s:e().defaultValue;e().debug&&console.log(`[bindable > ${e().debug}] initial`,t);let n=(a=e().isEqual)!=null?a:Object.is,i=vs({value:t}),r=()=>e().value!==void 0;return{initial:t,ref:i,get(){return r()?e().value:i.value},set(o){var d,h;let l=i.value,c=Wt(o)?o(l):o;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:c,prev:l}),r()||(i.value=c),n(c,l)||(h=(d=e()).onChange)==null||h.call(d,c,l)},invoke(o,l){var c,d;(d=(c=e()).onChange)==null||d.call(c,o,l)},hash(o){var l,c,d;return(d=(c=(l=e()).hash)==null?void 0:c.call(l,o))!=null?d:String(o)}}}function Dv(e){let t={current:e};return{get(n){return t.current[n]},set(n,i){t.current[n]=i}}}function od(e,t){if(!Ji(e)||!Ji(t))return t===void 0?e:t;let n=g({},e);for(let i of Object.keys(t)){let r=t[i],s=e[i];r!==void 0&&(Ji(s)&&Ji(r)?n[i]=od(s,r):n[i]=r)}return n}var Wf,O,Z,z,C,Ln,U,oi,Kf,zf,Yf,$a,sc,jf,Ha,qt,is,rs,E,X,Xf,Zf,Jf,le,tr,Qf,yc,tm,Dn,nm,st,im,rm,Ba,za,om,bc,as,ja,Sc,hm,Xa,gm,pm,nr,Za,di,Xe,fm,mm,fe,ui,xe,ym,bm,ac,Em,Im,ee,Ac,wm,Vm,xm,ls,sr,Ja,Lm,Mm,li,Ga,jr,no,hn,Bm,_m,Gm,Ue,Vt,Ym,Hc,jm,cn,Xm,oc,Zm,lt,mt,Jm,Ze,ct,vt,ps,yt,lc,Qm,me,gn,Gc,Uc,xt,Xr,Wt,qc,$e,ev,Wc,tv,Ji,nv,iv,rv,Kt,ao,sv,Kc,At,cr,Yc,cc,jc,av,ov,lv,cv,Ua,Ei,Xc,Zc,Jc,Ii,He,dc,Pi,Qc,fs,uc,ed,td,nd,ye,B,Kr,Zr,id,uv,hv,hc,gv,Qi,_a,_,t0,mv,gc,qa,vv,yv,pc,Jr,Ev,Iv,Pv,Cv,Wa,fc,es,Rn,Sv,Tv,wv,Vv,oe,mc,xv,Av,q,zr,vc,Nv,kv,Yr,W,K,se=re(()=>{"use strict";Wf=["ltr","rtl"];O=(e,t,n)=>{let i=e.dataset[t];if(i!==void 0&&(!n||n.includes(i)))return i},Z=(e,t)=>{let n=e.dataset[t];if(typeof n=="string")return n.split(",").map(i=>i.trim()).filter(i=>i.length>0)},z=(e,t,n)=>{let i=e.dataset[t];if(i===void 0)return;let r=Number(i);if(!Number.isNaN(r))return n&&!n.includes(r)?0:r},C=(e,t)=>{let n=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.hasAttribute(`data-${n}`)},Ln=(e,t="element")=>e!=null&&e.id?e.id:`${t}-${Math.random().toString(36).substring(2,9)}`,U=(e,t=[])=>({parts:(...n)=>{if(Kf(t))return U(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>U(e,[...t,...n]),omit:(...n)=>U(e,t.filter(i=>!n.includes(i))),rename:n=>U(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${oi(e)}"][data-part="${oi(i)}"]`,`& [data-scope="${oi(e)}"][data-part="${oi(i)}"]`].join(", "),attrs:{"data-scope":oi(e),"data-part":oi(i)}}}),{})}),oi=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Kf=e=>e.length===0,zf=Object.defineProperty,Yf=(e,t,n)=>t in e?zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$a=(e,t,n)=>Yf(e,typeof t!="symbol"?t+"":t,n);sc=e=>Math.max(0,Math.min(1,e)),jf=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]),Ha=(...e)=>t=>e.reduce((n,i)=>i(n),t),qt=()=>{},is=e=>typeof e=="object"&&e!==null,rs=2147483647,E=e=>e?"":void 0,X=e=>e?"true":void 0,Xf=1,Zf=9,Jf=11,le=e=>is(e)&&e.nodeType===Xf&&typeof e.nodeName=="string",tr=e=>is(e)&&e.nodeType===Zf,Qf=e=>is(e)&&e===e.window,yc=e=>le(e)?e.localName||"":"#document";tm=e=>is(e)&&e.nodeType!==void 0,Dn=e=>tm(e)&&e.nodeType===Jf&&"host"in e,nm=e=>le(e)&&e.localName==="input",st=e=>!!(e!=null&&e.matches("a[href]")),im=e=>le(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;rm=/(textarea|select)/;Ba=new WeakMap;za=new Set(["menu","listbox","dialog","grid","tree","region"]),om=e=>za.has(e),bc=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};as=()=>typeof document!="undefined";ja=e=>as()&&e.test(dm()),Sc=e=>as()&&e.test(um()),hm=e=>as()&&e.test(navigator.vendor),Xa=()=>as()&&!!navigator.maxTouchPoints,gm=()=>ja(/^iPhone/i),pm=()=>ja(/^iPad/i)||di()&&navigator.maxTouchPoints>1,nr=()=>gm()||pm(),Za=()=>di()||nr(),di=()=>ja(/^Mac/i),Xe=()=>Za()&&hm(/apple/i),fm=()=>Sc(/Firefox/i),mm=()=>Sc(/Android/i);fe=e=>e.button===0,ui=e=>e.button===2||di()&&e.ctrlKey&&e.button===0,xe=e=>e.ctrlKey||e.altKey||e.metaKey,ym=e=>"touches"in e&&e.touches.length>0,bm={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},ac={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};Em=new Set(["PageUp","PageDown"]),Im=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);ee=(e,t,n,i)=>{let r=typeof e=="function"?e():e;return r==null||r.addEventListener(t,n,i),()=>{r==null||r.removeEventListener(t,n,i)}};Ac=e=>le(e)&&e.tagName==="IFRAME",wm=/^(audio|video|details)$/;Vm=e=>!Number.isNaN(Nc(e)),xm=e=>Nc(e)<0;ls="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",sr=(e,t={})=>{if(!e)return[];let{includeContainer:n=!1,getShadowRoot:i}=t,r=Array.from(e.querySelectorAll(ls));(n==!0||n=="if-empty"&&r.length===0)&&le(e)&&Ye(e)&&r.unshift(e);let a=[];for(let o of r)if(Ye(o)){if(Ac(o)&&o.contentDocument){let l=o.contentDocument.body;a.push(...sr(l,{getShadowRoot:i}));continue}a.push(o)}return i?kc(a,i,Ye):a};Ja=class Rc{constructor(){$a(this,"id",null),$a(this,"fn_cleanup"),$a(this,"cleanup",()=>{this.cancel()})}static create(){return new Rc}request(t){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=t==null?void 0:t()})}cancel(){var t;this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),(t=this.fn_cleanup)==null||t.call(this),this.fn_cleanup=void 0}isActive(){return this.id!==null}};Lm=/auto|scroll|overlay|hidden|clip/,Mm=new Set(["inline","contents"]);li="default",Ga="",jr=new WeakMap;no=e=>e.id;hn=Hm({box:"border-box"}),Bm=e=>e.split("").map(t=>{let n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),_m=e=>{var t,n,i;return Bm((i=(n=(t=e.dataset)==null?void 0:t.valuetext)!=null?n:e.textContent)!=null?i:"")},Gm=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());Ue=Object.assign(Wm,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Km});Vt={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};Ym=Object.defineProperty,Hc=e=>{throw TypeError(e)},jm=(e,t,n)=>t in e?Ym(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cn=(e,t,n)=>jm(e,typeof t!="symbol"?t+"":t,n),Xm=(e,t,n)=>t.has(e)||Hc("Cannot "+n),oc=(e,t,n)=>(Xm(e,t,"read from private field"),t.get(e)),Zm=(e,t,n)=>t.has(e)?Hc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);lt=e=>e[0],mt=e=>e[e.length-1],Jm=(e,t)=>e.indexOf(t)!==-1,Ze=(e,...t)=>e.concat(t),ct=(e,...t)=>e.filter(n=>!t.includes(n)),vt=e=>Array.from(new Set(e)),ps=(e,t)=>{let n=new Set(t);return e.filter(i=>!n.has(i))},yt=(e,t)=>Jm(e,t)?ct(e,t):Ze(e,t);lc=e=>(e==null?void 0:e.constructor.name)==="Array",Qm=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!me(e[n],t[n]))return!1;return!0},me=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(lc(e)&&lc(t))return Qm(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(t!=null?t:Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(e,n[r]))return!1;for(let r=0;r<i;r++){let s=n[r];if(!me(e[s],t[s]))return!1}return!0},gn=e=>Array.isArray(e),Gc=e=>e===!0||e===!1,Uc=e=>e!=null&&typeof e=="object",xt=e=>Uc(e)&&!gn(e),Xr=e=>typeof e=="string",Wt=e=>typeof e=="function",qc=e=>e==null,$e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ev=e=>Object.prototype.toString.call(e),Wc=Function.prototype.toString,tv=Wc.call(Object),Ji=e=>{if(!Uc(e)||ev(e)!="[object Object]"||rv(e))return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let n=$e(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Wc.call(n)==tv},nv=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,iv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,rv=e=>nv(e)||iv(e),Kt=(e,...t)=>{let n=typeof e=="function"?e(...t):e;return n!=null?n:void 0},ao=e=>e,sv=e=>e(),Kc=()=>{},At=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},cr=(()=>{let e=0;return()=>(e++,e.toString(36))})();({floor:Yc,abs:cc,round:jc,min:av,max:ov,pow:lv,sign:cv}=Math),Ua=e=>Number.isNaN(e),Ei=e=>Ua(e)?0:e,Xc=(e,t)=>(e%t+t)%t,Zc=(e,t)=>Ei(e)>=t,Jc=(e,t)=>Ei(e)<=t,Ii=(e,t,n)=>{let i=Ei(e),r=t==null||i>=t,s=n==null||i<=n;return r&&s},He=(e,t,n)=>av(ov(Ei(e),t),n),dc=(e,t)=>{let n=e,i=t.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){let a=lv(10,s);n=jc(n*a)/a}return n},Pi=(e,t)=>typeof t=="number"?Yc(e*t+.5)/t:jc(e),Qc=(e,t,n,i)=>{let r=t!=null?Number(t):0,s=Number(n),a=(e-r)%i,o=cc(a)*2>=i?e+cv(a)*(i-cc(a)):e-a;if(o=dc(o,i),!Ua(r)&&o<r)o=r;else if(!Ua(s)&&o>s){let l=Yc((s-r)/i),c=r+l*i;o=l<=0||c<r?s:c}return dc(o,i)},fs=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)],uc=e=>{if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n},ed=(e,t,n)=>{let i=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){let r=10**Math.max(uc(e),uc(n));e=Math.round(e*r),n=Math.round(n*r),i=t==="+"?e+n:e-n,i/=r}return i},td=(e,t)=>ed(Ei(e),"+",t),nd=(e,t)=>ed(Ei(e),"-",t),ye=e=>typeof e=="number"?`${e}px`:e;B=e=>function(n){return dv(n,e)},Kr=()=>performance.now(),id=class{constructor(e){this.onTick=e,cn(this,"frameId",null),cn(this,"pausedAtMs",null),cn(this,"context"),cn(this,"cancelFrame",()=>{this.frameId!==null&&(cancelAnimationFrame(this.frameId),this.frameId=null)}),cn(this,"setStartMs",t=>{this.context.startMs=t}),cn(this,"start",()=>{if(this.frameId!==null)return;let t=Kr();this.pausedAtMs!==null?(this.context.startMs+=t-this.pausedAtMs,this.pausedAtMs=null):this.context.startMs=t,this.frameId=requestAnimationFrame(oc(this,Zr))}),cn(this,"pause",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=Kr())}),cn(this,"stop",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=null)}),Zm(this,Zr,t=>{if(this.context.now=t,this.context.deltaMs=t-this.context.startMs,this.onTick(this.context)===!1){this.stop();return}this.frameId=requestAnimationFrame(oc(this,Zr))}),this.context={now:0,startMs:Kr(),deltaMs:0}}get elapsedMs(){return this.pausedAtMs!==null?this.pausedAtMs-this.context.startMs:Kr()-this.context.startMs}};Zr=new WeakMap;uv=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),hv=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,hc=e=>{let t={},n;for(;n=hv.exec(e);)t[n[1]]=n[2];return t},gv=(e,t)=>{if(Xr(e)){if(Xr(t))return`${e};${t}`;e=hc(e)}else Xr(t)&&(t=hc(t));return Object.assign({},e!=null?e:{},t!=null?t:{})};Qi=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(Qi||{}),_a="__init__";_=()=>e=>Array.from(new Set(e)),t0=Symbol(),mv=Symbol(),gc=Object.getPrototypeOf,qa=new WeakMap,vv=e=>e&&(qa.has(e)?qa.get(e):gc(e)===Object.prototype||gc(e)===Array.prototype),yv=e=>vv(e)&&e[mv]||null,pc=(e,t=!0)=>{qa.set(e,t)};Jr=ad("__zag__refSet",()=>new WeakSet),Ev=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Iv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Pv=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Cv=e=>Ev(e)||Iv(e)||Pv(e),Wa=e=>e!==null&&typeof e=="object",fc=e=>Wa(e)&&!Jr.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Cv(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise)&&!(e instanceof File)&&!(e instanceof Blob)&&!(e instanceof AbortController),es=()=>!0,Rn=ad("__zag__proxyStateMap",()=>new WeakMap),Sv=(e=Object.is,t=(o,l)=>new Proxy(o,l),n=new WeakMap,i=(o,l)=>{let c=n.get(o);if((c==null?void 0:c[0])===l)return c[1];let d=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return pc(d,!0),n.set(o,[l,d]),Reflect.ownKeys(o).forEach(h=>{let m=Reflect.get(o,h);Jr.has(m)?(pc(m,!1),d[h]=m):Rn.has(m)?d[h]=Ov(m):d[h]=m}),Object.freeze(d)},r=new WeakMap,s=[1,1],a=o=>{if(!Wa(o))throw new Error("object required");let l=r.get(o);if(l)return l;let c=s[0],d=new Set,h=(V,A=++s[0])=>{c!==A&&(c=A,d.forEach(x=>x(V,A)))},m=s[1],u=(V=++s[1])=>(m!==V&&!d.size&&(m=V,v.forEach(([A])=>{let x=A[1](V);x>c&&(c=x)})),c),p=V=>(A,x)=>{let N=[...A];N[1]=[V,...N[1]],h(N,x)},v=new Map,I=(V,A)=>{if(es()&&v.has(V))throw new Error("prop listener already exists");if(d.size){let x=A[3](p(V));v.set(V,[A,x])}else v.set(V,[A])},T=V=>{var x;let A=v.get(V);A&&(v.delete(V),(x=A[1])==null||x.call(A))},w=V=>(d.add(V),d.size===1&&v.forEach(([x,N],k)=>{if(es()&&N)throw new Error("remove already exists");let D=x[3](p(k));v.set(k,[x,D])}),()=>{d.delete(V),d.size===0&&v.forEach(([x,N],k)=>{N&&(N(),v.set(k,[x]))})}),b=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),S=t(b,{deleteProperty(V,A){let x=Reflect.get(V,A);T(A);let N=Reflect.deleteProperty(V,A);return N&&h(["delete",[A],x]),N},set(V,A,x,N){var te;let k=Reflect.has(V,A),D=Reflect.get(V,A,N);if(k&&(e(D,x)||r.has(x)&&e(D,r.get(x))))return!0;T(A),Wa(x)&&(x=yv(x)||x);let $=x;if(!((te=Object.getOwnPropertyDescriptor(V,A))!=null&&te.set)){!Rn.has(x)&&fc(x)&&($=vs(x));let J=!Jr.has($)&&Rn.get($);J&&I(A,J)}return Reflect.set(V,A,$,N),h(["set",[A],x,D]),!0}});r.set(o,S);let P=[b,u,i,w];return Rn.set(S,P),Reflect.ownKeys(o).forEach(V=>{let A=Object.getOwnPropertyDescriptor(o,V);A.get||A.set?Object.defineProperty(b,V,A):S[V]=o[V]}),S})=>[a,Rn,Jr,e,t,fc,n,i,r,s],[Tv]=Sv();wv=Object.defineProperty,Vv=(e,t,n)=>t in e?wv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oe=(e,t,n)=>Vv(e,typeof t!="symbol"?t+"":t,n),mc={onFocus:"onFocusin",onBlur:"onFocusout",onChange:"onInput",onDoubleClick:"onDblclick",htmlFor:"for",className:"class",defaultValue:"value",defaultChecked:"checked"},xv=new Set(["viewBox","preserveAspectRatio"]),Av=e=>{let t="";for(let n in e){let i=e[n];i!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)),t+=`${n}:${i};`)}return t},q=fv(e=>Object.entries(e).reduce((t,[n,i])=>{if(i===void 0)return t;if(n in mc&&(n=mc[n]),n==="style"&&typeof i=="object")return t.style=Av(i),t;let r=xv.has(n)?n:n.toLowerCase();return t[r]=i,t},{})),zr=new WeakMap,vc=new Set(["value","checked","selected"]),Nv=new Set(["viewBox","preserveAspectRatio","clipPath","clipRule","fillRule","strokeWidth","strokeLinecap","strokeLinejoin","strokeDasharray","strokeDashoffset","strokeMiterlimit"]),kv=e=>e.tagName==="svg"||e.namespaceURI==="http://www.w3.org/2000/svg",Yr=(e,t)=>kv(e)&&Nv.has(t)?t:t.toLowerCase();ns.cleanup=e=>{};ns.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};W=class{constructor(e,t={}){var h,m,u;this.machine=e,oe(this,"scope"),oe(this,"context"),oe(this,"prop"),oe(this,"state"),oe(this,"refs"),oe(this,"computed"),oe(this,"event",{type:""}),oe(this,"previousEvent",{type:""}),oe(this,"effects",new Map),oe(this,"transition",null),oe(this,"cleanups",[]),oe(this,"subscriptions",[]),oe(this,"userPropsRef"),oe(this,"getEvent",()=>y(g({},this.event),{current:()=>this.event,previous:()=>this.previousEvent})),oe(this,"getStateConfig",p=>this.machine.states[p]),oe(this,"getState",()=>y(g({},this.state),{matches:(...p)=>p.includes(this.state.get()),hasTag:p=>{var v,I;return!!((I=(v=this.getStateConfig(this.state.get()))==null?void 0:v.tags)!=null&&I.includes(p))}})),oe(this,"debug",(...p)=>{this.machine.debug&&console.log(...p)}),oe(this,"notify",()=>{this.publish()}),oe(this,"send",p=>{this.status===Qi.Started&&queueMicrotask(()=>{var S,P,V,A,x;if(!p)return;this.previousEvent=this.event,this.event=p,this.debug("send",p);let v=this.state.get(),I=p.type,T=(A=(P=(S=this.getStateConfig(v))==null?void 0:S.on)==null?void 0:P[I])!=null?A:(V=this.machine.on)==null?void 0:V[I],w=this.choose(T);if(!w)return;this.transition=w;let b=(x=w.target)!=null?x:v;this.debug("transition",w);let f=b!==v;f?this.state.set(b):w.reenter&&!f?this.state.invoke(v,v):this.action(w.actions)})}),oe(this,"action",p=>{let v=Wt(p)?p(this.getParams()):p;if(!v)return;let I=v.map(T=>{var b,f;let w=(f=(b=this.machine.implementations)==null?void 0:b.actions)==null?void 0:f[T];return w||zt(`[zag-js] No implementation found for action "${JSON.stringify(T)}"`),w});for(let T of I)T==null||T(this.getParams())}),oe(this,"guard",p=>{var v,I;return Wt(p)?p(this.getParams()):(I=(v=this.machine.implementations)==null?void 0:v.guards)==null?void 0:I[p](this.getParams())}),oe(this,"effect",p=>{let v=Wt(p)?p(this.getParams()):p;if(!v)return;let I=v.map(w=>{var f,S;let b=(S=(f=this.machine.implementations)==null?void 0:f.effects)==null?void 0:S[w];return b||zt(`[zag-js] No implementation found for effect "${JSON.stringify(w)}"`),b}),T=[];for(let w of I){let b=w==null?void 0:w(this.getParams());b&&T.push(b)}return()=>T.forEach(w=>w==null?void 0:w())}),oe(this,"choose",p=>ar(p).find(v=>{let I=!v.guard;return Xr(v.guard)?I=!!this.guard(v.guard):Wt(v.guard)&&(I=v.guard(this.getParams())),I})),oe(this,"subscribe",p=>(this.subscriptions.push(p),()=>{let v=this.subscriptions.indexOf(p);v>-1&&this.subscriptions.splice(v,1)})),oe(this,"status",Qi.NotStarted),oe(this,"publish",()=>{this.callTrackers(),this.subscriptions.forEach(p=>p(this.service))}),oe(this,"trackers",[]),oe(this,"setupTrackers",()=>{var p,v;(v=(p=this.machine).watch)==null||v.call(p,this.getParams())}),oe(this,"callTrackers",()=>{this.trackers.forEach(({deps:p,fn:v})=>{let I=p.map(T=>T());me(v.prev,I)||(v(),v.prev=I)})}),oe(this,"getParams",()=>({state:this.getState(),context:this.context,event:this.getEvent(),prop:this.prop,send:this.send,action:this.action,guard:this.guard,track:(p,v)=>{v.prev=p.map(I=>I()),this.trackers.push({deps:p,fn:v})},refs:this.refs,computed:this.computed,flush:sv,scope:this.scope,choose:this.choose})),this.userPropsRef={current:t};let{id:n,ids:i,getRootNode:r}=Kt(t);this.scope=pv({id:n,ids:i,getRootNode:r});let s=p=>{var T,w;let v=Kt(this.userPropsRef.current);return((w=(T=e.props)==null?void 0:T.call(e,{props:Ci(v),scope:this.scope}))!=null?w:v)[p]};this.prop=s;let a=(h=e.context)==null?void 0:h.call(e,{prop:s,bindable:ns,scope:this.scope,flush(p){queueMicrotask(p)},getContext(){return o},getComputed(){return l},getRefs(){return c},getEvent:this.getEvent.bind(this)});a&&Object.values(a).forEach(p=>{let v=ts(p.ref,()=>this.notify());this.cleanups.push(v)});let o={get(p){return a==null?void 0:a[p].get()},set(p,v){a==null||a[p].set(v)},initial(p){return a==null?void 0:a[p].initial},hash(p){let v=a==null?void 0:a[p].get();return a==null?void 0:a[p].hash(v)}};this.context=o;let l=p=>{var v,I;return(I=(v=e.computed)==null?void 0:v[p]({context:o,event:this.getEvent(),prop:s,refs:this.refs,scope:this.scope,computed:l}))!=null?I:{}};this.computed=l;let c=Dv((u=(m=e.refs)==null?void 0:m.call(e,{prop:s,context:o}))!=null?u:{});this.refs=c;let d=ns(()=>({defaultValue:e.initialState({prop:s}),onChange:(p,v)=>{var T,w,b,f;if(v){let S=this.effects.get(v);S==null||S(),this.effects.delete(v)}v&&this.action((T=this.getStateConfig(v))==null?void 0:T.exit),this.action((w=this.transition)==null?void 0:w.actions);let I=this.effect((b=this.getStateConfig(p))==null?void 0:b.effects);if(I&&this.effects.set(p,I),v===_a){this.action(e.entry);let S=this.effect(e.effects);S&&this.effects.set(_a,S)}this.action((f=this.getStateConfig(p))==null?void 0:f.entry)}}));this.state=d,this.cleanups.push(ts(this.state.ref,()=>this.notify()))}updateProps(e){let t=this.userPropsRef.current;this.userPropsRef.current=()=>{let n=Kt(t),i=Kt(e);return od(n,i)},this.notify()}start(){this.status=Qi.Started,this.debug("initializing..."),this.state.invoke(this.state.initial,_a),this.setupTrackers()}stop(){this.effects.forEach(e=>e==null?void 0:e()),this.effects.clear(),this.transition=null,this.action(this.machine.exit),this.cleanups.forEach(e=>e()),this.cleanups=[],this.subscriptions=[],this.status=Qi.Stopped,this.debug("unmounting...")}get service(){return{state:this.getState(),send:this.send,context:this.context,prop:this.prop,scope:this.scope,refs:this.refs,computed:this.computed,event:this.getEvent(),getStatus:()=>this.status}}},K=class{constructor(e,t){Y(this,"el");Y(this,"doc");Y(this,"machine");Y(this,"api");Y(this,"init",()=>{this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start()});Y(this,"destroy",()=>{this.machine.stop()});Y(this,"spreadProps",(e,t)=>{Rv(e,t,this.machine.scope.id)});Y(this,"updateProps",e=>{this.machine.updateProps(e)});if(!e)throw new Error("Root element not found");this.el=e,this.doc=document,this.machine=this.initMachine(t),this.api=this.initApi()}}});var ld={};he(ld,{Accordion:()=>jv});function Gv(e,t){let{send:n,context:i,prop:r,scope:s,computed:a}=e,o=i.get("focusedValue"),l=i.get("value"),c=r("multiple");function d(m){let u=m;!c&&u.length>1&&(u=[u[0]]),n({type:"VALUE.SET",value:u})}function h(m){var u;return{expanded:l.includes(m.value),focused:o===m.value,disabled:!!((u=m.disabled)!=null?u:r("disabled"))}}return{focusedValue:o,value:l,setValue:d,getItemState:h,getRootProps(){return t.element(y(g({},dr.root.attrs),{dir:r("dir"),id:ys(s),"data-orientation":r("orientation")}))},getItemProps(m){let u=h(m);return t.element(y(g({},dr.item.attrs),{dir:r("dir"),id:Mv(s,m.value),"data-state":u.expanded?"open":"closed","data-focus":E(u.focused),"data-disabled":E(u.disabled),"data-orientation":r("orientation")}))},getItemContentProps(m){let u=h(m);return t.element(y(g({},dr.itemContent.attrs),{dir:r("dir"),role:"region",id:oo(s,m.value),"aria-labelledby":bs(s,m.value),hidden:!u.expanded,"data-state":u.expanded?"open":"closed","data-disabled":E(u.disabled),"data-focus":E(u.focused),"data-orientation":r("orientation")}))},getItemIndicatorProps(m){let u=h(m);return t.element(y(g({},dr.itemIndicator.attrs),{dir:r("dir"),"aria-hidden":!0,"data-state":u.expanded?"open":"closed","data-disabled":E(u.disabled),"data-focus":E(u.focused),"data-orientation":r("orientation")}))},getItemTriggerProps(m){let{value:u}=m,p=h(m);return t.button(y(g({},dr.itemTrigger.attrs),{type:"button",dir:r("dir"),id:bs(s,u),"aria-controls":oo(s,u),"data-controls":oo(s,u),"aria-expanded":p.expanded,disabled:p.disabled,"data-orientation":r("orientation"),"aria-disabled":p.disabled,"data-state":p.expanded?"open":"closed","data-ownedby":ys(s),onFocus(){p.disabled||n({type:"TRIGGER.FOCUS",value:u})},onBlur(){p.disabled||n({type:"TRIGGER.BLUR"})},onClick(v){p.disabled||(Xe()&&v.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:u}))},onKeyDown(v){if(v.defaultPrevented||p.disabled)return;let I={ArrowDown(){a("isHorizontal")||n({type:"GOTO.NEXT",value:u})},ArrowUp(){a("isHorizontal")||n({type:"GOTO.PREV",value:u})},ArrowRight(){a("isHorizontal")&&n({type:"GOTO.NEXT",value:u})},ArrowLeft(){a("isHorizontal")&&n({type:"GOTO.PREV",value:u})},Home(){n({type:"GOTO.FIRST",value:u})},End(){n({type:"GOTO.LAST",value:u})}},T=ge(v,{dir:r("dir"),orientation:r("orientation")}),w=I[T];w&&(w(v),v.preventDefault())}}))}}}var Lv,dr,ys,Mv,oo,bs,Fv,Es,$v,Hv,Bv,_v,Uv,qv,Wv,Kv,l0,zv,c0,Yv,jv,cd=re(()=>{"use strict";se();Lv=U("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),dr=Lv.build(),ys=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`accordion:${e.id}`},Mv=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:item:${t}`},oo=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:content:${t}`},bs=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:trigger:${t}`},Fv=e=>e.getById(ys(e)),Es=e=>{let n=`[data-controls][data-ownedby='${CSS.escape(ys(e))}']:not([disabled])`;return Fe(Fv(e),n)},$v=e=>lt(Es(e)),Hv=e=>mt(Es(e)),Bv=(e,t)=>vi(Es(e),bs(e,t)),_v=(e,t)=>yi(Es(e),bs(e,t));({and:Uv,not:qv}=Ee()),Wv={props({props:e}){return g({collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){var i;(i=e("onFocusChange"))==null||i({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:Uv("isExpanded","canToggle"),actions:["collapse"]},{guard:qv("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){let i=t("multiple")?ct(e.get("value"),n.value):[];e.set("value",i)},expand({context:e,prop:t,event:n}){let i=t("multiple")?Ze(e.get("value"),n.value):[n.value];e.set("value",i)},focusFirstTrigger({scope:e}){var t;(t=$v(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=Hv(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let i=Bv(t,n);i==null||i.focus()},focusPrevTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let i=_v(t,n);i==null||i.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(zt("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}},Kv=_()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]),l0=B(Kv),zv=_()(["value","disabled"]),c0=B(zv),Yv=class extends K{initMachine(e){return new W(Wv,e)}initApi(){return Gv(this.machine.service,q)}render(){var i;let e=(i=this.el.querySelector('[data-scope="accordion"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.getItemsList(),n=e.querySelectorAll('[data-scope="accordion"][data-part="item"]');for(let r=0;r<n.length;r++){let s=n[r],a=t[r];if(!(a!=null&&a.value))continue;let{value:o,disabled:l}=a;this.spreadProps(s,this.api.getItemProps({value:o,disabled:l}));let c=s.querySelector('[data-scope="accordion"][data-part="item-trigger"]');c&&this.spreadProps(c,this.api.getItemTriggerProps({value:o,disabled:l}));let d=s.querySelector('[data-scope="accordion"][data-part="item-indicator"]');d&&this.spreadProps(d,this.api.getItemIndicatorProps({value:o,disabled:l}));let h=s.querySelector('[data-scope="accordion"][data-part="item-content"]');h&&this.spreadProps(h,this.api.getItemContentProps({value:o,disabled:l}))}}getItemsList(){let e=this.el.getAttribute("data-items");if(!e)return[];try{return JSON.parse(e)}catch(t){return[]}}},jv={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Yv(e,y(g({id:e.id},C(e,"controlled")?{value:Z(e,"value")}:{defaultValue:Z(e,"defaultValue")}),{collapsible:C(e,"collapsible"),multiple:C(e,"multiple"),orientation:O(e,"orientation",["horizontal","vertical"]),dir:Oe(e),onValueChange:i=>{var a,o;let r=O(e,"onValueChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.value)!=null?a:null});let s=O(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.value)!=null?o:null}}))},onFocusChange:i=>{var a,o;let r=O(e,"onFocusChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.value)!=null?a:null});let s=O(e,"onFocusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.value)!=null?o:null}}))}}));n.init(),this.accordion=n,this.onSetValue=i=>{let{value:r}=i.detail;n.api.setValue(r)},e.addEventListener("phx:accordion:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("accordion_set_value",i=>{let r=i.accordion_id;r&&!(e.id===r||e.id===`accordion:${r}`)||n.api.setValue(i.value)})),this.handlers.push(this.handleEvent("accordion_value",()=>{this.pushEvent("accordion_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("accordion_focused_value",()=>{this.pushEvent("accordion_focused_value_response",{value:n.api.focusedValue})}))},updated(){var t,n,i,r;let e=C(this.el,"controlled");(r=this.accordion)==null||r.updateProps(y(g({id:this.el.id},e?{value:Z(this.el,"value")}:{defaultValue:(i=(n=(t=this.accordion)==null?void 0:t.api)==null?void 0:n.value)!=null?i:Z(this.el,"defaultValue")}),{collapsible:C(this.el,"collapsible"),multiple:C(this.el,"multiple"),orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:Oe(this.el)}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:accordion:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.accordion)==null||e.destroy()}}});function vd(e,t,n=e.center){let i=t.x-n.x,r=t.y-n.y;return 360-(Math.atan2(i,r)*(180/Math.PI)+180)}function yn(e){let{x:t,y:n,width:i,height:r}=e,s=t+i/2,a=n+r/2;return{x:t,y:n,width:i,height:r,minX:t,minY:n,maxX:t+i,maxY:n+r,midX:s,midY:a,center:Bn(s,a)}}function ey(e){let t=Bn(e.minX,e.minY),n=Bn(e.maxX,e.minY),i=Bn(e.maxX,e.maxY),r=Bn(e.minX,e.maxY);return{top:t,right:n,bottom:i,left:r}}function ty(e){if(!lo.has(e)){let t=e.ownerDocument.defaultView||window;lo.set(e,t.getComputedStyle(e))}return lo.get(e)}function ho(e,t={}){return yn(ny(e,t))}function ny(e,t={}){let{excludeScrollbar:n=!1,excludeBorders:i=!1}=t,{x:r,y:s,width:a,height:o}=e.getBoundingClientRect(),l={x:r,y:s,width:a,height:o},c=ty(e),{borderLeftWidth:d,borderTopWidth:h,borderRightWidth:m,borderBottomWidth:u}=c,p=hd(d,m),v=hd(h,u);if(i&&(l.width-=p,l.height-=v,l.x+=co(d),l.y+=co(h)),n){let I=e.offsetWidth-e.clientWidth-p,T=e.offsetHeight-e.clientHeight-v;l.width-=I,l.height-=T}return l}function Pd(e,t={}){return yn(iy(e,t))}function iy(e,t){let{excludeScrollbar:n=!1}=t,{innerWidth:i,innerHeight:r,document:s,visualViewport:a}=e,o=(a==null?void 0:a.width)||i,l=(a==null?void 0:a.height)||r,c={x:0,y:0,width:o,height:l};if(n){let d=i-s.documentElement.clientWidth,h=r-s.documentElement.clientHeight;c.width-=d,c.height-=h}return c}function Cd(e,t){let n=yn(e),{top:i,right:r,left:s,bottom:a}=ey(n),[o]=t.split("-");return{top:[s,i,r,a],right:[i,r,a,s],bottom:[i,s,a,r],left:[r,i,s,a]}[o]}function go(e,t){let{x:n,y:i}=t,r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){let o=e[s].x,l=e[s].y,c=e[a].x,d=e[a].y;l>i!=d>i&&n<(c-o)*(i-l)/(d-l)+o&&(r=!r)}return r}function fd(e,t){let{minX:n,minY:i,maxX:r,maxY:s,midX:a,midY:o}=e,l=t.includes("w")?n:t.includes("e")?r:a,c=t.includes("n")?i:t.includes("s")?s:o;return{x:l,y:c}}function sy(e){return ry[e]}function Sd(e,t,n,i){let{scalingOriginMode:r,lockAspectRatio:s}=i,a=fd(e,n),o=sy(n),l=fd(e,o);r==="center"&&(t={x:t.x*2,y:t.y*2});let c={x:a.x+t.x,y:a.y+t.y},d={x:gd[n].x*2-1,y:gd[n].y*2-1},h={width:c.x-l.x,height:c.y-l.y},m=d.x*h.width/e.width,u=d.y*h.height/e.height,p=Si(m)>Si(u)?m:u,v=s?{x:p,y:p}:{x:a.x===l.x?1:m,y:a.y===l.y?1:u};switch(a.y===l.y?v.y=Si(v.y):Is(v.y)!==Is(u)&&(v.y*=-1),a.x===l.x?v.x=Si(v.x):Is(v.x)!==Is(m)&&(v.x*=-1),r){case"extent":return md(e,dd.scale(v.x,v.y,l),!1);case"center":return md(e,dd.scale(v.x,v.y,{x:e.midX,y:e.midY}),!1)}}function ay(e,t,n=!0){return n?{x:pd(t.x,e.x),y:pd(t.y,e.y),width:Si(t.x-e.x),height:Si(t.y-e.y)}:{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}}function md(e,t,n=!0){let i=t.applyTo({x:e.minX,y:e.minY}),r=t.applyTo({x:e.maxX,y:e.maxY});return ay(i,r,n)}var Xv,Zv,Zt,dd,ud,ur,Jv,Qv,hr,Bn,uo,yd,bd,Ed,Id,lo,co,hd,h0,g0,gd,ry,Is,Si,pd,Ps=re(()=>{"use strict";Xv=Object.defineProperty,Zv=(e,t,n)=>t in e?Xv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zt=(e,t,n)=>Zv(e,typeof t!="symbol"?t+"":t,n),dd=class Ae{constructor([t,n,i,r,s,a]=[0,0,0,0,0,0]){Zt(this,"m00"),Zt(this,"m01"),Zt(this,"m02"),Zt(this,"m10"),Zt(this,"m11"),Zt(this,"m12"),Zt(this,"rotate",(...o)=>this.prepend(Ae.rotate(...o))),Zt(this,"scale",(...o)=>this.prepend(Ae.scale(...o))),Zt(this,"translate",(...o)=>this.prepend(Ae.translate(...o))),this.m00=t,this.m01=n,this.m02=i,this.m10=r,this.m11=s,this.m12=a}applyTo(t){let{x:n,y:i}=t,{m00:r,m01:s,m02:a,m10:o,m11:l,m12:c}=this;return{x:r*n+s*i+a,y:o*n+l*i+c}}prepend(t){return new Ae([this.m00*t.m00+this.m01*t.m10,this.m00*t.m01+this.m01*t.m11,this.m00*t.m02+this.m01*t.m12+this.m02,this.m10*t.m00+this.m11*t.m10,this.m10*t.m01+this.m11*t.m11,this.m10*t.m02+this.m11*t.m12+this.m12])}append(t){return new Ae([t.m00*this.m00+t.m01*this.m10,t.m00*this.m01+t.m01*this.m11,t.m00*this.m02+t.m01*this.m12+t.m02,t.m10*this.m00+t.m11*this.m10,t.m10*this.m01+t.m11*this.m11,t.m10*this.m02+t.m11*this.m12+t.m12])}get determinant(){return this.m00*this.m11-this.m01*this.m10}get isInvertible(){let t=this.determinant;return isFinite(t)&&isFinite(this.m02)&&isFinite(this.m12)&&t!==0}invert(){let t=this.determinant;return new Ae([this.m11/t,-this.m01/t,(this.m01*this.m12-this.m11*this.m02)/t,-this.m10/t,this.m00/t,(this.m10*this.m02-this.m00*this.m12)/t])}get array(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,0,0,1]}get float32Array(){return new Float32Array(this.array)}static get identity(){return new Ae([1,0,0,0,1,0])}static rotate(t,n){let i=new Ae([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0]);return n&&(n.x!==0||n.y!==0)?Ae.multiply(Ae.translate(n.x,n.y),i,Ae.translate(-n.x,-n.y)):i}static scale(t,n=t,i={x:0,y:0}){let r=new Ae([t,0,0,0,n,0]);return i.x!==0||i.y!==0?Ae.multiply(Ae.translate(i.x,i.y),r,Ae.translate(-i.x,-i.y)):r}static translate(t,n){return new Ae([1,0,t,0,1,n])}static multiply(...[t,...n]){return t?n.reduce((i,r)=>i.prepend(r),t):Ae.identity}get a(){return this.m00}get b(){return this.m10}get c(){return this.m01}get d(){return this.m11}get tx(){return this.m02}get ty(){return this.m12}get scaleComponents(){return{x:this.a,y:this.d}}get translationComponents(){return{x:this.tx,y:this.ty}}get skewComponents(){return{x:this.c,y:this.b}}toString(){return`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`}};ud=(e,t,n)=>Math.min(Math.max(e,t),n),ur=(e,t,n)=>{let i=ud(e.x,n.x,n.x+n.width-t.width),r=ud(e.y,n.y,n.y+n.height-t.height);return{x:i,y:r}},Jv={width:0,height:0},Qv={width:1/0,height:1/0},hr=(e,t=Jv,n=Qv)=>({width:Math.min(Math.max(e.width,t.width),n.width),height:Math.min(Math.max(e.height,t.height),n.height)}),Bn=(e,t)=>({x:e,y:t}),uo=(e,t)=>t?Bn(e.x-t.x,e.y-t.y):e,yd=(e,t)=>Bn(e.x+t.x,e.y+t.y);bd=(e,t)=>{let n=Math.max(t.x,Math.min(e.x,t.x+t.width-e.width)),i=Math.max(t.y,Math.min(e.y,t.y+t.height-e.height));return{x:n,y:i,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},Ed=(e,t)=>e.width===(t==null?void 0:t.width)&&e.height===(t==null?void 0:t.height),Id=(e,t)=>e.x===(t==null?void 0:t.x)&&e.y===(t==null?void 0:t.y),lo=new WeakMap;co=e=>parseFloat(e.replace("px","")),hd=(...e)=>e.reduce((t,n)=>t+(n?co(n):0),0),{min:h0,max:g0}=Math;gd={n:{x:.5,y:0},ne:{x:1,y:0},e:{x:1,y:.5},se:{x:1,y:1},s:{x:.5,y:1},sw:{x:0,y:1},w:{x:0,y:.5},nw:{x:0,y:0}},ry={n:"s",ne:"sw",e:"w",se:"nw",s:"n",sw:"ne",w:"e",nw:"se"},{sign:Is,abs:Si,min:pd}=Math});var Nd={};he(Nd,{AngleSlider:()=>vy});function xd(e,t,n){let i=yn(e.getBoundingClientRect()),r=vd(i,t);return n!=null?r-n:r}function Ad(e){return Math.min(Math.max(e,Cs),Ss)}function hy(e,t){let n=Ad(e),i=Math.ceil(n/t),r=Math.round(n/t);return i>=n/t?i*t===Ss?Cs:i*t:r*t}function Od(e,t){return Qc(e,Cs,Ss,t)}function gy(e,t){let{state:n,send:i,context:r,prop:s,computed:a,scope:o}=e,l=n.matches("dragging"),c=r.get("value"),d=a("valueAsDegree"),h=s("disabled"),m=s("invalid"),u=s("readOnly"),p=a("interactive"),v=s("aria-label"),I=s("aria-labelledby");return{value:c,valueAsDegree:d,dragging:l,setValue(T){i({type:"VALUE.SET",value:T})},getRootProps(){return t.element(y(g({},_n.root.attrs),{id:ly(o),"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),style:{"--value":c,"--angle":d}}))},getLabelProps(){return t.label(y(g({},_n.label.attrs),{id:Td(o),htmlFor:po(o),"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),onClick(T){var w;p&&(T.preventDefault(),(w=fo(o))==null||w.focus())}}))},getHiddenInputProps(){return t.element({type:"hidden",value:c,name:s("name"),id:po(o)})},getControlProps(){return t.element(y(g({},_n.control.attrs),{role:"presentation",id:Vd(o),"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),onPointerDown(T){if(!p||!fe(T))return;let w=je(T),b=T.currentTarget,f=fo(o),S=Yt(T).composedPath(),P=f&&S.includes(f),V=null;P&&(V=xd(b,w)-c),i({type:"CONTROL.POINTER_DOWN",point:w,angularOffset:V}),T.stopPropagation()},style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getThumbProps(){return t.element(y(g({},_n.thumb.attrs),{id:wd(o),role:"slider","aria-label":v,"aria-labelledby":I!=null?I:Td(o),"aria-valuemax":360,"aria-valuemin":0,"aria-valuenow":c,tabIndex:u||p?0:void 0,"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),onFocus(){i({type:"THUMB.FOCUS"})},onBlur(){i({type:"THUMB.BLUR"})},onKeyDown(T){if(!p)return;let w=hi(T)*s("step");switch(T.key){case"ArrowLeft":case"ArrowUp":T.preventDefault(),i({type:"THUMB.ARROW_DEC",step:w});break;case"ArrowRight":case"ArrowDown":T.preventDefault(),i({type:"THUMB.ARROW_INC",step:w});break;case"Home":T.preventDefault(),i({type:"THUMB.HOME"});break;case"End":T.preventDefault(),i({type:"THUMB.END"});break}},style:{rotate:"var(--angle)"}}))},getValueTextProps(){return t.element(y(g({},_n.valueText.attrs),{id:cy(o)}))},getMarkerGroupProps(){return t.element(g({},_n.markerGroup.attrs))},getMarkerProps(T){let w;return T.value<c?w="under-value":T.value>c?w="over-value":w="at-value",t.element(y(g({},_n.marker.attrs),{"data-value":T.value,"data-state":w,"data-disabled":E(h),style:{"--marker-value":T.value,rotate:"calc(var(--marker-value) * 1deg)"}}))}}}var oy,_n,ly,wd,po,Vd,cy,Td,dy,uy,fo,Cs,Ss,py,fy,v0,my,vy,kd=re(()=>{"use strict";Ps();se();oy=U("angle-slider").parts("root","label","thumb","valueText","control","track","markerGroup","marker"),_n=oy.build(),ly=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`angle-slider:${e.id}`},wd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.thumb)!=null?n:`angle-slider:${e.id}:thumb`},po=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`angle-slider:${e.id}:input`},Vd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`angle-slider:${e.id}:control`},cy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.valueText)!=null?n:`angle-slider:${e.id}:value-text`},Td=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`angle-slider:${e.id}:label`},dy=e=>e.getById(po(e)),uy=e=>e.getById(Vd(e)),fo=e=>e.getById(wd(e)),Cs=0,Ss=359;py={props({props:e}){return g({step:1,defaultValue:0},e)},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n,valueAsDegree:`${n}deg`})}}))}},refs(){return{thumbDragOffset:null}},computed:{interactive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsDegree:({context:e})=>`${e.get("value")}deg`},watch({track:e,context:t,action:n}){e([()=>t.get("value")],()=>{n(["syncInputElement"])})},initialState(){return"idle"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"CONTROL.POINTER_DOWN":{target:"dragging",actions:["setThumbDragOffset","setPointerValue","focusThumb"]},"THUMB.FOCUS":{target:"focused"}}},focused:{on:{"CONTROL.POINTER_DOWN":{target:"dragging",actions:["setThumbDragOffset","setPointerValue","focusThumb"]},"THUMB.ARROW_DEC":{actions:["decrementValue","invokeOnChangeEnd"]},"THUMB.ARROW_INC":{actions:["incrementValue","invokeOnChangeEnd"]},"THUMB.HOME":{actions:["setValueToMin","invokeOnChangeEnd"]},"THUMB.END":{actions:["setValueToMax","invokeOnChangeEnd"]},"THUMB.BLUR":{target:"idle"}}},dragging:{entry:["focusThumb"],effects:["trackPointerMove"],on:{"DOC.POINTER_UP":{target:"focused",actions:["invokeOnChangeEnd","clearThumbDragOffset"]},"DOC.POINTER_MOVE":{actions:["setPointerValue"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){return un(e.getDoc(),{onPointerMove(n){t({type:"DOC.POINTER_MOVE",point:n.point})},onPointerUp(){t({type:"DOC.POINTER_UP"})}})}},actions:{syncInputElement({scope:e,context:t}){let n=dy(e);Me(n,t.get("value").toString())},invokeOnChangeEnd({context:e,prop:t,computed:n}){var i;(i=t("onValueChangeEnd"))==null||i({value:e.get("value"),valueAsDegree:n("valueAsDegree")})},setPointerValue({scope:e,event:t,context:n,prop:i,refs:r}){let s=uy(e);if(!s)return;let a=r.get("thumbDragOffset"),o=xd(s,t.point,a);n.set("value",hy(o,i("step")))},setValueToMin({context:e}){e.set("value",Cs)},setValueToMax({context:e}){e.set("value",Ss)},setValue({context:e,event:t}){e.set("value",Ad(t.value))},decrementValue({context:e,event:t,prop:n}){var r;let i=Od(e.get("value")-t.step,(r=t.step)!=null?r:n("step"));e.set("value",i)},incrementValue({context:e,event:t,prop:n}){var r;let i=Od(e.get("value")+t.step,(r=t.step)!=null?r:n("step"));e.set("value",i)},focusThumb({scope:e}){H(()=>{var t;(t=fo(e))==null||t.focus({preventScroll:!0})})},setThumbDragOffset({refs:e,event:t}){var n;e.set("thumbDragOffset",(n=t.angularOffset)!=null?n:null)},clearThumbDragOffset({refs:e}){e.set("thumbDragOffset",null)}}}},fy=_()(["aria-label","aria-labelledby","dir","disabled","getRootNode","id","ids","invalid","name","onValueChange","onValueChangeEnd","readOnly","step","value","defaultValue"]),v0=B(fy),my=class extends K{initMachine(e){return new W(py,e)}initApi(){return gy(this.machine.service,q)}render(){var o;let e=(o=this.el.querySelector('[data-scope="angle-slider"][data-part="root"]'))!=null?o:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="angle-slider"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="angle-slider"][data-part="hidden-input"]');n&&this.spreadProps(n,this.api.getHiddenInputProps());let i=this.el.querySelector('[data-scope="angle-slider"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="angle-slider"][data-part="thumb"]');r&&this.spreadProps(r,this.api.getThumbProps());let s=this.el.querySelector('[data-scope="angle-slider"][data-part="value-text"]');s&&this.spreadProps(s,this.api.getValueTextProps());let a=this.el.querySelector('[data-scope="angle-slider"][data-part="marker-group"]');a&&this.spreadProps(a,this.api.getMarkerGroupProps()),this.el.querySelectorAll('[data-scope="angle-slider"][data-part="marker"]').forEach(l=>{let c=l.dataset.value;if(c==null)return;let d=Number(c);Number.isNaN(d)||this.spreadProps(l,this.api.getMarkerProps({value:d}))})}},vy={mounted(){var s;let e=this.el,t=z(e,"value"),n=z(e,"defaultValue"),i=C(e,"controlled"),r=new my(e,y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:n!=null?n:0}),{step:(s=z(e,"step"))!=null?s:1,disabled:C(e,"disabled"),readOnly:C(e,"readOnly"),invalid:C(e,"invalid"),name:O(e,"name"),dir:O(e,"dir",["ltr","rtl"]),onValueChange:a=>{let o=e.querySelector('[data-scope="angle-slider"][data-part="hidden-input"]');o&&(o.value=String(a.value),o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})));let l=O(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(l,{value:a.value,valueAsDegree:a.valueAsDegree,id:e.id});let c=O(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{value:a,id:e.id}}))}}));r.init(),this.angleSlider=r,this.handlers=[]},updated(){var n,i;let e=z(this.el,"value"),t=C(this.el,"controlled");(i=this.angleSlider)==null||i.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{step:(n=z(this.el,"step"))!=null?n:1,disabled:C(this.el,"disabled"),readOnly:C(this.el,"readOnly"),invalid:C(this.el,"invalid"),name:O(this.el,"name")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.angleSlider)==null||e.destroy()}}});var Ld={};he(Ld,{Avatar:()=>Oy});function Iy(e,t){let{state:n,send:i,prop:r,scope:s}=e,a=n.matches("loaded");return{loaded:a,setSrc(o){let l=vo(s);l==null||l.setAttribute("src",o)},setLoaded(){i({type:"img.loaded",src:"api"})},setError(){i({type:"img.error",src:"api"})},getRootProps(){return t.element(y(g({},mo.root.attrs),{dir:r("dir"),id:Rd(s)}))},getImageProps(){return t.img(y(g({},mo.image.attrs),{hidden:!a,dir:r("dir"),id:Dd(s),"data-state":a?"visible":"hidden",onLoad(){i({type:"img.loaded",src:"element"})},onError(){i({type:"img.error",src:"element"})}}))},getFallbackProps(){return t.element(y(g({},mo.fallback.attrs),{dir:r("dir"),id:by(s),hidden:a,"data-state":a?"hidden":"visible"}))}}}function Cy(e){return e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}var yy,mo,Rd,Dd,by,Ey,vo,Py,Sy,I0,Ty,Oy,Md=re(()=>{"use strict";se();yy=U("avatar").parts("root","image","fallback"),mo=yy.build(),Rd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`avatar:${e.id}`},Dd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.image)!=null?n:`avatar:${e.id}:image`},by=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.fallback)!=null?n:`avatar:${e.id}:fallback`},Ey=e=>e.getById(Rd(e)),vo=e=>e.getById(Dd(e));Py={initialState(){return"loading"},effects:["trackImageRemoval","trackSrcChange"],on:{"src.change":{target:"loading"},"img.unmount":{target:"error"}},states:{loading:{entry:["checkImageStatus"],on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]},"img.error":{target:"error",actions:["invokeOnError"]}}},error:{on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{on:{"img.error":{target:"error",actions:["invokeOnError"]}}}},implementations:{actions:{invokeOnLoad({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"loaded"})},invokeOnError({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"error"})},checkImageStatus({send:e,scope:t}){let n=vo(t);if(!(n!=null&&n.complete))return;let i=Cy(n)?"img.loaded":"img.error";e({type:i,src:"ssr"})}},effects:{trackImageRemoval({send:e,scope:t}){let n=Ey(t);return us(n,{callback(i){Array.from(i[0].removedNodes).find(a=>a.nodeType===Node.ELEMENT_NODE&&a.matches("[data-scope=avatar][data-part=image]"))&&e({type:"img.unmount"})}})},trackSrcChange({send:e,scope:t}){let n=vo(t);return ot(n,{attributes:["src","srcset"],callback(){e({type:"src.change"})}})}}}};Sy=_()(["dir","id","ids","onStatusChange","getRootNode"]),I0=B(Sy),Ty=class extends K{initMachine(e){return new W(Py,e)}initApi(){return Iy(this.machine.service,q)}render(){var i;let e=(i=this.el.querySelector('[data-scope="avatar"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="avatar"][data-part="image"]');t&&this.spreadProps(t,this.api.getImageProps());let n=this.el.querySelector('[data-scope="avatar"][data-part="fallback"]');n&&this.spreadProps(n,this.api.getFallbackProps())}},Oy={mounted(){let e=this.el,t=O(e,"src"),n=new Ty(e,g({id:e.id,onStatusChange:i=>{let r=O(e,"onStatusChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(r,{status:i.status,id:e.id});let s=O(e,"onStatusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}},t!==void 0?{}:{}));n.init(),this.avatar=n,t!==void 0&&n.api.setSrc(t),this.handlers=[]},updated(){let e=O(this.el,"src");e!==void 0&&this.avatar&&this.avatar.api.setSrc(e)},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.avatar)==null||e.destroy()}}});var Ud={};he(Ud,{Carousel:()=>qy});function Hd(e){let t=at(e),n=e.getBoundingClientRect(),i=t.getPropertyValue("scroll-padding-left").replace("auto","0px"),r=t.getPropertyValue("scroll-padding-top").replace("auto","0px"),s=t.getPropertyValue("scroll-padding-right").replace("auto","0px"),a=t.getPropertyValue("scroll-padding-bottom").replace("auto","0px");function o(m,u){let p=parseFloat(m);return/%/.test(m)&&(p/=100,p*=u),Number.isNaN(p)?0:p}let l=o(i,n.width),c=o(r,n.height),d=o(s,n.width),h=o(a,n.height);return{x:{before:l,after:d},y:{before:c,after:h}}}function wy(e,t,n="both"){return n==="x"&&e.right>=t.left&&e.left<=t.right||n==="y"&&e.bottom>=t.top&&e.top<=t.bottom||n==="both"&&e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}function Bd(e){let t=[];for(let n of e.children)t=t.concat(n,Bd(n));return t}function _d(e,t=!1){let n=e.getBoundingClientRect(),r=Eo(e)==="rtl",s={x:{start:[],center:[],end:[]},y:{start:[],center:[],end:[]}},a=t?Bd(e):e.children;for(let o of["x","y"]){let l=o==="x"?"y":"x",c=o==="x"?"left":"top",d=o==="x"?"right":"bottom",h=o==="x"?"width":"height",m=o==="x"?"scrollLeft":"scrollTop",u=r&&o==="x";for(let p of a){let v=p.getBoundingClientRect();if(!wy(n,v,l))continue;let I=at(p),[T,w]=I.getPropertyValue("scroll-snap-align").split(" ");typeof w=="undefined"&&(w=T);let b=o==="x"?w:T,f,S,P;if(u){let V=Math.abs(e[m]),A=n[d]-v[d]+V;f=A,S=A+v[h],P=A+v[h]/2}else f=v[c]-n[c]+e[m],S=f+v[h],P=f+v[h]/2;switch(b){case"none":break;case"start":s[o].start.push({node:p,position:f});break;case"center":s[o].center.push({node:p,position:P});break;case"end":s[o].end.push({node:p,position:S});break}}}return s}function Vy(e){let t=Eo(e),n=e.getBoundingClientRect(),i=Hd(e),r=_d(e),s={x:e.scrollWidth-e.offsetWidth,y:e.scrollHeight-e.offsetHeight},a=t==="rtl",o=a&&e.scrollLeft<=0,l;return a?(l=yo([...r.x.start.map(c=>c.position-i.x.after),...r.x.center.map(c=>c.position-n.width/2),...r.x.end.map(c=>c.position-n.width+i.x.before)].map(bo(0,s.x))),o&&(l=l.map(c=>-c))):l=yo([...r.x.start.map(c=>c.position-i.x.before),...r.x.center.map(c=>c.position-n.width/2),...r.x.end.map(c=>c.position-n.width+i.x.after)].map(bo(0,s.x))),{x:l,y:yo([...r.y.start.map(c=>c.position-i.y.before),...r.y.center.map(c=>c.position-n.height/2),...r.y.end.map(c=>c.position-n.height+i.y.after)].map(bo(0,s.y)))}}function xy(e,t,n){let i=Eo(e),r=Hd(e),s=_d(e),a=[...s[t].start,...s[t].center,...s[t].end],o=i==="rtl",l=o&&t==="x"&&e.scrollLeft<=0;for(let c of a)if(n(c.node)){let d;return t==="x"&&o?(d=c.position-r.x.after,l&&(d=-d)):d=c.position-(t==="x"?r.x.before:r.y.before),d}}function Fy(e,t){let{state:n,context:i,computed:r,send:s,scope:a,prop:o}=e,l=n.matches("autoplay"),c=n.matches("dragging"),d=r("canScrollNext"),h=r("canScrollPrev"),m=r("isHorizontal"),u=o("autoSize"),p=Array.from(i.get("pageSnapPoints")),v=i.get("page"),I=o("slidesPerPage"),T=o("padding"),w=o("translations");return{isPlaying:l,isDragging:c,page:v,pageSnapPoints:p,canScrollNext:d,canScrollPrev:h,getProgress(){return v/p.length},getProgressText(){var f,S;let b={page:v+1,totalPages:p.length};return(S=(f=w.progressText)==null?void 0:f.call(w,b))!=null?S:""},scrollToIndex(b,f){s({type:"INDEX.SET",index:b,instant:f})},scrollTo(b,f){s({type:"PAGE.SET",index:b,instant:f})},scrollNext(b){s({type:"PAGE.NEXT",instant:b})},scrollPrev(b){s({type:"PAGE.PREV",instant:b})},play(){s({type:"AUTOPLAY.START"})},pause(){s({type:"AUTOPLAY.PAUSE"})},isInView(b){return Array.from(i.get("slidesInView")).includes(b)},refresh(){s({type:"SNAP.REFRESH"})},getRootProps(){return t.element(y(g({},Nt.root.attrs),{id:Ny(a),role:"region","aria-roledescription":"carousel","data-orientation":o("orientation"),dir:o("dir"),style:{"--slides-per-page":I,"--slide-spacing":o("spacing"),"--slide-item-size":u?"auto":"calc(100% / var(--slides-per-page) - var(--slide-spacing) * (var(--slides-per-page) - 1) / var(--slides-per-page))"}}))},getItemGroupProps(){return t.element(y(g({},Nt.itemGroup.attrs),{id:Ts(a),"data-orientation":o("orientation"),"data-dragging":E(c),dir:o("dir"),"aria-live":l?"off":"polite",onFocus(b){ce(b.currentTarget,j(b))&&s({type:"VIEWPORT.FOCUS"})},onBlur(b){ce(b.currentTarget,b.relatedTarget)||s({type:"VIEWPORT.BLUR"})},onMouseDown(b){if(b.defaultPrevented||!o("allowMouseDrag")||!fe(b))return;let f=j(b);Ye(f)&&f!==b.currentTarget||(b.preventDefault(),s({type:"DRAGGING.START"}))},onWheel:zc(b=>{let f=o("orientation")==="horizontal"?"deltaX":"deltaY";b[f]<0&&!r("canScrollPrev")||b[f]>0&&!r("canScrollNext")||s({type:"USER.SCROLL"})},150),onTouchStart(){s({type:"USER.SCROLL"})},style:{display:u?"flex":"grid",gap:"var(--slide-spacing)",scrollSnapType:[m?"x":"y",o("snapType")].join(" "),gridAutoFlow:m?"column":"row",scrollbarWidth:"none",overscrollBehaviorX:"contain",[m?"gridAutoColumns":"gridAutoRows"]:u?void 0:"var(--slide-item-size)",[m?"scrollPaddingInline":"scrollPaddingBlock"]:T,[m?"paddingInline":"paddingBlock"]:T,[m?"overflowX":"overflowY"]:"auto"}}))},getItemProps(b){let f=i.get("slidesInView").includes(b.index);return t.element(y(g({},Nt.item.attrs),{id:ky(a,b.index),dir:o("dir"),role:"group","data-index":b.index,"data-inview":E(f),"aria-roledescription":"slide","data-orientation":o("orientation"),"aria-label":w.item(b.index,o("slideCount")),"aria-hidden":X(!f),style:{flex:"0 0 auto",[m?"maxWidth":"maxHeight"]:"100%",scrollSnapAlign:(()=>{var x;let S=(x=b.snapAlign)!=null?x:"start",P=o("slidesPerMove"),V=P==="auto"?Math.floor(o("slidesPerPage")):P;return(b.index+V)%V===0?S:void 0})()}}))},getControlProps(){return t.element(y(g({},Nt.control.attrs),{"data-orientation":o("orientation")}))},getPrevTriggerProps(){return t.button(y(g({},Nt.prevTrigger.attrs),{id:Dy(a),type:"button",disabled:!h,dir:o("dir"),"aria-label":w.prevTrigger,"data-orientation":o("orientation"),"aria-controls":Ts(a),onClick(b){b.defaultPrevented||s({type:"PAGE.PREV",src:"trigger"})}}))},getNextTriggerProps(){return t.button(y(g({},Nt.nextTrigger.attrs),{dir:o("dir"),id:Ry(a),type:"button","aria-label":w.nextTrigger,"data-orientation":o("orientation"),"aria-controls":Ts(a),disabled:!d,onClick(b){b.defaultPrevented||s({type:"PAGE.NEXT",src:"trigger"})}}))},getIndicatorGroupProps(){return t.element(y(g({},Nt.indicatorGroup.attrs),{dir:o("dir"),id:Ly(a),"data-orientation":o("orientation"),onKeyDown(b){if(b.defaultPrevented)return;let f="indicator",S={ArrowDown(A){m||(s({type:"PAGE.NEXT",src:f}),A.preventDefault())},ArrowUp(A){m||(s({type:"PAGE.PREV",src:f}),A.preventDefault())},ArrowRight(A){m&&(s({type:"PAGE.NEXT",src:f}),A.preventDefault())},ArrowLeft(A){m&&(s({type:"PAGE.PREV",src:f}),A.preventDefault())},Home(A){s({type:"PAGE.SET",index:0,src:f}),A.preventDefault()},End(A){s({type:"PAGE.SET",index:p.length-1,src:f}),A.preventDefault()}},P=ge(b,{dir:o("dir"),orientation:o("orientation")}),V=S[P];V==null||V(b)}}))},getIndicatorProps(b){return t.button(y(g({},Nt.indicator.attrs),{dir:o("dir"),id:Gd(a,b.index),type:"button","data-orientation":o("orientation"),"data-index":b.index,"data-readonly":E(b.readOnly),"data-current":E(b.index===v),"aria-label":w.indicator(b.index),onClick(f){f.defaultPrevented||b.readOnly||s({type:"PAGE.SET",index:b.index,src:"indicator"})}}))},getAutoplayTriggerProps(){return t.button(y(g({},Nt.autoplayTrigger.attrs),{type:"button","data-orientation":o("orientation"),"data-pressed":E(l),"aria-label":l?w.autoplayStop:w.autoplayStart,onClick(b){b.defaultPrevented||s({type:l?"AUTOPLAY.PAUSE":"AUTOPLAY.START"})}}))},getProgressTextProps(){return t.element(g({},Nt.progressText.attrs))}}}function Hy(e,t,n){if(e==null||n<=0)return[];let i=[],r=t==="auto"?Math.floor(n):t;if(r<=0)return[];for(let s=0;s<e&&!(s+n>e);s+=r)i.push(s);return i}var Eo,yo,bo,Ay,Nt,Ny,ky,Ts,Ry,Dy,Ly,Gd,qe,Fd,My,$d,$y,By,T0,_y,O0,Gy,w0,Uy,qy,qd=re(()=>{"use strict";se();Eo=e=>at(e).direction;yo=e=>[...new Set(e)],bo=(e,t)=>n=>Math.max(e,Math.min(t,n)),Ay=U("carousel").parts("root","itemGroup","item","control","nextTrigger","prevTrigger","indicatorGroup","indicator","autoplayTrigger","progressText"),Nt=Ay.build(),Ny=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`carousel:${e.id}`},ky=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`carousel:${e.id}:item:${t}`},Ts=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.itemGroup)!=null?n:`carousel:${e.id}:item-group`},Ry=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.nextTrigger)!=null?n:`carousel:${e.id}:next-trigger`},Dy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.prevTrigger)!=null?n:`carousel:${e.id}:prev-trigger`},Ly=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicatorGroup)!=null?n:`carousel:${e.id}:indicator-group`},Gd=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.indicator)==null?void 0:i.call(n,t))!=null?r:`carousel:${e.id}:indicator:${t}`},qe=e=>e.getById(Ts(e)),Fd=e=>Fe(qe(e),"[data-part=item]"),My=(e,t)=>e.getById(Gd(e,t)),$d=e=>{let t=qe(e);if(!t)return;let n=jt(t);t.setAttribute("tabindex",n.length>0?"-1":"0")};$y={props({props:e}){return vn(e,["slideCount"],"carousel"),y(g({dir:"ltr",defaultPage:0,orientation:"horizontal",snapType:"mandatory",loop:!!e.autoplay,slidesPerPage:1,slidesPerMove:"auto",spacing:"0px",autoplay:!1,allowMouseDrag:!1,inViewThreshold:.6,autoSize:!1},e),{translations:g({nextTrigger:"Next slide",prevTrigger:"Previous slide",indicator:t=>`Go to slide ${t+1}`,item:(t,n)=>`${t+1} of ${n}`,autoplayStart:"Start slide rotation",autoplayStop:"Stop slide rotation",progressText:({page:t,totalPages:n})=>`${t} / ${n}`},e.translations)})},refs(){return{timeoutRef:void 0}},initialState({prop:e}){return e("autoplay")?"autoplay":"idle"},context({prop:e,bindable:t,getContext:n}){return{page:t(()=>({defaultValue:e("defaultPage"),value:e("page"),onChange(i){var a;let s=n().get("pageSnapPoints");(a=e("onPageChange"))==null||a({page:i,pageSnapPoint:s[i]})}})),pageSnapPoints:t(()=>({defaultValue:e("autoSize")?Array.from({length:e("slideCount")},(i,r)=>r):Hy(e("slideCount"),e("slidesPerMove"),e("slidesPerPage"))})),slidesInView:t(()=>({defaultValue:[]}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isHorizontal:({prop:e})=>e("orientation")==="horizontal",canScrollNext:({prop:e,context:t})=>e("loop")||t.get("page")<t.get("pageSnapPoints").length-1,canScrollPrev:({prop:e,context:t})=>e("loop")||t.get("page")>0,autoplayInterval:({prop:e})=>{let t=e("autoplay");return xt(t)?t.delay:4e3}},watch({track:e,action:t,context:n,prop:i,send:r}){e([()=>i("slidesPerPage"),()=>i("slidesPerMove")],()=>{t(["setSnapPoints"])}),e([()=>n.get("page")],()=>{t(["scrollToPage","focusIndicatorEl"])}),e([()=>i("orientation"),()=>i("autoSize"),()=>i("dir")],()=>{t(["setSnapPoints","scrollToPage"])}),e([()=>i("slideCount")],()=>{r({type:"SNAP.REFRESH",src:"slide.count"})}),e([()=>!!i("autoplay")],()=>{r({type:i("autoplay")?"AUTOPLAY.START":"AUTOPLAY.PAUSE",src:"autoplay.prop.change"})})},on:{"PAGE.NEXT":{target:"idle",actions:["clearScrollEndTimer","setNextPage"]},"PAGE.PREV":{target:"idle",actions:["clearScrollEndTimer","setPrevPage"]},"PAGE.SET":{target:"idle",actions:["clearScrollEndTimer","setPage"]},"INDEX.SET":{target:"idle",actions:["clearScrollEndTimer","setMatchingPage"]},"SNAP.REFRESH":{actions:["setSnapPoints","clampPage"]},"PAGE.SCROLL":{actions:["scrollToPage"]}},effects:["trackSlideMutation","trackSlideIntersections","trackSlideResize"],entry:["setSnapPoints","setPage"],exit:["clearScrollEndTimer"],states:{idle:{on:{"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"AUTOPLAY.START":{target:"autoplay",actions:["invokeAutoplayStart"]},"USER.SCROLL":{target:"userScroll"},"VIEWPORT.FOCUS":{target:"focus"}}},focus:{effects:["trackKeyboardScroll"],on:{"VIEWPORT.BLUR":{target:"idle"},"PAGE.NEXT":{actions:["clearScrollEndTimer","setNextPage"]},"PAGE.PREV":{actions:["clearScrollEndTimer","setPrevPage"]},"PAGE.SET":{actions:["clearScrollEndTimer","setPage"]},"INDEX.SET":{actions:["clearScrollEndTimer","setMatchingPage"]},"USER.SCROLL":{target:"userScroll"}}},dragging:{effects:["trackPointerMove"],entry:["disableScrollSnap"],on:{DRAGGING:{actions:["scrollSlides","invokeDragging"]},"DRAGGING.END":{target:"idle",actions:["endDragging","invokeDraggingEnd"]}}},userScroll:{effects:["trackScroll"],on:{"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"SCROLL.END":[{guard:"isFocused",target:"focus",actions:["setClosestPage"]},{target:"idle",actions:["setClosestPage"]}]}},autoplay:{effects:["trackDocumentVisibility","trackScroll","autoUpdateSlide"],exit:["invokeAutoplayEnd"],on:{"AUTOPLAY.TICK":{actions:["setNextPage","invokeAutoplay"]},"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"AUTOPLAY.PAUSE":{target:"idle"}}}},implementations:{guards:{isFocused:({scope:e})=>e.isActiveElement(qe(e))},effects:{autoUpdateSlide({computed:e,send:t}){let n=setInterval(()=>{t({type:e("canScrollNext")?"AUTOPLAY.TICK":"AUTOPLAY.PAUSE",src:"autoplay.interval"})},e("autoplayInterval"));return()=>clearInterval(n)},trackSlideMutation({scope:e,send:t}){let n=qe(e);if(!n)return;let i=e.getWin(),r=new i.MutationObserver(()=>{t({type:"SNAP.REFRESH",src:"slide.mutation"}),$d(e)});return $d(e),r.observe(n,{childList:!0,subtree:!0}),()=>r.disconnect()},trackSlideResize({scope:e,send:t}){if(!qe(e))return;let i=()=>{t({type:"SNAP.REFRESH",src:"slide.resize"})};H(()=>{i(),H(()=>{t({type:"PAGE.SCROLL",instant:!0})})});let r=Fd(e);r.forEach(i);let s=r.map(a=>hn.observe(a,i));return At(...s)},trackSlideIntersections({scope:e,prop:t,context:n}){let i=qe(e),r=e.getWin(),s=new r.IntersectionObserver(a=>{let o=a.reduce((l,c)=>{var m;let d=c.target,h=Number((m=d.dataset.index)!=null?m:"-1");return h==null||Number.isNaN(h)||h===-1?l:c.isIntersecting?Ze(l,h):ct(l,h)},n.get("slidesInView"));n.set("slidesInView",vt(o))},{root:i,threshold:t("inViewThreshold")});return Fd(e).forEach(a=>s.observe(a)),()=>s.disconnect()},trackScroll({send:e,refs:t,scope:n}){let i=qe(n);return i?ee(i,"scroll",()=>{clearTimeout(t.get("timeoutRef")),t.set("timeoutRef",void 0),t.set("timeoutRef",setTimeout(()=>{e({type:"SCROLL.END"})},150))},{passive:!0}):void 0},trackDocumentVisibility({scope:e,send:t}){let n=e.getDoc();return ee(n,"visibilitychange",()=>{n.visibilityState!=="visible"&&t({type:"AUTOPLAY.PAUSE",src:"doc.hidden"})})},trackPointerMove({scope:e,send:t}){let n=e.getDoc();return un(n,{onPointerMove({event:i}){t({type:"DRAGGING",left:-i.movementX,top:-i.movementY})},onPointerUp(){t({type:"DRAGGING.END"})}})},trackKeyboardScroll({scope:e,send:t,context:n}){let i=e.getWin();return ee(i,"keydown",s=>{switch(s.key){case"ArrowRight":s.preventDefault(),t({type:"PAGE.NEXT"});break;case"ArrowLeft":s.preventDefault(),t({type:"PAGE.PREV"});break;case"Home":s.preventDefault(),t({type:"PAGE.SET",index:0});break;case"End":s.preventDefault(),t({type:"PAGE.SET",index:n.get("pageSnapPoints").length-1})}},{capture:!0})}},actions:{clearScrollEndTimer({refs:e}){e.get("timeoutRef")!=null&&(clearTimeout(e.get("timeoutRef")),e.set("timeoutRef",void 0))},scrollToPage({context:e,event:t,scope:n,computed:i,flush:r}){var c;let s=t.instant?"instant":"smooth",a=He((c=t.index)!=null?c:e.get("page"),0,e.get("pageSnapPoints").length-1),o=qe(n);if(!o)return;let l=i("isHorizontal")?"left":"top";r(()=>{o.scrollTo({[l]:e.get("pageSnapPoints")[a],behavior:s})})},setClosestPage({context:e,scope:t,computed:n}){let i=qe(t);if(!i)return;let r=n("isHorizontal")?i.scrollLeft:i.scrollTop,s=e.get("pageSnapPoints").findIndex(a=>Math.abs(a-r)<1);s!==-1&&e.set("page",s)},setNextPage({context:e,prop:t,state:n}){let i=n.matches("autoplay")||t("loop"),r=bi(e.get("pageSnapPoints"),e.get("page"),{loop:i});e.set("page",r)},setPrevPage({context:e,prop:t,state:n}){let i=n.matches("autoplay")||t("loop"),r=or(e.get("pageSnapPoints"),e.get("page"),{loop:i});e.set("page",r)},setMatchingPage({context:e,event:t,computed:n,scope:i}){let r=qe(i);if(!r)return;let s=xy(r,n("isHorizontal")?"x":"y",o=>o.dataset.index===t.index.toString());if(s==null)return;let a=e.get("pageSnapPoints").findIndex(o=>Math.abs(o-s)<1);e.set("page",a)},setPage({context:e,event:t}){var i;let n=(i=t.index)!=null?i:e.get("page");e.set("page",n)},clampPage({context:e}){let t=He(e.get("page"),0,e.get("pageSnapPoints").length-1);e.set("page",t)},setSnapPoints({context:e,computed:t,scope:n}){let i=qe(n);if(!i)return;let r=Vy(i);e.set("pageSnapPoints",t("isHorizontal")?r.x:r.y)},disableScrollSnap({scope:e}){let t=qe(e);if(!t)return;let n=getComputedStyle(t);t.dataset.scrollSnapType=n.getPropertyValue("scroll-snap-type"),t.style.setProperty("scroll-snap-type","none")},scrollSlides({scope:e,event:t}){let n=qe(e);n==null||n.scrollBy({left:t.left,top:t.top,behavior:"instant"})},endDragging({scope:e,context:t,computed:n}){let i=qe(e);if(!i)return;let r=n("isHorizontal"),s=r?i.scrollLeft:i.scrollTop,a=t.get("pageSnapPoints"),o=a.reduce((l,c)=>Math.abs(c-s)<Math.abs(l-s)?c:l,a[0]);H(()=>{i.scrollTo({left:r?o:i.scrollLeft,top:r?i.scrollTop:o,behavior:"smooth"}),t.set("page",a.indexOf(o));let l=i.dataset.scrollSnapType;l&&(i.style.setProperty("scroll-snap-type",l),delete i.dataset.scrollSnapType)})},focusIndicatorEl({context:e,event:t,scope:n}){if(t.src!=="indicator")return;let i=My(n,e.get("page"));i&&H(()=>i.focus({preventScroll:!0}))},invokeDragStart({context:e,prop:t}){var n;(n=t("onDragStatusChange"))==null||n({type:"dragging.start",isDragging:!0,page:e.get("page")})},invokeDragging({context:e,prop:t}){var n;(n=t("onDragStatusChange"))==null||n({type:"dragging",isDragging:!0,page:e.get("page")})},invokeDraggingEnd({context:e,prop:t}){var n;(n=t("onDragStatusChange"))==null||n({type:"dragging.end",isDragging:!1,page:e.get("page")})},invokeAutoplay({context:e,prop:t}){var n;(n=t("onAutoplayStatusChange"))==null||n({type:"autoplay",isPlaying:!0,page:e.get("page")})},invokeAutoplayStart({context:e,prop:t}){var n;(n=t("onAutoplayStatusChange"))==null||n({type:"autoplay.start",isPlaying:!0,page:e.get("page")})},invokeAutoplayEnd({context:e,prop:t}){var n;(n=t("onAutoplayStatusChange"))==null||n({type:"autoplay.stop",isPlaying:!1,page:e.get("page")})}}}};By=_()(["dir","getRootNode","id","ids","loop","page","defaultPage","onPageChange","orientation","slideCount","slidesPerPage","slidesPerMove","spacing","padding","autoplay","allowMouseDrag","inViewThreshold","translations","snapType","autoSize","onDragStatusChange","onAutoplayStatusChange"]),T0=B(By),_y=_()(["index","readOnly"]),O0=B(_y),Gy=_()(["index","snapAlign"]),w0=B(Gy),Uy=class extends K{initMachine(e){return new W($y,e)}initApi(){return Fy(this.machine.service,q)}render(){var d;let e=(d=this.el.querySelector('[data-scope="carousel"][data-part="root"]'))!=null?d:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="carousel"][data-part="control"]');t&&this.spreadProps(t,this.api.getControlProps());let n=this.el.querySelector('[data-scope="carousel"][data-part="item-group"]');n&&this.spreadProps(n,this.api.getItemGroupProps());let i=Number(this.el.dataset.slideCount)||0;for(let h=0;h<i;h++){let m=this.el.querySelector(`[data-scope="carousel"][data-part="item"][data-index="${h}"]`);m&&this.spreadProps(m,this.api.getItemProps({index:h}))}let r=this.el.querySelector('[data-scope="carousel"][data-part="prev-trigger"]');r&&this.spreadProps(r,this.api.getPrevTriggerProps());let s=this.el.querySelector('[data-scope="carousel"][data-part="next-trigger"]');s&&this.spreadProps(s,this.api.getNextTriggerProps());let a=this.el.querySelector('[data-scope="carousel"][data-part="autoplay-trigger"]');a&&this.spreadProps(a,this.api.getAutoplayTriggerProps());let o=this.el.querySelector('[data-scope="carousel"][data-part="indicator-group"]');o&&this.spreadProps(o,this.api.getIndicatorGroupProps());let l=this.api.pageSnapPoints.length;for(let h=0;h<l;h++){let m=this.el.querySelector(`[data-scope="carousel"][data-part="indicator"][data-index="${h}"]`);m&&this.spreadProps(m,this.api.getIndicatorProps({index:h}))}let c=this.el.querySelector('[data-scope="carousel"][data-part="progress-text"]');c&&this.spreadProps(c,this.api.getProgressTextProps())}},qy={mounted(){var a,o,l,c;let e=this.el,t=z(e,"page"),n=z(e,"defaultPage"),i=C(e,"controlled"),r=z(e,"slideCount");if(r==null||r<1)return;let s=new Uy(e,y(g({id:e.id,slideCount:r},i&&t!==void 0?{page:t}:{defaultPage:n!=null?n:0}),{dir:Oe(e),orientation:O(e,"orientation",["horizontal","vertical"]),slidesPerPage:(a=z(e,"slidesPerPage"))!=null?a:1,slidesPerMove:O(e,"slidesPerMove")==="auto"?"auto":z(e,"slidesPerMove"),loop:C(e,"loop"),autoplay:C(e,"autoplay")?{delay:(o=z(e,"autoplayDelay"))!=null?o:4e3}:!1,allowMouseDrag:C(e,"allowMouseDrag"),spacing:(l=O(e,"spacing"))!=null?l:"0px",padding:O(e,"padding"),inViewThreshold:(c=z(e,"inViewThreshold"))!=null?c:.6,snapType:O(e,"snapType",["proximity","mandatory"]),autoSize:C(e,"autoSize"),onPageChange:d=>{let h=O(e,"onPageChange");h&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(h,{page:d.page,pageSnapPoint:d.pageSnapPoint,id:e.id});let m=O(e,"onPageChangeClient");m&&e.dispatchEvent(new CustomEvent(m,{bubbles:!0,detail:{value:d,id:e.id}}))}}));s.init(),this.carousel=s,this.handlers=[]},updated(){var i,r;let e=z(this.el,"slideCount");if(e==null||e<1)return;let t=z(this.el,"page"),n=C(this.el,"controlled");(r=this.carousel)==null||r.updateProps(y(g({id:this.el.id,slideCount:e},n&&t!==void 0?{page:t}:{}),{dir:Oe(this.el),orientation:O(this.el,"orientation",["horizontal","vertical"]),slidesPerPage:(i=z(this.el,"slidesPerPage"))!=null?i:1,loop:C(this.el,"loop"),allowMouseDrag:C(this.el,"allowMouseDrag")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.carousel)==null||e.destroy()}}});function Wy(e){return!(e.metaKey||!di()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function zy(e,t,n){let i=n?j(n):null,r=de(i);return e=e||i instanceof r.HTMLInputElement&&!Ky.has(i==null?void 0:i.type)||i instanceof r.HTMLTextAreaElement||i instanceof r.HTMLElement&&i.isContentEditable,!(e&&t==="keyboard"&&n instanceof r.KeyboardEvent&&!Reflect.has(Yy,n.key))}function Vs(e,t){for(let n of Io)n(e,t)}function ws(e){Gn=!0,Wy(e)&&(En="keyboard",Vs("keyboard",e))}function ut(e){En="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Gn=!0,Vs("pointer",e))}function Wd(e){wc(e)&&(Gn=!0,En="virtual")}function Kd(e){let t=j(e);t===de(t)||t===Le(t)||(!Gn&&!Po&&(En="virtual",Vs("virtual",e)),Gn=!1,Po=!1)}function zd(){Gn=!1,Po=!0}function jy(e){if(typeof window=="undefined"||Os.get(de(e)))return;let t=de(e),n=Le(e),i=t.HTMLElement.prototype.focus;function r(){En="virtual",Vs("virtual",null),Gn=!0,i.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:r})}catch(s){}n.addEventListener("keydown",ws,!0),n.addEventListener("keyup",ws,!0),n.addEventListener("click",Wd,!0),t.addEventListener("focus",Kd,!0),t.addEventListener("blur",zd,!1),typeof t.PointerEvent!="undefined"?(n.addEventListener("pointerdown",ut,!0),n.addEventListener("pointermove",ut,!0),n.addEventListener("pointerup",ut,!0)):(n.addEventListener("mousedown",ut,!0),n.addEventListener("mousemove",ut,!0),n.addEventListener("mouseup",ut,!0)),t.addEventListener("beforeunload",()=>{Xy(e)},{once:!0}),Os.set(t,{focus:i})}function Yd(){return En}function bn(){return En==="keyboard"}function In(e={}){let{isTextInput:t,autoFocus:n,onChange:i,root:r}=e;jy(r),i==null||i({isFocusVisible:n||bn(),modality:En});let s=(a,o)=>{zy(!!t,a,o)&&(i==null||i({isFocusVisible:bn(),modality:a}))};return Io.add(s),()=>{Io.delete(s)}}var Ky,En,Io,Os,Gn,Po,Yy,Xy,gr=re(()=>{"use strict";se();Ky=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);En=null,Io=new Set,Os=new Map,Gn=!1,Po=!1,Yy={Tab:!0,Escape:!0};Xy=(e,t)=>{let n=de(e),i=Le(e),r=Os.get(n);if(r){try{Object.defineProperty(n.HTMLElement.prototype,"focus",{configurable:!0,value:r.focus})}catch(s){}i.removeEventListener("keydown",ws,!0),i.removeEventListener("keyup",ws,!0),i.removeEventListener("click",Wd,!0),n.removeEventListener("focus",Kd,!0),n.removeEventListener("blur",zd,!1),typeof n.PointerEvent!="undefined"?(i.removeEventListener("pointerdown",ut,!0),i.removeEventListener("pointermove",ut,!0),i.removeEventListener("pointerup",ut,!0)):(i.removeEventListener("mousedown",ut,!0),i.removeEventListener("mousemove",ut,!0),i.removeEventListener("mouseup",ut,!0)),Os.delete(n)}}});var Jd={};he(Jd,{Checkbox:()=>sb});function eb(e,t){let{send:n,context:i,prop:r,computed:s,scope:a}=e,o=!!r("disabled"),l=!!r("readOnly"),c=!!r("required"),d=!!r("invalid"),h=!o&&i.get("focused"),m=!o&&i.get("focusVisible"),u=s("checked"),p=s("indeterminate"),v=i.get("checked"),I={"data-active":E(i.get("active")),"data-focus":E(h),"data-focus-visible":E(m),"data-readonly":E(l),"data-hover":E(i.get("hovered")),"data-disabled":E(o),"data-state":p?"indeterminate":u?"checked":"unchecked","data-invalid":E(d),"data-required":E(c)};return{checked:u,disabled:o,indeterminate:p,focused:h,checkedState:v,setChecked(T){n({type:"CHECKED.SET",checked:T,isTrusted:!1})},toggleChecked(){n({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label(y(g(g({},xs.root.attrs),I),{dir:r("dir"),id:Zd(a),htmlFor:Co(a),onPointerMove(){o||n({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){o||n({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(T){j(T)===pr(a)&&T.stopPropagation()}}))},getLabelProps(){return t.element(y(g(g({},xs.label.attrs),I),{dir:r("dir"),id:jd(a)}))},getControlProps(){return t.element(y(g(g({},xs.control.attrs),I),{dir:r("dir"),id:Jy(a),"aria-hidden":!0}))},getIndicatorProps(){return t.element(y(g(g({},xs.indicator.attrs),I),{dir:r("dir"),hidden:!p&&!u}))},getHiddenInputProps(){return t.input({id:Co(a),type:"checkbox",required:r("required"),defaultChecked:u,disabled:o,"aria-labelledby":jd(a),"aria-invalid":d,name:r("name"),form:r("form"),value:r("value"),style:Vt,onFocus(){let T=bn();n({type:"CONTEXT.SET",context:{focused:!0,focusVisible:T}})},onBlur(){n({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(T){if(l){T.preventDefault();return}let w=T.currentTarget.checked;n({type:"CHECKED.SET",checked:w,isTrusted:!0})}})}}}function As(e){return e==="indeterminate"}function nb(e){return As(e)?!1:!!e}var Zy,xs,Zd,jd,Jy,Co,Qy,pr,Xd,tb,ib,D0,rb,sb,Qd=re(()=>{"use strict";gr();se();Zy=U("checkbox").parts("root","label","control","indicator"),xs=Zy.build(),Zd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`checkbox:${e.id}`},jd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`checkbox:${e.id}:label`},Jy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`checkbox:${e.id}:control`},Co=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`checkbox:${e.id}:input`},Qy=e=>e.getById(Zd(e)),pr=e=>e.getById(Co(e));({not:Xd}=Ee()),tb={props({props:e}){var t;return y(g({value:"on"},e),{defaultChecked:(t=e.defaultChecked)!=null?t:!1})},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var i;(i=e("onCheckedChange"))==null||i({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:n,action:i}){e([()=>n("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Xd("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Xd("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>As(e.get("checked")),checked:({context:e})=>nb(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:n}){if(!t("disabled"))return gs({pointerNode:Qy(n),keyboardNode:pr(n),isValidKey:i=>i.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var n;if(!e("disabled"))return In({root:(n=t.getRootNode)==null?void 0:n.call(t)})},trackFormControlState({context:e,scope:t}){return wt(pr(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,computed:t,scope:n}){let i=pr(n);i&&(rr(i,t("checked")),i.indeterminate=As(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){let n=As(t("checked"))?!0:!t("checked");e.set("checked",n)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{let n=pr(t);gi(n,{checked:e("checked")})})}}}};ib=_()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),D0=B(ib),rb=class extends K{initMachine(e){return new W(tb,e)}initApi(){return eb(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="checkbox"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector(':scope > [data-scope="checkbox"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let n=e.querySelector(':scope > [data-scope="checkbox"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=e.querySelector(':scope > [data-scope="checkbox"][data-part="control"]');if(i){this.spreadProps(i,this.api.getControlProps());let r=i.querySelector(':scope > [data-scope="checkbox"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}}},sb={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new rb(e,y(g({id:e.id},C(e,"controlled")?{checked:C(e,"checked")}:{defaultChecked:C(e,"defaultChecked")}),{disabled:C(e,"disabled"),name:O(e,"name"),form:O(e,"form"),value:O(e,"value"),dir:Oe(e),invalid:C(e,"invalid"),required:C(e,"required"),readOnly:C(e,"readOnly"),onCheckedChange:i=>{let r=O(e,"onCheckedChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{checked:i.checked,id:e.id});let s=O(e,"onCheckedChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}}));n.init(),this.checkbox=n,this.onSetChecked=i=>{let{checked:r}=i.detail;n.api.setChecked(r)},e.addEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked=()=>{n.api.toggleChecked()},e.addEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers=[],this.handlers.push(this.handleEvent("checkbox_set_checked",i=>{let r=i.id;r&&r!==e.id||n.api.setChecked(i.checked)})),this.handlers.push(this.handleEvent("checkbox_toggle_checked",i=>{let r=i.id;r&&r!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("checkbox_checked",()=>{this.pushEvent("checkbox_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("checkbox_focused",()=>{this.pushEvent("checkbox_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("checkbox_disabled",()=>{this.pushEvent("checkbox_disabled_response",{value:n.api.disabled})}))},updated(){var e;(e=this.checkbox)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlled")?{checked:C(this.el,"checked")}:{defaultChecked:C(this.el,"defaultChecked")}),{disabled:C(this.el,"disabled"),name:O(this.el,"name"),form:O(this.el,"form"),value:O(this.el,"value"),dir:Oe(this.el),invalid:C(this.el,"invalid"),required:C(this.el,"required"),readOnly:C(this.el,"readOnly"),label:O(this.el,"label")}))},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked&&this.el.removeEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.checkbox)==null||e.destroy()}}});var eu={};he(eu,{Clipboard:()=>bb});function ub(e,t){let n=e.createElement("pre");return Object.assign(n.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),n.textContent=t,n}function hb(e){let n=de(e).getSelection();if(n==null)return Promise.reject(new Error);n.removeAllRanges();let i=e.ownerDocument,r=i.createRange();return r.selectNodeContents(e),n.addRange(r),i.execCommand("copy"),n.removeAllRanges(),Promise.resolve()}function gb(e,t){var r;let n=e.defaultView||window;if(((r=n.navigator.clipboard)==null?void 0:r.writeText)!==void 0)return n.navigator.clipboard.writeText(t);if(!e.body)return Promise.reject(new Error);let i=ub(e,t);return e.body.appendChild(i),hb(i),e.body.removeChild(i),Promise.resolve()}function pb(e,t){let{state:n,send:i,context:r,scope:s}=e,a=n.matches("copied");return{copied:a,value:r.get("value"),setValue(o){i({type:"VALUE.SET",value:o})},copy(){i({type:"COPY"})},getRootProps(){return t.element(y(g({},Ti.root.attrs),{"data-copied":E(a),id:ob(s)}))},getLabelProps(){return t.label(y(g({},Ti.label.attrs),{htmlFor:So(s),"data-copied":E(a),id:lb(s)}))},getControlProps(){return t.element(y(g({},Ti.control.attrs),{"data-copied":E(a)}))},getInputProps(){return t.input(y(g({},Ti.input.attrs),{defaultValue:r.get("value"),"data-copied":E(a),readOnly:!0,"data-readonly":"true",id:So(s),onFocus(o){o.currentTarget.select()},onCopy(){i({type:"INPUT.COPY"})}}))},getTriggerProps(){return t.button(y(g({},Ti.trigger.attrs),{type:"button","aria-label":a?"Copied to clipboard":"Copy to clipboard","data-copied":E(a),onClick(){i({type:"COPY"})}}))},getIndicatorProps(o){return t.element(y(g({},Ti.indicator.attrs),{hidden:o.copied!==a}))}}}var ab,Ti,ob,So,lb,cb,db,fb,mb,$0,vb,H0,yb,bb,tu=re(()=>{"use strict";se();ab=U("clipboard").parts("root","control","trigger","indicator","input","label"),Ti=ab.build(),ob=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`clip:${e.id}`},So=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`clip:${e.id}:input`},lb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`clip:${e.id}:label`},cb=e=>e.getById(So(e)),db=(e,t)=>gb(e.getDoc(),t);fb={props({props:e}){return g({timeout:3e3,defaultValue:""},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}}))}},watch({track:e,context:t,action:n}){e([()=>t.get("value")],()=>{n(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:e,send:t}){return fn(()=>{t({type:"COPY.DONE"})},e("timeout"))}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},copyToClipboard({context:e,scope:t}){db(t,e.get("value"))},invokeOnCopy({prop:e}){var t;(t=e("onStatusChange"))==null||t({copied:!0})},syncInputElement({context:e,scope:t}){let n=cb(t);n&&Me(n,e.get("value"))}}}},mb=_()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]),$0=B(mb),vb=_()(["copied"]),H0=B(vb),yb=class extends K{initMachine(e){return new W(fb,e)}initApi(){return pb(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="clipboard"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="clipboard"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=e.querySelector('[data-scope="clipboard"][data-part="control"]');if(n){this.spreadProps(n,this.api.getControlProps());let i=n.querySelector('[data-scope="clipboard"][data-part="input"]');if(i){let s=g({},this.api.getInputProps()),a=this.el.dataset.inputAriaLabel;a&&(s["aria-label"]=a),this.spreadProps(i,s)}let r=n.querySelector('[data-scope="clipboard"][data-part="trigger"]');if(r){let s=g({},this.api.getTriggerProps()),a=this.el.dataset.triggerAriaLabel;a&&(s["aria-label"]=a),this.spreadProps(r,s)}}}}},bb={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,i=new yb(e,y(g({id:e.id,timeout:z(e,"timeout")},C(e,"controlled")?{value:O(e,"value")}:{defaultValue:O(e,"defaultValue")}),{onValueChange:r=>{var a;let s=O(e,"onValueChange");s&&n.main.isConnected()&&t(s,{id:e.id,value:(a=r.value)!=null?a:null})},onStatusChange:r=>{let s=O(e,"onStatusChange");s&&n.main.isConnected()&&t(s,{id:e.id,copied:r.copied});let a=O(e,"onStatusChangeClient");a&&e.dispatchEvent(new CustomEvent(a,{bubbles:!0}))}}));i.init(),this.clipboard=i,this.onCopy=()=>{i.api.copy()},e.addEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue=r=>{let{value:s}=r.detail;i.api.setValue(s)},e.addEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("clipboard_copy",r=>{let s=r.clipboard_id;s&&s!==e.id||i.api.copy()})),this.handlers.push(this.handleEvent("clipboard_set_value",r=>{let s=r.clipboard_id;s&&s!==e.id||i.api.setValue(r.value)})),this.handlers.push(this.handleEvent("clipboard_copied",()=>{this.pushEvent("clipboard_copied_response",{value:i.api.copied})}))},updated(){var e;(e=this.clipboard)==null||e.updateProps(y(g({id:this.el.id,timeout:z(this.el,"timeout")},C(this.el,"controlled")?{value:O(this.el,"value")}:{defaultValue:O(this.el,"value")}),{dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onCopy&&this.el.removeEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue&&this.el.removeEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.clipboard)==null||e.destroy()}}});var nu={};he(nu,{Collapsible:()=>wb});function Cb(e,t){let{state:n,send:i,context:r,scope:s,prop:a}=e,o=n.matches("open")||n.matches("closing"),l=n.matches("open"),c=n.matches("closed"),{width:d,height:h}=r.get("size"),m=!!a("disabled"),u=a("collapsedHeight"),p=a("collapsedWidth"),v=u!=null,I=p!=null,T=v||I,w=!r.get("initial")&&l;return{disabled:m,visible:o,open:l,measureSize(){i({type:"size.measure"})},setOpen(b){n.matches("open")!==b&&i({type:b?"open":"close"})},getRootProps(){return t.element(y(g({},Ns.root.attrs),{"data-state":l?"open":"closed",dir:a("dir"),id:Ib(s)}))},getContentProps(){return t.element(y(g({},Ns.content.attrs),{id:To(s),"data-collapsible":"","data-state":w?void 0:l?"open":"closed","data-disabled":E(m),"data-has-collapsed-size":E(T),hidden:!o&&!T,dir:a("dir"),style:g(g({"--height":ye(h),"--width":ye(d),"--collapsed-height":ye(u),"--collapsed-width":ye(p)},c&&v&&{overflow:"hidden",minHeight:ye(u),maxHeight:ye(u)}),c&&I&&{overflow:"hidden",minWidth:ye(p),maxWidth:ye(p)})}))},getTriggerProps(){return t.element(y(g({},Ns.trigger.attrs),{id:Pb(s),dir:a("dir"),type:"button","data-state":l?"open":"closed","data-disabled":E(m),"aria-controls":To(s),"aria-expanded":o||!1,onClick(b){b.defaultPrevented||m||i({type:l?"close":"open"})}}))},getIndicatorProps(){return t.element(y(g({},Ns.indicator.attrs),{dir:a("dir"),"data-state":l?"open":"closed","data-disabled":E(m)}))}}}var Eb,Ns,Ib,To,Pb,fr,Sb,Tb,U0,Ob,wb,iu=re(()=>{"use strict";se();Eb=U("collapsible").parts("root","trigger","content","indicator"),Ns=Eb.build(),Ib=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`collapsible:${e.id}`},To=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`collapsible:${e.id}:content`},Pb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`collapsible:${e.id}:trigger`},fr=e=>e.getById(To(e));Sb={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["cleanupNode"],states:{closed:{effects:["trackTabbableElements"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n,i=H(()=>{let r=fr(t);if(!r)return;let s=at(r).animationName;if(!s||s==="none"){e({type:"animation.end"});return}let o=l=>{j(l)===r&&e({type:"animation.end"})};r.addEventListener("animationend",o),n=()=>{r.removeEventListener("animationend",o)}});return()=>{i(),n==null||n()}},trackExitAnimation:({send:e,scope:t})=>{let n,i=H(()=>{let r=fr(t);if(!r)return;let s=at(r).animationName;if(!s||s==="none"){e({type:"animation.end"});return}let o=c=>{j(c)===r&&e({type:"animation.end"})};r.addEventListener("animationend",o);let l=$n(r,{animationFillMode:"forwards"});n=()=>{r.removeEventListener("animationend",o),Fn(()=>l())}});return()=>{i(),n==null||n()}},trackTabbableElements:({scope:e,prop:t})=>{if(!t("collapsedHeight")&&!t("collapsedWidth"))return;let n=fr(e);if(!n)return;let i=()=>{let o=jt(n).map(l=>Mc(l,"inert",""));return()=>{o.forEach(l=>l())}},r=i(),s=us(n,{callback(){r(),r=i()}});return()=>{r(),s()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{let n=fr(t);if(!n)return;let{height:i,width:r}=n.getBoundingClientRect();e.set("size",{height:i,width:r})},computeSize:({refs:e,scope:t,context:n})=>{var r;(r=e.get("cleanup"))==null||r();let i=H(()=>{let s=fr(t);if(!s)return;let a=s.hidden;s.style.animationName="none",s.style.animationDuration="0s",s.hidden=!1;let o=s.getBoundingClientRect();n.set("size",{height:o.height,width:o.width}),n.get("initial")&&(s.style.animationName="",s.style.animationDuration=""),s.hidden=a});e.set("cleanup",i)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}},Tb=_()(["dir","disabled","getRootNode","id","ids","collapsedHeight","collapsedWidth","onExitComplete","onOpenChange","defaultOpen","open"]),U0=B(Tb),Ob=class extends K{initMachine(e){return new W(Sb,e)}initApi(){return Cb(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="collapsible"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="collapsible"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=e.querySelector('[data-scope="collapsible"][data-part="content"]');n&&this.spreadProps(n,this.api.getContentProps())}}},wb={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Ob(e,y(g({id:e.id},C(e,"controlled")?{open:C(e,"open")}:{defaultOpen:C(e,"defaultOpen")}),{disabled:C(e,"disabled"),dir:O(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let r=O(e,"onOpenChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,open:i.open});let s=O(e,"onOpenChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));n.init(),this.collapsible=n,this.onSetOpen=i=>{let{open:r}=i.detail;n.api.setOpen(r)},e.addEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("collapsible_set_open",i=>{let r=i.collapsible_id;r&&r!==e.id||n.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("collapsible_open",()=>{this.pushEvent("collapsible_open_response",{value:n.api.open})}))},updated(){var e;(e=this.collapsible)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlled")?{open:C(this.el,"open")}:{defaultOpen:C(this.el,"defaultOpen")}),{disabled:C(this.el,"disabled"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.collapsible)==null||e.destroy()}}});function mr(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}function ks(e,t,n){t=[...t].sort((r,s)=>r-s);let i=t.map(r=>e[r]);for(let r=t.length-1;r>=0;r--)e=[...e.slice(0,t[r]),...e.slice(t[r]+1)];return n=Math.max(0,n-t.filter(r=>r<n).length),[...e.slice(0,n),...i,...e.slice(n)]}function Pn(e){return $e(e,"columnCount")&&$e(e,"getRows")}function lu(e,t,n){for(let i=0;i<t.length;i++)e=n.getChildren(e,t.slice(i+1))[t[i]];return e}function Nb(e){let t=kb(e),n=[],i=new Set;for(let r of t){let s=r.join();i.has(s)||(i.add(s),n.push(r))}return n}function cu(e,t){for(let n=0;n<Math.min(e.length,t.length);n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.length-t.length}function kb(e){return e.sort(cu)}function Rb(e,t){let n;return Je(e,y(g({},t),{onEnter:(i,r)=>{if(t.predicate(i,r))return n=i,"stop"}})),n}function Db(e,t){let n=[];return Je(e,{onEnter:(i,r)=>{t.predicate(i,r)&&n.push(i)},getChildren:t.getChildren}),n}function ru(e,t){let n;return Je(e,{onEnter:(i,r)=>{if(t.predicate(i,r))return n=[...r],"stop"},getChildren:t.getChildren}),n}function Lb(e,t){let n=t.initialResult;return Je(e,y(g({},t),{onEnter:(i,r)=>{n=t.nextResult(n,i,r)}})),n}function Mb(e,t){return Lb(e,y(g({},t),{initialResult:[],nextResult:(n,i,r)=>(n.push(...t.transform(i,r)),n)}))}function Fb(e,t){let{predicate:n,create:i,getChildren:r}=t,s=(a,o)=>{let l=r(a,o),c=[];l.forEach((u,p)=>{let v=[...o,p],I=s(u,v);I&&c.push(I)});let d=o.length===0,h=n(a,o),m=c.length>0;return d||h||m?i(a,c,o):null};return s(e,[])||i(e,[],[])}function $b(e,t){let n=[],i=0,r=new Map,s=new Map;return Je(e,{getChildren:t.getChildren,onEnter:(a,o)=>{r.has(a)||r.set(a,i++);let l=t.getChildren(a,o);l.forEach(u=>{s.has(u)||s.set(u,a),r.has(u)||r.set(u,i++)});let c=l.length>0?l.map(u=>r.get(u)):void 0,d=s.get(a),h=d?r.get(d):void 0,m=r.get(a);n.push(y(g({},a),{_children:c,_parent:h,_index:m}))}}),n}function Hb(e,t){return{type:"insert",index:e,nodes:t}}function Bb(e){return{type:"remove",indexes:e}}function wo(){return{type:"replace"}}function du(e){return[e.slice(0,-1),e[e.length-1]]}function uu(e,t,n=new Map){var a;let[i,r]=du(e);for(let o=i.length-1;o>=0;o--){let l=i.slice(0,o).join();switch((a=n.get(l))==null?void 0:a.type){case"remove":continue}n.set(l,wo())}let s=n.get(i.join());switch(s==null?void 0:s.type){case"remove":n.set(i.join(),{type:"removeThenInsert",removeIndexes:s.indexes,insertIndex:r,insertNodes:t});break;default:n.set(i.join(),Hb(r,t))}return n}function hu(e){var i;let t=new Map,n=new Map;for(let r of e){let s=r.slice(0,-1).join(),a=(i=n.get(s))!=null?i:[];a.push(r[r.length-1]),n.set(s,a.sort((o,l)=>o-l))}for(let r of e)for(let s=r.length-2;s>=0;s--){let a=r.slice(0,s).join();t.has(a)||t.set(a,wo())}for(let[r,s]of n)t.set(r,Bb(s));return t}function _b(e,t){let n=new Map,[i,r]=du(e);for(let s=i.length-1;s>=0;s--){let a=i.slice(0,s).join();n.set(a,wo())}return n.set(i.join(),{type:"removeThenInsert",removeIndexes:[r],insertIndex:r,insertNodes:[t]}),n}function Ls(e,t,n){return Gb(e,y(g({},n),{getChildren:(i,r)=>{let s=r.join(),a=t.get(s);switch(a==null?void 0:a.type){case"replace":case"remove":case"removeThenInsert":case"insert":return n.getChildren(i,r);default:return[]}},transform:(i,r,s)=>{let a=s.join(),o=t.get(a);switch(o==null?void 0:o.type){case"remove":return n.create(i,r.filter((d,h)=>!o.indexes.includes(h)),s);case"removeThenInsert":let l=r.filter((d,h)=>!o.removeIndexes.includes(h)),c=o.removeIndexes.reduce((d,h)=>h<d?d-1:d,o.insertIndex);return n.create(i,su(l,c,0,...o.insertNodes),s);case"insert":return n.create(i,su(r,o.index,0,...o.nodes),s);case"replace":return n.create(i,r,s);default:return i}}}))}function su(e,t,n,...i){return[...e.slice(0,t),...i,...e.slice(t+n)]}function Gb(e,t){let n={};return Je(e,y(g({},t),{onLeave:(i,r)=>{var d,h;let s=[0,...r],a=s.join(),o=t.transform(i,(d=n[a])!=null?d:[],r),l=s.slice(0,-1).join(),c=(h=n[l])!=null?h:[];c.push(o),n[l]=c}})),n[""][0]}function Ub(e,t){let{nodes:n,at:i}=t;if(i.length===0)throw new Error("Can't insert nodes at the root");let r=uu(i,n);return Ls(e,r,t)}function qb(e,t){if(t.at.length===0)return t.node;let n=_b(t.at,t.node);return Ls(e,n,t)}function Wb(e,t){if(t.indexPaths.length===0)return e;for(let i of t.indexPaths)if(i.length===0)throw new Error("Can't remove the root node");let n=hu(t.indexPaths);return Ls(e,n,t)}function Kb(e,t){if(t.indexPaths.length===0)return e;for(let s of t.indexPaths)if(s.length===0)throw new Error("Can't move the root node");if(t.to.length===0)throw new Error("Can't move nodes to the root");let n=Nb(t.indexPaths),i=n.map(s=>lu(e,s,t)),r=uu(t.to,i,hu(n));return Ls(e,r,t)}function Je(e,t){let{onEnter:n,onLeave:i,getChildren:r}=t,s=[],a=[{node:e}],o=t.reuseIndexPath?()=>s:()=>s.slice();for(;a.length>0;){let l=a[a.length-1];if(l.state===void 0){let d=n==null?void 0:n(l.node,o());if(d==="stop")return;l.state=d==="skip"?-1:0}let c=l.children||r(l.node,o());if(l.children||(l.children=c),l.state!==-1){if(l.state<c.length){let h=l.state;s.push(h),a.push({node:c[h]}),l.state=h+1;continue}if((i==null?void 0:i(l.node,o()))==="stop")return}s.pop(),a.pop()}}var Vb,xb,L,Rs,kt,Ab,Oo,ou,Vo,Oi,vr=re(()=>{"use strict";se();Vb=Object.defineProperty,xb=(e,t,n)=>t in e?Vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t,n)=>xb(e,typeof t!="symbol"?t+"":t,n),Rs={itemToValue(e){return typeof e=="string"?e:xt(e)&&$e(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:xt(e)&&$e(e,"label")?e.label:Rs.itemToValue(e)},isItemDisabled(e){return xt(e)&&$e(e,"disabled")?!!e.disabled:!1}},kt=class au{constructor(t){this.options=t,L(this,"items"),L(this,"indexMap",null),L(this,"copy",n=>new au(y(g({},this.options),{items:n!=null?n:[...this.items]}))),L(this,"isEqual",n=>me(this.items,n.items)),L(this,"setItems",n=>this.copy(n)),L(this,"getValues",(n=this.items)=>{let i=[];for(let r of n){let s=this.getItemValue(r);s!=null&&i.push(s)}return i}),L(this,"find",n=>{if(n==null)return null;let i=this.indexOf(n);return i!==-1?this.at(i):null}),L(this,"findMany",n=>{let i=[];for(let r of n){let s=this.find(r);s!=null&&i.push(s)}return i}),L(this,"at",n=>{var s;if(!this.options.groupBy&&!this.options.groupSort)return(s=this.items[n])!=null?s:null;let i=0,r=this.group();for(let[,a]of r)for(let o of a){if(i===n)return o;i++}return null}),L(this,"sortFn",(n,i)=>{let r=this.indexOf(n),s=this.indexOf(i);return(r!=null?r:0)-(s!=null?s:0)}),L(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),L(this,"getItemValue",n=>{var i,r,s;return n==null?null:(s=(r=(i=this.options).itemToValue)==null?void 0:r.call(i,n))!=null?s:Rs.itemToValue(n)}),L(this,"getItemDisabled",n=>{var i,r,s;return n==null?!1:(s=(r=(i=this.options).isItemDisabled)==null?void 0:r.call(i,n))!=null?s:Rs.isItemDisabled(n)}),L(this,"stringifyItem",n=>{var i,r,s;return n==null?null:(s=(r=(i=this.options).itemToString)==null?void 0:r.call(i,n))!=null?s:Rs.itemToString(n)}),L(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),L(this,"stringifyItems",(n,i=", ")=>{let r=[];for(let s of n){let a=this.stringifyItem(s);a!=null&&r.push(a)}return r.join(i)}),L(this,"stringifyMany",(n,i)=>this.stringifyItems(this.findMany(n),i)),L(this,"has",n=>this.indexOf(n)!==-1),L(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),L(this,"group",()=>{let{groupBy:n,groupSort:i}=this.options;if(!n)return[["",[...this.items]]];let r=new Map;this.items.forEach((a,o)=>{let l=n(a,o);r.has(l)||r.set(l,[]),r.get(l).push(a)});let s=Array.from(r.entries());return i&&s.sort(([a],[o])=>{if(typeof i=="function")return i(a,o);if(Array.isArray(i)){let l=i.indexOf(a),c=i.indexOf(o);return l===-1?1:c===-1?-1:l-c}return i==="asc"?a.localeCompare(o):i==="desc"?o.localeCompare(a):0}),s}),L(this,"getNextValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.min(s+i,this.size-1):s+i;s<=this.size&&this.getItemDisabled(this.at(s));)s++;return this.getItemValue(this.at(s))}),L(this,"getPreviousValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.max(s-i,0):s-i;s>=0&&this.getItemDisabled(this.at(s));)s--;return this.getItemValue(this.at(s))}),L(this,"indexOf",n=>{var i;if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(r=>this.getItemValue(r)===n);if(!this.indexMap){this.indexMap=new Map;let r=0,s=this.group();for(let[,a]of s)for(let o of a){let l=this.getItemValue(o);l!=null&&this.indexMap.set(l,r),r++}}return(i=this.indexMap.get(n))!=null?i:-1}),L(this,"getByText",(n,i)=>{let r=i!=null?this.indexOf(i):-1,s=n.length===1;for(let a=0;a<this.items.length;a++){let o=this.items[(r+a+1)%this.items.length];if(!(s&&this.getItemValue(o)===i)&&!this.getItemDisabled(o)&&Ab(this.stringifyItem(o),n))return o}}),L(this,"search",(n,i)=>{let{state:r,currentValue:s,timeout:a=350}=i,o=r.keysSoFar+n,c=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,d=this.getByText(c,s),h=this.getItemValue(d);function m(){clearTimeout(r.timer),r.timer=-1}function u(p){r.keysSoFar=p,m(),p!==""&&(r.timer=+setTimeout(()=>{u(""),m()},a))}return u(o),h}),L(this,"update",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy([...this.items.slice(0,r),i,...this.items.slice(r+1)])}),L(this,"upsert",(n,i,r="append")=>{let s=this.indexOf(n);return s===-1?(r==="append"?this.append:this.prepend)(i):this.copy([...this.items.slice(0,s),i,...this.items.slice(s+1)])}),L(this,"insert",(n,...i)=>this.copy(mr(this.items,n,...i))),L(this,"insertBefore",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(mr(this.items,r,...i))}),L(this,"insertAfter",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(mr(this.items,r+1,...i))}),L(this,"prepend",(...n)=>this.copy(mr(this.items,0,...n))),L(this,"append",(...n)=>this.copy(mr(this.items,this.items.length,...n))),L(this,"filter",n=>{let i=this.items.filter((r,s)=>n(this.stringifyItem(r),s,r));return this.copy(i)}),L(this,"remove",(...n)=>{let i=n.map(r=>typeof r=="string"?r:this.getItemValue(r));return this.copy(this.items.filter(r=>{let s=this.getItemValue(r);return s==null?!1:!i.includes(s)}))}),L(this,"move",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy(ks(this.items,[r],i))}),L(this,"moveBefore",(n,...i)=>{let r=this.items.findIndex(a=>this.getItemValue(a)===n);if(r===-1)return this;let s=i.map(a=>this.items.findIndex(o=>this.getItemValue(o)===a)).sort((a,o)=>a-o);return this.copy(ks(this.items,s,r))}),L(this,"moveAfter",(n,...i)=>{let r=this.items.findIndex(a=>this.getItemValue(a)===n);if(r===-1)return this;let s=i.map(a=>this.items.findIndex(o=>this.getItemValue(o)===a)).sort((a,o)=>a-o);return this.copy(ks(this.items,s,r+1))}),L(this,"reorder",(n,i)=>this.copy(ks(this.items,[n],i))),L(this,"compareValue",(n,i)=>{let r=this.indexOf(n),s=this.indexOf(i);return r<s?-1:r>s?1:0}),L(this,"range",(n,i)=>{let r=[],s=n;for(;s!=null;){if(this.find(s)&&r.push(s),s===i)return r;s=this.getNextValue(s)}return[]}),L(this,"getValueRange",(n,i)=>n&&i?this.compareValue(n,i)<=0?this.range(n,i):this.range(i,n):[]),L(this,"toString",()=>{let n="";for(let i of this.items){let r=this.getItemValue(i),s=this.stringifyItem(i),a=this.getItemDisabled(i),o=[r,s,a].filter(Boolean).join(":");n+=o+","}return n}),L(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*rc(this.items)}},Ab=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase()));Oo=class extends kt{constructor(e){let{columnCount:t}=e;super(e),L(this,"columnCount"),L(this,"rows",null),L(this,"getRows",()=>(this.rows||(this.rows=lr([...this.items],this.columnCount)),this.rows)),L(this,"getRowCount",()=>Math.ceil(this.items.length/this.columnCount)),L(this,"getCellIndex",(n,i)=>n*this.columnCount+i),L(this,"getCell",(n,i)=>this.at(this.getCellIndex(n,i))),L(this,"getValueCell",n=>{let i=this.indexOf(n);if(i===-1)return null;let r=Math.floor(i/this.columnCount),s=i%this.columnCount;return{row:r,column:s}}),L(this,"getLastEnabledColumnIndex",n=>{for(let i=this.columnCount-1;i>=0;i--){let r=this.getCell(n,i);if(r&&!this.getItemDisabled(r))return i}return null}),L(this,"getFirstEnabledColumnIndex",n=>{for(let i=0;i<this.columnCount;i++){let r=this.getCell(n,i);if(r&&!this.getItemDisabled(r))return i}return null}),L(this,"getPreviousRowValue",(n,i=!1)=>{let r=this.getValueCell(n);if(r===null)return null;let s=this.getRows(),a=s.length,o=r.row,l=r.column;for(let c=1;c<=a;c++){o=or(s,o,{loop:i});let d=s[o];if(!d)continue;if(!d[l]){let u=this.getLastEnabledColumnIndex(o);u!=null&&(l=u)}let m=this.getCell(o,l);if(!this.getItemDisabled(m))return this.getItemValue(m)}return this.firstValue}),L(this,"getNextRowValue",(n,i=!1)=>{let r=this.getValueCell(n);if(r===null)return null;let s=this.getRows(),a=s.length,o=r.row,l=r.column;for(let c=1;c<=a;c++){o=bi(s,o,{loop:i});let d=s[o];if(!d)continue;if(!d[l]){let u=this.getLastEnabledColumnIndex(o);u!=null&&(l=u)}let m=this.getCell(o,l);if(!this.getItemDisabled(m))return this.getItemValue(m)}return this.lastValue}),this.columnCount=t}};ou=class Ds extends Set{constructor(t=[]){super(t),L(this,"selectionMode","single"),L(this,"deselectable",!0),L(this,"copy",()=>{let n=new Ds([...this]);return this.sync(n)}),L(this,"sync",n=>(n.selectionMode=this.selectionMode,n.deselectable=this.deselectable,n)),L(this,"isEmpty",()=>this.size===0),L(this,"isSelected",n=>this.selectionMode==="none"||n==null?!1:this.has(n)),L(this,"canSelect",(n,i)=>this.selectionMode!=="none"||!n.getItemDisabled(n.find(i))),L(this,"firstSelectedValue",n=>{let i=null;for(let r of this)(!i||n.compareValue(r,i)<0)&&(i=r);return i}),L(this,"lastSelectedValue",n=>{let i=null;for(let r of this)(!i||n.compareValue(r,i)>0)&&(i=r);return i}),L(this,"extendSelection",(n,i,r)=>{if(this.selectionMode==="none")return this;if(this.selectionMode==="single")return this.replaceSelection(n,r);let s=this.copy(),a=Array.from(this).pop();for(let o of n.getValueRange(i,a!=null?a:r))s.delete(o);for(let o of n.getValueRange(r,i))this.canSelect(n,o)&&s.add(o);return s}),L(this,"toggleSelection",(n,i)=>{if(this.selectionMode==="none")return this;if(this.selectionMode==="single"&&!this.isSelected(i))return this.replaceSelection(n,i);let r=this.copy();return r.has(i)?r.delete(i):r.canSelect(n,i)&&r.add(i),r}),L(this,"replaceSelection",(n,i)=>{if(this.selectionMode==="none")return this;if(i==null)return this;if(!this.canSelect(n,i))return this;let r=new Ds([i]);return this.sync(r)}),L(this,"setSelection",n=>{if(this.selectionMode==="none")return this;let i=new Ds;for(let r of n)if(r!=null&&(i.add(r),this.selectionMode==="single"))break;return this.sync(i)}),L(this,"clearSelection",()=>{let n=this.copy();return n.deselectable&&n.size>0&&n.clear(),n}),L(this,"select",(n,i,r)=>this.selectionMode==="none"?this:this.selectionMode==="single"?this.isSelected(i)&&this.deselectable?this.toggleSelection(n,i):this.replaceSelection(n,i):this.selectionMode==="multiple"||r?this.toggleSelection(n,i):this.replaceSelection(n,i)),L(this,"deselect",n=>{let i=this.copy();return i.delete(n),i}),L(this,"isEqual",n=>me(Array.from(this),Array.from(n)))}};Vo=class gu{constructor(t){this.options=t,L(this,"rootNode"),L(this,"isEqual",n=>me(this.rootNode,n.rootNode)),L(this,"getNodeChildren",n=>{var i,r,s,a;return(a=(s=(r=(i=this.options).nodeToChildren)==null?void 0:r.call(i,n))!=null?s:Oi.nodeToChildren(n))!=null?a:[]}),L(this,"resolveIndexPath",n=>typeof n=="string"?this.getIndexPath(n):n),L(this,"resolveNode",n=>{let i=this.resolveIndexPath(n);return i?this.at(i):void 0}),L(this,"getNodeChildrenCount",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToChildrenCount)==null?void 0:r.call(i,n))!=null?s:Oi.nodeToChildrenCount(n)}),L(this,"getNodeValue",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToValue)==null?void 0:r.call(i,n))!=null?s:Oi.nodeToValue(n)}),L(this,"getNodeDisabled",n=>{var i,r,s;return(s=(r=(i=this.options).isNodeDisabled)==null?void 0:r.call(i,n))!=null?s:Oi.isNodeDisabled(n)}),L(this,"stringify",n=>{let i=this.findNode(n);return i?this.stringifyNode(i):null}),L(this,"stringifyNode",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToString)==null?void 0:r.call(i,n))!=null?s:Oi.nodeToString(n)}),L(this,"getFirstNode",(n=this.rootNode,i={})=>{let r;return Je(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{var o;if(!this.isSameNode(s,n)){if((o=i.skip)!=null&&o.call(i,{value:this.getNodeValue(s),node:s,indexPath:a}))return"skip";if(!r&&a.length>0&&!this.getNodeDisabled(s))return r=s,"stop"}}}),r}),L(this,"getLastNode",(n=this.rootNode,i={})=>{let r;return Je(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{var o;if(!this.isSameNode(s,n)){if((o=i.skip)!=null&&o.call(i,{value:this.getNodeValue(s),node:s,indexPath:a}))return"skip";a.length>0&&!this.getNodeDisabled(s)&&(r=s)}}}),r}),L(this,"at",n=>lu(this.rootNode,n,{getChildren:this.getNodeChildren})),L(this,"findNode",(n,i=this.rootNode)=>Rb(i,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===n})),L(this,"findNodes",(n,i=this.rootNode)=>{let r=new Set(n.filter(s=>s!=null));return Db(i,{getChildren:this.getNodeChildren,predicate:s=>r.has(this.getNodeValue(s))})}),L(this,"sort",n=>n.reduce((i,r)=>{let s=this.getIndexPath(r);return s&&i.push({value:r,indexPath:s}),i},[]).sort((i,r)=>cu(i.indexPath,r.indexPath)).map(({value:i})=>i)),L(this,"getIndexPath",n=>ru(this.rootNode,{getChildren:this.getNodeChildren,predicate:i=>this.getNodeValue(i)===n})),L(this,"getValue",n=>{let i=this.at(n);return i?this.getNodeValue(i):void 0}),L(this,"getValuePath",n=>{if(!n)return[];let i=[],r=[...n];for(;r.length>0;){let s=this.at(r);s&&i.unshift(this.getNodeValue(s)),r.pop()}return i}),L(this,"getDepth",n=>{var r;let i=ru(this.rootNode,{getChildren:this.getNodeChildren,predicate:s=>this.getNodeValue(s)===n});return(r=i==null?void 0:i.length)!=null?r:0}),L(this,"isSameNode",(n,i)=>this.getNodeValue(n)===this.getNodeValue(i)),L(this,"isRootNode",n=>this.isSameNode(n,this.rootNode)),L(this,"contains",(n,i)=>!n||!i?!1:i.slice(0,n.length).every((r,s)=>n[s]===i[s])),L(this,"getNextNode",(n,i={})=>{let r=!1,s;return Je(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{var c;if(this.isRootNode(a))return;let l=this.getNodeValue(a);if((c=i.skip)!=null&&c.call(i,{value:l,node:a,indexPath:o}))return l===n&&(r=!0),"skip";if(r&&!this.getNodeDisabled(a))return s=a,"stop";l===n&&(r=!0)}}),s}),L(this,"getPreviousNode",(n,i={})=>{let r,s=!1;return Je(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{var c;if(this.isRootNode(a))return;let l=this.getNodeValue(a);if((c=i.skip)!=null&&c.call(i,{value:l,node:a,indexPath:o}))return"skip";if(l===n)return s=!0,"stop";this.getNodeDisabled(a)||(r=a)}}),s?r:void 0}),L(this,"getParentNodes",n=>{var s;let i=(s=this.resolveIndexPath(n))==null?void 0:s.slice();if(!i)return[];let r=[];for(;i.length>0;){i.pop();let a=this.at(i);a&&!this.isRootNode(a)&&r.unshift(a)}return r}),L(this,"getDescendantNodes",(n,i)=>{let r=this.resolveNode(n);if(!r)return[];let s=[];return Je(r,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{o.length!==0&&(!(i!=null&&i.withBranch)&&this.isBranchNode(a)||s.push(a))}}),s}),L(this,"getDescendantValues",(n,i)=>this.getDescendantNodes(n,i).map(s=>this.getNodeValue(s))),L(this,"getParentIndexPath",n=>n.slice(0,-1)),L(this,"getParentNode",n=>{let i=this.resolveIndexPath(n);return i?this.at(this.getParentIndexPath(i)):void 0}),L(this,"visit",n=>{let s=n,{skip:i}=s,r=ft(s,["skip"]);Je(this.rootNode,y(g({},r),{getChildren:this.getNodeChildren,onEnter:(a,o)=>{var l;if(!this.isRootNode(a))return i!=null&&i({value:this.getNodeValue(a),node:a,indexPath:o})?"skip":(l=r.onEnter)==null?void 0:l.call(r,a,o)}}))}),L(this,"getPreviousSibling",n=>{let i=this.getParentNode(n);if(!i)return;let r=this.getNodeChildren(i),s=n[n.length-1];for(;--s>=0;){let a=r[s];if(!this.getNodeDisabled(a))return a}}),L(this,"getNextSibling",n=>{let i=this.getParentNode(n);if(!i)return;let r=this.getNodeChildren(i),s=n[n.length-1];for(;++s<r.length;){let a=r[s];if(!this.getNodeDisabled(a))return a}}),L(this,"getSiblingNodes",n=>{let i=this.getParentNode(n);return i?this.getNodeChildren(i):[]}),L(this,"getValues",(n=this.rootNode)=>Mb(n,{getChildren:this.getNodeChildren,transform:r=>[this.getNodeValue(r)]}).slice(1)),L(this,"isValidDepth",(n,i)=>i==null?!0:typeof i=="function"?i(n.length):n.length===i),L(this,"isBranchNode",n=>this.getNodeChildren(n).length>0||this.getNodeChildrenCount(n)!=null),L(this,"getBranchValues",(n=this.rootNode,i={})=>{let r=[];return Je(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{var l;if(a.length===0)return;let o=this.getNodeValue(s);if((l=i.skip)!=null&&l.call(i,{value:o,node:s,indexPath:a}))return"skip";this.isBranchNode(s)&&this.isValidDepth(a,i.depth)&&r.push(this.getNodeValue(s))}}),r}),L(this,"flatten",(n=this.rootNode)=>$b(n,{getChildren:this.getNodeChildren})),L(this,"_create",(n,i)=>this.getNodeChildren(n).length>0||i.length>0?y(g({},n),{children:i}):g({},n)),L(this,"_insert",(n,i,r)=>this.copy(Ub(n,{at:i,nodes:r,getChildren:this.getNodeChildren,create:this._create}))),L(this,"copy",n=>new gu(y(g({},this.options),{rootNode:n}))),L(this,"_replace",(n,i,r)=>this.copy(qb(n,{at:i,node:r,getChildren:this.getNodeChildren,create:this._create}))),L(this,"_move",(n,i,r)=>this.copy(Kb(n,{indexPaths:i,to:r,getChildren:this.getNodeChildren,create:this._create}))),L(this,"_remove",(n,i)=>this.copy(Wb(n,{indexPaths:i,getChildren:this.getNodeChildren,create:this._create}))),L(this,"replace",(n,i)=>this._replace(this.rootNode,n,i)),L(this,"remove",n=>this._remove(this.rootNode,n)),L(this,"insertBefore",(n,i)=>this.getParentNode(n)?this._insert(this.rootNode,n,i):void 0),L(this,"insertAfter",(n,i)=>{if(!this.getParentNode(n))return;let s=[...n.slice(0,-1),n[n.length-1]+1];return this._insert(this.rootNode,s,i)}),L(this,"move",(n,i)=>this._move(this.rootNode,n,i)),L(this,"filter",n=>{let i=Fb(this.rootNode,{predicate:n,getChildren:this.getNodeChildren,create:this._create});return this.copy(i)}),L(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=t.rootNode}},Oi={nodeToValue(e){return typeof e=="string"?e:xt(e)&&$e(e,"value")?e.value:""},nodeToString(e){return typeof e=="string"?e:xt(e)&&$e(e,"label")?e.label:Oi.nodeToValue(e)},isNodeDisabled(e){return xt(e)&&$e(e,"disabled")?!!e.disabled:!1},nodeToChildren(e){return e.children},nodeToChildrenCount(e){if(xt(e)&&$e(e,"childrenCount"))return e.childrenCount}}});function Ao(e,t,n){return Qe(e,Cn(t,n))}function Qt(e,t){return typeof e=="function"?e(t):e}function en(e){return e.split("-")[0]}function xi(e){return e.split("-")[1]}function Ro(e){return e==="x"?"y":"x"}function Do(e){return e==="y"?"height":"width"}function Rt(e){return Xb.has(en(e))?"y":"x"}function Lo(e){return Ro(Rt(e))}function Zb(e,t,n){n===void 0&&(n=!1);let i=xi(e),r=Lo(e),s=Do(r),a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=$s(a)),[a,$s(a)]}function Jb(e){let t=$s(e);return[No(e),t,No(t)]}function No(e){return e.replace(/start|end/g,t=>jb[t])}function tE(e,t,n){switch(e){case"top":case"bottom":return n?t?fu:pu:t?pu:fu;case"left":case"right":return t?Qb:eE;default:return[]}}function nE(e,t,n,i){let r=xi(e),s=tE(en(e),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),t&&(s=s.concat(s.map(No)))),s}function $s(e){return e.replace(/left|right|bottom|top/g,t=>Yb[t])}function iE(e){return g({top:0,right:0,bottom:0,left:0},e)}function Tu(e){return typeof e!="number"?iE(e):{top:e,right:e,bottom:e,left:e}}function Hs(e){let{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function mu(e,t,n){let{reference:i,floating:r}=e,s=Rt(t),a=Lo(t),o=Do(a),l=en(t),c=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,m=i[o]/2-r[o]/2,u;switch(l){case"top":u={x:d,y:i.y-r.height};break;case"bottom":u={x:d,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:h};break;case"left":u={x:i.x-r.width,y:h};break;default:u={x:i.x,y:i.y}}switch(xi(t)){case"start":u[a]-=m*(n&&c?-1:1);break;case"end":u[a]+=m*(n&&c?-1:1);break}return u}function rE(e,t){return Ve(this,null,function*(){var n;t===void 0&&(t={});let{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:u=0}=Qt(t,e),p=Tu(u),I=o[m?h==="floating"?"reference":"floating":h],T=Hs(yield s.getClippingRect({element:(n=yield s.isElement==null?void 0:s.isElement(I))==null||n?I:I.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,b=yield s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating),f=(yield s.isElement==null?void 0:s.isElement(b))?(yield s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Hs(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:b,strategy:l}):w);return{top:(T.top-S.top+p.top)/f.y,bottom:(S.bottom-T.bottom+p.bottom)/f.y,left:(T.left-S.left+p.left)/f.x,right:(S.right-T.right+p.right)/f.x}})}function vu(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yu(e){return zb.some(t=>e[t]>=0)}function cE(e,t){return Ve(this,null,function*(){let{placement:n,platform:i,elements:r}=e,s=yield i.isRTL==null?void 0:i.isRTL(r.floating),a=en(n),o=xi(n),l=Rt(n)==="y",c=Ou.has(a)?-1:1,d=s&&l?-1:1,h=Qt(t,e),{mainAxis:m,crossAxis:u,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof p=="number"&&(u=o==="end"?p*-1:p),l?{x:u*d,y:m*c}:{x:m*c,y:u*d}})}function Bs(){return typeof window!="undefined"}function Ai(e){return wu(e)?(e.nodeName||"").toLowerCase():"#document"}function et(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mt(e){var t;return(t=(wu(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wu(e){return Bs()?e instanceof Node||e instanceof et(e).Node:!1}function bt(e){return Bs()?e instanceof Element||e instanceof et(e).Element:!1}function Lt(e){return Bs()?e instanceof HTMLElement||e instanceof et(e).HTMLElement:!1}function bu(e){return!Bs()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof et(e).ShadowRoot}function Er(e){let{overflow:t,overflowX:n,overflowY:i,display:r}=Et(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!pE.has(r)}function mE(e){return fE.has(Ai(e))}function _s(e){return vE.some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Mo(e){let t=Fo(),n=bt(e)?Et(e):e;return yE.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||bE.some(i=>(n.willChange||"").includes(i))||EE.some(i=>(n.contain||"").includes(i))}function IE(e){let t=Sn(e);for(;Lt(t)&&!Vi(t);){if(Mo(t))return t;if(_s(t))return null;t=Sn(t)}return null}function Fo(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vi(e){return PE.has(Ai(e))}function Et(e){return et(e).getComputedStyle(e)}function Gs(e){return bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sn(e){if(Ai(e)==="html")return e;let t=e.assignedSlot||e.parentNode||bu(e)&&e.host||Mt(e);return bu(t)?t.host:t}function Vu(e){let t=Sn(e);return Vi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lt(t)&&Er(t)?t:Vu(t)}function br(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);let r=Vu(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),a=et(r);if(s){let o=ko(a);return t.concat(a,a.visualViewport||[],Er(r)?r:[],o&&n?br(o):[])}return t.concat(r,br(r,[],n))}function ko(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xu(e){let t=Et(e),n=parseFloat(t.width)||0,i=parseFloat(t.height)||0,r=Lt(e),s=r?e.offsetWidth:n,a=r?e.offsetHeight:i,o=Fs(n)!==s||Fs(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function $o(e){return bt(e)?e:e.contextElement}function wi(e){let t=$o(e);if(!Lt(t))return Dt(1);let n=t.getBoundingClientRect(),{width:i,height:r,$:s}=xu(t),a=(s?Fs(n.width):n.width)/i,o=(s?Fs(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}function Au(e){let t=et(e);return!Fo()||!t.visualViewport?CE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==et(e)?!1:t}function Un(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);let r=e.getBoundingClientRect(),s=$o(e),a=Dt(1);t&&(i?bt(i)&&(a=wi(i)):a=wi(e));let o=SE(s,n,i)?Au(s):Dt(0),l=(r.left+o.x)/a.x,c=(r.top+o.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(s){let m=et(s),u=i&&bt(i)?et(i):i,p=m,v=ko(p);for(;v&&i&&u!==p;){let I=wi(v),T=v.getBoundingClientRect(),w=Et(v),b=T.left+(v.clientLeft+parseFloat(w.paddingLeft))*I.x,f=T.top+(v.clientTop+parseFloat(w.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,h*=I.y,l+=b,c+=f,p=et(v),v=ko(p)}}return Hs({width:d,height:h,x:l,y:c})}function Us(e,t){let n=Gs(e).scrollLeft;return t?t.left+n:Un(Mt(e)).left+n}function Nu(e,t){let n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Us(e,n),r=n.top+t.scrollTop;return{x:i,y:r}}function TE(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e,s=r==="fixed",a=Mt(i),o=t?_s(t.floating):!1;if(i===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Dt(1),d=Dt(0),h=Lt(i);if((h||!h&&!s)&&((Ai(i)!=="body"||Er(a))&&(l=Gs(i)),Lt(i))){let u=Un(i);c=wi(i),d.x=u.x+i.clientLeft,d.y=u.y+i.clientTop}let m=a&&!h&&!s?Nu(a,l):Dt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function OE(e){return Array.from(e.getClientRects())}function wE(e){let t=Mt(e),n=Gs(e),i=e.ownerDocument.body,r=Qe(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Qe(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),a=-n.scrollLeft+Us(e),o=-n.scrollTop;return Et(i).direction==="rtl"&&(a+=Qe(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}function VE(e,t){let n=et(e),i=Mt(e),r=n.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;let d=Fo();(!d||d&&t==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}let c=Us(i);if(c<=0){let d=i.ownerDocument,h=d.body,m=getComputedStyle(h),u=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,p=Math.abs(i.clientWidth-h.clientWidth-u);p<=Eu&&(s-=p)}else c<=Eu&&(s+=c);return{width:s,height:a,x:o,y:l}}function AE(e,t){let n=Un(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=Lt(e)?wi(e):Dt(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:a,height:o,x:l,y:c}}function Iu(e,t,n){let i;if(t==="viewport")i=VE(e,n);else if(t==="document")i=wE(Mt(e));else if(bt(t))i=AE(t,n);else{let r=Au(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Hs(i)}function ku(e,t){let n=Sn(e);return n===t||!bt(n)||Vi(n)?!1:Et(n).position==="fixed"||ku(n,t)}function NE(e,t){let n=t.get(e);if(n)return n;let i=br(e,[],!1).filter(o=>bt(o)&&Ai(o)!=="body"),r=null,s=Et(e).position==="fixed",a=s?Sn(e):e;for(;bt(a)&&!Vi(a);){let o=Et(a),l=Mo(a);!l&&o.position==="fixed"&&(r=null),(s?!l&&!r:!l&&o.position==="static"&&!!r&&xE.has(r.position)||Er(a)&&!l&&ku(e,a))?i=i.filter(d=>d!==a):r=o,a=Sn(a)}return t.set(e,i),i}function kE(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e,a=[...n==="clippingAncestors"?_s(t)?[]:NE(t,this._c):[].concat(n),i],o=a[0],l=a.reduce((c,d)=>{let h=Iu(t,d,r);return c.top=Qe(h.top,c.top),c.right=Cn(h.right,c.right),c.bottom=Cn(h.bottom,c.bottom),c.left=Qe(h.left,c.left),c},Iu(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RE(e){let{width:t,height:n}=xu(e);return{width:t,height:n}}function DE(e,t,n){let i=Lt(t),r=Mt(t),s=n==="fixed",a=Un(e,!0,s,t),o={scrollLeft:0,scrollTop:0},l=Dt(0);function c(){l.x=Us(r)}if(i||!i&&!s)if((Ai(t)!=="body"||Er(r))&&(o=Gs(t)),i){let u=Un(t,!0,s,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else r&&c();s&&!i&&r&&c();let d=r&&!i&&!s?Nu(r,o):Dt(0),h=a.left+o.scrollLeft-l.x-d.x,m=a.top+o.scrollTop-l.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function xo(e){return Et(e).position==="static"}function Pu(e,t){if(!Lt(e)||Et(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Mt(e)===n&&(n=n.ownerDocument.body),n}function Ru(e,t){let n=et(e);if(_s(e))return n;if(!Lt(e)){let r=Sn(e);for(;r&&!Vi(r);){if(bt(r)&&!xo(r))return r;r=Sn(r)}return n}let i=Pu(e,t);for(;i&&mE(i)&&xo(i);)i=Pu(i,t);return i&&Vi(i)&&xo(i)&&!Mo(i)?n:i||IE(e)||n}function ME(e){return Et(e).direction==="rtl"}function Du(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $E(e,t){let n=null,i,r=Mt(e);function s(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();let c=e.getBoundingClientRect(),{left:d,top:h,width:m,height:u}=c;if(o||t(),!m||!u)return;let p=Ms(h),v=Ms(r.clientWidth-(d+m)),I=Ms(r.clientHeight-(h+u)),T=Ms(d),b={rootMargin:-p+"px "+-v+"px "+-I+"px "+-T+"px",threshold:Qe(0,Cn(1,l))||1},f=!0;function S(P){let V=P[0].intersectionRatio;if(V!==l){if(!f)return a();V?a(!1,V):i=setTimeout(()=>{a(!1,1e-7)},1e3)}V===1&&!Du(c,e.getBoundingClientRect())&&a(),f=!1}try{n=new IntersectionObserver(S,y(g({},b),{root:r.ownerDocument}))}catch(P){n=new IntersectionObserver(S,b)}n.observe(e)}return a(!0),s}function HE(e,t,n,i){i===void 0&&(i={});let{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=$o(e),d=r||s?[...c?br(c):[],...br(t)]:[];d.forEach(T=>{r&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});let h=c&&o?$E(c,n):null,m=-1,u=null;a&&(u=new ResizeObserver(T=>{let[w]=T;w&&w.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(t)})),n()}),c&&!l&&u.observe(c),u.observe(t));let p,v=l?Un(e):null;l&&I();function I(){let T=Un(e);v&&!Du(v,T)&&n(),v=T,p=requestAnimationFrame(I)}return n(),()=>{var T;d.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(T=u)==null||T.disconnect(),u=null,l&&cancelAnimationFrame(p)}}function Cu(e=0,t=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,i);let r={x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:t+i,left:e};return y(g({},r),{toJSON:()=>r})}function YE(e){if(!e)return Cu();let{x:t,y:n,width:i,height:r}=e;return Cu(t,n,i,r)}function jE(e,t){return{contextElement:le(e)?e:e==null?void 0:e.contextElement,getBoundingClientRect:()=>{let n=e,i=t==null?void 0:t(n);return i||!n?YE(i):n.getBoundingClientRect()}}}function ZE(e,t){return{name:"transformOrigin",fn(n){var x,N,k,D,$;let{elements:i,middlewareData:r,placement:s,rects:a,y:o}=n,l=s.split("-")[0],c=XE(l),d=((x=r.arrow)==null?void 0:x.x)||0,h=((N=r.arrow)==null?void 0:N.y)||0,m=(t==null?void 0:t.clientWidth)||0,u=(t==null?void 0:t.clientHeight)||0,p=d+m/2,v=h+u/2,I=Math.abs(((k=r.shift)==null?void 0:k.y)||0),T=a.reference.height/2,w=u/2,b=($=(D=e.offset)==null?void 0:D.mainAxis)!=null?$:e.gutter,f=typeof b=="number"?b+w:b!=null?b:w,S=I>f,P={top:`${p}px calc(100% + ${f}px)`,bottom:`${p}px ${-f}px`,left:`calc(100% + ${f}px) ${v}px`,right:`${-f}px ${v}px`}[l],V=`${p}px ${a.reference.y+T-o}px`,A=!!e.overlap&&c==="y"&&S;return i.floating.style.setProperty(Jt.transformOrigin.variable,A?V:P),{data:{transformOrigin:A?V:P}}}}}function eI(e){let[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function Lu(e){return e.split("-")[0]}function Su(e,t){let n=e.devicePixelRatio||1;return Math.round(t*n)/n}function Ho(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function nI(e,t,n){let i=e||t.createElement("div");return WE({element:i,padding:n.arrowPadding})}function iI(e,t){var n;if(!qc((n=t.offset)!=null?n:t.gutter))return BE(({placement:i})=>{var d,h,m,u;let r=((e==null?void 0:e.clientHeight)||0)/2,s=(h=(d=t.offset)==null?void 0:d.mainAxis)!=null?h:t.gutter,a=typeof s=="number"?s+r:s!=null?s:r,{hasAlign:o}=eI(i),l=o?void 0:t.shift,c=(u=(m=t.offset)==null?void 0:m.crossAxis)!=null?u:l;return Ci({crossAxis:c,mainAxis:a,alignmentAxis:t.shift})})}function rI(e){if(!e.flip)return;let t=Ho(e.boundary);return GE(y(g({},t?{boundary:t}:void 0),{padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip}))}function sI(e){if(!e.slide&&!e.overlap)return;let t=Ho(e.boundary);return _E(y(g({},t?{boundary:t}:void 0),{mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:KE()}))}function aI(e){return UE({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:i,availableWidth:r}){let s=t.floating,a=Math.round(n.reference.width),o=Math.round(n.reference.height);r=Math.floor(r),i=Math.floor(i),s.style.setProperty("--reference-width",`${a}px`),s.style.setProperty("--reference-height",`${o}px`),s.style.setProperty("--available-width",`${r}px`),s.style.setProperty("--available-height",`${i}px`)}})}function oI(e){var t;if(e.hideWhenDetached)return qE({strategy:"referenceHidden",boundary:(t=Ho(e.boundary))!=null?t:"clippingAncestors"})}function lI(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function cI(e,t,n={}){var I,T;let i=(T=(I=n.getAnchorElement)==null?void 0:I.call(n))!=null?T:e,r=jE(i,n.getAnchorRect);if(!t||!r)return;let s=Object.assign({},tI,n),a=t.querySelector("[data-part=arrow]"),o=[iI(a,s),rI(s),sI(s),nI(a,t.ownerDocument,s),QE(a),ZE({gutter:s.gutter,offset:s.offset,overlap:s.overlap},a),aI(s),oI(s),JE],{placement:l,strategy:c,onComplete:d,onPositioned:h}=s,m=()=>Ve(null,null,function*(){var V;if(!r||!t)return;let w=yield zE(r,t,{placement:l,middleware:o,strategy:c});d==null||d(w),h==null||h({placed:!0});let b=de(t),f=Su(b,w.x),S=Su(b,w.y);t.style.setProperty("--x",`${f}px`),t.style.setProperty("--y",`${S}px`),s.hideWhenDetached&&(((V=w.middlewareData.hide)==null?void 0:V.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));let P=t.firstElementChild;if(P){let A=at(P);t.style.setProperty("--z-index",A.zIndex)}}),u=()=>Ve(null,null,function*(){n.updatePosition?(yield n.updatePosition({updatePosition:m,floatingElement:t}),h==null||h({placed:!0})):yield m()}),p=lI(s.listeners),v=s.listeners?HE(r,t,u,p):Kc;return u(),()=>{v==null||v(),h==null||h({placed:!1})}}function It(e,t,n={}){let o=n,{defer:i}=o,r=ft(o,["defer"]),s=i?H:l=>l(),a=[];return a.push(s(()=>{let l=typeof e=="function"?e():e,c=typeof t=="function"?t():t;a.push(cI(l,c,r))})),()=>{a.forEach(l=>l==null?void 0:l())}}function Tn(e={}){let{placement:t,sameWidth:n,fitViewport:i,strategy:r="absolute"}=e;return{arrow:{position:"absolute",width:Jt.arrowSize.reference,height:Jt.arrowSize.reference,[Jt.arrowSizeHalf.variable]:`calc(${Jt.arrowSize.reference} / 2)`,[Jt.arrowOffset.variable]:`calc(${Jt.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?dI[t.split("-")[0]]:void 0,background:Jt.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:r,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var zb,Cn,Qe,Fs,Ms,Dt,Yb,jb,Xb,pu,fu,Qb,eE,sE,aE,oE,lE,Ou,dE,uE,hE,gE,pE,fE,vE,yE,bE,EE,PE,CE,Eu,xE,LE,FE,BE,_E,GE,UE,qE,WE,KE,zE,yr,Jt,XE,JE,QE,tI,dI,Ir=re(()=>{"use strict";se();zb=["top","right","bottom","left"],Cn=Math.min,Qe=Math.max,Fs=Math.round,Ms=Math.floor,Dt=e=>({x:e,y:e}),Yb={left:"right",right:"left",bottom:"top",top:"bottom"},jb={start:"end",end:"start"};Xb=new Set(["top","bottom"]);pu=["left","right"],fu=["right","left"],Qb=["top","bottom"],eE=["bottom","top"];sE=(e,t,n)=>Ve(null,null,function*(){let{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=yield a.isRTL==null?void 0:a.isRTL(t),c=yield a.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:h}=mu(c,i,l),m=i,u={},p=0;for(let I=0;I<o.length;I++){var v;let{name:T,fn:w}=o[I],{x:b,y:f,data:S,reset:P}=yield w({x:d,y:h,initialPlacement:i,placement:m,strategy:r,middlewareData:u,rects:c,platform:y(g({},a),{detectOverflow:(v=a.detectOverflow)!=null?v:rE}),elements:{reference:e,floating:t}});d=b!=null?b:d,h=f!=null?f:h,u=y(g({},u),{[T]:g(g({},u[T]),S)}),P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?yield a.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:d,y:h}=mu(c,m,l)),I=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:u}}),aE=e=>({name:"arrow",options:e,fn(n){return Ve(this,null,function*(){let{x:i,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=Qt(e,n)||{};if(d==null)return{};let m=Tu(h),u={x:i,y:r},p=Lo(s),v=Do(p),I=yield o.getDimensions(d),T=p==="y",w=T?"top":"left",b=T?"bottom":"right",f=T?"clientHeight":"clientWidth",S=a.reference[v]+a.reference[p]-u[p]-a.floating[v],P=u[p]-a.reference[p],V=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d),A=V?V[f]:0;(!A||!(yield o.isElement==null?void 0:o.isElement(V)))&&(A=l.floating[f]||a.floating[v]);let x=S/2-P/2,N=A/2-I[v]/2-1,k=Cn(m[w],N),D=Cn(m[b],N),$=k,te=A-I[v]-D,J=A/2-I[v]/2+x,ie=Ao($,J,te),Q=!c.arrow&&xi(s)!=null&&J!==ie&&a.reference[v]/2-(J<$?k:D)-I[v]/2<0,Se=Q?J<$?J-$:J-te:0;return{[p]:u[p]+Se,data:g({[p]:ie,centerOffset:J-ie-Se},Q&&{alignmentOffset:Se}),reset:Q}})}}),oE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return Ve(this,null,function*(){var i,r;let{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=n,J=Qt(e,n),{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:I=!0}=J,T=ft(J,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=a.arrow)!=null&&i.alignmentOffset)return{};let w=en(s),b=Rt(l),f=en(l)===l,S=yield c.isRTL==null?void 0:c.isRTL(d.floating),P=u||(f||!I?[$s(l)]:Jb(l)),V=v!=="none";!u&&V&&P.push(...nE(l,I,v,S));let A=[l,...P],x=yield c.detectOverflow(n,T),N=[],k=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&N.push(x[w]),m){let ie=Zb(s,o,S);N.push(x[ie[0]],x[ie[1]])}if(k=[...k,{placement:s,overflows:N}],!N.every(ie=>ie<=0)){var D,$;let ie=(((D=a.flip)==null?void 0:D.index)||0)+1,Q=A[ie];if(Q&&(!(m==="alignment"?b!==Rt(Q):!1)||k.every(ne=>Rt(ne.placement)===b?ne.overflows[0]>0:!0)))return{data:{index:ie,overflows:k},reset:{placement:Q}};let Se=($=k.filter(Pe=>Pe.overflows[0]<=0).sort((Pe,ne)=>Pe.overflows[1]-ne.overflows[1])[0])==null?void 0:$.placement;if(!Se)switch(p){case"bestFit":{var te;let Pe=(te=k.filter(ne=>{if(V){let Ie=Rt(ne.placement);return Ie===b||Ie==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(Ie=>Ie>0).reduce((Ie,rt)=>Ie+rt,0)]).sort((ne,Ie)=>ne[1]-Ie[1])[0])==null?void 0:te[0];Pe&&(Se=Pe);break}case"initialPlacement":Se=l;break}if(s!==Se)return{reset:{placement:Se}}}return{}})}}};lE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return Ve(this,null,function*(){let{rects:i,platform:r}=n,o=Qt(e,n),{strategy:s="referenceHidden"}=o,a=ft(o,["strategy"]);switch(s){case"referenceHidden":{let l=yield r.detectOverflow(n,y(g({},a),{elementContext:"reference"})),c=vu(l,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:yu(c)}}}case"escaped":{let l=yield r.detectOverflow(n,y(g({},a),{altBoundary:!0})),c=vu(l,i.floating);return{data:{escapedOffsets:c,escaped:yu(c)}}}default:return{}}})}}},Ou=new Set(["left","top"]);dE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return Ve(this,null,function*(){var i,r;let{x:s,y:a,placement:o,middlewareData:l}=n,c=yield cE(n,e);return o===((i=l.offset)==null?void 0:i.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:y(g({},c),{placement:o})}})}}},uE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return Ve(this,null,function*(){let{x:i,y:r,placement:s,platform:a}=n,w=Qt(e,n),{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:f,y:S}=b;return{x:f,y:S}}}}=w,d=ft(w,["mainAxis","crossAxis","limiter"]),h={x:i,y:r},m=yield a.detectOverflow(n,d),u=Rt(en(s)),p=Ro(u),v=h[p],I=h[u];if(o){let b=p==="y"?"top":"left",f=p==="y"?"bottom":"right",S=v+m[b],P=v-m[f];v=Ao(S,v,P)}if(l){let b=u==="y"?"top":"left",f=u==="y"?"bottom":"right",S=I+m[b],P=I-m[f];I=Ao(S,I,P)}let T=c.fn(y(g({},n),{[p]:v,[u]:I}));return y(g({},T),{data:{x:T.x-i,y:T.y-r,enabled:{[p]:o,[u]:l}}})})}}},hE=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:i,placement:r,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Qt(e,t),d={x:n,y:i},h=Rt(r),m=Ro(h),u=d[m],p=d[h],v=Qt(o,t),I=typeof v=="number"?{mainAxis:v,crossAxis:0}:g({mainAxis:0,crossAxis:0},v);if(l){let b=m==="y"?"height":"width",f=s.reference[m]-s.floating[b]+I.mainAxis,S=s.reference[m]+s.reference[b]-I.mainAxis;u<f?u=f:u>S&&(u=S)}if(c){var T,w;let b=m==="y"?"width":"height",f=Ou.has(en(r)),S=s.reference[h]-s.floating[b]+(f&&((T=a.offset)==null?void 0:T[h])||0)+(f?0:I.crossAxis),P=s.reference[h]+s.reference[b]+(f?0:((w=a.offset)==null?void 0:w[h])||0)-(f?I.crossAxis:0);p<S?p=S:p>P&&(p=P)}return{[m]:u,[h]:p}}}},gE=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return Ve(this,null,function*(){var i,r;let{placement:s,rects:a,platform:o,elements:l}=n,k=Qt(e,n),{apply:c=()=>{}}=k,d=ft(k,["apply"]),h=yield o.detectOverflow(n,d),m=en(s),u=xi(s),p=Rt(s)==="y",{width:v,height:I}=a.floating,T,w;m==="top"||m==="bottom"?(T=m,w=u===((yield o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,T=u==="end"?"top":"bottom");let b=I-h.top-h.bottom,f=v-h.left-h.right,S=Cn(I-h[T],b),P=Cn(v-h[w],f),V=!n.middlewareData.shift,A=S,x=P;if((i=n.middlewareData.shift)!=null&&i.enabled.x&&(x=f),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(A=b),V&&!u){let D=Qe(h.left,0),$=Qe(h.right,0),te=Qe(h.top,0),J=Qe(h.bottom,0);p?x=v-2*(D!==0||$!==0?D+$:Qe(h.left,h.right)):A=I-2*(te!==0||J!==0?te+J:Qe(h.top,h.bottom))}yield c(y(g({},n),{availableWidth:x,availableHeight:A}));let N=yield o.getDimensions(l.floating);return v!==N.width||I!==N.height?{reset:{rects:!0}}:{}})}}};pE=new Set(["inline","contents"]);fE=new Set(["table","td","th"]);vE=[":popover-open",":modal"];yE=["transform","translate","scale","rotate","perspective"],bE=["transform","translate","scale","rotate","perspective","filter"],EE=["paint","layout","strict","content"];PE=new Set(["html","body","#document"]);CE=Dt(0);Eu=25;xE=new Set(["absolute","fixed"]);LE=function(e){return Ve(this,null,function*(){let t=this.getOffsetParent||Ru,n=this.getDimensions,i=yield n(e.floating);return{reference:DE(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};FE={convertOffsetParentRelativeRectToViewportRelativeRect:TE,getDocumentElement:Mt,getClippingRect:kE,getOffsetParent:Ru,getElementRects:LE,getClientRects:OE,getDimensions:RE,getScale:wi,isElement:bt,isRTL:ME};BE=dE,_E=uE,GE=oE,UE=gE,qE=lE,WE=aE,KE=hE,zE=(e,t,n)=>{let i=new Map,r=g({platform:FE},n),s=y(g({},r.platform),{_c:i});return sE(e,t,y(g({},r),{platform:s}))};yr=e=>({variable:e,reference:`var(${e})`}),Jt={arrowSize:yr("--arrow-size"),arrowSizeHalf:yr("--arrow-size-half"),arrowBg:yr("--arrow-background"),transformOrigin:yr("--transform-origin"),arrowOffset:yr("--arrow-offset")},XE=e=>e==="top"||e==="bottom"?"y":"x";JE={name:"rects",fn({rects:e}){return{data:e}}},QE=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};let{x:i,y:r}=n.arrow,s=t.split("-")[0];return Object.assign(e.style,{left:i!=null?`${i}px`:"",top:r!=null?`${r}px`:"",[s]:`calc(100% + ${Jt.arrowOffset.reference})`}),{}}}};tI={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};dI={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"}});function uI(e){let t={each(n){var i;for(let r=0;r<((i=e.frames)==null?void 0:i.length);r+=1){let s=e.frames[r];s&&n(s)}},addEventListener(n,i,r){return t.each(s=>{try{s.document.addEventListener(n,i,r)}catch(a){}}),()=>{try{t.removeEventListener(n,i,r)}catch(s){}}},removeEventListener(n,i,r){t.each(s=>{try{s.document.removeEventListener(n,i,r)}catch(a){}})}};return t}function hI(e){let t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,i,r)=>{try{t==null||t.addEventListener(n,i,r)}catch(s){}return()=>{try{t==null||t.removeEventListener(n,i,r)}catch(s){}}},removeEventListener:(n,i,r)=>{try{t==null||t.removeEventListener(n,i,r)}catch(s){}}}}function gI(e){for(let t of e)if(le(t)&&Ye(t))return!0;return!1}function pI(e,t){if(!Bu(t)||!e)return!1;let n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function fI(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function $u(e,t){if(!t||!Bu(e))return!1;let n=t.scrollHeight>t.clientHeight,i=n&&e.clientX>t.offsetLeft+t.clientWidth,r=t.scrollWidth>t.clientWidth,s=r&&e.clientY>t.offsetTop+t.clientHeight,a={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(r?16:0)},o={x:e.clientX,y:e.clientY};return fI(a,o)?i||s:!1}function mI(e,t){let{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:a,followControlledElements:o=!0}=t;if(!e)return;let l=Le(e),c=de(e),d=uI(c),h=hI(c);function m(b,f){if(!le(f)||!f.isConnected||ce(e,f)||pI(e,b)||o&&ss(e,f))return!1;let S=l.querySelector(`[aria-controls="${e.id}"]`);if(S){let V=hs(S);if($u(b,V))return!1}let P=hs(e);return $u(b,P)?!1:!(n!=null&&n(f))}let u=new Set,p=Dn(e==null?void 0:e.getRootNode());function v(b){function f(S){var x,N;let P=a&&!Xa()?H:k=>k(),V=S!=null?S:b,A=(N=(x=V==null?void 0:V.composedPath)==null?void 0:x.call(V))!=null?N:[V==null?void 0:V.target];P(()=>{let k=p?A[0]:j(b);if(!(!e||!m(b,k))){if(r||s){let D=At(r,s);e.addEventListener(Mu,D,{once:!0})}Hu(e,Mu,{bubbles:!1,cancelable:!0,detail:{originalEvent:V,contextmenu:ui(V),focusable:gI(A),target:k}})}})}b.pointerType==="touch"?(u.forEach(S=>S()),u.add(ee(l,"click",f,{once:!0})),u.add(h.addEventListener("click",f,{once:!0})),u.add(d.addEventListener("click",f,{once:!0}))):f()}let I=new Set,T=setTimeout(()=>{I.add(ee(l,"pointerdown",v,!0)),I.add(h.addEventListener("pointerdown",v,!0)),I.add(d.addEventListener("pointerdown",v,!0))},0);function w(b){(a?H:S=>S())(()=>{var V,A;let S=(A=(V=b==null?void 0:b.composedPath)==null?void 0:V.call(b))!=null?A:[b==null?void 0:b.target],P=p?S[0]:j(b);if(!(!e||!m(b,P))){if(i||s){let x=At(i,s);e.addEventListener(Fu,x,{once:!0})}Hu(e,Fu,{bubbles:!1,cancelable:!0,detail:{originalEvent:b,contextmenu:!1,focusable:Ye(P),target:P}})}})}return Xa()||(I.add(ee(l,"focusin",w,!0)),I.add(h.addEventListener("focusin",w,!0)),I.add(d.addEventListener("focusin",w,!0))),()=>{clearTimeout(T),u.forEach(b=>b()),I.forEach(b=>b())}}function qs(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(mI(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Hu(e,t,n){let i=e.ownerDocument.defaultView||window,r=new i.CustomEvent(t,n);return e.dispatchEvent(r)}var Mu,Fu,Bu,Bo=re(()=>{"use strict";se();Mu="pointerdown.outside",Fu="focus.outside";Bu=e=>"clientY"in e});function vI(e,t){let n=i=>{i.key==="Escape"&&(i.isComposing||t==null||t(i))};return ee(Le(e),"keydown",n,{capture:!0})}function yI(e,t,n){let i=e.ownerDocument.defaultView||window,r=new i.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(r)}function bI(e,t,n){e.addEventListener(t,n,{once:!0})}function Uu(){We.layers.forEach(({node:e})=>{e.style.pointerEvents=We.isBelowPointerBlockingLayer(e)?"none":"auto"})}function EI(e){e.style.pointerEvents=""}function II(e,t){let n=Le(e),i=[];return We.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Gu=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(r=>{let[s,a]=$c(()=>{let o=r();return le(o)?o:null},{timeout:1e3});s.then(o=>i.push($n(o,{pointerEvents:"auto"}))),i.push(a)}),()=>{We.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=Gu,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function PI(e,t){let{warnOnMissingNode:n=!0}=t;if(n&&!e){zt("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;let{onDismiss:i,onRequestDismiss:r,pointerBlocking:s,exclude:a,debug:o,type:l="dialog"}=t,c={dismiss:i,node:e,type:l,pointerBlocking:s,requestDismiss:r};We.add(c),Uu();function d(v){var T,w;let I=j(v.detail.originalEvent);We.isBelowPointerBlockingLayer(e)||We.isInBranch(I)||((T=t.onPointerDownOutside)==null||T.call(t,v),(w=t.onInteractOutside)==null||w.call(t,v),!v.defaultPrevented&&(o&&console.log("onPointerDownOutside:",v.detail.originalEvent),i==null||i()))}function h(v){var T,w;let I=j(v.detail.originalEvent);We.isInBranch(I)||((T=t.onFocusOutside)==null||T.call(t,v),(w=t.onInteractOutside)==null||w.call(t,v),!v.defaultPrevented&&(o&&console.log("onFocusOutside:",v.detail.originalEvent),i==null||i()))}function m(v){var I;We.isTopMost(e)&&((I=t.onEscapeKeyDown)==null||I.call(t,v),!v.defaultPrevented&&i&&(v.preventDefault(),i()))}function u(v){var b;if(!e)return!1;let I=typeof a=="function"?a():a,T=Array.isArray(I)?I:[I],w=(b=t.persistentElements)==null?void 0:b.map(f=>f()).filter(le);return w&&T.push(...w),T.some(f=>ce(f,v))||We.isInNestedLayer(e,v)}let p=[s?II(e,t.persistentElements):void 0,vI(e,m),qs(e,{exclude:u,onFocusOutside:h,onPointerDownOutside:d,defer:t.defer})];return()=>{We.remove(e),Uu(),EI(e),p.forEach(v=>v==null?void 0:v())}}function Ft(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=Wt(e)?e():e;r.push(PI(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function qu(e,t={}){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=Wt(e)?e():e;if(!s){zt("[@zag-js/dismissable] branch node is `null` or `undefined`");return}We.addBranch(s),r.push(()=>{We.removeBranch(s)})})),()=>{r.forEach(s=>s==null?void 0:s())}}var _u,We,Gu,qn=re(()=>{"use strict";Bo();se();_u="layer:request-dismiss",We={layers:[],branches:[],recentlyRemoved:new Set,count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var i;let t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return t<n},isTopMost(e){let t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){let n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(i=>i.type===t)},getParentLayerOfType(e,t){let n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(i=>i.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return!!(this.getNestedLayers(e).some(i=>ce(i.node,t))||this.recentlyRemoved.size>0)},isInBranch(e){return Array.from(this.branches).some(t=>ce(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){let t=this.indexOf(e);t<0||(this.recentlyRemoved.add(e),Fn(()=>this.recentlyRemoved.delete(e)),t<this.count()-1&&this.getNestedLayers(e).forEach(i=>We.dismiss(i.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){let t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);let i=this.countNestedLayersOfType(e.node,e.type);i>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${i}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){let n=this.indexOf(e);if(n===-1)return;let i=this.layers[n];bI(e,_u,r=>{var s;(s=i.requestDismiss)==null||s.call(i,r),r.defaultPrevented||i==null||i.dismiss()}),yI(e,_u,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}}});var th={};he(th,{Combobox:()=>BI});function VI(e,t){let{context:n,prop:i,state:r,send:s,scope:a,computed:o,event:l}=e,c=i("translations"),d=i("collection"),h=!!i("disabled"),m=o("isInteractive"),u=!!i("invalid"),p=!!i("required"),v=!!i("readOnly"),I=r.hasTag("open"),T=r.hasTag("focused"),w=i("composite"),b=n.get("highlightedValue"),f=Tn(y(g({},i("positioning")),{placement:n.get("currentPlacement")}));function S(P){let V=d.getItemDisabled(P.item),A=d.getItemValue(P.item);return mn(A,()=>`[zag-js] No value found for item ${JSON.stringify(P.item)}`),{value:A,disabled:!!(V||V),highlighted:b===A,selected:n.get("value").includes(A)}}return{focused:T,open:I,inputValue:n.get("inputValue"),highlightedValue:b,highlightedItem:n.get("highlightedItem"),value:n.get("value"),valueAsString:o("valueAsString"),hasSelectedItems:o("hasSelectedItems"),selectedItems:n.get("selectedItems"),collection:i("collection"),multiple:!!i("multiple"),disabled:!!h,syncSelectedItems(){s({type:"SELECTED_ITEMS.SYNC"})},reposition(P={}){s({type:"POSITIONING.SET",options:P})},setHighlightValue(P){s({type:"HIGHLIGHTED_VALUE.SET",value:P})},clearHighlightValue(){s({type:"HIGHLIGHTED_VALUE.CLEAR"})},selectValue(P){s({type:"ITEM.SELECT",value:P})},setValue(P){s({type:"VALUE.SET",value:P})},setInputValue(P,V="script"){s({type:"INPUT_VALUE.SET",value:P,src:V})},clearValue(P){P!=null?s({type:"ITEM.CLEAR",value:P}):s({type:"VALUE.CLEAR"})},focus(){var P;(P=Kn(a))==null||P.focus()},setOpen(P,V="script"){r.hasTag("open")!==P&&s({type:P?"OPEN":"CLOSE",src:V})},getRootProps(){return t.element(y(g({},Ke.root.attrs),{dir:i("dir"),id:SI(a),"data-invalid":E(u),"data-readonly":E(v)}))},getLabelProps(){return t.label(y(g({},Ke.label.attrs),{dir:i("dir"),htmlFor:Ws(a),id:_o(a),"data-readonly":E(v),"data-disabled":E(h),"data-invalid":E(u),"data-required":E(p),"data-focus":E(T),onClick(P){var V;w||(P.preventDefault(),(V=Pr(a))==null||V.focus({preventScroll:!0}))}}))},getControlProps(){return t.element(y(g({},Ke.control.attrs),{dir:i("dir"),id:Zu(a),"data-state":I?"open":"closed","data-focus":E(T),"data-disabled":E(h),"data-invalid":E(u)}))},getPositionerProps(){return t.element(y(g({},Ke.positioner.attrs),{dir:i("dir"),id:Ju(a),style:f.floating}))},getInputProps(){return t.input(y(g({},Ke.input.attrs),{dir:i("dir"),"aria-invalid":X(u),"data-invalid":E(u),"data-autofocus":E(i("autoFocus")),name:i("name"),form:i("form"),disabled:h,required:i("required"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:v,placeholder:i("placeholder"),id:Ws(a),type:"text",role:"combobox",defaultValue:n.get("inputValue"),"aria-autocomplete":o("autoComplete")?"both":"list","aria-controls":Ks(a),"aria-expanded":I,"data-state":I?"open":"closed","aria-activedescendant":b?Ku(a,b):void 0,onClick(P){P.defaultPrevented||i("openOnClick")&&m&&s({type:"INPUT.CLICK",src:"input-click"})},onFocus(){h||s({type:"INPUT.FOCUS"})},onBlur(){h||s({type:"INPUT.BLUR"})},onChange(P){s({type:"INPUT.CHANGE",value:P.currentTarget.value,src:"input-change"})},onKeyDown(P){if(P.defaultPrevented||!m||P.ctrlKey||P.shiftKey||Re(P))return;let V=i("openOnKeyPress"),A=P.ctrlKey||P.metaKey||P.shiftKey,x=!0,N={ArrowDown($){!V&&!I||(s({type:$.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:x,src:"arrow-key"}),$.preventDefault())},ArrowUp(){!V&&!I||(s({type:P.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:x,src:"arrow-key"}),P.preventDefault())},Home($){A||(s({type:"INPUT.HOME",keypress:x}),I&&$.preventDefault())},End($){A||(s({type:"INPUT.END",keypress:x}),I&&$.preventDefault())},Enter($){var Se;s({type:"INPUT.ENTER",keypress:x,src:"item-select"});let te=o("isCustomValue")&&i("allowCustomValue"),J=b!=null,ie=i("alwaysSubmitOnEnter");if(I&&!te&&!ie&&J&&$.preventDefault(),b==null)return;let Q=Ni(a,b);st(Q)&&((Se=i("navigate"))==null||Se({value:b,node:Q,href:Q.href}))},Escape(){s({type:"INPUT.ESCAPE",keypress:x,src:"escape-key"}),P.preventDefault()}},k=ge(P,{dir:i("dir")}),D=N[k];D==null||D(P)}}))},getTriggerProps(P={}){return t.button(y(g({},Ke.trigger.attrs),{dir:i("dir"),id:Qu(a),"aria-haspopup":w?"listbox":"dialog",type:"button",tabIndex:P.focusable?void 0:-1,"aria-label":c.triggerLabel,"aria-expanded":I,"data-state":I?"open":"closed","aria-controls":I?Ks(a):void 0,disabled:h,"data-invalid":E(u),"data-focusable":E(P.focusable),"data-readonly":E(v),"data-disabled":E(h),onFocus(){P.focusable&&s({type:"INPUT.FOCUS",src:"trigger"})},onClick(V){V.defaultPrevented||m&&fe(V)&&s({type:"TRIGGER.CLICK",src:"trigger-click"})},onPointerDown(V){m&&V.pointerType!=="touch"&&fe(V)&&(V.preventDefault(),queueMicrotask(()=>{var A;(A=Kn(a))==null||A.focus({preventScroll:!0})}))},onKeyDown(V){if(V.defaultPrevented||w)return;let A={ArrowDown(){s({type:"INPUT.ARROW_DOWN",src:"arrow-key"})},ArrowUp(){s({type:"INPUT.ARROW_UP",src:"arrow-key"})}},x=ge(V,{dir:i("dir")}),N=A[x];N&&(N(V),V.preventDefault())}}))},getContentProps(){return t.element(y(g({},Ke.content.attrs),{dir:i("dir"),id:Ks(a),role:w?"listbox":"dialog",tabIndex:-1,hidden:!I,"data-state":I?"open":"closed","data-placement":n.get("currentPlacement"),"aria-labelledby":_o(a),"aria-multiselectable":i("multiple")&&w?!0:void 0,"data-empty":E(d.size===0),onPointerDown(P){fe(P)&&P.preventDefault()}}))},getListProps(){return t.element(y(g({},Ke.list.attrs),{role:w?void 0:"listbox","data-empty":E(d.size===0),"aria-labelledby":_o(a),"aria-multiselectable":i("multiple")&&!w?!0:void 0}))},getClearTriggerProps(){return t.button(y(g({},Ke.clearTrigger.attrs),{dir:i("dir"),id:eh(a),type:"button",tabIndex:-1,disabled:h,"data-invalid":E(u),"aria-label":c.clearTriggerLabel,"aria-controls":Ws(a),hidden:!n.get("value").length,onPointerDown(P){fe(P)&&P.preventDefault()},onClick(P){P.defaultPrevented||m&&s({type:"VALUE.CLEAR",src:"clear-trigger"})}}))},getItemState:S,getItemProps(P){let V=S(P),A=V.value;return t.element(y(g({},Ke.item.attrs),{dir:i("dir"),id:Ku(a,A),role:"option",tabIndex:-1,"data-highlighted":E(V.highlighted),"data-state":V.selected?"checked":"unchecked","aria-selected":X(V.highlighted),"aria-disabled":X(V.disabled),"data-disabled":E(V.disabled),"data-value":V.value,onPointerMove(){V.disabled||V.highlighted||s({type:"ITEM.POINTER_MOVE",value:A})},onPointerLeave(){if(P.persistFocus||V.disabled)return;let x=l.previous();x!=null&&x.type.includes("POINTER")&&s({type:"ITEM.POINTER_LEAVE",value:A})},onClick(x){ir(x)||Mn(x)||ui(x)||V.disabled||s({type:"ITEM.CLICK",src:"item-select",value:A})}}))},getItemTextProps(P){let V=S(P);return t.element(y(g({},Ke.itemText.attrs),{dir:i("dir"),"data-state":V.selected?"checked":"unchecked","data-disabled":E(V.disabled),"data-highlighted":E(V.highlighted)}))},getItemIndicatorProps(P){let V=S(P);return t.element(y(g({"aria-hidden":!0},Ke.itemIndicator.attrs),{dir:i("dir"),"data-state":V.selected?"checked":"unchecked",hidden:!V.selected}))},getItemGroupProps(P){let{id:V}=P;return t.element(y(g({},Ke.itemGroup.attrs),{dir:i("dir"),id:TI(a,V),"aria-labelledby":Wu(a,V),"data-empty":E(d.size===0),role:"group"}))},getItemGroupLabelProps(P){let{htmlFor:V}=P;return t.element(y(g({},Ke.itemGroupLabel.attrs),{dir:i("dir"),id:Wu(a,V),role:"presentation"}))}}}function Xu(e){return(e.previousEvent||e).src}function $I(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function HI(e){let t={};for(let[n,i]of Object.entries(e)){let r=$I(n);t[r]=i}return t}var CI,Ke,zs,SI,_o,Zu,Ws,Ks,Ju,Qu,eh,TI,Wu,Ku,Wn,Kn,zu,Yu,Pr,OI,Ni,ju,wI,xI,AI,NI,we,tt,kI,RI,lx,DI,cx,LI,dx,MI,ux,FI,BI,nh=re(()=>{"use strict";vr();Ir();qn();se();CI=U("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),Ke=CI.build(),zs=e=>new kt(e);zs.empty=()=>new kt({items:[]});SI=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`combobox:${e.id}`},_o=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`combobox:${e.id}:label`},Zu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`combobox:${e.id}:control`},Ws=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`combobox:${e.id}:input`},Ks=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`combobox:${e.id}:content`},Ju=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`combobox:${e.id}:popper`},Qu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`combobox:${e.id}:toggle-btn`},eh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`combobox:${e.id}:clear-btn`},TI=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:optgroup:${t}`},Wu=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:optgroup-label:${t}`},Ku=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:option:${t}`},Wn=e=>e.getById(Ks(e)),Kn=e=>e.getById(Ws(e)),zu=e=>e.getById(Ju(e)),Yu=e=>e.getById(Zu(e)),Pr=e=>e.getById(Qu(e)),OI=e=>e.getById(eh(e)),Ni=(e,t)=>{if(t==null)return null;let n=`[role=option][data-value="${CSS.escape(t)}"]`;return mi(Wn(e),n)},ju=e=>{let t=Kn(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})},wI=e=>{let t=Pr(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})};({guards:xI,createMachine:AI,choose:NI}=dt()),{and:we,not:tt}=xI,kI=AI({props({props:e}){return y(g({loopFocus:!0,openOnClick:!1,defaultValue:[],defaultInputValue:"",closeOnSelect:!e.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:e.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:t}){fi(t)},collection:zs.empty()},e),{positioning:g({placement:"bottom",sameWidth:!0},e.positioning),translations:g({triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value"},e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"suggesting":"idle"},context({prop:e,bindable:t,getContext:n,getEvent:i}){return{currentPlacement:t(()=>({defaultValue:void 0})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:me,hash(r){return r.join(",")},onChange(r){var c;let s=n(),a=s.get("selectedItems"),o=e("collection"),l=r.map(d=>a.find(m=>o.getItemValue(m)===d)||o.find(d));s.set("selectedItems",l),(c=e("onValueChange"))==null||c({value:r,items:l})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(r){var a;let s=e("collection").find(r);(a=e("onHighlightChange"))==null||a({highlightedValue:r,highlightedItem:s})}})),inputValue:t(()=>{let r=e("inputValue")||e("defaultInputValue"),s=e("value")||e("defaultValue");if(!r.trim()&&!e("multiple")){let a=e("collection").stringifyMany(s);r=Ce(e("selectionBehavior"),{preserve:r||a,replace:a,clear:""})}return{defaultValue:r,value:e("inputValue"),onChange(a){var c;let o=i(),l=(o.previousEvent||o).src;(c=e("onInputValueChange"))==null||c({inputValue:a,reason:l})}}}),highlightedItem:t(()=>{let r=e("highlightedValue");return{defaultValue:e("collection").find(r)}}),selectedItems:t(()=>{let r=e("value")||e("defaultValue")||[];return{defaultValue:e("collection").findMany(r)}})}},computed:{isInputValueEmpty:({context:e})=>e.get("inputValue").length===0,isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),autoComplete:({prop:e})=>e("inputBehavior")==="autocomplete",autoHighlight:({prop:e})=>e("inputBehavior")==="autohighlight",hasSelectedItems:({context:e})=>e.get("value").length>0,valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems")),isCustomValue:({context:e,computed:t})=>e.get("inputValue")!==t("valueAsString")},watch({context:e,prop:t,track:n,action:i,send:r}){n([()=>e.hash("value")],()=>{i(["syncSelectedItems"])}),n([()=>e.get("inputValue")],()=>{i(["syncInputValue"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem","autofillInputValue"])}),n([()=>t("open")],()=>{i(["toggleVisibility"])}),n([()=>t("collection").toString()],()=>{r({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:NI([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:we("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:we("isCustomValue",tt("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:we("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:we("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:we("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:we("isOpenControlled","isCustomValue",tt("hasHighlightedItem"),tt("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",tt("hasHighlightedItem"),tt("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:we("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:we("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:we("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:we("isOpenControlled","isCustomValue",tt("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",tt("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:we("isHighlightedItemRemoved","hasCollectionItems","autoHighlight"),actions:["clearHighlightedValue","highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{guard:"autoHighlight",actions:["highlightFirstItem"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:we("isOpenControlled","isCustomValue",tt("hasHighlightedItem"),tt("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",tt("hasHighlightedItem"),tt("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:we("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:we("isOpenControlled","isCustomValue",tt("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",tt("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:we("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:e})=>e("isInputValueEmpty"),autoComplete:({computed:e,prop:t})=>e("autoComplete")&&!t("multiple"),autoHighlight:({computed:e})=>e("autoHighlight"),isFirstItemHighlighted:({prop:e,context:t})=>e("collection").firstValue===t.get("highlightedValue"),isLastItemHighlighted:({prop:e,context:t})=>e("collection").lastValue===t.get("highlightedValue"),isCustomValue:({computed:e})=>e("isCustomValue"),allowCustomValue:({prop:e})=>!!e("allowCustomValue"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null,openOnChange:({prop:e,context:t})=>{let n=e("openOnChange");return Gc(n)?n:!!(n!=null&&n({inputValue:t.get("inputValue")}))},restoreFocus:({event:e})=>{var n,i;let t=(i=e.restoreFocus)!=null?i:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null?!0:!!t},isChangeEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INPUT.CHANGE"},autoFocus:({prop:e})=>!!e("autoFocus"),isHighlightedItemRemoved:({prop:e,context:t})=>!e("collection").has(t.get("highlightedValue")),hasCollectionItems:({prop:e})=>e("collection").size>0},effects:{trackDismissableLayer({send:e,prop:t,scope:n}){return t("disableLayer")?void 0:Ft(()=>Wn(n),{type:"listbox",defer:!0,exclude:()=>[Kn(n),Pr(n),OI(n)],onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside:t("onInteractOutside"),onEscapeKeyDown(r){r.preventDefault(),r.stopPropagation(),e({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){e({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},trackPlacement({context:e,prop:t,scope:n}){let i=()=>Yu(n)||Pr(n),r=()=>zu(n);return e.set("currentPlacement",t("positioning").placement),It(i,r,y(g({},t("positioning")),{defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n,event:i}){let r=Kn(n),s=[],a=c=>{let d=i.current().type.includes("POINTER"),h=e.get("highlightedValue");if(d||!h)return;let m=Wn(n),u=t("scrollToIndexFn");if(u){let I=t("collection").indexOf(h);u({index:I,immediate:c,getElement:()=>Ni(n,h)});return}let p=Ni(n,h),v=H(()=>{Xt(p,{rootEl:m,block:"nearest"})});s.push(v)},o=H(()=>a(!0));s.push(o);let l=ot(r,{attributes:["aria-activedescendant"],callback:()=>a(!1)});return s.push(l),()=>{s.forEach(c=>c())}}},actions:{reposition({context:e,prop:t,scope:n,event:i}){It(()=>Yu(n),()=>zu(n),y(g(g({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(a){e.set("currentPlacement",a.placement)}}))},setHighlightedValue({context:e,event:t}){t.value!=null&&e.set("highlightedValue",t.value)},clearHighlightedValue({context:e}){e.set("highlightedValue",null)},selectHighlightedItem(e){var o;let{context:t,prop:n}=e,i=n("collection"),r=t.get("highlightedValue");if(!r||!i.has(r))return;let s=n("multiple")?yt(t.get("value"),r):[r];(o=n("onSelect"))==null||o({value:s,itemValue:r}),t.set("value",s);let a=Ce(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(s),clear:""});t.set("inputValue",a)},scrollToHighlightedItem({context:e,prop:t,scope:n}){Fn(()=>{let i=e.get("highlightedValue");if(i==null)return;let r=Ni(n,i),s=Wn(n),a=t("scrollToIndexFn");if(a){let o=t("collection").indexOf(i);a({index:o,immediate:!0,getElement:()=>Ni(n,i)});return}Xt(r,{rootEl:s,block:"nearest"})})},selectItem(e){let{context:t,event:n,flush:i,prop:r}=e;n.value!=null&&i(()=>{var o;let s=r("multiple")?yt(t.get("value"),n.value):[n.value];(o=r("onSelect"))==null||o({value:s,itemValue:n.value}),t.set("value",s);let a=Ce(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});t.set("inputValue",a)})},clearItem(e){let{context:t,event:n,flush:i,prop:r}=e;n.value!=null&&i(()=>{let s=ct(t.get("value"),n.value);t.set("value",s);let a=Ce(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});t.set("inputValue",a)})},setInitialFocus({scope:e}){H(()=>{ju(e)})},setFinalFocus({scope:e}){H(()=>{let t=Pr(e);(t==null?void 0:t.dataset.focusable)==null?ju(e):wI(e)})},syncInputValue({context:e,scope:t,event:n}){let i=Kn(t);i&&(i.value=e.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&er(i)}))},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearInputValue({context:e}){e.set("inputValue","")},revertInputValue({context:e,prop:t,computed:n}){let i=t("selectionBehavior"),r=Ce(i,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:e.get("inputValue"),clear:""});e.set("inputValue",r)},setValue(e){let{context:t,flush:n,event:i,prop:r}=e;n(()=>{t.set("value",i.value);let s=Ce(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(i.value),clear:""});t.set("inputValue",s)})},clearSelectedItems(e){let{context:t,flush:n,prop:i}=e;n(()=>{t.set("value",[]);let r=Ce(i("selectionBehavior"),{preserve:t.get("inputValue"),replace:i("collection").stringifyMany([]),clear:""});t.set("inputValue",r)})},scrollContentToTop({prop:e,scope:t}){let n=e("scrollToIndexFn");if(n){let i=e("collection").firstValue;n({index:0,immediate:!0,getElement:()=>Ni(t,i)})}else{let i=Wn(t);if(!i)return;i.scrollTop=0}},invokeOnOpen({prop:e,event:t,context:n}){var r;let i=Xu(t);(r=e("onOpenChange"))==null||r({open:!0,reason:i,value:n.get("value")})},invokeOnClose({prop:e,event:t,context:n}){var r;let i=Xu(t);(r=e("onOpenChange"))==null||r({open:!1,reason:i,value:n.get("value")})},highlightFirstItem({context:e,prop:t,scope:n}){(Wn(n)?queueMicrotask:H)(()=>{let r=t("collection").firstValue;r&&e.set("highlightedValue",r)})},highlightFirstItemIfNeeded({computed:e,action:t}){e("autoHighlight")&&t(["highlightFirstItem"])},highlightLastItem({context:e,prop:t,scope:n}){(Wn(n)?queueMicrotask:H)(()=>{let r=t("collection").lastValue;r&&e.set("highlightedValue",r)})},highlightNextItem({context:e,prop:t}){let n=null,i=e.get("highlightedValue"),r=t("collection");i?(n=r.getNextValue(i),!n&&t("loopFocus")&&(n=r.firstValue)):n=r.firstValue,n&&e.set("highlightedValue",n)},highlightPrevItem({context:e,prop:t}){let n=null,i=e.get("highlightedValue"),r=t("collection");i?(n=r.getPreviousValue(i),!n&&t("loopFocus")&&(n=r.lastValue)):n=r.lastValue,n&&e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t}){H(()=>{let[n]=t("collection").sort(e.get("value"));n&&e.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let i=null;n("hasSelectedItems")?i=t("collection").sort(e.get("value"))[0]:i=t("collection").firstValue,i&&e.set("highlightedValue",i)})},highlightLastOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let i=t("collection"),r=null;n("hasSelectedItems")?r=i.sort(e.get("value"))[0]:r=i.lastValue,r&&e.set("highlightedValue",r)})},autofillInputValue({context:e,computed:t,prop:n,event:i,scope:r}){let s=Kn(r),a=n("collection");if(!t("autoComplete")||!s||!i.keypress)return;let o=a.stringify(e.get("highlightedValue"));H(()=>{s.value=o||e.get("inputValue")})},syncSelectedItems(e){queueMicrotask(()=>{let{context:t,prop:n}=e,i=n("collection"),r=t.get("value"),s=r.map(o=>t.get("selectedItems").find(c=>i.getItemValue(c)===o)||i.find(o));t.set("selectedItems",s);let a=Ce(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(r),clear:""});t.set("inputValue",a)})},syncHighlightedItem({context:e,prop:t}){let n=t("collection").find(e.get("highlightedValue"));e.set("highlightedItem",n)},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});RI=_()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]),lx=B(RI),DI=_()(["htmlFor"]),cx=B(DI),LI=_()(["id"]),dx=B(LI),MI=_()(["item","persistFocus"]),ux=B(MI),FI=class extends K{constructor(){super(...arguments);Y(this,"options",[]);Y(this,"allOptions",[]);Y(this,"hasGroups",!1)}setAllOptions(t){this.allOptions=t,this.options=t}getCollection(){let t=this.options||this.allOptions||[];return this.hasGroups?zs({items:t,itemToValue:n=>{var i;return(i=n.id)!=null?i:""},itemToString:n=>n.label,isItemDisabled:n=>{var i;return(i=n.disabled)!=null?i:!1},groupBy:n=>n.group}):zs({items:t,itemToValue:n=>{var i;return(i=n.id)!=null?i:""},itemToString:n=>n.label,isItemDisabled:n=>{var i;return(i=n.disabled)!=null?i:!1}})}initMachine(t){let n=this.getCollection.bind(this);return new W(kI,y(g({},t),{get collection(){return n()},onOpenChange:i=>{i.open&&(this.options=this.allOptions),t.onOpenChange&&t.onOpenChange(i)},onInputValueChange:i=>{let r=this.allOptions.filter(s=>s.label.toLowerCase().includes(i.inputValue.toLowerCase()));this.options=r.length>0?r:this.allOptions,t.onInputValueChange&&t.onInputValueChange(i)}}))}initApi(){return VI(this.machine.service,q)}renderItems(){var a,o,l;let t=this.el.querySelector('[data-scope="combobox"][data-part="content"]');if(!t)return;let n=this.el.querySelector('[data-templates="combobox"]');if(!n)return;t.querySelectorAll('[data-scope="combobox"][data-part="item"]:not([data-template])').forEach(c=>c.remove()),t.querySelectorAll('[data-scope="combobox"][data-part="item-group"]:not([data-template])').forEach(c=>c.remove());let i=this.api.collection.items,r=(l=(o=(a=this.api.collection).group)==null?void 0:o.call(a))!=null?l:[];r.some(([c])=>c!=null)?this.renderGroupedItems(t,n,r):this.renderFlatItems(t,n,i)}renderGroupedItems(t,n,i){for(let[r,s]of i){if(r==null)continue;let a=n.querySelector(`[data-scope="combobox"][data-part="item-group"][data-id="${r}"][data-template]`);if(!a)continue;let o=a.cloneNode(!0);o.removeAttribute("data-template"),this.spreadProps(o,this.api.getItemGroupProps({id:r}));let l=o.querySelector('[data-scope="combobox"][data-part="item-group-label"]');l&&this.spreadProps(l,this.api.getItemGroupLabelProps({htmlFor:r}));let c=o.querySelector('[data-scope="combobox"][data-part="item-group-content"]');if(c){c.innerHTML="";for(let d of s){let h=this.cloneItem(n,d);h&&c.appendChild(h)}t.appendChild(o)}}}renderFlatItems(t,n,i){for(let r of i){let s=this.cloneItem(n,r);s&&t.appendChild(s)}}cloneItem(t,n){let i=this.api.collection.getItemValue(n),r=t.querySelector(`[data-scope="combobox"][data-part="item"][data-value="${i}"][data-template]`);if(!r)return null;let s=r.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemProps({item:n}));let a=s.querySelector('[data-scope="combobox"][data-part="item-text"]');a&&(this.spreadProps(a,this.api.getItemTextProps({item:n})),a.children.length===0&&(a.textContent=n.label||""));let o=s.querySelector('[data-scope="combobox"][data-part="item-indicator"]');return o&&this.spreadProps(o,this.api.getItemIndicatorProps({item:n})),s}render(){let t=this.el.querySelector('[data-scope="combobox"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps()),["label","control","input","trigger","clear-trigger","positioner"].forEach(i=>{let r=this.el.querySelector(`[data-scope="combobox"][data-part="${i}"]`);if(!r)return;let s="get"+i.split("-").map(a=>a[0].toUpperCase()+a.slice(1)).join("")+"Props";this.spreadProps(r,this.api[s]())});let n=this.el.querySelector('[data-scope="combobox"][data-part="content"]');n&&(this.spreadProps(n,this.api.getContentProps()),this.renderItems())}};BI={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=JSON.parse(e.dataset.collection||"[]"),i=n.some(o=>o.group!==void 0),r=y(g({id:e.id},C(e,"controlled")?{value:Z(e,"value")}:{defaultValue:Z(e,"defaultValue")}),{disabled:C(e,"disabled"),placeholder:O(e,"placeholder"),alwaysSubmitOnEnter:C(e,"alwaysSubmitOnEnter"),autoFocus:C(e,"autoFocus"),closeOnSelect:C(e,"closeOnSelect"),dir:O(e,"dir",["ltr","rtl"]),inputBehavior:O(e,"inputBehavior",["autohighlight","autocomplete","none"]),loopFocus:C(e,"loopFocus"),multiple:C(e,"multiple"),invalid:C(e,"invalid"),allowCustomValue:!1,selectionBehavior:"replace",name:O(e,"name"),form:O(e,"form"),readOnly:C(e,"readOnly"),required:C(e,"required"),positioning:(()=>{let o=e.dataset.positioning;if(o)try{let l=JSON.parse(o);return HI(l)}catch(l){return}})(),onOpenChange:o=>{let l=O(e,"onOpenChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{open:o.open,reason:o.reason,value:o.value,id:e.id});let c=O(e,"onOpenChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:C(e,"bubble"),detail:{open:o.open,reason:o.reason,value:o.value,id:e.id}}))},onInputValueChange:o=>{let l=O(e,"onInputValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{value:o.inputValue,reason:o.reason,id:e.id});let c=O(e,"onInputValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:C(e,"bubble"),detail:{value:o.inputValue,reason:o.reason,id:e.id}}))},onValueChange:o=>{let l=e.querySelector('[data-scope="combobox"][data-part="value-input"]');if(l){let h=o.value.length===0?"":o.value.length===1?String(o.value[0]):o.value.map(String).join(",");l.value=h;let m=l.getAttribute("form"),u=null;m?u=document.getElementById(m):u=l.closest("form");let p=new Event("change",{bubbles:!0,cancelable:!0});l.dispatchEvent(p);let v=new Event("input",{bubbles:!0,cancelable:!0});l.dispatchEvent(v),u&&u.hasAttribute("phx-change")&&requestAnimationFrame(()=>{let I=u.querySelector("input, select, textarea");if(I){let T=new Event("change",{bubbles:!0,cancelable:!0});I.dispatchEvent(T)}else{let T=new Event("change",{bubbles:!0,cancelable:!0});u.dispatchEvent(T)}})}let c=O(e,"onValueChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(c,{value:o.value,items:o.items,id:e.id});let d=O(e,"onValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:C(e,"bubble"),detail:{value:o.value,items:o.items,id:e.id}}))}}),s=new FI(e,r);s.hasGroups=i,s.setAllOptions(n),s.init();let a=C(e,"controlled")?Z(e,"value"):Z(e,"defaultValue");if(a&&a.length>0){let o=n.filter(l=>{var c;return a.includes((c=l.id)!=null?c:"")});if(o.length>0){let l=o.map(c=>{var d;return(d=c.label)!=null?d:""}).join(", ");if(s.api&&typeof s.api.setInputValue=="function")s.api.setInputValue(l);else{let c=e.querySelector('[data-scope="combobox"][data-part="input"]');c&&(c.value=l)}}}this.combobox=s,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);if(this.combobox){this.combobox.hasGroups=t,this.combobox.setAllOptions(e),this.combobox.updateProps(y(g({},C(this.el,"controlled")?{value:Z(this.el,"value")}:{defaultValue:Z(this.el,"defaultValue")}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:C(this.el,"disabled"),multiple:C(this.el,"multiple"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:C(this.el,"invalid"),required:C(this.el,"required"),readOnly:C(this.el,"readOnly")}));let n=this.el.querySelector('[data-scope="combobox"][data-part="input"]');n&&(n.removeAttribute("name"),n.removeAttribute("form"),n.name="")}},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.combobox)==null||e.destroy()}}});var Qh={};he(Qh,{DatePicker:()=>NC});function Go(e,t){return e-t*Math.floor(e/t)}function Ys(e,t,n,i){t=sl(e,t);let r=t-1,s=-2;return n<=2?s=0:ta(t)&&(s=-1),yh-1+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)+Math.floor((367*n-362)/12+s+i)}function ta(e){return e%4===0&&(e%100!==0||e%400===0)}function sl(e,t){return e==="BC"?1-t:t}function _I(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}function Xn(e,t){return t=it(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function qI(e,t){return t=it(t,e.calendar),e=nn(e),t=nn(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function WI(e,t){return t=it(t,e.calendar),e=Tr(e),t=Tr(t),e.era===t.era&&e.year===t.year}function KI(e,t){return sa(e.calendar,t.calendar)&&Xn(e,t)}function zI(e,t){return sa(e.calendar,t.calendar)&&qI(e,t)}function YI(e,t){return sa(e.calendar,t.calendar)&&WI(e,t)}function sa(e,t){var n,i,r,s;return(s=(r=(n=e.isEqual)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:(i=t.isEqual)===null||i===void 0?void 0:i.call(t,e))!==null&&s!==void 0?s:e.identifier===t.identifier}function jI(e,t){return Xn(e,aa(t))}function bh(e,t,n){let i=e.calendar.toJulianDay(e),r=n?XI[n]:QI(t),s=Math.ceil(i+1-r)%7;return s<0&&(s+=7),s}function Eh(e){return rn(Date.now(),e)}function aa(e){return zn(Eh(e))}function Ih(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function ZI(e,t){return ih(e)-ih(t)}function ih(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}function al(){return Uo==null&&(Uo=new Intl.DateTimeFormat().resolvedOptions().timeZone),Uo}function nn(e){return e.subtract({days:e.day-1})}function Xo(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function Tr(e){return nn(e.subtract({months:e.month-1}))}function JI(e){return Xo(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function Or(e,t,n){let i=bh(e,t,n);return e.subtract({days:i})}function rh(e,t,n){return Or(e,t,n).add({days:6})}function Ph(e){if(Intl.Locale){let n=sh.get(e);return n||(n=new Intl.Locale(e).maximize().region,n&&sh.set(e,n)),n}let t=e.split("-")[1];return t==="u"?void 0:t}function QI(e){let t=qo.get(e);if(!t){if(Intl.Locale){let i=new Intl.Locale(e);if("getWeekInfo"in i&&(t=i.getWeekInfo(),t))return qo.set(e,t),t.firstDay}let n=Ph(e);if(e.includes("-fw-")){let i=e.split("-fw-")[1].split("-")[0];i==="mon"?t={firstDay:1}:i==="tue"?t={firstDay:2}:i==="wed"?t={firstDay:3}:i==="thu"?t={firstDay:4}:i==="fri"?t={firstDay:5}:i==="sat"?t={firstDay:6}:t={firstDay:0}}else e.includes("-ca-iso8601")?t={firstDay:1}:t={firstDay:n&&UI[n]||0};qo.set(e,t)}return t.firstDay}function eP(e,t,n){let i=e.calendar.getDaysInMonth(e);return Math.ceil((bh(nn(e),t,n)+i)/7)}function Ch(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function Sh(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function nP(e,t){let n=e.calendar.toJulianDay(e),i=Math.ceil(n+1)%7;i<0&&(i+=7);let r=Ph(t),[s,a]=tP[r]||[6,0];return i===s||i===a}function Mi(e){e=it(e,new Li);let t=sl(e.era,e.year);return Th(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function Th(e,t,n,i,r,s,a){let o=new Date;return o.setUTCHours(i,r,s,a),o.setUTCFullYear(e,t-1,n),o.getTime()}function Zo(e,t){if(t==="UTC")return 0;if(e>0&&t===al())return new Date(e).getTimezoneOffset()*-6e4;let{year:n,month:i,day:r,hour:s,minute:a,second:o}=Oh(e,t);return Th(n,i,r,s,a,o,0)-Math.floor(e/1e3)*1e3}function Oh(e,t){let n=ah.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),ah.set(t,n));let i=n.formatToParts(new Date(e)),r={};for(let s of i)s.type!=="literal"&&(r[s.type]=s.value);return{year:r.era==="BC"||r.era==="B"?-r.year+1:+r.year,month:+r.month,day:+r.day,hour:r.hour==="24"?0:+r.hour,minute:+r.minute,second:+r.second}}function iP(e,t,n,i){return(n===i?[n]:[n,i]).filter(s=>rP(e,t,s))}function rP(e,t,n){let i=Oh(n,t);return e.year===i.year&&e.month===i.month&&e.day===i.day&&e.hour===i.hour&&e.minute===i.minute&&e.second===i.second}function tn(e,t,n="compatible"){let i=Yn(e);if(t==="UTC")return Mi(i);if(t===al()&&n==="compatible"){i=it(i,new Li);let l=new Date,c=sl(i.era,i.year);return l.setFullYear(c,i.month-1,i.day),l.setHours(i.hour,i.minute,i.second,i.millisecond),l.getTime()}let r=Mi(i),s=Zo(r-oh,t),a=Zo(r+oh,t),o=iP(i,t,r-s,r-a);if(o.length===1)return o[0];if(o.length>1)switch(n){case"compatible":case"earlier":return o[0];case"later":return o[o.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(r-s,r-a);case"compatible":case"later":return Math.max(r-s,r-a);case"reject":throw new RangeError("No such absolute time found")}}function wh(e,t,n="compatible"){return new Date(tn(e,t,n))}function rn(e,t){let n=Zo(e,t),i=new Date(e+n),r=i.getUTCFullYear(),s=i.getUTCMonth()+1,a=i.getUTCDate(),o=i.getUTCHours(),l=i.getUTCMinutes(),c=i.getUTCSeconds(),d=i.getUTCMilliseconds();return new Lh(r<1?"BC":"AD",r<1?-r+1:r,s,a,t,n,o,l,c,d)}function zn(e){return new Fi(e.calendar,e.era,e.year,e.month,e.day)}function Yn(e,t){let n=0,i=0,r=0,s=0;if("timeZone"in e)({hour:n,minute:i,second:r,millisecond:s}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:i,second:r,millisecond:s}=t),new TP(e.calendar,e.era,e.year,e.month,e.day,n,i,r,s)}function it(e,t){if(sa(e.calendar,t))return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),i=e.copy();return i.calendar=t,i.era=n.era,i.year=n.year,i.month=n.month,i.day=n.day,jn(i),i}function sP(e,t,n){if(e instanceof Lh)return e.timeZone===t?e:oP(e,t);let i=tn(e,t,n);return rn(i,t)}function aP(e){let t=Mi(e)-e.offset;return new Date(t)}function oP(e,t){let n=Mi(e)-e.offset;return it(rn(n,t),e.calendar)}function oa(e,t){let n=e.copy(),i="hour"in n?uP(n,t):0;Jo(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,Qo(n),Vh(n),n.day+=(t.weeks||0)*7,n.day+=t.days||0,n.day+=i,lP(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let r=n.calendar.getYearsInEra(n);if(n.year>r){var s,a;let l=(s=(a=n.calendar).isInverseEra)===null||s===void 0?void 0:s.call(a,n);n.year=r,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let o=n.calendar.getMonthsInYear(n);return n.month>o&&(n.month=o,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function Jo(e,t){var n,i;!((n=(i=e.calendar).isInverseEra)===null||n===void 0)&&n.call(i,e)&&(t=-t),e.year+=t}function Qo(e){for(;e.month<1;)Jo(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,Jo(e,1)}function lP(e){for(;e.day<1;)e.month--,Qo(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Qo(e)}function Vh(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function jn(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),Vh(e)}function xh(e){let t={};for(let n in e)typeof e[n]=="number"&&(t[n]=-e[n]);return t}function Ah(e,t){return oa(e,xh(t))}function ol(e,t){let n=e.copy();return t.era!=null&&(n.era=t.era),t.year!=null&&(n.year=t.year),t.month!=null&&(n.month=t.month),t.day!=null&&(n.day=t.day),jn(n),n}function ra(e,t){let n=e.copy();return t.hour!=null&&(n.hour=t.hour),t.minute!=null&&(n.minute=t.minute),t.second!=null&&(n.second=t.second),t.millisecond!=null&&(n.millisecond=t.millisecond),dP(n),n}function cP(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=js(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=js(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=js(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=js(e.hour,24),t}function dP(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function js(e,t){let n=e%t;return n<0&&(n+=t),n}function uP(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,cP(e)}function ll(e,t,n,i){let r=e.copy();switch(t){case"era":{let o=e.calendar.getEras(),l=o.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=sn(l,n,0,o.length-1,i==null?void 0:i.round),r.era=o[l],jn(r);break}case"year":var s,a;!((s=(a=r.calendar).isInverseEra)===null||s===void 0)&&s.call(a,r)&&(n=-n),r.year=sn(e.year,n,-1/0,9999,i==null?void 0:i.round),r.year===-1/0&&(r.year=1),r.calendar.balanceYearMonth&&r.calendar.balanceYearMonth(r,e);break;case"month":r.month=sn(e.month,n,1,e.calendar.getMonthsInYear(e),i==null?void 0:i.round);break;case"day":r.day=sn(e.day,n,1,e.calendar.getDaysInMonth(e),i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(r),jn(r),r}function Nh(e,t,n,i){let r=e.copy();switch(t){case"hour":{let s=e.hour,a=0,o=23;if((i==null?void 0:i.hourCycle)===12){let l=s>=12;a=l?12:0,o=l?23:11}r.hour=sn(s,n,a,o,i==null?void 0:i.round);break}case"minute":r.minute=sn(e.minute,n,0,59,i==null?void 0:i.round);break;case"second":r.second=sn(e.second,n,0,59,i==null?void 0:i.round);break;case"millisecond":r.millisecond=sn(e.millisecond,n,0,999,i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return r}function sn(e,t,n,i,r=!1){if(r){e+=Math.sign(t),e<n&&(e=i);let s=Math.abs(t);t>0?e=Math.ceil(e/s)*s:e=Math.floor(e/s)*s,e>i&&(e=n)}else e+=t,e<n?e=i-(n-e-1):e>i&&(e=n+(e-i-1));return e}function kh(e,t){let n;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let r=oa(Yn(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});n=tn(r,e.timeZone)}else n=Mi(e)-e.offset;n+=t.milliseconds||0,n+=(t.seconds||0)*1e3,n+=(t.minutes||0)*6e4,n+=(t.hours||0)*36e5;let i=rn(n,e.timeZone);return it(i,e.calendar)}function hP(e,t){return kh(e,xh(t))}function gP(e,t,n,i){switch(t){case"hour":{let r=0,s=23;if((i==null?void 0:i.hourCycle)===12){let p=e.hour>=12;r=p?12:0,s=p?23:11}let a=Yn(e),o=it(ra(a,{hour:r}),new Li),l=[tn(o,e.timeZone,"earlier"),tn(o,e.timeZone,"later")].filter(p=>rn(p,e.timeZone).day===o.day)[0],c=it(ra(a,{hour:s}),new Li),d=[tn(c,e.timeZone,"earlier"),tn(c,e.timeZone,"later")].filter(p=>rn(p,e.timeZone).day===c.day).pop(),h=Mi(e)-e.offset,m=Math.floor(h/Cr),u=h%Cr;return h=sn(m,n,Math.floor(l/Cr),Math.floor(d/Cr),i==null?void 0:i.round)*Cr+u,it(rn(h,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return Nh(e,t,n,i);case"era":case"year":case"month":case"day":{let r=ll(Yn(e),t,n,i),s=tn(r,e.timeZone);return it(rn(s,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function pP(e,t,n){let i=Yn(e),r=ra(ol(i,t),t);if(r.compare(i)===0)return e;let s=tn(r,e.timeZone,n);return it(rn(s,e.timeZone),e.calendar)}function yP(e){let t=e.match(fP);if(!t)throw mP.test(e)?new Error(`Invalid ISO 8601 date string: ${e}. Use parseAbsolute() instead.`):new Error("Invalid ISO 8601 date string: "+e);let n=new Fi(Wo(t[1],0,9999),Wo(t[2],1,12),1);return n.day=Wo(t[3],1,n.calendar.getDaysInMonth(n)),n}function Wo(e,t,n){let i=Number(e);if(i<t||i>n)throw new RangeError(`Value out of range: ${t} <= ${i} <= ${n}`);return i}function bP(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function Rh(e){let t=it(e,new Li),n;return t.era==="BC"?n=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):n=String(t.year).padStart(4,"0"),`${n}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function Dh(e){return`${Rh(e)}T${bP(e)}`}function EP(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let n=Math.floor(e/36e5),i=Math.floor(e%36e5/6e4),r=Math.floor(e%36e5%6e4/1e3),s=`${t}${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`;return r!==0&&(s+=`:${String(r).padStart(2,"0")}`),s}function IP(e){return`${Dh(e)}${EP(e.offset)}[${e.timeZone}]`}function PP(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cl(e,t,n){PP(e,t),t.set(e,n)}function dl(e){let t=typeof e[0]=="object"?e.shift():new Li,n;if(typeof e[0]=="string")n=e.shift();else{let a=t.getEras();n=a[a.length-1]}let i=e.shift(),r=e.shift(),s=e.shift();return[t,n,i,r,s]}function Mh(e,t={}){if(typeof t.hour12=="boolean"&&VP()){t=g({},t);let r=wP[String(t.hour12)][e.split("-")[0]],s=t.hour12?"h12":"h23";t.hourCycle=r!=null?r:s,delete t.hour12}let n=e+(t?Object.entries(t).sort((r,s)=>r[0]<s[0]?-1:1).join():"");if(Ko.has(n))return Ko.get(n);let i=new Intl.DateTimeFormat(e,t);return Ko.set(n,i),i}function VP(){return zo==null&&(zo=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),zo}function xP(){return Yo==null&&(Yo=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Yo}function AP(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let n=Mh(e,y(g({},t),{timeZone:void 0})),i=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(s=>s.type==="hour").value,10),r=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(s=>s.type==="hour").value,10);if(i===0&&r===23)return"h23";if(i===24&&r===23)return"h24";if(i===0&&r===11)return"h11";if(i===12&&r===11)return"h12";throw new Error("Unexpected hour cycle result")}function NP(e,t,n,i,r){let s={};for(let o in t){let l=o,c=t[l];c!=null&&(s[l]=Math.floor(c/2),s[l]>0&&c%2===0&&s[l]--)}let a=Zn(e,t,n).subtract(s);return wr(e,a,t,n,i,r)}function Zn(e,t,n,i,r){let s=e;return t.years?s=Tr(e):t.months?s=nn(e):t.weeks&&(s=Or(e,n)),wr(e,s,t,n,i,r)}function ul(e,t,n,i,r){let s=g({},t);s.days?s.days--:s.weeks?s.weeks--:s.months?s.months--:s.years&&s.years--;let a=Zn(e,t,n).subtract(s);return wr(e,a,t,n,i,r)}function wr(e,t,n,i,r,s){return r&&e.compare(r)>=0&&(t=Sh(t,Zn(zn(r),n,i))),s&&e.compare(s)<=0&&(t=Ch(t,ul(zn(s),n,i))),t}function Pt(e,t,n){let i=zn(e);return t&&(i=Sh(i,zn(t))),n&&(i=Ch(i,zn(n))),i}function lh(e,t,n,i,r,s){switch(t){case"start":return Zn(e,n,i,r,s);case"end":return ul(e,n,i,r,s);case"center":default:return NP(e,n,i,r,s)}}function nt(e,t){return e==null||t==null?e===t:Xn(e,t)}function ch(e,t,n,i,r){return e?t!=null&&t(e,n)?!0:$t(e,i,r):!1}function $t(e,t,n){return t!=null&&e.compare(t)<0||n!=null&&e.compare(n)>0}function kP(e,t,n){let i=e.subtract({days:1});return Xn(i,e)||$t(i,t,n)}function RP(e,t,n){let i=e.add({days:1});return Xn(i,e)||$t(i,t,n)}function hl(e){let t=g({},e);for(let n in t)t[n]=1;return t}function Fh(e,t){let n=g({},t);return n.days?n.days--:n.days=-1,e.add(n)}function $h(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function Hh(e,t){let n=Yn(aa(t));return new Ct(e,{weekday:"long",month:"long",year:"numeric",day:"numeric",era:$h(n),timeZone:t})}function dh(e,t){let n=aa(t);return new Ct(e,{month:"long",year:"numeric",era:$h(n),calendar:n==null?void 0:n.calendar.identifier,timeZone:t})}function DP(e,t,n,i,r){let s=n.formatRangeToParts(e.toDate(r),t.toDate(r)),a=-1;for(let c=0;c<s.length;c++){let d=s[c];if(d.source==="shared"&&d.type==="literal")a=c;else if(d.source==="endRange")break}let o="",l="";for(let c=0;c<s.length;c++)c<a?o+=s[c].value:c>a&&(l+=s[c].value);return i(o,l)}function Xs(e,t,n,i){if(!e)return"";let r=e,s=t!=null?t:e,a=Hh(n,i);return Xn(r,s)?a.format(r.toDate(i)):DP(r,s,a,(o,l)=>`${o} \u2013 ${l}`,i)}function Bh(e){return e!=null?LP[e]:void 0}function _h(e,t,n){let i=Bh(n);return Or(e,t,i)}function Gh(e,t,n,i){let r=t.add({weeks:e}),s=[],a=_h(r,n,i);for(;s.length<7;){s.push(a);let o=a.add({days:1});if(Xn(a,o))break;a=o}return s}function MP(e,t,n,i){let r=Bh(i),s=n!=null?n:eP(e,t,r);return[...new Array(s).keys()].map(o=>Gh(o,e,t,i))}function FP(e,t){let n=new Ct(e,{weekday:"long",timeZone:t}),i=new Ct(e,{weekday:"short",timeZone:t}),r=new Ct(e,{weekday:"narrow",timeZone:t});return s=>{let a=s instanceof Date?s:s.toDate(t);return{value:s,short:i.format(a),long:n.format(a),narrow:r.format(a)}}}function $P(e,t,n,i){let r=_h(e,i,t),s=[...new Array(7).keys()],a=FP(i,n);return s.map(o=>a(r.add({days:o})))}function HP(e,t="long"){let n=new Date(2021,0,1),i=[];for(let r=0;r<12;r++)i.push(n.toLocaleString(e,{month:t})),n.setMonth(n.getMonth()+1);return i}function BP(e){let t=[];for(let n=e.from;n<=e.to;n+=1)t.push(n);return t}function GP(e){if(e){if(e.length===3)return e.padEnd(4,"0");if(e.length===2){let t=new Date().getFullYear(),n=Math.floor(t/100)*100,i=parseInt(e.slice(-2),10),r=n+i;return r>t+_P?(r-100).toString():r.toString()}return e}}function Di(e,t){let n=t!=null&&t.strict?10:12,i=e-e%10,r=[];for(let s=0;s<n;s+=1){let a=i+s;r.push(a)}return r}function Ri(e){return aa(e!=null?e:al())}function Vr(e,t,n,i){return function(s){let{startDate:a,focusedDate:o}=s,l=Fh(a,e);return $t(o,n,i)?{startDate:a,focusedDate:Pt(o,n,i),endDate:l}:o.compare(a)<0?{startDate:ul(o,e,t,n,i),focusedDate:Pt(o,n,i),endDate:l}:o.compare(l)>0?{startDate:Zn(o,e,t,n,i),endDate:l,focusedDate:Pt(o,n,i)}:{startDate:a,endDate:l,focusedDate:Pt(o,n,i)}}}function Uh(e,t,n,i,r,s){let a=Vr(n,i,r,s),o=t.add(n);return a({focusedDate:e.add(n),startDate:Zn(wr(e,o,n,i,r,s),n,i)})}function qh(e,t,n,i,r,s){let a=Vr(n,i,r,s),o=t.subtract(n);return a({focusedDate:e.subtract(n),startDate:Zn(wr(e,o,n,i,r,s),n,i)})}function UP(e,t,n,i,r,s,a){let o=Vr(i,r,s,a);if(!n&&!i.days)return o({focusedDate:e.add(hl(i)),startDate:t});if(i.days)return Uh(e,t,i,r,s,a);if(i.weeks)return o({focusedDate:e.add({months:1}),startDate:t});if(i.months||i.years)return o({focusedDate:e.add({years:1}),startDate:t})}function qP(e,t,n,i,r,s,a){let o=Vr(i,r,s,a);if(!n&&!i.days)return o({focusedDate:e.subtract(hl(i)),startDate:t});if(i.days)return qh(e,t,i,r,s,a);if(i.weeks)return o({focusedDate:e.subtract({months:1}),startDate:t});if(i.months||i.years)return o({focusedDate:e.subtract({years:1}),startDate:t})}function zP(e,t,n){var c;let i=YP(t,n),{year:r,month:s,day:a}=(c=jP(i,e))!=null?c:{};if(r!=null||s!=null||a!=null){let d=new Date;r||(r=d.getFullYear().toString()),s||(s=(d.getMonth()+1).toString()),a||(a=d.getDate().toString())}if(uh(r)||(r=GP(r)),uh(r)&&WP(s)&&KP(a))return new Fi(+r,+s,+a);let l=Date.parse(e);if(!isNaN(l)){let d=new Date(l);return new Fi(d.getFullYear(),d.getMonth()+1,d.getDate())}}function YP(e,t){return new Ct(e,{day:"numeric",month:"numeric",year:"numeric",timeZone:t}).formatToParts(new Date(2e3,11,25)).map(({type:r,value:s})=>r==="literal"?`${s}?`:`((?!=<${r}>)\\d+)?`).join("")}function jP(e,t){var i;let n=t.match(e);return(i=e.toString().match(/<(.+?)>/g))==null?void 0:i.map(r=>{var a;let s=r.match(/<(.+)>/);return!s||s.length<=0?null:(a=r.match(/<(.+)>/))==null?void 0:a[1]}).reduce((r,s,a)=>(s&&(n&&n.length>a?r[s]=n[a+1]:r[s]=null),r),{})}function hh(e,t,n){let i=zn(Eh(n));switch(e){case"thisWeek":return[Or(i,t),rh(i,t)];case"thisMonth":return[nn(i),i];case"thisQuarter":return[nn(i).add({months:-((i.month-1)%3)}),i];case"thisYear":return[Tr(i),i];case"last3Days":return[i.add({days:-2}),i];case"last7Days":return[i.add({days:-6}),i];case"last14Days":return[i.add({days:-13}),i];case"last30Days":return[i.add({days:-29}),i];case"last90Days":return[i.add({days:-89}),i];case"lastMonth":return[nn(i.add({months:-1})),Xo(i.add({months:-1}))];case"lastQuarter":return[nn(i.add({months:-((i.month-1)%3)-3})),Xo(i.add({months:-((i.month-1)%3)-1}))];case"lastWeek":return[Or(i,t).add({weeks:-1}),rh(i,t).add({weeks:-1})];case"lastYear":return[Tr(i.add({years:-1})),JI(i.add({years:-1}))];default:throw new Error(`Invalid date range preset: ${e}`)}}function XP(e={}){var c;let{level:t="polite",document:n=document,root:i,delay:r=0}=e,s=(c=n.defaultView)!=null?c:window,a=i!=null?i:n.body;function o(d,h){let m=n.getElementById(Zs);m==null||m.remove(),h=h!=null?h:r;let u=n.createElement("span");u.id=Zs,u.dataset.liveAnnouncer="true";let p=t!=="assertive"?"status":"alert";u.setAttribute("aria-live",t),u.setAttribute("role",p),Object.assign(u.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),a.appendChild(u),s.setTimeout(()=>{u.textContent=d},h)}function l(){let d=n.getElementById(Zs);d==null||d.remove()}return{announce:o,destroy:l,toJSON(){return Zs}}}function rl(e){let[t,n]=e,i;return!t||!n?i=e:i=t.compare(n)<=0?e:[n,t],i}function ki(e,t){let[n,i]=t;return!n||!i?!1:n.compare(e)<=0&&i.compare(e)>=0}function Js(e){return e.slice().filter(t=>t!=null).sort((t,n)=>t.compare(n))}function lC(e){return Ce(e,{year:"calendar decade",month:"calendar year",day:"calendar month"})}function dC(e){return new Ct(e).formatToParts(new Date).map(t=>{var n;return(n=cC[t.type])!=null?n:t.value}).join("")}function hC(e){let i=new Intl.DateTimeFormat(e).formatToParts(new Date).find(r=>r.type==="literal");return i?i.value:"/"}function an(e,t){return e?e==="day"?0:e==="month"?1:2:t||0}function gl(e){return e===0?"day":e===1?"month":"year"}function pl(e,t,n){return gl(He(an(e,0),an(t,0),an(n,2)))}function pC(e,t){return an(e,0)>an(t,0)}function fC(e,t){return an(e,0)<an(t,0)}function mC(e,t,n){let i=an(e,0)+1;return pl(gl(i),t,n)}function vC(e,t,n){let i=an(e,0)-1;return pl(gl(i),t,n)}function bC(e){yC.forEach(t=>e(t))}function IC(e,t){let{state:n,context:i,prop:r,send:s,computed:a,scope:o}=e,l=i.get("startValue"),c=a("endValue"),d=i.get("value"),h=i.get("focusedValue"),m=i.get("hoveredValue"),u=m?rl([d[0],m]):[],p=!!r("disabled"),v=!!r("readOnly"),I=!!r("invalid"),T=a("isInteractive"),w=d.length===0,b=r("min"),f=r("max"),S=r("locale"),P=r("timeZone"),V=r("startOfWeek"),A=n.matches("focused"),x=n.matches("open"),N=r("selectionMode")==="range",k=r("isDateUnavailable"),D=i.get("currentPlacement"),$=Tn(y(g({},r("positioning")),{placement:D})),te=hC(S),J=g(g({},gC),r("translations"));function ie(M=l){let R=r("fixedWeeks")?6:void 0;return MP(M,S,R,V)}function Q(M={}){let{format:R}=M;return HP(S,R).map((F,G)=>{let ae=G+1,ze=h.set({month:ae}),ke=$t(ze,b,f);return{label:F,value:ae,disabled:ke}})}function Se(){var R,F;return BP({from:(R=b==null?void 0:b.year)!=null?R:1900,to:(F=f==null?void 0:f.year)!=null?F:2100}).map(G=>({label:G.toString(),value:G,disabled:!Ii(G,b==null?void 0:b.year,f==null?void 0:f.year)}))}function Pe(M){return ch(M,k,S,b,f)}function ne(M){let R=l!=null?l:Ri(P);s({type:"FOCUS.SET",value:R.set({month:M})})}function Ie(M){let R=l!=null?l:Ri(P);s({type:"FOCUS.SET",value:R.set({year:M})})}function rt(M){let{value:R,disabled:F}=M,G=h.set({year:R}),ze=!Di(l.year,{strict:!0}).includes(R),ke=Ii(R,b==null?void 0:b.year,f==null?void 0:f.year),Tt={focused:h.year===M.value,selectable:ze||ke,outsideRange:ze,selected:!!d.find(Xi=>Xi&&Xi.year===R),valueText:R.toString(),inRange:N&&(ki(G,d)||ki(G,u)),value:G,get disabled(){return F||!Tt.selectable}};return Tt}function Ut(M){let{value:R,disabled:F}=M,G=h.set({month:R}),ae=dh(S,P),ze={focused:h.month===M.value,selectable:!$t(G,b,f),selected:!!d.find(ke=>ke&&ke.month===R&&ke.year===h.year),valueText:ae.format(G.toDate(P)),inRange:N&&(ki(G,d)||ki(G,u)),value:G,get disabled(){return F||!ze.selectable}};return ze}function ji(M){let{value:R,disabled:F,visibleRange:G=a("visibleRange")}=M,ae=Hh(S,P),ze=hl(a("visibleDuration")),ke=r("outsideDaySelectable"),Tt=G.start.add(ze).subtract({days:1}),Xi=$t(R,G.start,Tt),Nf=N&&ki(R,d),kf=N&&nt(R,d[0]),Rf=N&&nt(R,d[1]),Da=N&&u.length>0,nc=Da&&ki(R,u),Df=Da&&nt(R,u[0]),Lf=Da&&nt(R,u[1]),Zi={invalid:$t(R,b,f),disabled:F||!ke&&Xi||$t(R,b,f),selected:d.some(Mf=>nt(R,Mf)),unavailable:ch(R,k,S,b,f)&&!F,outsideRange:Xi,today:jI(R,P),weekend:nP(R,S),formattedDate:ae.format(R.toDate(P)),get focused(){return nt(R,h)&&(!Zi.outsideRange||ke)},get ariaLabel(){return J.dayCell(Zi)},get selectable(){return!Zi.disabled&&!Zi.unavailable},inRange:Nf||nc,firstInRange:kf,lastInRange:Rf,inHoveredRange:nc,firstInHoveredRange:Df,lastInHoveredRange:Lf};return Zi}function Ra(M){let{view:R="day",id:F}=M;return[R,F].filter(Boolean).join(" ")}return{focused:A,open:x,disabled:p,invalid:I,readOnly:v,inline:!!r("inline"),numOfMonths:r("numOfMonths"),selectionMode:r("selectionMode"),view:i.get("view"),getRangePresetValue(M){return hh(M,S,P)},getDaysInWeek(M,R=l){return Gh(M,R,S,V)},getOffset(M){let R=l.add(M),F=c.add(M),G=dh(S,P);return{visibleRange:{start:R,end:F},weeks:ie(R),visibleRangeText:{start:G.format(R.toDate(P)),end:G.format(F.toDate(P))}}},getMonthWeeks:ie,isUnavailable:Pe,weeks:ie(),weekDays:$P(Ri(P),V,P,S),visibleRangeText:a("visibleRangeText"),value:d,valueAsDate:d.filter(M=>M!=null).map(M=>M.toDate(P)),valueAsString:a("valueAsString"),focusedValue:h,focusedValueAsDate:h==null?void 0:h.toDate(P),focusedValueAsString:r("format")(h,{locale:S,timeZone:P}),visibleRange:a("visibleRange"),selectToday(){let M=Pt(Ri(P),b,f);s({type:"VALUE.SET",value:M})},setValue(M){let R=M.map(F=>Pt(F,b,f));s({type:"VALUE.SET",value:R})},clearValue(){s({type:"VALUE.CLEAR"})},setFocusedValue(M){s({type:"FOCUS.SET",value:M})},setOpen(M){r("inline")||n.matches("open")===M||s({type:M?"OPEN":"CLOSE"})},focusMonth:ne,focusYear:Ie,getYears:Se,getMonths:Q,getYearsGrid(M={}){let{columns:R=1}=M,F=Di(l.year,{strict:!0}).map(G=>({label:G.toString(),value:G,disabled:!Ii(G,b==null?void 0:b.year,f==null?void 0:f.year)}));return lr(F,R)},getDecade(){let M=Di(l.year,{strict:!0});return{start:M.at(0),end:M.at(-1)}},getMonthsGrid(M={}){let{columns:R=1,format:F}=M;return lr(Q({format:F}),R)},format(M,R={month:"long",year:"numeric"}){return new Ct(S,R).format(M.toDate(P))},setView(M){s({type:"VIEW.SET",view:M})},goToNext(){s({type:"GOTO.NEXT",view:i.get("view")})},goToPrev(){s({type:"GOTO.PREV",view:i.get("view")})},getRootProps(){return t.element(y(g({},ue.root.attrs),{dir:r("dir"),id:QP(o),"data-state":x?"open":"closed","data-disabled":E(p),"data-readonly":E(v),"data-empty":E(w)}))},getLabelProps(M={}){let{index:R=0}=M;return t.label(y(g({},ue.label.attrs),{id:JP(o,R),dir:r("dir"),htmlFor:gh(o,R),"data-state":x?"open":"closed","data-index":R,"data-disabled":E(p),"data-readonly":E(v)}))},getControlProps(){return t.element(y(g({},ue.control.attrs),{dir:r("dir"),id:Kh(o),"data-disabled":E(p),"data-placeholder-shown":E(w)}))},getRangeTextProps(){return t.element(y(g({},ue.rangeText.attrs),{dir:r("dir")}))},getContentProps(){return t.element(y(g({},ue.content.attrs),{hidden:!x,dir:r("dir"),"data-state":x?"open":"closed","data-placement":D,"data-inline":E(r("inline")),id:il(o),tabIndex:-1,role:"application","aria-roledescription":"datepicker","aria-label":J.content}))},getTableProps(M={}){let{view:R="day",columns:F=R==="day"?7:4}=M,G=Ra(M);return t.element(y(g({},ue.table.attrs),{role:"grid","data-columns":F,"aria-roledescription":lC(R),id:eC(o,G),"aria-readonly":X(v),"aria-disabled":X(p),"aria-multiselectable":X(r("selectionMode")!=="single"),"data-view":R,dir:r("dir"),tabIndex:-1,onKeyDown(ae){if(ae.defaultPrevented)return;let ke={Enter(){R==="day"&&Pe(h)||R==="month"&&!Ut({value:h.month}).selectable||R==="year"&&!rt({value:h.year}).selectable||s({type:"TABLE.ENTER",view:R,columns:F,focus:!0})},ArrowLeft(){s({type:"TABLE.ARROW_LEFT",view:R,columns:F,focus:!0})},ArrowRight(){s({type:"TABLE.ARROW_RIGHT",view:R,columns:F,focus:!0})},ArrowUp(){s({type:"TABLE.ARROW_UP",view:R,columns:F,focus:!0})},ArrowDown(){s({type:"TABLE.ARROW_DOWN",view:R,columns:F,focus:!0})},PageUp(Tt){s({type:"TABLE.PAGE_UP",larger:Tt.shiftKey,view:R,columns:F,focus:!0})},PageDown(Tt){s({type:"TABLE.PAGE_DOWN",larger:Tt.shiftKey,view:R,columns:F,focus:!0})},Home(){s({type:"TABLE.HOME",view:R,columns:F,focus:!0})},End(){s({type:"TABLE.END",view:R,columns:F,focus:!0})}}[ge(ae,{dir:r("dir")})];ke&&(ke(ae),ae.preventDefault(),ae.stopPropagation())},onPointerLeave(){s({type:"TABLE.POINTER_LEAVE"})},onPointerDown(){s({type:"TABLE.POINTER_DOWN",view:R})},onPointerUp(){s({type:"TABLE.POINTER_UP",view:R})}}))},getTableHeadProps(M={}){let{view:R="day"}=M;return t.element(y(g({},ue.tableHead.attrs),{"aria-hidden":!0,dir:r("dir"),"data-view":R,"data-disabled":E(p)}))},getTableHeaderProps(M={}){let{view:R="day"}=M;return t.element(y(g({},ue.tableHeader.attrs),{dir:r("dir"),"data-view":R,"data-disabled":E(p)}))},getTableBodyProps(M={}){let{view:R="day"}=M;return t.element(y(g({},ue.tableBody.attrs),{"data-view":R,"data-disabled":E(p)}))},getTableRowProps(M={}){let{view:R="day"}=M;return t.element(y(g({},ue.tableRow.attrs),{"aria-disabled":X(p),"data-disabled":E(p),"data-view":R}))},getDayTableCellState:ji,getDayTableCellProps(M){let{value:R}=M,F=ji(M);return t.element(y(g({},ue.tableCell.attrs),{role:"gridcell","aria-disabled":X(!F.selectable),"aria-selected":F.selected||F.inRange,"aria-invalid":X(F.invalid),"aria-current":F.today?"date":void 0,"data-value":R.toString()}))},getDayTableCellTriggerProps(M){let{value:R}=M,F=ji(M);return t.element(y(g({},ue.tableCellTrigger.attrs),{id:jo(o,R.toString()),role:"button",dir:r("dir"),tabIndex:F.focused?0:-1,"aria-label":F.ariaLabel,"aria-disabled":X(!F.selectable),"aria-invalid":X(F.invalid),"data-disabled":E(!F.selectable),"data-selected":E(F.selected),"data-value":R.toString(),"data-view":"day","data-today":E(F.today),"data-focus":E(F.focused),"data-unavailable":E(F.unavailable),"data-range-start":E(F.firstInRange),"data-range-end":E(F.lastInRange),"data-in-range":E(F.inRange),"data-outside-range":E(F.outsideRange),"data-weekend":E(F.weekend),"data-in-hover-range":E(F.inHoveredRange),"data-hover-range-start":E(F.firstInHoveredRange),"data-hover-range-end":E(F.lastInHoveredRange),onClick(G){G.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"day",value:R})},onPointerMove:N?G=>{if(G.pointerType==="touch"||!F.selectable)return;let ae=!o.isActiveElement(G.currentTarget);m&&KI(R,m)||s({type:"CELL.POINTER_MOVE",cell:"day",value:R,focus:ae})}:void 0}))},getMonthTableCellState:Ut,getMonthTableCellProps(M){let{value:R,columns:F}=M,G=Ut(M);return t.element(y(g({},ue.tableCell.attrs),{dir:r("dir"),colSpan:F,role:"gridcell","aria-selected":X(G.selected||G.inRange),"data-selected":E(G.selected),"aria-disabled":X(!G.selectable),"data-value":R}))},getMonthTableCellTriggerProps(M){let{value:R}=M,F=Ut(M);return t.element(y(g({},ue.tableCellTrigger.attrs),{dir:r("dir"),role:"button",id:jo(o,R.toString()),"data-selected":E(F.selected),"aria-disabled":X(!F.selectable),"data-disabled":E(!F.selectable),"data-focus":E(F.focused),"data-in-range":E(F.inRange),"data-outside-range":E(F.outsideRange),"aria-label":F.valueText,"data-view":"month","data-value":R,tabIndex:F.focused?0:-1,onClick(G){G.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"month",value:R})},onPointerMove:N?G=>{if(G.pointerType==="touch"||!F.selectable)return;let ae=!o.isActiveElement(G.currentTarget);m&&F.value&&zI(F.value,m)||s({type:"CELL.POINTER_MOVE",cell:"month",value:F.value,focus:ae})}:void 0}))},getYearTableCellState:rt,getYearTableCellProps(M){let{value:R,columns:F}=M,G=rt(M);return t.element(y(g({},ue.tableCell.attrs),{dir:r("dir"),colSpan:F,role:"gridcell","aria-selected":X(G.selected),"data-selected":E(G.selected),"aria-disabled":X(!G.selectable),"data-value":R}))},getYearTableCellTriggerProps(M){let{value:R}=M,F=rt(M);return t.element(y(g({},ue.tableCellTrigger.attrs),{dir:r("dir"),role:"button",id:jo(o,R.toString()),"data-selected":E(F.selected),"data-focus":E(F.focused),"data-in-range":E(F.inRange),"aria-disabled":X(!F.selectable),"data-disabled":E(!F.selectable),"aria-label":F.valueText,"data-outside-range":E(F.outsideRange),"data-value":R,"data-view":"year",tabIndex:F.focused?0:-1,onClick(G){G.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"year",value:R})},onPointerMove:N?G=>{if(G.pointerType==="touch"||!F.selectable)return;let ae=!o.isActiveElement(G.currentTarget);m&&F.value&&YI(F.value,m)||s({type:"CELL.POINTER_MOVE",cell:"year",value:F.value,focus:ae})}:void 0}))},getNextTriggerProps(M={}){let{view:R="day"}=M,F=p||!a("isNextVisibleRangeValid");return t.button(y(g({},ue.nextTrigger.attrs),{dir:r("dir"),id:nC(o,R),type:"button","aria-label":J.nextTrigger(R),disabled:F,"data-disabled":E(F),onClick(G){G.defaultPrevented||s({type:"GOTO.NEXT",view:R})}}))},getPrevTriggerProps(M={}){let{view:R="day"}=M,F=p||!a("isPrevVisibleRangeValid");return t.button(y(g({},ue.prevTrigger.attrs),{dir:r("dir"),id:tC(o,R),type:"button","aria-label":J.prevTrigger(R),disabled:F,"data-disabled":E(F),onClick(G){G.defaultPrevented||s({type:"GOTO.PREV",view:R})}}))},getClearTriggerProps(){return t.button(y(g({},ue.clearTrigger.attrs),{id:Wh(o),dir:r("dir"),type:"button","aria-label":J.clearTrigger,hidden:!d.length,onClick(M){M.defaultPrevented||s({type:"VALUE.CLEAR"})}}))},getTriggerProps(){return t.button(y(g({},ue.trigger.attrs),{id:zh(o),dir:r("dir"),type:"button","data-placement":D,"aria-label":J.trigger(x),"aria-controls":il(o),"data-state":x?"open":"closed","data-placeholder-shown":E(w),"aria-haspopup":"grid",disabled:p,onClick(M){M.defaultPrevented||T&&s({type:"TRIGGER.CLICK"})}}))},getViewProps(M={}){let{view:R="day"}=M;return t.element(y(g({},ue.view.attrs),{"data-view":R,hidden:i.get("view")!==R}))},getViewTriggerProps(M={}){let{view:R="day"}=M;return t.button(y(g({},ue.viewTrigger.attrs),{"data-view":R,dir:r("dir"),id:iC(o,R),type:"button",disabled:p,"aria-label":J.viewTrigger(R),onClick(F){F.defaultPrevented||T&&s({type:"VIEW.TOGGLE",src:"viewTrigger"})}}))},getViewControlProps(M={}){let{view:R="day"}=M;return t.element(y(g({},ue.viewControl.attrs),{"data-view":R,dir:r("dir")}))},getInputProps(M={}){let{index:R=0,fixOnBlur:F=!0}=M;return t.input(y(g({},ue.input.attrs),{id:gh(o,R),autoComplete:"off",autoCorrect:"off",spellCheck:"false",dir:r("dir"),name:r("name"),"data-index":R,"data-state":x?"open":"closed","data-placeholder-shown":E(w),readOnly:v,disabled:p,required:r("required"),"aria-invalid":X(I),"data-invalid":E(I),placeholder:r("placeholder")||dC(S),defaultValue:a("valueAsString")[R],onBeforeInput(G){let{data:ae}=Yt(G);Jh(ae,te)||G.preventDefault()},onFocus(){s({type:"INPUT.FOCUS",index:R})},onBlur(G){let ae=G.currentTarget.value.trim();s({type:"INPUT.BLUR",value:ae,index:R,fixOnBlur:F})},onKeyDown(G){if(G.defaultPrevented||!T)return;let ze={Enter(ke){Re(ke)||Pe(h)||ke.currentTarget.value.trim()!==""&&s({type:"INPUT.ENTER",value:ke.currentTarget.value,index:R})}}[G.key];ze&&(ze(G),G.preventDefault())},onInput(G){let ae=G.currentTarget.value;s({type:"INPUT.CHANGE",value:uC(ae,te),index:R})}}))},getMonthSelectProps(){return t.select(y(g({},ue.monthSelect.attrs),{id:jh(o),"aria-label":J.monthSelect,disabled:p,dir:r("dir"),defaultValue:l.month,onChange(M){ne(Number(M.currentTarget.value))}}))},getYearSelectProps(){return t.select(y(g({},ue.yearSelect.attrs),{id:Xh(o),disabled:p,"aria-label":J.yearSelect,dir:r("dir"),defaultValue:l.year,onChange(M){Ie(Number(M.currentTarget.value))}}))},getPositionerProps(){return t.element(y(g({id:Yh(o)},ue.positioner.attrs),{dir:r("dir"),style:$.floating}))},getPresetTriggerProps(M){let R=Array.isArray(M.value)?M.value:hh(M.value,S,P),F=R.filter(G=>G!=null).map(G=>G.toDate(P).toDateString());return t.button(y(g({},ue.presetTrigger.attrs),{"aria-label":J.presetTrigger(F),type:"button",onClick(G){G.defaultPrevented||s({type:"PRESET.CLICK",value:R})}}))}}}function PC(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!1;let n=Math.max(e.length,t.length);for(let i=0;i<n;i++)if(!nt(e[i],t[i]))return!1;return!0}function Qs(e,t){return e.map(n=>n==null?"":t("format")(n,{locale:t("locale"),timeZone:t("timeZone")}))}function ve(e,t){let{context:n,prop:i,computed:r}=e;if(!t)return;let s=ia(e,t);if(nt(n.get("focusedValue"),s))return;let o=Vr(r("visibleDuration"),i("locale"),i("min"),i("max"))({focusedDate:s,startDate:n.get("startValue")});n.set("startValue",o.startDate),n.set("focusedValue",o.focusedDate)}function ea(e,t){let{context:n}=e;n.set("startValue",t.startDate);let i=n.get("focusedValue");nt(i,t.focusedDate)||n.set("focusedValue",t.focusedDate)}function gt(e){return Array.isArray(e)?e.map(t=>gt(t)):e instanceof Date?new Fi(e.getFullYear(),e.getMonth()+1,e.getDate()):yP(e)}function vh(e){let t=n=>String(n).padStart(2,"0");return`${e.year}-${t(e.month)}-${t(e.day)}`}var yh,GI,Li,UI,XI,Uo,sh,qo,tP,ah,oh,Cr,fP,mP,vP,vx,CP,Fi,SP,TP,OP,Lh,Ko,Ct,wP,zo,Yo,LP,_P,uh,WP,KP,Zs,ZP,ue,JP,QP,eC,il,jo,tC,nC,iC,Wh,Kh,gh,zh,Yh,jh,Xh,ph,fh,na,Sr,rC,sC,aC,oC,Zh,cC,Jh,mh,uC,gC,yC,EC,ht,CC,ia,SC,yx,TC,bx,OC,Ex,wC,Ix,VC,Px,xC,Cx,AC,NC,eg=re(()=>{"use strict";Ir();qn();se();yh=1721426;GI={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]},Li=class{fromJulianDay(e){let t=e,n=t-yh,i=Math.floor(n/146097),r=Go(n,146097),s=Math.floor(r/36524),a=Go(r,36524),o=Math.floor(a/1461),l=Go(a,1461),c=Math.floor(l/365),d=i*400+s*100+o*4+c+(s!==4&&c!==4?1:0),[h,m]=_I(d),u=t-Ys(h,m,1,1),p=2;t<Ys(h,m,3,1)?p=0:ta(m)&&(p=1);let v=Math.floor(((u+p)*12+373)/367),I=t-Ys(h,m,v,1)+1;return new Fi(h,m,v,I)}toJulianDay(e){return Ys(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return GI[ta(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return ta(e.year)?366:365}getMaximumMonthsInYear(){return 12}getMaximumDaysInMonth(){return 31}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}},UI={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};XI={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};Uo=null;sh=new Map,qo=new Map;tP={AF:[4,5],AE:[5,6],BH:[5,6],DZ:[5,6],EG:[5,6],IL:[5,6],IQ:[5,6],IR:[5,5],JO:[5,6],KW:[5,6],LY:[5,6],OM:[5,6],QA:[5,6],SA:[5,6],SD:[5,6],SY:[5,6],YE:[5,6]};ah=new Map;oh=864e5;Cr=36e5;fP=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,mP=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/,vP=["hours","minutes","seconds"],vx=["years","months","weeks","days",...vP];CP=new WeakMap,Fi=class el{copy(){return this.era?new el(this.calendar,this.era,this.year,this.month,this.day):new el(this.calendar,this.year,this.month,this.day)}add(t){return oa(this,t)}subtract(t){return Ah(this,t)}set(t){return ol(this,t)}cycle(t,n,i){return ll(this,t,n,i)}toDate(t){return wh(this,t)}toString(){return Rh(this)}compare(t){return Ih(this,t)}constructor(...t){cl(this,CP,{writable:!0,value:void 0});let[n,i,r,s,a]=dl(t);this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=a,jn(this)}},SP=new WeakMap,TP=class tl{copy(){return this.era?new tl(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new tl(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return oa(this,t)}subtract(t){return Ah(this,t)}set(t){return ol(ra(this,t),t)}cycle(t,n,i){switch(t){case"era":case"year":case"month":case"day":return ll(this,t,n,i);default:return Nh(this,t,n,i)}}toDate(t,n){return wh(this,t,n)}toString(){return Dh(this)}compare(t){let n=Ih(this,t);return n===0?ZI(this,Yn(t)):n}constructor(...t){cl(this,SP,{writable:!0,value:void 0});let[n,i,r,s,a]=dl(t);this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=a,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,jn(this)}},OP=new WeakMap,Lh=class nl{copy(){return this.era?new nl(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new nl(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return kh(this,t)}subtract(t){return hP(this,t)}set(t,n){return pP(this,t,n)}cycle(t,n,i){return gP(this,t,n,i)}toDate(){return aP(this)}toString(){return IP(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-sP(t,this.timeZone).toDate().getTime()}constructor(...t){cl(this,OP,{writable:!0,value:void 0});let[n,i,r,s,a]=dl(t),o=t.shift(),l=t.shift();this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=a,this.timeZone=o,this.offset=l,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,jn(this)}},Ko=new Map,Ct=class{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} \u2013 ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...n.map(r=>y(g({},r),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(r=>y(g({},r),{source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return xP()&&(this.resolvedHourCycle||(this.resolvedHourCycle=AP(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=Mh(e,t),this.options=t}},wP={true:{ja:"h11"},false:{}};zo=null;Yo=null;LP=["sun","mon","tue","wed","thu","fri","sat"];_P=10;uh=e=>e!=null&&e.length===4,WP=e=>e!=null&&parseFloat(e)<=12,KP=e=>e!=null&&parseFloat(e)<=31;Zs="__live-region__";ZP=U("date-picker").parts("clearTrigger","content","control","input","label","monthSelect","nextTrigger","positioner","presetTrigger","prevTrigger","rangeText","root","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","view","viewControl","viewTrigger","yearSelect"),ue=ZP.build(),JP=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.label)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:label:${t}`},QP=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`datepicker:${e.id}`},eC=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.table)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:table:${t}`},il=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`datepicker:${e.id}:content`},jo=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.cellTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:cell-trigger:${t}`},tC=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.prevTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:prev:${t}`},nC=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.nextTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:next:${t}`},iC=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.viewTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:view:${t}`},Wh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`datepicker:${e.id}:clear`},Kh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`datepicker:${e.id}:control`},gh=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.input)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:input:${t}`},zh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`datepicker:${e.id}:trigger`},Yh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`datepicker:${e.id}:positioner`},jh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.monthSelect)!=null?n:`datepicker:${e.id}:month-select`},Xh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.yearSelect)!=null?n:`datepicker:${e.id}:year-select`},ph=(e,t)=>mi(na(e),`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`),fh=e=>e.getById(zh(e)),na=e=>e.getById(il(e)),Sr=e=>Fe(Zh(e),"[data-part=input]"),rC=e=>e.getById(Xh(e)),sC=e=>e.getById(jh(e)),aC=e=>e.getById(Wh(e)),oC=e=>e.getById(Yh(e)),Zh=e=>e.getById(Kh(e));cC={day:"dd",month:"mm",year:"yyyy"};Jh=(e,t)=>e?/\d/.test(e)||e===t||e.length!==1:!0,mh=e=>!Number.isNaN(e.day)&&!Number.isNaN(e.month)&&!Number.isNaN(e.year),uC=(e,t)=>e.split("").filter(n=>Jh(n,t)).join("");gC={dayCell(e){return e.unavailable?`Not available. ${e.formattedDate}`:e.selected?`Selected date. ${e.formattedDate}`:`Choose ${e.formattedDate}`},trigger(e){return e?"Close calendar":"Open calendar"},viewTrigger(e){return Ce(e,{year:"Switch to month view",month:"Switch to day view",day:"Switch to year view"})},presetTrigger(e){let[t="",n=""]=e;return`select ${t} to ${n}`},prevTrigger(e){return Ce(e,{year:"Switch to previous decade",month:"Switch to previous year",day:"Switch to previous month"})},nextTrigger(e){return Ce(e,{year:"Switch to next decade",month:"Switch to next year",day:"Switch to next month"})},placeholder(){return{day:"dd",month:"mm",year:"yyyy"}},content:"calendar",monthSelect:"Select month",yearSelect:"Select year",clearTrigger:"Clear selected dates"};yC=["day","month","year"];EC=Hn(e=>[e.view,e.startValue.toString(),e.endValue.toString(),e.locale],([e],t)=>{let{startValue:n,endValue:i,locale:r,timeZone:s,selectionMode:a}=t;if(e==="year"){let h=Di(n.year,{strict:!0}),m=h.at(0).toString(),u=h.at(-1).toString();return{start:m,end:u,formatted:`${m} - ${u}`}}if(e==="month"){let h=new Ct(r,{year:"numeric",timeZone:s}),m=h.format(n.toDate(s)),u=h.format(i.toDate(s)),p=a==="range"?`${m} - ${u}`:m;return{start:m,end:u,formatted:p}}let o=new Ct(r,{month:"long",year:"numeric",timeZone:s}),l=o.format(n.toDate(s)),c=o.format(i.toDate(s)),d=a==="range"?`${l} - ${c}`:l;return{start:l,end:c,formatted:d}});({and:ht}=Ee());CC={props({props:e}){let t=e.locale||"en-US",n=e.timeZone||"UTC",i=e.selectionMode||"single",r=e.numOfMonths||1,s=e.defaultValue?Js(e.defaultValue).map(h=>Pt(h,e.min,e.max)):void 0,a=e.value?Js(e.value).map(h=>Pt(h,e.min,e.max)):void 0,o=e.focusedValue||e.defaultFocusedValue||(a==null?void 0:a[0])||(s==null?void 0:s[0])||Ri(n);o=Pt(o,e.min,e.max);let l="day",c="year",d=pl(e.view||l,l,c);return y(g({locale:t,numOfMonths:r,timeZone:n,selectionMode:i,defaultView:d,minView:l,maxView:c,outsideDaySelectable:!1,closeOnSelect:!0,format(h,{locale:m,timeZone:u}){return new Ct(m,{timeZone:u,day:"2-digit",month:"2-digit",year:"numeric"}).format(h.toDate(u))},parse(h,{locale:m,timeZone:u}){return zP(h,m,u)}},e),{focusedValue:typeof e.focusedValue=="undefined"?void 0:o,defaultFocusedValue:o,value:a,defaultValue:s!=null?s:[],positioning:g({placement:"bottom"},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},refs(){return{announcer:void 0}},context({prop:e,bindable:t,getContext:n}){return{focusedValue:t(()=>({defaultValue:e("defaultFocusedValue"),value:e("focusedValue"),isEqual:nt,hash:i=>i.toString(),sync:!0,onChange(i){var l;let r=n(),s=r.get("view"),a=r.get("value"),o=Qs(a,e);(l=e("onFocusChange"))==null||l({value:a,valueAsString:o,view:s,focusedValue:i})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:PC,hash:i=>i.map(r=>{var s;return(s=r==null?void 0:r.toString())!=null?s:""}).join(","),onChange(i){var a;let r=n(),s=Qs(i,e);(a=e("onValueChange"))==null||a({value:i,valueAsString:s,view:r.get("view")})}})),inputValue:t(()=>({defaultValue:""})),activeIndex:t(()=>({defaultValue:0,sync:!0})),hoveredValue:t(()=>({defaultValue:null,isEqual:nt})),view:t(()=>({defaultValue:e("defaultView"),value:e("view"),onChange(i){var r;(r=e("onViewChange"))==null||r({view:i})}})),startValue:t(()=>{let i=e("focusedValue")||e("defaultFocusedValue");return{defaultValue:lh(i,"start",{months:e("numOfMonths")},e("locale")),isEqual:nt,hash:r=>r.toString()}}),currentPlacement:t(()=>({defaultValue:void 0})),restoreFocus:t(()=>({defaultValue:!1}))}},computed:{isInteractive:({prop:e})=>!e("disabled")&&!e("readOnly"),visibleDuration:({prop:e})=>({months:e("numOfMonths")}),endValue:({context:e,computed:t})=>Fh(e.get("startValue"),t("visibleDuration")),visibleRange:({context:e,computed:t})=>({start:e.get("startValue"),end:t("endValue")}),visibleRangeText:({context:e,prop:t,computed:n})=>EC({view:e.get("view"),startValue:e.get("startValue"),endValue:n("endValue"),locale:t("locale"),timeZone:t("timeZone"),selectionMode:t("selectionMode")}),isPrevVisibleRangeValid:({context:e,prop:t})=>!kP(e.get("startValue"),t("min"),t("max")),isNextVisibleRangeValid:({prop:e,computed:t})=>!RP(t("endValue"),e("min"),e("max")),valueAsString:({context:e,prop:t})=>Qs(e.get("value"),t)},effects:["setupLiveRegion"],watch({track:e,prop:t,context:n,action:i,computed:r}){e([()=>t("locale")],()=>{i(["setStartValue","syncInputElement"])}),e([()=>n.hash("focusedValue")],()=>{i(["setStartValue","focusActiveCellIfNeeded","setHoveredValueIfKeyboard"])}),e([()=>n.hash("startValue")],()=>{i(["syncMonthSelectElement","syncYearSelectElement","invokeOnVisibleRangeChange"])}),e([()=>n.get("inputValue")],()=>{i(["syncInputValue"])}),e([()=>n.hash("value")],()=>{i(["syncInputElement"])}),e([()=>r("valueAsString").toString()],()=>{i(["announceValueText"])}),e([()=>n.get("view")],()=>{i(["focusActiveCell"])}),e([()=>t("open")],()=>{i(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setDateValue","setFocusedDate"]},"VIEW.SET":{actions:["setView"]},"FOCUS.SET":{actions:["setFocusedDate"]},"VALUE.CLEAR":{actions:["clearDateValue","clearFocusedDate","focusFirstInputElement"]},"INPUT.CHANGE":[{guard:"isInputValueEmpty",actions:["setInputValue","clearDateValue","clearFocusedDate"]},{actions:["setInputValue","focusParsedDate"]}],"INPUT.ENTER":{actions:["focusParsedDate","selectFocusedDate"]},"INPUT.FOCUS":{actions:["setActiveIndex"]},"INPUT.BLUR":[{guard:"shouldFixOnBlur",actions:["setActiveIndexToStart","selectParsedDate"]},{actions:["setActiveIndexToStart"]}],"PRESET.CLICK":[{guard:"isOpenControlled",actions:["setDateValue","setFocusedDate","invokeOnClose"]},{target:"focused",actions:["setDateValue","setFocusedDate","focusInputElement"]}],"GOTO.NEXT":[{guard:"isYearView",actions:["focusNextDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusNextYear","announceVisibleRange"]},{actions:["focusNextPage"]}],"GOTO.PREV":[{guard:"isYearView",actions:["focusPreviousDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusPreviousYear","announceVisibleRange"]},{actions:["focusPreviousPage"]}]},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],exit:["clearHoveredDate","resetView"],on:{"CONTROLLED.CLOSE":[{guard:ht("shouldRestoreFocus","isInteractOutsideEvent"),target:"focused",actions:["focusTriggerElement"]},{guard:"shouldRestoreFocus",target:"focused",actions:["focusInputElement"]},{target:"idle"}],"CELL.CLICK":[{guard:"isAboveMinView",actions:["setFocusedValueForView","setPreviousView"]},{guard:ht("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","resetSelection","setActiveIndexToEnd"]},{guard:ht("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","setRestoreFocus"]},{guard:ht("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:ht("isRangePicker","isSelectingEndDate"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setFocusedDate","setSelectedDate","setActiveIndexToEnd"]},{guard:"isMultiPicker",actions:["setFocusedDate","toggleSelectedDate"]},{guard:ht("closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setFocusedDate","setSelectedDate","invokeOnClose","focusInputElement"]},{actions:["setFocusedDate","setSelectedDate"]}],"CELL.POINTER_MOVE":{guard:ht("isRangePicker","isSelectingEndDate"),actions:["setHoveredDate","setFocusedDate"]},"TABLE.POINTER_LEAVE":{guard:"isRangePicker",actions:["clearHoveredDate"]},"TABLE.POINTER_DOWN":{actions:["disableTextSelection"]},"TABLE.POINTER_UP":{actions:["enableTextSelection"]},"TABLE.ESCAPE":[{guard:"isOpenControlled",actions:["focusFirstSelectedDate","invokeOnClose"]},{target:"focused",actions:["focusFirstSelectedDate","invokeOnClose","focusTriggerElement"]}],"TABLE.ENTER":[{guard:"isAboveMinView",actions:["setPreviousView"]},{guard:ht("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","clearDateValue","setSelectedDate","setActiveIndexToEnd"]},{guard:ht("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose"]},{guard:ht("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:ht("isRangePicker","isSelectingEndDate"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setSelectedDate","setActiveIndexToEnd","focusNextDay"]},{guard:"isMultiPicker",actions:["toggleSelectedDate"]},{guard:ht("closeOnSelect","isOpenControlled"),actions:["selectFocusedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectFocusedDate","invokeOnClose","focusInputElement"]},{actions:["selectFocusedDate"]}],"TABLE.ARROW_RIGHT":[{guard:"isMonthView",actions:["focusNextMonth"]},{guard:"isYearView",actions:["focusNextYear"]},{actions:["focusNextDay","setHoveredDate"]}],"TABLE.ARROW_LEFT":[{guard:"isMonthView",actions:["focusPreviousMonth"]},{guard:"isYearView",actions:["focusPreviousYear"]},{actions:["focusPreviousDay"]}],"TABLE.ARROW_UP":[{guard:"isMonthView",actions:["focusPreviousMonthColumn"]},{guard:"isYearView",actions:["focusPreviousYearColumn"]},{actions:["focusPreviousWeek"]}],"TABLE.ARROW_DOWN":[{guard:"isMonthView",actions:["focusNextMonthColumn"]},{guard:"isYearView",actions:["focusNextYearColumn"]},{actions:["focusNextWeek"]}],"TABLE.PAGE_UP":{actions:["focusPreviousSection"]},"TABLE.PAGE_DOWN":{actions:["focusNextSection"]},"TABLE.HOME":[{guard:"isMonthView",actions:["focusFirstMonth"]},{guard:"isYearView",actions:["focusFirstYear"]},{actions:["focusSectionStart"]}],"TABLE.END":[{guard:"isMonthView",actions:["focusLastMonth"]},{guard:"isYearView",actions:["focusLastYear"]},{actions:["focusSectionEnd"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"VIEW.TOGGLE":{actions:["setNextView"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["setActiveIndexToStart","invokeOnClose","focusTriggerElement"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}]}}},implementations:{guards:{isAboveMinView:({context:e,prop:t})=>pC(e.get("view"),t("minView")),isDayView:({context:e,event:t})=>(t.view||e.get("view"))==="day",isMonthView:({context:e,event:t})=>(t.view||e.get("view"))==="month",isYearView:({context:e,event:t})=>(t.view||e.get("view"))==="year",isRangePicker:({prop:e})=>e("selectionMode")==="range",hasSelectedRange:({context:e})=>e.get("value").length===2,isMultiPicker:({prop:e})=>e("selectionMode")==="multiple",shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus"),isSelectingEndDate:({context:e})=>e.get("activeIndex")===1,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),isInteractOutsideEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INTERACT_OUTSIDE"},isInputValueEmpty:({event:e})=>e.value.trim()==="",shouldFixOnBlur:({event:e})=>!!e.fixOnBlur},effects:{trackPositioning({context:e,prop:t,scope:n}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);let i=Zh(n);return It(i,()=>oC(n),y(g({},t("positioning")),{defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}}))},setupLiveRegion({scope:e,refs:t}){let n=e.getDoc();return t.set("announcer",XP({level:"assertive",document:n})),()=>{var i,r;return(r=(i=t.get("announcer"))==null?void 0:i.destroy)==null?void 0:r.call(i)}},trackDismissableElement({scope:e,send:t,context:n,prop:i}){return i("inline")?void 0:Ft(()=>na(e),{type:"popover",defer:!0,exclude:[...Sr(e),fh(e),aC(e)],onInteractOutside(s){n.set("restoreFocus",!s.detail.focusable)},onDismiss(){t({type:"INTERACT_OUTSIDE"})},onEscapeKeyDown(s){s.preventDefault(),t({type:"TABLE.ESCAPE",src:"dismissable"})}})}},actions:{setNextView({context:e,prop:t}){let n=mC(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setPreviousView({context:e,prop:t}){let n=vC(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setView({context:e,event:t}){e.set("view",t.view)},setRestoreFocus({context:e}){e.set("restoreFocus",!0)},announceValueText({context:e,prop:t,refs:n}){var o;let i=e.get("value"),r=t("locale"),s=t("timeZone"),a;if(t("selectionMode")==="range"){let[l,c]=i;l&&c?a=Xs(l,c,r,s):l?a=Xs(l,null,r,s):c?a=Xs(c,null,r,s):a=""}else a=i.map(l=>Xs(l,null,r,s)).filter(Boolean).join(",");(o=n.get("announcer"))==null||o.announce(a,3e3)},announceVisibleRange({computed:e,refs:t}){var i;let{formatted:n}=e("visibleRangeText");(i=t.get("announcer"))==null||i.announce(n)},disableTextSelection({scope:e}){to({target:na(e),doc:e.getDoc()})},enableTextSelection({scope:e}){eo({doc:e.getDoc(),target:na(e)})},focusFirstSelectedDate(e){let{context:t}=e;t.get("value").length&&ve(e,t.get("value")[0])},syncInputElement({scope:e,computed:t}){H(()=>{Sr(e).forEach((i,r)=>{Me(i,t("valueAsString")[r]||"")})})},setFocusedDate(e){let{event:t}=e,n=Array.isArray(t.value)?t.value[0]:t.value;ve(e,n)},setFocusedValueForView(e){let{context:t,event:n}=e;ve(e,t.get("focusedValue").set({[t.get("view")]:n.value}))},focusNextMonth(e){let{context:t}=e;ve(e,t.get("focusedValue").add({months:1}))},focusPreviousMonth(e){let{context:t}=e;ve(e,t.get("focusedValue").subtract({months:1}))},setDateValue({context:e,event:t,prop:n}){if(!Array.isArray(t.value))return;let i=t.value.map(r=>Pt(r,n("min"),n("max")));e.set("value",i)},clearDateValue({context:e}){e.set("value",[])},setSelectedDate(e){var r;let{context:t,event:n}=e,i=Array.from(t.get("value"));i[t.get("activeIndex")]=ia(e,(r=n.value)!=null?r:t.get("focusedValue")),t.set("value",rl(i))},resetSelection(e){var r;let{context:t,event:n}=e,i=ia(e,(r=n.value)!=null?r:t.get("focusedValue"));t.set("value",[i])},toggleSelectedDate(e){var s;let{context:t,event:n}=e,i=ia(e,(s=n.value)!=null?s:t.get("focusedValue")),r=t.get("value").findIndex(a=>nt(a,i));if(r===-1){let a=[...t.get("value"),i];t.set("value",Js(a))}else{let a=Array.from(t.get("value"));a.splice(r,1),t.set("value",Js(a))}},setHoveredDate({context:e,event:t}){e.set("hoveredValue",t.value)},clearHoveredDate({context:e}){e.set("hoveredValue",null)},selectFocusedDate({context:e,computed:t}){let n=Array.from(e.get("value")),i=e.get("activeIndex");n[i]=e.get("focusedValue").copy(),e.set("value",rl(n));let r=t("valueAsString");e.set("inputValue",r[i])},focusPreviousDay(e){let{context:t}=e,n=t.get("focusedValue").subtract({days:1});ve(e,n)},focusNextDay(e){let{context:t}=e,n=t.get("focusedValue").add({days:1});ve(e,n)},focusPreviousWeek(e){let{context:t}=e,n=t.get("focusedValue").subtract({weeks:1});ve(e,n)},focusNextWeek(e){let{context:t}=e,n=t.get("focusedValue").add({weeks:1});ve(e,n)},focusNextPage(e){let{context:t,computed:n,prop:i}=e,r=Uh(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),i("locale"),i("min"),i("max"));ea(e,r)},focusPreviousPage(e){let{context:t,computed:n,prop:i}=e,r=qh(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),i("locale"),i("min"),i("max"));ea(e,r)},focusSectionStart(e){let{context:t}=e;ve(e,t.get("startValue").copy())},focusSectionEnd(e){let{computed:t}=e;ve(e,t("endValue").copy())},focusNextSection(e){let{context:t,event:n,computed:i,prop:r}=e,s=UP(t.get("focusedValue"),t.get("startValue"),n.larger,i("visibleDuration"),r("locale"),r("min"),r("max"));s&&ea(e,s)},focusPreviousSection(e){let{context:t,event:n,computed:i,prop:r}=e,s=qP(t.get("focusedValue"),t.get("startValue"),n.larger,i("visibleDuration"),r("locale"),r("min"),r("max"));s&&ea(e,s)},focusNextYear(e){let{context:t}=e,n=t.get("focusedValue").add({years:1});ve(e,n)},focusPreviousYear(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:1});ve(e,n)},focusNextDecade(e){let{context:t}=e,n=t.get("focusedValue").add({years:10});ve(e,n)},focusPreviousDecade(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:10});ve(e,n)},clearFocusedDate(e){let{prop:t}=e;ve(e,Ri(t("timeZone")))},focusPreviousMonthColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").subtract({months:n.columns});ve(e,i)},focusNextMonthColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").add({months:n.columns});ve(e,i)},focusPreviousYearColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").subtract({years:n.columns});ve(e,i)},focusNextYearColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").add({years:n.columns});ve(e,i)},focusFirstMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:1});ve(e,n)},focusLastMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:12});ve(e,n)},focusFirstYear(e){let{context:t}=e,n=Di(t.get("focusedValue").year),i=t.get("focusedValue").set({year:n[0]});ve(e,i)},focusLastYear(e){let{context:t}=e,n=Di(t.get("focusedValue").year),i=t.get("focusedValue").set({year:n[n.length-1]});ve(e,i)},setActiveIndex({context:e,event:t}){e.set("activeIndex",t.index)},setActiveIndexToEnd({context:e}){e.set("activeIndex",1)},setActiveIndexToStart({context:e}){e.set("activeIndex",0)},focusActiveCell({scope:e,context:t}){H(()=>{var i;let n=t.get("view");(i=ph(e,n))==null||i.focus({preventScroll:!0})})},focusActiveCellIfNeeded({scope:e,context:t,event:n}){n.focus&&H(()=>{var r;let i=t.get("view");(r=ph(e,i))==null||r.focus({preventScroll:!0})})},setHoveredValueIfKeyboard({context:e,event:t,prop:n}){!t.type.startsWith("TABLE.ARROW")||n("selectionMode")!=="range"||e.get("activeIndex")===0||e.set("hoveredValue",e.get("focusedValue").copy())},focusTriggerElement({scope:e}){H(()=>{var t;(t=fh(e))==null||t.focus({preventScroll:!0})})},focusFirstInputElement({scope:e}){H(()=>{let[t]=Sr(e);t==null||t.focus({preventScroll:!0})})},focusInputElement({scope:e}){H(()=>{let t=Sr(e),n=t.findLastIndex(s=>s.value!==""),i=Math.max(n,0),r=t[i];r==null||r.focus({preventScroll:!0}),r==null||r.setSelectionRange(r.value.length,r.value.length)})},syncMonthSelectElement({scope:e,context:t}){let n=sC(e);Me(n,t.get("startValue").month.toString())},syncYearSelectElement({scope:e,context:t}){let n=rC(e);Me(n,t.get("startValue").year.toString())},setInputValue({context:e,event:t}){e.get("activeIndex")===t.index&&e.set("inputValue",t.value)},syncInputValue({scope:e,context:t,event:n}){queueMicrotask(()=>{var s;let i=Sr(e),r=(s=n.index)!=null?s:t.get("activeIndex");Me(i[r],t.get("inputValue"))})},focusParsedDate(e){let{event:t,prop:n}=e;if(t.index==null)return;let r=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});!r||!mh(r)||ve(e,r)},selectParsedDate({context:e,event:t,prop:n}){if(t.index==null)return;let r=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});if((!r||!mh(r))&&t.value&&(r=e.get("focusedValue").copy()),!r)return;r=Pt(r,n("min"),n("max"));let s=Array.from(e.get("value"));s[t.index]=r,e.set("value",s);let a=Qs(s,n);e.set("inputValue",a[t.index])},resetView({context:e}){e.set("view",e.initial("view"))},setStartValue({context:e,computed:t,prop:n}){let i=e.get("focusedValue");if(!$t(i,e.get("startValue"),t("endValue")))return;let s=lh(i,"start",{months:n("numOfMonths")},n("locale"));e.set("startValue",s)},invokeOnOpen({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},invokeOnVisibleRangeChange({prop:e,context:t,computed:n}){var i;(i=e("onVisibleRangeChange"))==null||i({view:t.get("view"),visibleRange:n("visibleRange")})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}},ia=(e,t)=>{let{context:n,prop:i}=e,r=n.get("view"),s=typeof t=="number"?n.get("focusedValue").set({[r]:t}):t;return bC(a=>{fC(a,i("minView"))&&(s=s.set({[a]:a==="day"?1:0}))}),s};SC=_()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","parse","placeholder","getRootNode","id","ids","inline","invalid","isDateUnavailable","locale","max","min","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","onVisibleRangeChange","open","defaultOpen","positioning","readOnly","required","selectionMode","startOfWeek","timeZone","translations","value","defaultView","defaultValue","view","defaultFocusedValue","outsideDaySelectable","minView","maxView"]),yx=B(SC),TC=_()(["index","fixOnBlur"]),bx=B(TC),OC=_()(["value"]),Ex=B(OC),wC=_()(["columns","id","view"]),Ix=B(wC),VC=_()(["disabled","value","columns"]),Px=B(VC),xC=_()(["view"]),Cx=B(xC),AC=class extends K{constructor(){super(...arguments);Y(this,"getDayView",()=>this.el.querySelector('[data-part="day-view"]'));Y(this,"getMonthView",()=>this.el.querySelector('[data-part="month-view"]'));Y(this,"getYearView",()=>this.el.querySelector('[data-part="year-view"]'));Y(this,"renderDayTableHeader",()=>{let t=this.getDayView(),n=t==null?void 0:t.querySelector("thead");if(!n||!this.api.weekDays)return;let i=this.doc.createElement("tr");this.spreadProps(i,this.api.getTableRowProps({view:"day"})),this.api.weekDays.forEach(r=>{let s=this.doc.createElement("th");s.scope="col",s.setAttribute("aria-label",r.long),s.textContent=r.narrow,i.appendChild(s)}),n.innerHTML="",n.appendChild(i)});Y(this,"renderDayTableBody",()=>{let t=this.getDayView(),n=t==null?void 0:t.querySelector("tbody");n&&(this.spreadProps(n,this.api.getTableBodyProps({view:"day"})),this.api.weeks&&(n.innerHTML="",this.api.weeks.forEach(i=>{let r=this.doc.createElement("tr");this.spreadProps(r,this.api.getTableRowProps({view:"day"})),i.forEach(s=>{let a=this.doc.createElement("td");this.spreadProps(a,this.api.getDayTableCellProps({value:s}));let o=this.doc.createElement("div");this.spreadProps(o,this.api.getDayTableCellTriggerProps({value:s})),o.textContent=String(s.day),a.appendChild(o),r.appendChild(a)}),n.appendChild(r)})))});Y(this,"renderMonthTableBody",()=>{let t=this.getMonthView(),n=t==null?void 0:t.querySelector("tbody");if(!n)return;this.spreadProps(n,this.api.getTableBodyProps({view:"month"}));let i=this.api.getMonthsGrid({columns:4,format:"short"});n.innerHTML="",i.forEach(r=>{let s=this.doc.createElement("tr");this.spreadProps(s,this.api.getTableRowProps()),r.forEach(a=>{let o=this.doc.createElement("td");this.spreadProps(o,this.api.getMonthTableCellProps(y(g({},a),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getMonthTableCellTriggerProps(y(g({},a),{columns:4}))),l.textContent=a.label,o.appendChild(l),s.appendChild(o)}),n.appendChild(s)})});Y(this,"renderYearTableBody",()=>{let t=this.getYearView(),n=t==null?void 0:t.querySelector("tbody");if(!n)return;this.spreadProps(n,this.api.getTableBodyProps());let i=this.api.getYearsGrid({columns:4});n.innerHTML="",i.forEach(r=>{let s=this.doc.createElement("tr");this.spreadProps(s,this.api.getTableRowProps({view:"year"})),r.forEach(a=>{let o=this.doc.createElement("td");this.spreadProps(o,this.api.getYearTableCellProps(y(g({},a),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getYearTableCellTriggerProps(y(g({},a),{columns:4}))),l.textContent=a.label,o.appendChild(l),s.appendChild(o)}),n.appendChild(s)})})}initMachine(t){return new W(CC,t)}initApi(){return IC(this.machine.service,q)}render(){let t=this.el.querySelector('[data-scope="date-picker"][data-part="root"]');t&&this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="date-picker"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="date-picker"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="date-picker"][data-part="input"]');r&&this.spreadProps(r,this.api.getInputProps());let s=this.el.querySelector('[data-scope="date-picker"][data-part="trigger"]');s&&this.spreadProps(s,this.api.getTriggerProps());let a=this.el.querySelector('[data-scope="date-picker"][data-part="positioner"]');a&&this.spreadProps(a,this.api.getPositionerProps());let o=this.el.querySelector('[data-scope="date-picker"][data-part="content"]');if(o&&this.spreadProps(o,this.api.getContentProps()),this.api.open){let l=this.getDayView(),c=this.getMonthView(),d=this.getYearView();if(l&&(l.hidden=this.api.view!=="day"),c&&(c.hidden=this.api.view!=="month"),d&&(d.hidden=this.api.view!=="year"),this.api.view==="day"&&l){let h=l.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"year"}));let m=l.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps());let u=l.querySelector('[data-part="view-trigger"]');u&&(this.spreadProps(u,this.api.getViewTriggerProps()),u.textContent=this.api.visibleRangeText.start);let p=l.querySelector('[data-part="next-trigger"]');p&&this.spreadProps(p,this.api.getNextTriggerProps());let v=l.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"day"}));let I=l.querySelector("thead");I&&this.spreadProps(I,this.api.getTableHeaderProps({view:"day"})),this.renderDayTableHeader(),this.renderDayTableBody()}else if(this.api.view==="month"&&c){let h=c.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"month"}));let m=c.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps({view:"month"}));let u=c.querySelector('[data-part="view-trigger"]');u&&(this.spreadProps(u,this.api.getViewTriggerProps({view:"month"})),u.textContent=String(this.api.visibleRange.start.year));let p=c.querySelector('[data-part="next-trigger"]');p&&this.spreadProps(p,this.api.getNextTriggerProps({view:"month"}));let v=c.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"month",columns:4})),this.renderMonthTableBody()}else if(this.api.view==="year"&&d){let h=d.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"year"}));let m=d.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps({view:"year"}));let u=d.querySelector('[data-part="decade"]');if(u){let I=this.api.getDecade();u.textContent=`${I.start} - ${I.end}`}let p=d.querySelector('[data-part="next-trigger"]');p&&this.spreadProps(p,this.api.getNextTriggerProps({view:"year"}));let v=d.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"year",columns:4})),this.renderYearTableBody()}}}};NC={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,i=O(e,"min"),r=O(e,"max"),s=O(e,"positioning"),a=d=>d?d.map(h=>gt(h)):void 0,o=d=>d?gt(d):void 0,l=new AC(e,y(g({id:e.id},C(e,"controlled")?{value:a(Z(e,"value"))}:{defaultValue:a(Z(e,"defaultValue"))}),{defaultFocusedValue:o(O(e,"focusedValue")),defaultView:O(e,"defaultView",["day","month","year"]),dir:O(e,"dir",["ltr","rtl"]),locale:O(e,"locale"),timeZone:O(e,"timeZone"),disabled:C(e,"disabled"),readOnly:C(e,"readOnly"),required:C(e,"required"),invalid:C(e,"invalid"),outsideDaySelectable:C(e,"outsideDaySelectable"),closeOnSelect:C(e,"closeOnSelect"),min:i?gt(i):void 0,max:r?gt(r):void 0,numOfMonths:z(e,"numOfMonths"),startOfWeek:z(e,"startOfWeek"),fixedWeeks:C(e,"fixedWeeks"),selectionMode:O(e,"selectionMode",["single","multiple","range"]),placeholder:O(e,"placeholder"),minView:O(e,"minView",["day","month","year"]),maxView:O(e,"maxView",["day","month","year"]),inline:C(e,"inline"),positioning:s?JSON.parse(s):void 0,onValueChange:d=>{var p;let h=(p=d.value)!=null&&p.length?d.value.map(v=>vh(v)).join(","):"",m=e.querySelector(`#${e.id}-value`);m&&m.value!==h&&(m.value=h,m.dispatchEvent(new Event("input",{bubbles:!0})),m.dispatchEvent(new Event("change",{bubbles:!0})));let u=O(e,"onValueChange");u&&n.main.isConnected()&&t(u,{id:e.id,value:h||null})},onFocusChange:d=>{var m;let h=O(e,"onFocusChange");h&&n.main.isConnected()&&t(h,{id:e.id,focused:(m=d.focused)!=null?m:!1})},onViewChange:d=>{let h=O(e,"onViewChange");h&&n.main.isConnected()&&t(h,{id:e.id,view:d.view})},onVisibleRangeChange:d=>{let h=O(e,"onVisibleRangeChange");h&&n.main.isConnected()&&t(h,{id:e.id,start:d.start,end:d.end})},onOpenChange:d=>{let h=O(e,"onOpenChange");h&&n.main.isConnected()&&t(h,{id:e.id,open:d.open})}}));l.init(),this.datePicker=l;let c=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');c&&c.removeAttribute("data-loading"),this.handlers=[],this.handlers.push(this.handleEvent("date_picker_set_value",d=>{let h=d.date_picker_id;h&&h!==e.id||l.api.setValue([gt(d.value)])})),this.onSetValue=d=>{var m;let h=(m=d.detail)==null?void 0:m.value;typeof h=="string"&&l.api.setValue([gt(h)])},e.addEventListener("phx:date-picker:set-value",this.onSetValue)},updated(){var l,c;let e=this.el,t=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');t&&t.removeAttribute("data-loading");let n=d=>d?d.map(h=>gt(h)):void 0,i=O(e,"min"),r=O(e,"max"),s=O(e,"positioning"),a=C(e,"controlled"),o=O(e,"focusedValue");if((l=this.datePicker)==null||l.updateProps(y(g({},C(e,"controlled")?{value:n(Z(e,"value"))}:{defaultValue:n(Z(e,"defaultValue"))}),{defaultFocusedValue:o?gt(o):void 0,defaultView:O(e,"defaultView",["day","month","year"]),dir:O(this.el,"dir",["ltr","rtl"]),locale:O(this.el,"locale"),timeZone:O(this.el,"timeZone"),disabled:C(this.el,"disabled"),readOnly:C(this.el,"readOnly"),required:C(this.el,"required"),invalid:C(this.el,"invalid"),outsideDaySelectable:C(this.el,"outsideDaySelectable"),closeOnSelect:C(this.el,"closeOnSelect"),min:i?gt(i):void 0,max:r?gt(r):void 0,numOfMonths:z(this.el,"numOfMonths"),startOfWeek:z(this.el,"startOfWeek"),fixedWeeks:C(this.el,"fixedWeeks"),selectionMode:O(this.el,"selectionMode",["single","multiple","range"]),placeholder:O(this.el,"placeholder"),minView:O(this.el,"minView",["day","month","year"]),maxView:O(this.el,"maxView",["day","month","year"]),inline:C(this.el,"inline"),positioning:s?JSON.parse(s):void 0})),a&&this.datePicker){let d=Z(e,"value"),h=(c=d==null?void 0:d.join(","))!=null?c:"",m=this.datePicker.api.value,u=m!=null&&m.length?m.map(p=>vh(p)).join(","):"";if(h!==u){let p=d!=null&&d.length?d.map(v=>gt(v)):[];this.datePicker.api.setValue(p)}}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:date-picker:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.datePicker)==null||e.destroy()}}});var cg={};he(cg,{Dialog:()=>lS});function HC(e,t={}){let{defer:n=!0}=t,i=n?$C:s=>s(),r=[];return r.push(i(()=>{let a=(typeof e=="function"?e():e).filter(Boolean);a.length!==0&&r.push(FC(a))})),()=>{r.forEach(s=>s==null?void 0:s())}}function YC(e,t={}){let n,i=H(()=>{let s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o():o).filter(o=>o!=null);if(s.length===0)return;let a=s[0];n=new UC(s,y(g({escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:a},t),{document:Le(a)}));try{n.activate()}catch(o){}});return function(){n==null||n.deactivate(),i()}}function jC(e){let t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function ig(e){let t=at(e),n=t==null?void 0:t.scrollbarGutter;return n==="stable"||(n==null?void 0:n.startsWith("stable "))===!0}function XC(e){var u;let t=e!=null?e:document,n=(u=t.defaultView)!=null?u:window,{documentElement:i,body:r}=t;if(r.hasAttribute(vl))return;let a=ig(i)||ig(r),o=n.innerWidth-i.clientWidth;r.setAttribute(vl,"");let l=()=>Fc(i,"--scrollbar-width",`${o}px`),c=jC(i),d=()=>{let p={overflow:"hidden"};return!a&&o>0&&(p[c]=`${o}px`),$n(r,p)},h=()=>{var S,P;let{scrollX:p,scrollY:v,visualViewport:I}=n,T=(S=I==null?void 0:I.offsetLeft)!=null?S:0,w=(P=I==null?void 0:I.offsetTop)!=null?P:0,b={position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(w))}px`,left:`${-(p-Math.floor(T))}px`,right:"0"};!a&&o>0&&(b[c]=`${o}px`);let f=$n(r,b);return()=>{f==null||f(),n.scrollTo({left:p,top:v,behavior:"instant"})}},m=[l(),nr()?h():d()];return()=>{m.forEach(p=>p==null?void 0:p()),r.removeAttribute(vl)}}function rS(e,t){let{state:n,send:i,context:r,prop:s,scope:a}=e,o=s("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&i({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button(y(g({},Jn.trigger.attrs),{dir:s("dir"),id:og(a),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":yl(a),onClick(c){c.defaultPrevented||i({type:"TOGGLE"})}}))},getBackdropProps(){return t.element(y(g({},Jn.backdrop.attrs),{dir:s("dir"),hidden:!l,id:ag(a),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(g({},Jn.positioner.attrs),{dir:s("dir"),id:sg(a),style:{pointerEvents:l?void 0:"none"}}))},getContentProps(){let c=r.get("rendered");return t.element(y(g({},Jn.content.attrs),{dir:s("dir"),role:s("role"),hidden:!l,id:yl(a),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":o||void 0,"aria-labelledby":o||!c.title?void 0:bl(a),"aria-describedby":c.description?El(a):void 0}))},getTitleProps(){return t.element(y(g({},Jn.title.attrs),{dir:s("dir"),id:bl(a)}))},getDescriptionProps(){return t.element(y(g({},Jn.description.attrs),{dir:s("dir"),id:El(a)}))},getCloseTriggerProps(){return t.button(y(g({},Jn.closeTrigger.attrs),{dir:s("dir"),id:lg(a),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),i({type:"CLOSE"}))}}))}}}var $i,la,ca,fl,rg,kC,RC,DC,LC,MC,FC,$C,BC,_C,be,tg,GC,UC,Il,ml,qC,WC,xr,KC,ng,zC,vl,ZC,Jn,sg,ag,yl,og,bl,El,lg,da,JC,QC,eS,tS,nS,iS,sS,aS,Ax,oS,lS,dg=re(()=>{"use strict";qn();se();$i=new WeakMap,la=new WeakMap,ca={},fl=0,rg=e=>e&&(e.host||rg(e.parentNode)),kC=(e,t)=>t.map(n=>{if(e.contains(n))return n;let i=rg(n);return i&&e.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),RC=new Set(["script","output","status","next-route-announcer"]),DC=e=>RC.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),LC=(e,t)=>{let{parentNode:n,markerName:i,controlAttribute:r,followControlledElements:s=!0}=t,a=kC(n,Array.isArray(e)?e:[e]);ca[i]||(ca[i]=new WeakMap);let o=ca[i],l=[],c=new Set,d=new Set(a),h=u=>{!u||c.has(u)||(c.add(u),h(u.parentNode))};a.forEach(u=>{h(u),s&&le(u)&&Ya(u,p=>{h(p)})});let m=u=>{!u||d.has(u)||Array.prototype.forEach.call(u.children,p=>{if(c.has(p))m(p);else try{if(DC(p))return;let I=p.getAttribute(r)==="true",T=($i.get(p)||0)+1,w=(o.get(p)||0)+1;$i.set(p,T),o.set(p,w),l.push(p),T===1&&I&&la.set(p,!0),w===1&&p.setAttribute(i,""),I||p.setAttribute(r,"true")}catch(v){console.error("[zag-js > ariaHidden] cannot operate on ",p,v)}})};return m(n),c.clear(),fl++,()=>{l.forEach(u=>{let p=$i.get(u)-1,v=o.get(u)-1;$i.set(u,p),o.set(u,v),p||(la.has(u)||u.removeAttribute(r),la.delete(u)),v||u.removeAttribute(i)}),fl--,fl||($i=new WeakMap,$i=new WeakMap,la=new WeakMap,ca={})}},MC=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,FC=(e,t=MC(e),n="data-aria-hidden",i=!0)=>{if(t)return LC(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:i})},$C=e=>{let t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};BC=Object.defineProperty,_C=(e,t,n)=>t in e?BC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,be=(e,t,n)=>_C(e,typeof t!="symbol"?t+"":t,n),tg={activateTrap(e,t){if(e.length>0){let i=e[e.length-1];i!==t&&i.pause()}let n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){let n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},GC=[],UC=class{constructor(e,t){be(this,"trapStack"),be(this,"config"),be(this,"doc"),be(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),be(this,"portalContainers",new Set),be(this,"listenerCleanups",[]),be(this,"handleFocus",i=>{let r=j(i),s=this.findContainerIndex(r,i)>=0;if(s||tr(r))s&&(this.state.mostRecentlyFocusedNode=r);else{i.stopImmediatePropagation();let a,o=!0;if(this.state.mostRecentlyFocusedNode)if(pi(this.state.mostRecentlyFocusedNode)>0){let l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){let d=c.findIndex(h=>h===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<c.length&&(a=c[d+1],o=!1):d-1>=0&&(a=c[d-1],o=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>pi(c)>0))||(o=!1);else o=!1;o&&(a=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),a?this.tryFocus(a):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),be(this,"handlePointerDown",i=>{let r=j(i);if(!(this.findContainerIndex(r,i)>=0)){if(xr(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}xr(this.config.allowOutsideClick,i)||i.preventDefault()}}),be(this,"handleClick",i=>{let r=j(i);this.findContainerIndex(r,i)>=0||xr(this.config.clickOutsideDeactivates,i)||xr(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),be(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;let r=this.config.isKeyBackward(i),s=this.findNextNavNode({event:i,isBackward:r});if(!s)return;ml(i)&&i.preventDefault(),this.tryFocus(s)}}),be(this,"handleEscapeKey",i=>{KC(i)&&xr(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),be(this,"_mutationObserver"),be(this,"setupMutationObserver",()=>{let i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(r=>{r.some(o=>Array.from(o.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),r.some(o=>o.type==="attributes"&&(o.attributeName==="aria-controls"||o.attributeName==="aria-expanded")?!0:o.type==="childList"&&o.addedNodes.length>0?Array.from(o.addedNodes).some(l=>{if(l.nodeType!==Node.ELEMENT_NODE)return!1;let c=l;return Ic(c)?!0:c.id&&!this.state.containers.some(d=>d.contains(c))?Pc(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),be(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(r=>{var s;(s=this._mutationObserver)==null||s.observe(r,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(r=>{this.observePortalContainer(r)}))}),be(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Ye(i)){let r=ci(this.doc);if(r&&this.findContainerIndex(r)>=0)i=r;else{let s=this.state.tabbableGroups[0];i=s&&s.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),be(this,"tryFocus",i=>{if(i!==!1&&i!==ci(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,zC(i)&&i.select()}}),be(this,"deactivate",i=>{if(!this.state.active)return this;let r=g({onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus},i);clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),tg.deactivateTrap(this.trapStack,this),this.portalContainers.clear();let s=this.getOption(r,"onDeactivate"),a=this.getOption(r,"onPostDeactivate"),o=this.getOption(r,"checkCanReturnFocus"),l=this.getOption(r,"returnFocus","returnFocusOnDeactivate");s==null||s();let c=()=>{ng(()=>{if(l){let d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}a==null||a()})};if(l&&o){let d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(d).then(c,c),this}return c(),this}),be(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;let r=this.getOption(i,"onPause"),s=this.getOption(i,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),be(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;let r=this.getOption(i,"onUnpause"),s=this.getOption(i,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),be(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),be(this,"getReturnFocusNode",i=>{let r=this.getNodeForOption("setReturnFocus",{params:[i]});return r||(r===!1?!1:i)}),be(this,"getOption",(i,r,s)=>i&&i[r]!==void 0?i[r]:this.config[s||r]),be(this,"getNodeForOption",(i,{hasFallback:r=!1,params:s=[]}={})=>{let a=this.config[i];if(typeof a=="function"&&(a=a(...s)),a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let o=a;if(typeof a=="string"){try{o=this.doc.querySelector(a)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!o&&!r)throw new Error(`\`${i}\` as selector refers to no known node`)}return o}),be(this,"findNextNavNode",i=>{let{event:r,isBackward:s=!1}=i,a=i.target||j(r);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){let l=this.findContainerIndex(a,r),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>a===h);if(d<0&&((c==null?void 0:c.container)===a||Ye(a)&&!dn(a)&&!(c!=null&&c.nextTabbableNode(a,!1)))&&(d=l),d>=0){let h=d===0?this.state.tabbableGroups.length-1:d-1,m=this.state.tabbableGroups[h];o=pi(a)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else ml(r)||(o=c==null?void 0:c.nextTabbableNode(a,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>a===h);if(d<0&&((c==null?void 0:c.container)===a||Ye(a)&&!dn(a)&&!(c!=null&&c.nextTabbableNode(a)))&&(d=l),d>=0){let h=d===this.state.tabbableGroups.length-1?0:d+1,m=this.state.tabbableGroups[h];o=pi(a)>=0?m.firstTabbableNode:m.firstDomTabbableNode}else ml(r)||(o=c==null?void 0:c.nextTabbableNode(a))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=t.trapStack||GC;let n=g({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:qC,isKeyBackward:WC},t);this.doc=n.document||Le(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){let t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Ec(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){let n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:r})=>i.contains(e)||(n==null?void 0:n.includes(i))||r.find(s=>s===e)||this.isControlledElement(i,e))}isControlledElement(e,t){return this.config.followControlledElements?ss(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let t=jt(e,{getShadowRoot:this.config.getShadowRoot}),n=sr(e,{getShadowRoot:this.config.getShadowRoot}),i=t[0],r=t[t.length-1],s=i,a=r,o=!1;for(let c=0;c<t.length;c++)if(pi(t[c])>0){o=!0;break}function l(c,d=!0){let h=t.indexOf(c);if(h>=0)return t[h+(d?1:-1)];let m=n.indexOf(c);if(!(m<0)){if(d){for(let u=m+1;u<n.length;u++)if(dn(n[u]))return n[u]}else for(let u=m-1;u>=0;u--)if(dn(n[u]))return n[u]}}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:i,lastTabbableNode:r,firstDomTabbableNode:s,lastDomTabbableNode:a,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return tg.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?ng(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(ee(this.doc,"focusin",this.handleFocus,!0),ee(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),ee(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),ee(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),ee(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),ee(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),i=this.getOption(e,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=ci(this.doc),t==null||t();let r=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return i?(i(this.state.containers.concat()).then(r,r),this):(r(),this)}},Il=e=>e.type==="keydown",ml=e=>Il(e)&&(e==null?void 0:e.key)==="Tab",qC=e=>Il(e)&&e.key==="Tab"&&!(e!=null&&e.shiftKey),WC=e=>Il(e)&&e.key==="Tab"&&(e==null?void 0:e.shiftKey),xr=(e,...t)=>typeof e=="function"?e(...t):e,KC=e=>!e.isComposing&&e.key==="Escape",ng=e=>setTimeout(e,0),zC=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";vl="data-scroll-lock";ZC=U("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Jn=ZC.build(),sg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`dialog:${e.id}:positioner`},ag=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.backdrop)!=null?n:`dialog:${e.id}:backdrop`},yl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`dialog:${e.id}:content`},og=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`dialog:${e.id}:trigger`},bl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.title)!=null?n:`dialog:${e.id}:title`},El=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.description)!=null?n:`dialog:${e.id}:description`},lg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.closeTrigger)!=null?n:`dialog:${e.id}:close`},da=e=>e.getById(yl(e)),JC=e=>e.getById(sg(e)),QC=e=>e.getById(ag(e)),eS=e=>e.getById(og(e)),tS=e=>e.getById(bl(e)),nS=e=>e.getById(El(e)),iS=e=>e.getById(lg(e));sS={props({props:e,scope:t}){let n=e.role==="alertdialog",i=n?()=>iS(t):void 0,r=typeof e.modal=="boolean"?e.modal:!0;return g({role:"dialog",modal:r,trapFocus:r,preventScroll:r,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:i},e)},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return Ft(()=>da(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[eS(e)],onInteractOutside(r){var s;(s=n("onInteractOutside"))==null||s(r),n("closeOnInteractOutside")||r.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(r){var s;(s=n("onEscapeKeyDown"))==null||s(r),n("closeOnEscape")||r.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return XC(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?YC(()=>da(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:i=>{var r,s;return(s=(r=t("finalFocusEl"))==null?void 0:r())!=null?s:i},getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?HC(()=>[da(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){H(()=>{e.set("rendered",{title:!!tS(t),description:!!nS(t)})})},syncZIndex({scope:e}){H(()=>{let t=da(e);if(!t)return;let n=at(t);[JC(e),QC(e)].forEach(r=>{r==null||r.style.setProperty("--z-index",n.zIndex),r==null||r.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}},aS=_()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),Ax=B(aS),oS=class extends K{initMachine(e){return new W(sS,e)}initApi(){return rS(this.machine.service,q)}render(){let e=this.el,t=e.querySelector('[data-scope="dialog"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=e.querySelector('[data-scope="dialog"][data-part="backdrop"]');n&&this.spreadProps(n,this.api.getBackdropProps());let i=e.querySelector('[data-scope="dialog"][data-part="positioner"]');i&&this.spreadProps(i,this.api.getPositionerProps());let r=e.querySelector('[data-scope="dialog"][data-part="content"]');r&&this.spreadProps(r,this.api.getContentProps());let s=e.querySelector('[data-scope="dialog"][data-part="title"]');s&&this.spreadProps(s,this.api.getTitleProps());let a=e.querySelector('[data-scope="dialog"][data-part="description"]');a&&this.spreadProps(a,this.api.getDescriptionProps());let o=e.querySelector('[data-scope="dialog"][data-part="close-trigger"]');o&&this.spreadProps(o,this.api.getCloseTriggerProps())}},lS={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new oS(e,y(g({id:e.id},C(e,"controlled")?{open:C(e,"open")}:{defaultOpen:C(e,"defaultOpen")}),{modal:C(e,"modal"),closeOnInteractOutside:C(e,"closeOnInteractOutside"),closeOnEscape:C(e,"closeOnEscapeKeyDown"),preventScroll:C(e,"preventScroll"),restoreFocus:C(e,"restoreFocus"),dir:O(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let r=O(e,"onOpenChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,open:i.open});let s=O(e,"onOpenChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));n.init(),this.dialog=n,this.onSetOpen=i=>{let{open:r}=i.detail;n.api.setOpen(r)},e.addEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("dialog_set_open",i=>{let r=i.dialog_id;r&&r!==e.id||n.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("dialog_open",()=>{this.pushEvent("dialog_open_response",{value:n.api.open})}))},updated(){var e;(e=this.dialog)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlled")?{open:C(this.el,"open")}:{defaultOpen:C(this.el,"defaultOpen")}),{modal:C(this.el,"modal"),closeOnInteractOutside:C(this.el,"closeOnInteractOutside"),closeOnEscape:C(this.el,"closeOnEscapeKeyDown"),preventScroll:C(this.el,"preventScroll"),restoreFocus:C(this.el,"restoreFocus"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.dialog)==null||e.destroy()}}});var fg={};he(fg,{Editable:()=>PS});function yS(e,t){var S;let{state:n,context:i,send:r,prop:s,scope:a,computed:o}=e,l=!!s("disabled"),c=o("isInteractive"),d=!!s("readOnly"),h=!!s("required"),m=!!s("invalid"),u=!!s("autoResize"),p=s("translations"),v=n.matches("edit"),I=s("placeholder"),T=typeof I=="string"?{edit:I,preview:I}:I,w=i.get("value"),b=w.trim()==="",f=b?(S=T==null?void 0:T.preview)!=null?S:"":w;return{editing:v,empty:b,value:w,valueText:f,setValue(P){r({type:"VALUE.SET",value:P,src:"setValue"})},clearValue(){r({type:"VALUE.SET",value:"",src:"clearValue"})},edit(){c&&r({type:"EDIT"})},cancel(){c&&r({type:"CANCEL"})},submit(){c&&r({type:"SUBMIT"})},getRootProps(){return t.element(y(g({},on.root.attrs),{id:dS(a),dir:s("dir")}))},getAreaProps(){return t.element(y(g({},on.area.attrs),{id:uS(a),dir:s("dir"),style:u?{display:"inline-grid"}:void 0,"data-focus":E(v),"data-disabled":E(l),"data-placeholder-shown":E(b)}))},getLabelProps(){return t.label(y(g({},on.label.attrs),{id:hS(a),dir:s("dir"),htmlFor:Pl(a),"data-focus":E(v),"data-invalid":E(m),"data-required":E(h),onClick(){if(v)return;let P=pS(a);P==null||P.focus({preventScroll:!0})}}))},getInputProps(){return t.input(y(g({},on.input.attrs),{dir:s("dir"),"aria-label":p==null?void 0:p.input,name:s("name"),form:s("form"),id:Pl(a),hidden:u?void 0:!v,placeholder:T==null?void 0:T.edit,maxLength:s("maxLength"),required:s("required"),disabled:l,"data-disabled":E(l),readOnly:d,"data-readonly":E(d),"aria-invalid":X(m),"data-invalid":E(m),"data-autoresize":E(u),defaultValue:w,size:u?1:void 0,onChange(P){r({type:"VALUE.SET",src:"input.change",value:P.currentTarget.value})},onKeyDown(P){if(P.defaultPrevented||Re(P))return;let A={Escape(){r({type:"CANCEL"}),P.preventDefault()},Enter(x){if(!o("submitOnEnter"))return;let{localName:N}=x.currentTarget;if(N==="textarea"){if(!(Za()?x.metaKey:x.ctrlKey))return;r({type:"SUBMIT",src:"keydown.enter"});return}N==="input"&&!x.shiftKey&&!x.metaKey&&(r({type:"SUBMIT",src:"keydown.enter"}),x.preventDefault())}}[P.key];A&&A(P)},style:u?{gridArea:"1 / 1 / auto / auto",visibility:v?void 0:"hidden"}:void 0}))},getPreviewProps(){return t.element(y(g({id:ug(a)},on.preview.attrs),{dir:s("dir"),"data-placeholder-shown":E(b),"aria-readonly":X(d),"data-readonly":E(l),"data-disabled":E(l),"aria-disabled":X(l),"aria-invalid":X(m),"data-invalid":E(m),"aria-label":p==null?void 0:p.edit,"data-autoresize":E(u),children:f,hidden:u?void 0:v,tabIndex:c?0:void 0,onClick(){c&&s("activationMode")==="click"&&r({type:"EDIT",src:"click"})},onFocus(){c&&s("activationMode")==="focus"&&r({type:"EDIT",src:"focus"})},onDoubleClick(P){P.defaultPrevented||c&&s("activationMode")==="dblclick"&&r({type:"EDIT",src:"dblclick"})},style:u?{whiteSpace:"pre",gridArea:"1 / 1 / auto / auto",visibility:v?"hidden":void 0,overflow:"hidden",textOverflow:"ellipsis"}:void 0}))},getEditTriggerProps(){return t.button(y(g({},on.editTrigger.attrs),{id:pg(a),dir:s("dir"),"aria-label":p==null?void 0:p.edit,hidden:v,type:"button",disabled:l,onClick(P){P.defaultPrevented||c&&r({type:"EDIT",src:"edit.click"})}}))},getControlProps(){return t.element(y(g({id:gS(a)},on.control.attrs),{dir:s("dir")}))},getSubmitTriggerProps(){return t.button(y(g({},on.submitTrigger.attrs),{dir:s("dir"),id:hg(a),"aria-label":p==null?void 0:p.submit,hidden:!v,disabled:l,type:"button",onClick(P){P.defaultPrevented||c&&r({type:"SUBMIT",src:"submit.click"})}}))},getCancelTriggerProps(){return t.button(y(g({},on.cancelTrigger.attrs),{dir:s("dir"),"aria-label":p==null?void 0:p.cancel,id:gg(a),hidden:!v,type:"button",disabled:l,onClick(P){P.defaultPrevented||c&&r({type:"CANCEL",src:"cancel.click"})}}))}}}var cS,on,dS,uS,hS,ug,Pl,gS,hg,gg,pg,ua,pS,fS,mS,vS,bS,ES,Mx,IS,PS,mg=re(()=>{"use strict";Bo();se();cS=U("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control"),on=cS.build(),dS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`editable:${e.id}`},uS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.area)!=null?n:`editable:${e.id}:area`},hS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`editable:${e.id}:label`},ug=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.preview)!=null?n:`editable:${e.id}:preview`},Pl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`editable:${e.id}:input`},gS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`editable:${e.id}:control`},hg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.submitTrigger)!=null?n:`editable:${e.id}:submit`},gg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.cancelTrigger)!=null?n:`editable:${e.id}:cancel`},pg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.editTrigger)!=null?n:`editable:${e.id}:edit`},ua=e=>e.getById(Pl(e)),pS=e=>e.getById(ug(e)),fS=e=>e.getById(hg(e)),mS=e=>e.getById(gg(e)),vS=e=>e.getById(pg(e));bS={props({props:e}){return y(g({activationMode:"focus",submitMode:"both",defaultValue:"",selectOnFocus:!0},e),{translations:g({input:"editable input",edit:"edit",submit:"submit",cancel:"cancel"},e.translations)})},initialState({prop:e}){return e("edit")||e("defaultEdit")?"edit":"preview"},entry:["focusInputIfNeeded"],context:({bindable:e,prop:t})=>({value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var i;return(i=t("onValueChange"))==null?void 0:i({value:n})}})),previousValue:e(()=>({defaultValue:""}))}),watch({track:e,action:t,context:n,prop:i}){e([()=>n.get("value")],()=>{t(["syncInputValue"])}),e([()=>i("edit")],()=>{t(["toggleEditing"])})},computed:{submitOnEnter({prop:e}){let t=e("submitMode");return t==="both"||t==="enter"},submitOnBlur({prop:e}){let t=e("submitMode");return t==="both"||t==="blur"},isInteractive({prop:e}){return!(e("disabled")||e("readOnly"))}},on:{"VALUE.SET":{actions:["setValue"]}},states:{preview:{entry:["blurInput"],on:{"CONTROLLED.EDIT":{target:"edit",actions:["setPreviousValue","focusInput"]},EDIT:[{guard:"isEditControlled",actions:["invokeOnEdit"]},{target:"edit",actions:["setPreviousValue","focusInput","invokeOnEdit"]}]}},edit:{effects:["trackInteractOutside"],entry:["syncInputValue"],on:{"CONTROLLED.PREVIEW":[{guard:"isSubmitEvent",target:"preview",actions:["setPreviousValue","restoreFocus","invokeOnSubmit"]},{target:"preview",actions:["revertValue","restoreFocus","invokeOnCancel"]}],CANCEL:[{guard:"isEditControlled",actions:["invokeOnPreview"]},{target:"preview",actions:["revertValue","restoreFocus","invokeOnCancel","invokeOnPreview"]}],SUBMIT:[{guard:"isEditControlled",actions:["invokeOnPreview"]},{target:"preview",actions:["setPreviousValue","restoreFocus","invokeOnSubmit","invokeOnPreview"]}]}}},implementations:{guards:{isEditControlled:({prop:e})=>e("edit")!=null,isSubmitEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="SUBMIT"}},effects:{trackInteractOutside({send:e,scope:t,prop:n,computed:i}){return qs(ua(t),{exclude(r){return[mS(t),fS(t)].some(a=>ce(a,r))},onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(r){var a;if((a=n("onInteractOutside"))==null||a(r),r.defaultPrevented)return;let{focusable:s}=r.detail;e({type:i("submitOnBlur")?"SUBMIT":"CANCEL",src:"interact-outside",focusable:s})}})}},actions:{restoreFocus({event:e,scope:t,prop:n}){e.focusable||H(()=>{var r,s;let i=(s=(r=n("finalFocusEl"))==null?void 0:r())!=null?s:vS(t);i==null||i.focus({preventScroll:!0})})},clearValue({context:e}){e.set("value","")},focusInputIfNeeded({action:e,prop:t}){(t("edit")||t("defaultEdit"))&&e(["focusInput"])},focusInput({scope:e,prop:t}){H(()=>{let n=ua(e);n&&(t("selectOnFocus")?n.select():n.focus({preventScroll:!0}))})},invokeOnCancel({prop:e,context:t}){var i;let n=t.get("previousValue");(i=e("onValueRevert"))==null||i({value:n})},invokeOnSubmit({prop:e,context:t}){var i;let n=t.get("value");(i=e("onValueCommit"))==null||i({value:n})},invokeOnEdit({prop:e}){var t;(t=e("onEditChange"))==null||t({edit:!0})},invokeOnPreview({prop:e}){var t;(t=e("onEditChange"))==null||t({edit:!1})},toggleEditing({prop:e,send:t,event:n}){t({type:e("edit")?"CONTROLLED.EDIT":"CONTROLLED.PREVIEW",previousEvent:n})},syncInputValue({context:e,scope:t}){let n=ua(t);n&&Me(n,e.get("value"))},setValue({context:e,prop:t,event:n}){let i=t("maxLength"),r=i!=null?n.value.slice(0,i):n.value;e.set("value",r)},setPreviousValue({context:e}){e.set("previousValue",e.get("value"))},revertValue({context:e}){let t=e.get("previousValue");t&&e.set("value",t)},blurInput({scope:e}){var t;(t=ua(e))==null||t.blur()}}}},ES=_()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]),Mx=B(ES),IS=class extends K{initMachine(e){return new W(bS,e)}initApi(){return yS(this.machine.service,q)}render(){var c;let e=(c=this.el.querySelector('[data-scope="editable"][data-part="root"]'))!=null?c:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="editable"][data-part="area"]');t&&this.spreadProps(t,this.api.getAreaProps());let n=this.el.querySelector('[data-scope="editable"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="editable"][data-part="input"]');i&&this.spreadProps(i,this.api.getInputProps());let r=this.el.querySelector('[data-scope="editable"][data-part="preview"]');r&&this.spreadProps(r,this.api.getPreviewProps());let s=this.el.querySelector('[data-scope="editable"][data-part="edit-trigger"]');s&&this.spreadProps(s,this.api.getEditTriggerProps());let a=this.el.querySelector('[data-scope="editable"][data-part="control"]');a&&this.spreadProps(a,this.api.getControlProps());let o=this.el.querySelector('[data-scope="editable"][data-part="submit-trigger"]');o&&this.spreadProps(o,this.api.getSubmitTriggerProps());let l=this.el.querySelector('[data-scope="editable"][data-part="cancel-trigger"]');l&&this.spreadProps(l,this.api.getCancelTriggerProps())}},PS={mounted(){let e=this.el,t=O(e,"value"),n=O(e,"defaultValue"),i=C(e,"controlled"),r=new IS(e,y(g(y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:n!=null?n:""}),{disabled:C(e,"disabled"),readOnly:C(e,"readOnly"),required:C(e,"required"),invalid:C(e,"invalid"),name:O(e,"name"),form:O(e,"form"),dir:Oe(e)}),C(e,"controlledEdit")?{edit:C(e,"edit")}:{defaultEdit:C(e,"defaultEdit")}),{onValueChange:s=>{let a=e.querySelector('[data-scope="editable"][data-part="input"]');a&&(a.value=s.value,a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0})));let o=O(e,"onValueChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:s.value,id:e.id});let l=O(e,"onValueChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:{value:s,id:e.id}}))}}));r.init(),this.editable=r,this.handlers=[]},updated(){var n;let e=O(this.el,"value"),t=C(this.el,"controlled");(n=this.editable)==null||n.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{disabled:C(this.el,"disabled"),readOnly:C(this.el,"readOnly"),required:C(this.el,"required"),invalid:C(this.el,"invalid"),name:O(this.el,"name"),form:O(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.editable)==null||e.destroy()}}});var wg={};he(wg,{FloatingPanel:()=>RS});function TS(e){switch(e){case"n":return{cursor:"n-resize",width:"100%",top:0,left:"50%",translate:"-50%"};case"e":return{cursor:"e-resize",height:"100%",right:0,top:"50%",translate:"0 -50%"};case"s":return{cursor:"s-resize",width:"100%",bottom:0,left:"50%",translate:"-50%"};case"w":return{cursor:"w-resize",height:"100%",left:0,top:"50%",translate:"0 -50%"};case"se":return{cursor:"se-resize",bottom:0,right:0};case"sw":return{cursor:"sw-resize",bottom:0,left:0};case"ne":return{cursor:"ne-resize",top:0,right:0};case"nw":return{cursor:"nw-resize",top:0,left:0};default:throw new Error(`Invalid axis: ${e}`)}}function OS(e,t){let{state:n,send:i,scope:r,prop:s,computed:a,context:o}=e,l=n.hasTag("open"),c=n.matches("open.dragging"),d=n.matches("open.resizing"),h=o.get("isTopmost"),m=o.get("size"),u=o.get("position"),p=a("isMaximized"),v=a("isMinimized"),I=a("isStaged"),T=a("canResize"),w=a("canDrag");return{open:l,resizable:s("resizable"),draggable:s("draggable"),setOpen(b){n.hasTag("open")!==b&&i({type:b?"OPEN":"CLOSE"})},dragging:c,resizing:d,position:u,size:m,setPosition(b){i({type:"SET_POSITION",position:b})},setSize(b){i({type:"SET_SIZE",size:b})},minimize(){i({type:"MINIMIZE"})},maximize(){i({type:"MAXIMIZE"})},restore(){i({type:"RESTORE"})},getTriggerProps(){return t.button(y(g({},St.trigger.attrs),{dir:s("dir"),type:"button",disabled:s("disabled"),id:Sg(r),"data-state":l?"open":"closed","data-dragging":E(c),"aria-controls":Cl(r),onClick(b){if(b.defaultPrevented||s("disabled"))return;let f=n.hasTag("open");i({type:f?"CLOSE":"OPEN",src:"trigger"})}}))},getPositionerProps(){return t.element(y(g({},St.positioner.attrs),{dir:s("dir"),id:Tg(r),style:{"--width":ye(m==null?void 0:m.width),"--height":ye(m==null?void 0:m.height),"--x":ye(u==null?void 0:u.x),"--y":ye(u==null?void 0:u.y),position:s("strategy"),top:"var(--y)",left:"var(--x)"}}))},getContentProps(){return t.element(y(g({},St.content.attrs),{dir:s("dir"),role:"dialog",tabIndex:0,hidden:!l,id:Cl(r),"aria-labelledby":vg(r),"data-state":l?"open":"closed","data-dragging":E(c),"data-topmost":E(h),"data-behind":E(!h),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I),style:{width:"var(--width)",height:"var(--height)",overflow:v?"hidden":void 0},onFocus(){i({type:"CONTENT_FOCUS"})},onKeyDown(b){if(b.defaultPrevented||b.currentTarget!==j(b))return;let f=hi(b)*s("gridSize"),P={Escape(){h&&i({type:"ESCAPE"})},ArrowLeft(){i({type:"MOVE",direction:"left",step:f})},ArrowRight(){i({type:"MOVE",direction:"right",step:f})},ArrowUp(){i({type:"MOVE",direction:"up",step:f})},ArrowDown(){i({type:"MOVE",direction:"down",step:f})}}[ge(b,{dir:s("dir")})];P&&(b.preventDefault(),P(b))}}))},getCloseTriggerProps(){return t.button(y(g({},St.closeTrigger.attrs),{dir:s("dir"),disabled:s("disabled"),"aria-label":"Close Window",type:"button",onClick(b){b.defaultPrevented||i({type:"CLOSE"})}}))},getStageTriggerProps(b){if(!Ig.has(b.stage))throw new Error(`[zag-js] Invalid stage: ${b.stage}. Must be one of: ${Array.from(Ig).join(", ")}`);let f=s("translations"),S=Ce(b.stage,{minimized:()=>({"aria-label":f.minimize,hidden:I}),maximized:()=>({"aria-label":f.maximize,hidden:I}),default:()=>({"aria-label":f.restore,hidden:!I})});return t.button(y(g(y(g({},St.stageTrigger.attrs),{dir:s("dir"),disabled:s("disabled"),"data-stage":b.stage}),S),{type:"button",onClick(P){if(P.defaultPrevented||!s("resizable"))return;let V=Ce(b.stage,{minimized:()=>"MINIMIZE",maximized:()=>"MAXIMIZE",default:()=>"RESTORE"});i({type:V.toUpperCase()})}}))},getResizeTriggerProps(b){return t.element(y(g({},St.resizeTrigger.attrs),{dir:s("dir"),"data-disabled":E(!T),"data-axis":b.axis,onPointerDown(f){T&&fe(f)&&(f.currentTarget.setPointerCapture(f.pointerId),f.stopPropagation(),i({type:"RESIZE_START",axis:b.axis,position:{x:f.clientX,y:f.clientY}}))},onPointerUp(f){if(!T)return;let S=f.currentTarget;S.hasPointerCapture(f.pointerId)&&S.releasePointerCapture(f.pointerId)},style:g({position:"absolute",touchAction:"none"},TS(b.axis))}))},getDragTriggerProps(){return t.element(y(g({},St.dragTrigger.attrs),{dir:s("dir"),"data-disabled":E(!w),onPointerDown(b){if(!w||!fe(b))return;let f=j(b);f!=null&&f.closest("button")||f!=null&&f.closest("[data-no-drag]")||(b.currentTarget.setPointerCapture(b.pointerId),b.stopPropagation(),i({type:"DRAG_START",pointerId:b.pointerId,position:{x:b.clientX,y:b.clientY}}))},onPointerUp(b){if(!w)return;let f=b.currentTarget;f.hasPointerCapture(b.pointerId)&&f.releasePointerCapture(b.pointerId)},onDoubleClick(b){b.defaultPrevented||s("resizable")&&i({type:I?"RESTORE":"MAXIMIZE"})},style:{WebkitUserSelect:"none",userSelect:"none",touchAction:"none",cursor:"move"}}))},getControlProps(){return t.element(y(g({},St.control.attrs),{dir:s("dir"),"data-disabled":E(s("disabled")),"data-stage":o.get("stage"),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I)}))},getTitleProps(){return t.element(y(g({},St.title.attrs),{dir:s("dir"),id:vg(r)}))},getHeaderProps(){return t.element(y(g({},St.header.attrs),{dir:s("dir"),id:Og(r),"data-dragging":E(c),"data-topmost":E(h),"data-behind":E(!h),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I)}))},getBodyProps(){return t.element(y(g({},St.body.attrs),{dir:s("dir"),"data-dragging":E(c),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I),hidden:v}))}}}function ha(e){if(e)try{let t=JSON.parse(e);if(typeof t.width=="number"&&typeof t.height=="number")return{width:t.width,height:t.height}}catch(t){}}function Cg(e){if(e)try{let t=JSON.parse(e);if(typeof t.x=="number"&&typeof t.y=="number")return{x:t.x,y:t.y}}catch(t){}}var CS,St,Sg,Tg,Cl,vg,Og,yg,bg,Eg,SS,On,Ig,Ar,Pg,wS,VS,xS,AS,_x,NS,Gx,kS,RS,Vg=re(()=>{"use strict";Ps();se();CS=U("floating-panel").parts("trigger","positioner","content","header","body","title","resizeTrigger","dragTrigger","stageTrigger","closeTrigger","control"),St=CS.build(),Sg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`float:${e.id}:trigger`},Tg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`float:${e.id}:positioner`},Cl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`float:${e.id}:content`},vg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.title)!=null?n:`float:${e.id}:title`},Og=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.header)!=null?n:`float:${e.id}:header`},yg=e=>e.getById(Sg(e)),bg=e=>e.getById(Tg(e)),Eg=e=>e.getById(Cl(e)),SS=e=>e.getById(Og(e)),On=(e,t,n)=>{let i;return le(t)?i=ho(t):i=Pd(e.getWin()),n&&(i=yn({x:-i.width,y:i.minY,width:i.width*3,height:i.height*2})),pn(i,["x","y","width","height"])};Ig=new Set(["minimized","maximized","default"]);Ar=vs({stack:[],count(){return this.stack.length},add(e){this.stack.includes(e)||this.stack.push(e)},remove(e){let t=this.stack.indexOf(e);t<0||this.stack.splice(t,1)},bringToFront(e){this.remove(e),this.add(e)},isTopmost(e){return this.stack[this.stack.length-1]===e},indexOf(e){return this.stack.indexOf(e)}}),{not:Pg,and:wS}=Ee(),VS={minimize:"Minimize window",maximize:"Maximize window",restore:"Restore window"},xS={props({props:e}){return vn(e,["id"],"floating-panel"),y(g({strategy:"fixed",gridSize:1,defaultSize:{width:320,height:240},defaultPosition:{x:300,y:100},allowOverflow:!0,resizable:!0,draggable:!0},e),{hasSpecifiedPosition:!!e.defaultPosition||!!e.position,translations:g(g({},VS),e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({prop:e,bindable:t}){return{size:t(()=>({defaultValue:e("defaultSize"),value:e("size"),isEqual:Ed,sync:!0,hash(n){return`W:${n.width} H:${n.height}`},onChange(n){var i;(i=e("onSizeChange"))==null||i({size:n})}})),position:t(()=>({defaultValue:e("defaultPosition"),value:e("position"),isEqual:Id,sync:!0,hash(n){return`X:${n.x} Y:${n.y}`},onChange(n){var i;(i=e("onPositionChange"))==null||i({position:n})}})),stage:t(()=>({defaultValue:"default",onChange(n){var i;(i=e("onStageChange"))==null||i({stage:n})}})),lastEventPosition:t(()=>({defaultValue:null})),prevPosition:t(()=>({defaultValue:null})),prevSize:t(()=>({defaultValue:null})),isTopmost:t(()=>({defaultValue:void 0}))}},computed:{isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isStaged:({context:e})=>e.get("stage")!=="default",canResize:({context:e,prop:t})=>t("resizable")&&!t("disabled")&&e.get("stage")==="default",canDrag:({prop:e,computed:t})=>e("draggable")&&!e("disabled")&&!t("isMaximized")},watch({track:e,context:t,action:n,prop:i}){e([()=>t.hash("position")],()=>{n(["setPositionStyle"])}),e([()=>t.hash("size")],()=>{n(["setSizeStyle"])}),e([()=>i("open")],()=>{n(["toggleVisibility"])})},effects:["trackPanelStack"],on:{CONTENT_FOCUS:{actions:["bringToFrontOfPanelStack"]},SET_POSITION:{actions:["setPosition"]},SET_SIZE:{actions:["setSize"]}},states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]}]}},open:{tags:["open"],entry:["bringToFrontOfPanelStack"],effects:["trackBoundaryRect"],on:{DRAG_START:{guard:Pg("isMaximized"),target:"open.dragging",actions:["setPrevPosition"]},RESIZE_START:{guard:Pg("isMinimized"),target:"open.resizing",actions:["setPrevSize"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect","focusTriggerEl"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],ESCAPE:[{guard:wS("isOpenControlled","closeOnEsc"),actions:["invokeOnClose"]},{guard:"closeOnEsc",target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],MINIMIZE:{actions:["setMinimized"]},MAXIMIZE:{actions:["setMaximized"]},RESTORE:{actions:["setRestored"]},MOVE:{actions:["setPositionFromKeyboard"]}}},"open.dragging":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevPosition"],on:{DRAG:{actions:["setPosition"]},DRAG_END:{target:"open",actions:["invokeOnDragEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}},"open.resizing":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevSize"],on:{DRAG:{actions:["setSize"]},DRAG_END:{target:"open",actions:["invokeOnResizeEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}}},implementations:{guards:{closeOnEsc:({prop:e})=>!!e("closeOnEscape"),isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPointerMove({scope:e,send:t,event:n,prop:i}){var o;let r=e.getDoc(),s=(o=i("getBoundaryEl"))==null?void 0:o(),a=On(e,s,!1);return un(r,{onPointerMove({point:l,event:c}){let{altKey:d,shiftKey:h}=c,m=He(l.x,a.x,a.x+a.width),u=He(l.y,a.y,a.y+a.height);t({type:"DRAG",position:{x:m,y:u},axis:n.axis,altKey:d,shiftKey:h})},onPointerUp(){t({type:"DRAG_END"})}})},trackBoundaryRect({context:e,scope:t,prop:n,computed:i}){var l;let r=t.getWin(),s=!0,a=()=>{var h;if(s){s=!1;return}let c=(h=n("getBoundaryEl"))==null?void 0:h(),d=On(t,c,!1);if(!i("isMaximized")){let m=g(g({},e.get("position")),e.get("size"));d=bd(m,d)}e.set("size",pn(d,["width","height"])),e.set("position",pn(d,["x","y"]))},o=(l=n("getBoundaryEl"))==null?void 0:l();return le(o)?hn.observe(o,a):ee(r,"resize",a)},trackPanelStack({context:e,scope:t}){let n=ts(Ar,()=>{e.set("isTopmost",Ar.isTopmost(t.id));let i=Eg(t);if(!i)return;let r=Ar.indexOf(t.id);r!==-1&&i.style.setProperty("--z-index",`${r+1}`)});return()=>{Ar.remove(t.id),n()}}},actions:{setAnchorPosition({context:e,prop:t,scope:n}){if(t("hasSpecifiedPosition"))return;let i=e.get("prevPosition")||e.get("prevSize");t("persistRect")&&i||H(()=>{var o,l;let r=yg(n),s=On(n,(o=t("getBoundaryEl"))==null?void 0:o(),!1),a=(l=t("getAnchorPosition"))==null?void 0:l({triggerRect:r?DOMRect.fromRect(ho(r)):null,boundaryRect:DOMRect.fromRect(s)});if(!a){let c=e.get("size");a={x:s.x+(s.width-c.width)/2,y:s.y+(s.height-c.height)/2}}a&&e.set("position",a)})},setPrevPosition({context:e,event:t}){e.set("prevPosition",g({},e.get("position"))),e.set("lastEventPosition",t.position)},clearPrevPosition({context:e,prop:t}){t("persistRect")||e.set("prevPosition",null),e.set("lastEventPosition",null)},setPosition({context:e,event:t,prop:n,scope:i}){var c;let r=uo(t.position,e.get("lastEventPosition"));r.x=Math.round(r.x/n("gridSize"))*n("gridSize"),r.y=Math.round(r.y/n("gridSize"))*n("gridSize");let s=e.get("prevPosition");if(!s)return;let a=yd(s,r),o=(c=n("getBoundaryEl"))==null?void 0:c(),l=On(i,o,n("allowOverflow"));a=ur(a,e.get("size"),l),e.set("position",a)},setPositionStyle({scope:e,context:t}){let n=bg(e),i=t.get("position");n==null||n.style.setProperty("--x",`${i.x}px`),n==null||n.style.setProperty("--y",`${i.y}px`)},resetRect({context:e,prop:t}){e.set("stage","default"),t("persistRect")||(e.set("position",e.initial("position")),e.set("size",e.initial("size")))},setPrevSize({context:e,event:t}){e.set("prevSize",g({},e.get("size"))),e.set("prevPosition",g({},e.get("position"))),e.set("lastEventPosition",t.position)},clearPrevSize({context:e}){e.set("prevSize",null),e.set("prevPosition",null),e.set("lastEventPosition",null)},setSize({context:e,event:t,scope:n,prop:i}){var p;let r=e.get("prevSize"),s=e.get("prevPosition"),a=e.get("lastEventPosition");if(!r||!s||!a)return;let o=yn(g(g({},s),r)),l=uo(t.position,a),c=Sd(o,l,t.axis,{scalingOriginMode:t.altKey?"center":"extent",lockAspectRatio:!!i("lockAspectRatio")||t.shiftKey}),d=pn(c,["width","height"]),h=pn(c,["x","y"]),m=(p=i("getBoundaryEl"))==null?void 0:p(),u=On(n,m,!1);if(d=hr(d,i("minSize"),i("maxSize")),d=hr(d,i("minSize"),u),e.set("size",d),h){let v=ur(h,d,u);e.set("position",v)}},setSizeStyle({scope:e,context:t}){queueMicrotask(()=>{let n=bg(e),i=t.get("size");n==null||n.style.setProperty("--width",`${i.width}px`),n==null||n.style.setProperty("--height",`${i.height}px`)})},setMaximized({context:e,prop:t,scope:n}){var s;e.set("stage","maximized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));let i=(s=t("getBoundaryEl"))==null?void 0:s(),r=On(n,i,!1);e.set("position",pn(r,["x","y"])),e.set("size",pn(r,["height","width"]))},setMinimized({context:e,scope:t}){e.set("stage","minimized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));let n=SS(t);if(!n)return;let i=y(g({},e.get("size")),{height:n==null?void 0:n.offsetHeight});e.set("size",i)},setRestored({context:e,prop:t,scope:n}){var s;let i=On(n,(s=t("getBoundaryEl"))==null?void 0:s(),!1);e.set("stage","default");let r=e.get("prevSize");if(r){let a=r;a=hr(a,t("minSize"),t("maxSize")),a=hr(a,t("minSize"),i),e.set("size",a),e.set("prevSize",null)}if(e.get("prevPosition")){let a=e.get("prevPosition");a=ur(a,e.get("size"),i),e.set("position",a),e.set("prevPosition",null)}},setPositionFromKeyboard({context:e,event:t,prop:n,scope:i}){var c;ms(t.step==null,"step is required");let r=e.get("position"),s=t.step,a=Ce(t.direction,{left:{x:r.x-s,y:r.y},right:{x:r.x+s,y:r.y},up:{x:r.x,y:r.y-s},down:{x:r.x,y:r.y+s}}),o=(c=n("getBoundaryEl"))==null?void 0:c(),l=On(i,o,!1);a=ur(a,e.get("size"),l),e.set("position",a)},bringToFrontOfPanelStack({prop:e}){Ar.bringToFront(e("id"))},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnDragEnd({context:e,prop:t}){var n;(n=t("onPositionChangeEnd"))==null||n({position:e.get("position")})},invokeOnResizeEnd({context:e,prop:t}){var n;(n=t("onSizeChangeEnd"))==null||n({size:e.get("size")})},focusTriggerEl({scope:e}){H(()=>{var t;(t=yg(e))==null||t.focus()})},focusContentEl({scope:e}){H(()=>{var t;(t=Eg(e))==null||t.focus()})},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}},AS=_()(["allowOverflow","closeOnEscape","defaultOpen","defaultPosition","defaultSize","dir","disabled","draggable","getAnchorPosition","getBoundaryEl","getRootNode","gridSize","id","ids","lockAspectRatio","maxSize","minSize","onOpenChange","onPositionChange","onPositionChangeEnd","onSizeChange","onSizeChangeEnd","onStageChange","open","persistRect","position","resizable","size","strategy","translations"]),_x=B(AS),NS=_()(["axis"]),Gx=B(NS),kS=class extends K{initMachine(e){return new W(xS,e)}initApi(){return OS(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="floating-panel"][data-part="trigger"]');e&&this.spreadProps(e,this.api.getTriggerProps());let t=this.el.querySelector('[data-scope="floating-panel"][data-part="positioner"]');t&&this.spreadProps(t,this.api.getPositionerProps());let n=this.el.querySelector('[data-scope="floating-panel"][data-part="content"]');n&&this.spreadProps(n,this.api.getContentProps());let i=this.el.querySelector('[data-scope="floating-panel"][data-part="title"]');i&&this.spreadProps(i,this.api.getTitleProps());let r=this.el.querySelector('[data-scope="floating-panel"][data-part="header"]');r&&this.spreadProps(r,this.api.getHeaderProps());let s=this.el.querySelector('[data-scope="floating-panel"][data-part="body"]');s&&this.spreadProps(s,this.api.getBodyProps());let a=this.el.querySelector('[data-scope="floating-panel"][data-part="drag-trigger"]');a&&this.spreadProps(a,this.api.getDragTriggerProps()),["s","w","e","n","sw","nw","se","ne"].forEach(h=>{let m=this.el.querySelector(`[data-scope="floating-panel"][data-part="resize-trigger"][data-axis="${h}"]`);m&&this.spreadProps(m,this.api.getResizeTriggerProps({axis:h}))});let l=this.el.querySelector('[data-scope="floating-panel"][data-part="close-trigger"]');l&&this.spreadProps(l,this.api.getCloseTriggerProps());let c=this.el.querySelector('[data-scope="floating-panel"][data-part="control"]');c&&this.spreadProps(c,this.api.getControlProps()),["minimized","maximized","default"].forEach(h=>{let m=this.el.querySelector(`[data-scope="floating-panel"][data-part="stage-trigger"][data-stage="${h}"]`);m&&this.spreadProps(m,this.api.getStageTriggerProps({stage:h}))})}};RS={mounted(){let e=this.el,t=C(e,"open"),n=C(e,"defaultOpen"),i=C(e,"controlled"),r=ha(e.dataset.size),s=ha(e.dataset.defaultSize),a=Cg(e.dataset.position),o=Cg(e.dataset.defaultPosition),l=new kS(e,y(g({id:e.id},i?{open:t}:{defaultOpen:n}),{draggable:C(e,"draggable")!==!1,resizable:C(e,"resizable")!==!1,allowOverflow:C(e,"allowOverflow")!==!1,closeOnEscape:C(e,"closeOnEscape")!==!1,disabled:C(e,"disabled"),dir:Oe(e),size:r,defaultSize:s,position:a,defaultPosition:o,minSize:ha(e.dataset.minSize),maxSize:ha(e.dataset.maxSize),persistRect:C(e,"persistRect"),gridSize:Number(e.dataset.gridSize)||1,onOpenChange:c=>{let d=O(e,"onOpenChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{open:c.open,id:e.id});let h=O(e,"onOpenChangeClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{value:c,id:e.id}}))},onPositionChange:c=>{let d=O(e,"onPositionChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{position:c.position,id:e.id})},onSizeChange:c=>{let d=O(e,"onSizeChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{size:c.size,id:e.id})},onStageChange:c=>{let d=O(e,"onStageChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{stage:c.stage,id:e.id})}}));l.init(),this.floatingPanel=l,this.handlers=[]},updated(){var n;let e=C(this.el,"open"),t=C(this.el,"controlled");(n=this.floatingPanel)==null||n.updateProps(y(g({id:this.el.id},t?{open:e}:{}),{disabled:C(this.el,"disabled"),dir:Oe(this.el)}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.floatingPanel)==null||e.destroy()}}});var Rg={};he(Rg,{Listbox:()=>jS});function $S(e,t){let{context:n,prop:i,scope:r,computed:s,send:a,refs:o}=e,l=i("disabled"),c=i("collection"),d=Pn(c)?"grid":"list",h=n.get("focused"),m=o.get("focusVisible")&&h,u=o.get("inputState"),p=n.get("value"),v=n.get("selectedItems"),I=n.get("highlightedValue"),T=n.get("highlightedItem"),w=s("isTypingAhead"),b=s("isInteractive"),f=I?Tl(r,I):void 0;function S(P){let V=c.getItemDisabled(P.item),A=c.getItemValue(P.item);mn(A,()=>`[zag-js] No value found for item ${JSON.stringify(P.item)}`);let x=I===A;return{value:A,disabled:!!(l||V),focused:x&&h,focusVisible:x&&m,highlighted:x&&(u.focused?h:m),selected:n.get("value").includes(A)}}return{empty:p.length===0,highlightedItem:T,highlightedValue:I,clearHighlightedValue(){a({type:"HIGHLIGHTED_VALUE.SET",value:null})},selectedItems:v,hasSelectedItems:s("hasSelectedItems"),value:p,valueAsString:s("valueAsString"),collection:c,disabled:!!l,selectValue(P){a({type:"ITEM.SELECT",value:P})},setValue(P){a({type:"VALUE.SET",value:P})},selectAll(){if(!s("multiple"))throw new Error("[zag-js] Cannot select all items in a single-select listbox");a({type:"VALUE.SET",value:c.getValues()})},highlightValue(P){a({type:"HIGHLIGHTED_VALUE.SET",value:P})},clearValue(P){a(P?{type:"ITEM.CLEAR",value:P}:{type:"VALUE.CLEAR"})},getItemState:S,getRootProps(){return t.element(y(g({},Ht.root.attrs),{dir:i("dir"),id:MS(r),"data-orientation":i("orientation"),"data-disabled":E(l)}))},getInputProps(P={}){return t.input(y(g({},Ht.input.attrs),{dir:i("dir"),disabled:l,"data-disabled":E(l),autoComplete:"off",autoCorrect:"off","aria-haspopup":"listbox","aria-controls":Sl(r),"aria-autocomplete":"list","aria-activedescendant":f,spellCheck:!1,enterKeyHint:"go",onFocus(){queueMicrotask(()=>{a({type:"INPUT.FOCUS",autoHighlight:!!(P!=null&&P.autoHighlight)})})},onBlur(){a({type:"CONTENT.BLUR",src:"input"})},onInput(V){P!=null&&P.autoHighlight&&(V.currentTarget.value.trim()||queueMicrotask(()=>{a({type:"HIGHLIGHTED_VALUE.SET",value:null})}))},onKeyDown(V){if(V.defaultPrevented||Re(V))return;let A=Yt(V),x=()=>{var D;V.preventDefault();let N=r.getWin(),k=new N.KeyboardEvent(A.type,A);(D=ga(r))==null||D.dispatchEvent(k)};switch(A.key){case"ArrowLeft":case"ArrowRight":{if(!Pn(c)||V.ctrlKey)return;x()}case"Home":case"End":{if(I==null&&V.shiftKey)return;x()}case"ArrowDown":case"ArrowUp":{x();break}case"Enter":I!=null&&(V.preventDefault(),a({type:"ITEM.CLICK",value:I}));break}}}))},getLabelProps(){return t.element(y(g({dir:i("dir"),id:xg(r)},Ht.label.attrs),{"data-disabled":E(l)}))},getValueTextProps(){return t.element(y(g({},Ht.valueText.attrs),{dir:i("dir"),"data-disabled":E(l)}))},getItemProps(P){let V=S(P);return t.element(y(g({id:Tl(r,V.value),role:"option"},Ht.item.attrs),{dir:i("dir"),"data-value":V.value,"aria-selected":V.selected,"data-selected":E(V.selected),"data-layout":d,"data-state":V.selected?"checked":"unchecked","data-orientation":i("orientation"),"data-highlighted":E(V.highlighted),"data-disabled":E(V.disabled),"aria-disabled":X(V.disabled),onPointerMove(A){P.highlightOnHover&&(V.disabled||A.pointerType!=="mouse"||V.highlighted||a({type:"ITEM.POINTER_MOVE",value:V.value}))},onMouseDown(A){var x;A.preventDefault(),(x=ga(r))==null||x.focus()},onClick(A){A.defaultPrevented||V.disabled||a({type:"ITEM.CLICK",value:V.value,shiftKey:A.shiftKey,anchorValue:I,metaKey:os(A)})}}))},getItemTextProps(P){let V=S(P);return t.element(y(g({},Ht.itemText.attrs),{"data-state":V.selected?"checked":"unchecked","data-disabled":E(V.disabled),"data-highlighted":E(V.highlighted)}))},getItemIndicatorProps(P){let V=S(P);return t.element(y(g({},Ht.itemIndicator.attrs),{"aria-hidden":!0,"data-state":V.selected?"checked":"unchecked",hidden:!V.selected}))},getItemGroupLabelProps(P){let{htmlFor:V}=P;return t.element(y(g({},Ht.itemGroupLabel.attrs),{id:Ag(r,V),dir:i("dir"),role:"presentation"}))},getItemGroupProps(P){let{id:V}=P;return t.element(y(g({},Ht.itemGroup.attrs),{"data-disabled":E(l),"data-orientation":i("orientation"),"data-empty":E(c.size===0),id:FS(r,V),"aria-labelledby":Ag(r,V),role:"group",dir:i("dir")}))},getContentProps(){return t.element(y(g({dir:i("dir"),id:Sl(r),role:"listbox"},Ht.content.attrs),{"data-activedescendant":f,"aria-activedescendant":f,"data-orientation":i("orientation"),"aria-multiselectable":s("multiple")?!0:void 0,"aria-labelledby":xg(r),tabIndex:0,"data-layout":d,"data-empty":E(c.size===0),style:{"--column-count":Pn(c)?c.columnCount:1},onFocus(){a({type:"CONTENT.FOCUS"})},onBlur(){a({type:"CONTENT.BLUR"})},onKeyDown(P){if(!b||!ce(P.currentTarget,j(P)))return;let V=P.shiftKey,A={ArrowUp(k){let D=null;Pn(c)&&I?D=c.getPreviousRowValue(I):I&&(D=c.getPreviousValue(I)),!D&&(i("loopFocus")||!I)&&(D=c.lastValue),D&&(k.preventDefault(),a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I}))},ArrowDown(k){let D=null;Pn(c)&&I?D=c.getNextRowValue(I):I&&(D=c.getNextValue(I)),!D&&(i("loopFocus")||!I)&&(D=c.firstValue),D&&(k.preventDefault(),a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I}))},ArrowLeft(){if(!Pn(c)&&i("orientation")==="vertical")return;let k=I?c.getPreviousValue(I):null;!k&&i("loopFocus")&&(k=c.lastValue),k&&(P.preventDefault(),a({type:"NAVIGATE",value:k,shiftKey:V,anchorValue:I}))},ArrowRight(){if(!Pn(c)&&i("orientation")==="vertical")return;let k=I?c.getNextValue(I):null;!k&&i("loopFocus")&&(k=c.firstValue),k&&(P.preventDefault(),a({type:"NAVIGATE",value:k,shiftKey:V,anchorValue:I}))},Home(k){k.preventDefault();let D=c.firstValue;a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I})},End(k){k.preventDefault();let D=c.lastValue;a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I})},Enter(){a({type:"ITEM.CLICK",value:I})},a(k){os(k)&&s("multiple")&&!i("disallowSelectAll")&&(k.preventDefault(),a({type:"VALUE.SET",value:c.getValues()}))},Space(k){var D;w&&i("typeahead")?a({type:"CONTENT.TYPEAHEAD",key:k.key}):(D=A.Enter)==null||D.call(A,k)},Escape(k){i("deselectable")&&p.length>0&&(k.preventDefault(),k.stopPropagation(),a({type:"VALUE.CLEAR"}))}},x=A[ge(P)];if(x){x(P);return}let N=j(P);Ot(N)||Ue.isValidEvent(P)&&i("typeahead")&&(a({type:"CONTENT.TYPEAHEAD",key:P.key}),P.preventDefault())}}))}}}function Nr(e,t,n){let i=US(t,e);for(let r of i)n==null||n({value:r})}function kg(e,t){return Hi(t?{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}:{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}var DS,Ht,Hi,LS,MS,Sl,xg,Tl,FS,Ag,ga,Ng,HS,BS,_S,GS,US,qS,Yx,WS,jx,KS,Xx,zS,Zx,YS,jS,Dg=re(()=>{"use strict";gr();vr();se();DS=U("listbox").parts("label","input","item","itemText","itemIndicator","itemGroup","itemGroupLabel","content","root","valueText"),Ht=DS.build(),Hi=e=>new kt(e);Hi.empty=()=>new kt({items:[]});LS=e=>new Oo(e);LS.empty=()=>new Oo({items:[],columnCount:0});MS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`select:${e.id}`},Sl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`select:${e.id}:content`},xg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`select:${e.id}:label`},Tl=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:option:${t}`},FS=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup:${t}`},Ag=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup-label:${t}`},ga=e=>e.getById(Sl(e)),Ng=(e,t)=>e.getById(Tl(e,t));({guards:HS,createMachine:BS}=dt()),{or:_S}=HS,GS=BS({props({props:e}){return g({loopFocus:!1,composite:!0,defaultValue:[],multiple:!1,typeahead:!0,collection:Hi.empty(),orientation:"vertical",selectionMode:"single"},e)},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:me,onChange(n){var r;let i=e("collection").findMany(n);return(r=e("onValueChange"))==null?void 0:r({value:n,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),sync:!0,onChange(n){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var r,s;let n=(s=(r=e("value"))!=null?r:e("defaultValue"))!=null?s:[];return{defaultValue:e("collection").findMany(n)}}),focused:t(()=>({sync:!0,defaultValue:!1}))}},refs(){return{typeahead:g({},Ue.defaultOptions),focusVisible:!1,inputState:{autoHighlight:!1,focused:!1}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isInteractive:({prop:e})=>!e("disabled"),selection:({context:e,prop:t})=>{let n=new ou(e.get("value"));return n.selectionMode=t("selectionMode"),n.deselectable=!!t("deselectable"),n},multiple:({prop:e})=>e("selectionMode")==="multiple"||e("selectionMode")==="extended",valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState(){return"idle"},watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value").toString()],()=>{i(["syncSelectedItems"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{i(["syncHighlightedValue"])})},effects:["trackFocusVisible"],on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]}},states:{idle:{effects:["scrollToHighlightedItem"],on:{"INPUT.FOCUS":{actions:["setFocused","setInputState"]},"CONTENT.FOCUS":[{guard:_S("hasSelectedValue","hasHighlightedValue"),actions:["setFocused"]},{actions:["setFocused","setDefaultHighlightedValue"]}],"CONTENT.BLUR":{actions:["clearFocused","clearInputState"]},"ITEM.CLICK":{actions:["setHighlightedItem","selectHighlightedItem"]},"CONTENT.TYPEAHEAD":{actions:["setFocused","highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},NAVIGATE:{actions:["setFocused","setHighlightedItem","selectWithKeyboard"]}}}},implementations:{guards:{hasSelectedValue:({context:e})=>e.get("value").length>0,hasHighlightedValue:({context:e})=>e.get("highlightedValue")!=null},effects:{trackFocusVisible:({scope:e,refs:t})=>{var n;return In({root:(n=e.getRootNode)==null?void 0:n.call(e),onChange(i){t.set("focusVisible",i.isFocusVisible)}})},scrollToHighlightedItem({context:e,prop:t,scope:n}){let i=s=>{let a=e.get("highlightedValue");if(a==null||Yd()!=="keyboard")return;let l=ga(n),c=t("scrollToIndexFn");if(c){let h=t("collection").indexOf(a);c==null||c({index:h,immediate:s,getElement(){return Ng(n,a)}});return}let d=Ng(n,a);Xt(d,{rootEl:l,block:"nearest"})};return H(()=>i(!0)),ot(()=>ga(n),{defer:!0,attributes:["data-activedescendant"],callback(){i(!1)}})}},actions:{selectHighlightedItem({context:e,prop:t,event:n,computed:i}){var o;let r=(o=n.value)!=null?o:e.get("highlightedValue"),s=t("collection");if(r==null||!s.has(r))return;let a=i("selection");if(n.shiftKey&&i("multiple")&&n.anchorValue){let l=a.extendSelection(s,n.anchorValue,r);Nr(a,l,t("onSelect")),e.set("value",Array.from(l))}else{let l=a.select(s,r,n.metaKey);Nr(a,l,t("onSelect")),e.set("value",Array.from(l))}},selectWithKeyboard({context:e,prop:t,event:n,computed:i}){let r=i("selection"),s=t("collection");if(n.shiftKey&&i("multiple")&&n.anchorValue){let a=r.extendSelection(s,n.anchorValue,n.value);Nr(r,a,t("onSelect")),e.set("value",Array.from(a));return}if(t("selectOnHighlight")){let a=r.replaceSelection(s,n.value);Nr(r,a,t("onSelect")),e.set("value",Array.from(a))}},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});r!=null&&e.set("highlightedValue",r)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n,computed:i}){let r=t("collection"),s=i("selection"),a=s.select(r,n.value);Nr(s,a,t("onSelect")),e.set("value",Array.from(a))},clearItem({context:e,event:t,computed:n}){let r=n("selection").deselect(t.value);e.set("value",Array.from(r))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},syncSelectedItems({context:e,prop:t}){let n=t("collection"),i=e.get("selectedItems"),s=e.get("value").map(a=>i.find(l=>n.getItemValue(l)===a)||n.find(a));e.set("selectedItems",s)},syncHighlightedItem({context:e,prop:t}){let n=t("collection"),i=e.get("highlightedValue"),r=i?n.find(i):null;e.set("highlightedItem",r)},syncHighlightedValue({context:e,prop:t,refs:n}){let i=t("collection"),r=e.get("highlightedValue"),{autoHighlight:s}=n.get("inputState");if(s){queueMicrotask(()=>{var a;e.set("highlightedValue",(a=t("collection").firstValue)!=null?a:null)});return}r!=null&&!i.has(r)&&queueMicrotask(()=>{e.set("highlightedValue",null)})},setFocused({context:e}){e.set("focused",!0)},setDefaultHighlightedValue({context:e,prop:t}){let i=t("collection").firstValue;i!=null&&e.set("highlightedValue",i)},clearFocused({context:e}){e.set("focused",!1)},setInputState({refs:e,event:t}){e.set("inputState",{autoHighlight:!!t.autoHighlight,focused:!0})},clearInputState({refs:e}){e.set("inputState",{autoHighlight:!1,focused:!1})}}}}),US=(e,t)=>{let n=new Set(e);for(let i of t)n.delete(i);return n};qS=_()(["collection","defaultHighlightedValue","defaultValue","dir","disabled","deselectable","disallowSelectAll","getRootNode","highlightedValue","id","ids","loopFocus","onHighlightChange","onSelect","onValueChange","orientation","scrollToIndexFn","selectionMode","selectOnHighlight","typeahead","value"]),Yx=B(qS),WS=_()(["item","highlightOnHover"]),jx=B(WS),KS=_()(["id"]),Xx=B(KS),zS=_()(["htmlFor"]),Zx=B(zS),YS=class extends K{constructor(t,n){var r;super(t,n);Y(this,"_options",[]);Y(this,"hasGroups",!1);Y(this,"init",()=>{this.machine.start(),this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()})});let i=n.collection;this._options=(r=i==null?void 0:i.items)!=null?r:[]}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?Hi({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}):Hi({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}initMachine(t){let n=this.getCollection.bind(this),i=t.collection;return new W(GS,y(g({},t),{get collection(){return i!=null?i:n()}}))}initApi(){return $S(this.machine.service,q)}applyItemProps(){let t=this.el.querySelector('[data-scope="listbox"][data-part="content"]');t&&(t.querySelectorAll('[data-scope="listbox"][data-part="item-group"]').forEach(n=>{var s;let i=(s=n.dataset.id)!=null?s:"";this.spreadProps(n,this.api.getItemGroupProps({id:i}));let r=n.querySelector('[data-scope="listbox"][data-part="item-group-label"]');r&&this.spreadProps(r,this.api.getItemGroupLabelProps({htmlFor:i}))}),t.querySelectorAll('[data-scope="listbox"][data-part="item"]').forEach(n=>{var o;let i=(o=n.dataset.value)!=null?o:"",r=this.options.find(l=>{var c,d;return String((d=(c=l.id)!=null?c:l.value)!=null?d:"")===String(i)});if(!r)return;this.spreadProps(n,this.api.getItemProps({item:r}));let s=n.querySelector('[data-scope="listbox"][data-part="item-text"]');s&&this.spreadProps(s,this.api.getItemTextProps({item:r}));let a=n.querySelector('[data-scope="listbox"][data-part="item-indicator"]');a&&this.spreadProps(a,this.api.getItemIndicatorProps({item:r}))}))}render(){var a;let t=(a=this.el.querySelector('[data-scope="listbox"][data-part="root"]'))!=null?a:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="listbox"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="listbox"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let r=this.el.querySelector('[data-scope="listbox"][data-part="input"]');r&&this.spreadProps(r,this.api.getInputProps());let s=this.el.querySelector('[data-scope="listbox"][data-part="content"]');s&&(this.spreadProps(s,this.api.getContentProps()),this.applyItemProps())}};jS={mounted(){var o;let e=this.el,t=JSON.parse((o=e.dataset.collection)!=null?o:"[]"),n=t.some(l=>l.group!==void 0),i=Z(e,"value"),r=Z(e,"defaultValue"),s=C(e,"controlled"),a=new YS(e,y(g({id:e.id,collection:kg(t,n)},s&&i?{value:i}:{defaultValue:r!=null?r:[]}),{disabled:C(e,"disabled"),dir:O(e,"dir",["ltr","rtl"]),orientation:O(e,"orientation",["horizontal","vertical"]),loopFocus:C(e,"loopFocus"),selectionMode:O(e,"selectionMode",["single","multiple","extended"]),selectOnHighlight:C(e,"selectOnHighlight"),deselectable:C(e,"deselectable"),typeahead:C(e,"typeahead"),onValueChange:l=>{let c=O(e,"onValueChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{value:l.value,items:l.items,id:e.id});let d=O(e,"onValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{value:l,id:e.id}}))}}));a.hasGroups=n,a.setOptions(t),a.init(),this.listbox=a,this.handlers=[]},updated(){var r;let e=JSON.parse((r=this.el.dataset.collection)!=null?r:"[]"),t=e.some(s=>s.group!==void 0),n=Z(this.el,"value"),i=C(this.el,"controlled");this.listbox&&(this.listbox.hasGroups=t,this.listbox.setOptions(e),this.listbox.updateProps(y(g({collection:kg(e,t),id:this.el.id},i&&n?{value:n}:{}),{disabled:C(this.el,"disabled"),dir:O(this.el,"dir",["ltr","rtl"]),orientation:O(this.el,"orientation",["horizontal","vertical"])})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.listbox)==null||e.destroy()}}});var Gg={};he(Gg,{Menu:()=>mT});function sT(e,t){if(!e)return;let n=de(e),i=new n.CustomEvent(wl,{detail:{value:t}});e.dispatchEvent(i)}function aT(e,t){let{context:n,send:i,state:r,computed:s,prop:a,scope:o}=e,l=r.hasTag("open"),c=n.get("isSubmenu"),d=s("isTypingAhead"),h=a("composite"),m=n.get("currentPlacement"),u=n.get("anchorPoint"),p=n.get("highlightedValue"),v=Tn(y(g({},a("positioning")),{placement:u?"bottom":m}));function I(f){return{id:kr(o,f.value),disabled:!!f.disabled,highlighted:p===f.value}}function T(f){var P;let S=(P=f.valueText)!=null?P:f.value;return y(g({},f),{id:f.value,valueText:S})}function w(f){let S=I(T(f));return y(g({},S),{checked:!!f.checked})}function b(f){let{closeOnSelect:S,valueText:P,value:V}=f,A=I(f),x=kr(o,V);return t.element(y(g({},Be.item.attrs),{id:x,role:"menuitem","aria-disabled":X(A.disabled),"data-disabled":E(A.disabled),"data-ownedby":_i(o),"data-highlighted":E(A.highlighted),"data-value":V,"data-valuetext":P,onDragStart(N){N.currentTarget.matches("a[href]")&&N.preventDefault()},onPointerMove(N){if(A.disabled||N.pointerType!=="mouse")return;let k=N.currentTarget;if(A.highlighted)return;let D=je(N);i({type:"ITEM_POINTERMOVE",id:x,target:k,closeOnSelect:S,point:D})},onPointerLeave(N){var $;if(A.disabled||N.pointerType!=="mouse"||!(($=e.event.previous())==null?void 0:$.type.includes("POINTER")))return;let D=N.currentTarget;i({type:"ITEM_POINTERLEAVE",id:x,target:D,closeOnSelect:S})},onPointerDown(N){if(A.disabled)return;let k=N.currentTarget;i({type:"ITEM_POINTERDOWN",target:k,id:x,closeOnSelect:S})},onClick(N){if(ir(N)||Mn(N)||A.disabled)return;let k=N.currentTarget;i({type:"ITEM_CLICK",target:k,id:x,closeOnSelect:S})}}))}return{highlightedValue:p,open:l,setOpen(f){r.hasTag("open")!==f&&i({type:f?"OPEN":"CLOSE"})},setHighlightedValue(f){i({type:"HIGHLIGHTED.SET",value:f})},setParent(f){i({type:"PARENT.SET",value:f,id:f.prop("id")})},setChild(f){i({type:"CHILD.SET",value:f,id:f.prop("id")})},reposition(f={}){i({type:"POSITIONING.SET",options:f})},addItemListener(f){let S=o.getById(f.id);if(!S)return;let P=()=>{var V;return(V=f.onSelect)==null?void 0:V.call(f)};return S.addEventListener(wl,P),()=>S.removeEventListener(wl,P)},getContextTriggerProps(){return t.element(y(g({},Be.contextTrigger.attrs),{dir:a("dir"),id:Bg(o),"data-state":l?"open":"closed",onPointerDown(f){if(f.pointerType==="mouse")return;let S=je(f);i({type:"CONTEXT_MENU_START",point:S})},onPointerCancel(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(f){let S=je(f);i({type:"CONTEXT_MENU",point:S}),f.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}}))},getTriggerItemProps(f){let S=f.getTriggerProps();return sd(b({value:S.id}),S)},getTriggerProps(){return t.button(y(g({},c?Be.triggerItem.attrs:Be.trigger.attrs),{"data-placement":n.get("currentPlacement"),type:"button",dir:a("dir"),id:ma(o),"data-uid":a("id"),"aria-haspopup":h?"menu":"dialog","aria-controls":_i(o),"data-controls":_i(o),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(f){if(f.pointerType!=="mouse"||fa(f.currentTarget)||!c)return;let P=je(f);i({type:"TRIGGER_POINTERMOVE",target:f.currentTarget,point:P})},onPointerLeave(f){if(fa(f.currentTarget)||f.pointerType!=="mouse"||!c)return;let S=je(f);i({type:"TRIGGER_POINTERLEAVE",target:f.currentTarget,point:S})},onPointerDown(f){fa(f.currentTarget)||ui(f)||f.preventDefault()},onClick(f){f.defaultPrevented||fa(f.currentTarget)||i({type:"TRIGGER_CLICK",target:f.currentTarget})},onBlur(){i({type:"TRIGGER_BLUR"})},onFocus(){i({type:"TRIGGER_FOCUS"})},onKeyDown(f){if(f.defaultPrevented)return;let S={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},Enter(){i({type:"ARROW_DOWN",src:"enter"})},Space(){i({type:"ARROW_DOWN",src:"space"})}},P=ge(f,{orientation:"vertical",dir:a("dir")}),V=S[P];V&&(f.preventDefault(),V(f))}}))},getIndicatorProps(){return t.element(y(g({},Be.indicator.attrs),{dir:a("dir"),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(g({},Be.positioner.attrs),{dir:a("dir"),id:_g(o),style:v.floating}))},getArrowProps(){return t.element(y(g({id:ZS(o)},Be.arrow.attrs),{dir:a("dir"),style:v.arrow}))},getArrowTipProps(){return t.element(y(g({},Be.arrowTip.attrs),{dir:a("dir"),style:v.arrowTip}))},getContentProps(){return t.element(y(g({},Be.content.attrs),{id:_i(o),"aria-label":a("aria-label"),hidden:!l,"data-state":l?"open":"closed",role:h?"menu":"dialog",tabIndex:0,dir:a("dir"),"aria-activedescendant":s("highlightedId")||void 0,"aria-labelledby":ma(o),"data-placement":m,onPointerEnter(f){f.pointerType==="mouse"&&i({type:"MENU_POINTERENTER"})},onKeyDown(f){if(f.defaultPrevented||!ce(f.currentTarget,j(f)))return;let S=j(f);if(!((S==null?void 0:S.closest("[role=menu]"))===f.currentTarget||S===f.currentTarget))return;if(f.key==="Tab"&&!ds(f)){f.preventDefault();return}let V={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},ArrowLeft(){i({type:"ARROW_LEFT"})},ArrowRight(){i({type:"ARROW_RIGHT"})},Enter(){i({type:"ENTER"})},Space(N){var k;d?i({type:"TYPEAHEAD",key:N.key}):(k=V.Enter)==null||k.call(V,N)},Home(){i({type:"HOME"})},End(){i({type:"END"})}},A=ge(f,{dir:a("dir")}),x=V[A];if(x){x(f),f.stopPropagation(),f.preventDefault();return}a("typeahead")&&Oc(f)&&(xe(f)||Ot(S)||(i({type:"TYPEAHEAD",key:f.key}),f.preventDefault()))}}))},getSeparatorProps(){return t.element(y(g({},Be.separator.attrs),{role:"separator",dir:a("dir"),"aria-orientation":"horizontal"}))},getItemState:I,getItemProps:b,getOptionItemState:w,getOptionItemProps(f){let{type:S,disabled:P,closeOnSelect:V}=f,A=T(f),x=w(f);return g(g({},b(A)),t.element(y(g({"data-type":S},Be.item.attrs),{dir:a("dir"),"data-value":A.value,role:`menuitem${S}`,"aria-checked":!!x.checked,"data-state":x.checked?"checked":"unchecked",onClick(N){if(P||ir(N)||Mn(N))return;let k=N.currentTarget;i({type:"ITEM_CLICK",target:k,option:A,closeOnSelect:V})}})))},getItemIndicatorProps(f){let S=w(ao(f)),P=S.checked?"checked":"unchecked";return t.element(y(g({},Be.itemIndicator.attrs),{dir:a("dir"),"data-disabled":E(S.disabled),"data-highlighted":E(S.highlighted),"data-state":$e(f,"checked")?P:void 0,hidden:$e(f,"checked")?!S.checked:void 0}))},getItemTextProps(f){let S=w(ao(f)),P=S.checked?"checked":"unchecked";return t.element(y(g({},Be.itemText.attrs),{dir:a("dir"),"data-disabled":E(S.disabled),"data-highlighted":E(S.highlighted),"data-state":$e(f,"checked")?P:void 0}))},getItemGroupLabelProps(f){return t.element(y(g({},Be.itemGroupLabel.attrs),{id:Lg(o,f.htmlFor),dir:a("dir")}))},getItemGroupProps(f){return t.element(y(g({id:JS(o,f.id)},Be.itemGroup.attrs),{dir:a("dir"),"aria-labelledby":Lg(o,f.id),role:"group"}))}}}function $g(e){let t=e.parent;for(;t&&t.context.get("isSubmenu");)t=t.refs.get("parent");t==null||t.send({type:"CLOSE"})}function cT(e,t){return e?go(e,t):!1}function dT(e,t,n){let i=Object.keys(e).length>0;if(!t)return null;if(!i)return kr(n,t);for(let r in e){let s=e[r],a=ma(s.scope);if(a===t)return a}return kr(n,t)}var XS,Be,ma,Bg,_i,ZS,_g,JS,kr,Qn,Lg,ln,Mg,pa,QS,Ol,Rr,eT,tT,Vl,nT,iT,rT,fa,Fg,wl,pt,Bi,oT,lT,uT,rA,hT,sA,gT,aA,pT,oA,fT,lA,Hg,mT,Ug=re(()=>{"use strict";Ps();Ir();qn();se();XS=U("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),Be=XS.build(),ma=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`menu:${e.id}:trigger`},Bg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.contextTrigger)!=null?n:`menu:${e.id}:ctx-trigger`},_i=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`menu:${e.id}:content`},ZS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.arrow)!=null?n:`menu:${e.id}:arrow`},_g=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`menu:${e.id}:popper`},JS=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.group)==null?void 0:i.call(n,t))!=null?r:`menu:${e.id}:group:${t}`},kr=(e,t)=>`${e.id}/${t}`,Qn=e=>{var t;return(t=e==null?void 0:e.dataset.value)!=null?t:null},Lg=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,t))!=null?r:`menu:${e.id}:group-label:${t}`},ln=e=>e.getById(_i(e)),Mg=e=>e.getById(_g(e)),pa=e=>e.getById(ma(e)),QS=(e,t)=>t?e.getById(kr(e,t)):null,Ol=e=>e.getById(Bg(e)),Rr=e=>{let n=`[role^="menuitem"][data-ownedby=${CSS.escape(_i(e))}]:not([data-disabled])`;return Fe(ln(e),n)},eT=e=>lt(Rr(e)),tT=e=>mt(Rr(e)),Vl=(e,t)=>t?e.id===t||e.dataset.value===t:!1,nT=(e,t)=>{var r;let n=Rr(e),i=n.findIndex(s=>Vl(s,t.value));return Bc(n,i,{loop:(r=t.loop)!=null?r:t.loopFocus})},iT=(e,t)=>{var r;let n=Rr(e),i=n.findIndex(s=>Vl(s,t.value));return _c(n,i,{loop:(r=t.loop)!=null?r:t.loopFocus})},rT=(e,t)=>{var r;let n=Rr(e),i=n.find(s=>Vl(s,t.value));return Ue(n,{state:t.typeaheadState,key:t.key,activeId:(r=i==null?void 0:i.id)!=null?r:null})},fa=e=>le(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),Fg=e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("data-controls"))},wl="menu:select";({not:pt,and:Bi,or:oT}=Ee()),lT={props({props:e}){return y(g({closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(t){fi(t.node)}},e),{positioning:g({placement:"bottom-start",gutter:8},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},context({bindable:e,prop:t}){return{suspendPointer:e(()=>({defaultValue:!1})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(n){var i;(i=t("onHighlightChange"))==null||i({highlightedValue:n})}})),lastHighlightedValue:e(()=>({defaultValue:null})),currentPlacement:e(()=>({defaultValue:void 0})),intentPolygon:e(()=>({defaultValue:null})),anchorPoint:e(()=>({defaultValue:null,hash(n){return`x: ${n==null?void 0:n.x}, y: ${n==null?void 0:n.y}`}})),isSubmenu:e(()=>({defaultValue:!1}))}},refs(){return{parent:null,children:{},typeaheadState:g({},Ue.defaultOptions),positioningOverride:{}}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar!=="",highlightedId:({context:e,scope:t,refs:n})=>dT(n.get("children"),e.get("highlightedValue"),t)},watch({track:e,action:t,context:n,prop:i}){e([()=>n.get("isSubmenu")],()=>{t(["setSubmenuPlacement"])}),e([()=>n.hash("anchorPoint")],()=>{n.get("anchorPoint")&&t(["reposition"])}),e([()=>i("open")],()=>{t(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:pt("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer","clearAnchorPoint"],on:{"CONTROLLED.OPEN":[{guard:oT("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Bi(pt("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:pt("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Bi("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:pt("isPointerSuspended"),actions:["setHighlightedItem","focusMenu","closeSiblingMenus"]},{actions:["setLastHighlightedItem","closeSiblingMenus"]}],ITEM_POINTERLEAVE:{guard:Bi(pt("isPointerSuspended"),pt("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:Bi(pt("isTriggerItemHighlighted"),pt("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Bi(pt("isTriggerItemHighlighted"),pt("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Bi(pt("isTriggerItemHighlighted"),pt("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing",actions:["setIntentPolygon"]},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t==null?void 0:t.closeOnSelect)!=null?n:e("closeOnSelect"))},isTriggerItem:({event:e})=>Fg(e.target),isTriggerItemHighlighted:({event:e,scope:t,computed:n})=>{var r;let i=(r=e.target)!=null?r:t.getById(n("highlightedId"));return!!(i!=null&&i.hasAttribute("data-controls"))},isSubmenu:({context:e})=>e.get("isSubmenu"),isPointerSuspended:({context:e})=>e.get("suspendPointer"),isHighlightedItemEditable:({scope:e,computed:t})=>Ot(e.getById(t("highlightedId"))),isOpenControlled:({prop:e})=>e("open")!==void 0,isArrowLeftEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_LEFT"},isArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_UP"},isArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.OPEN"})},200);return()=>clearTimeout(t)},waitForCloseDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.CLOSE"})},100);return()=>clearTimeout(t)},waitForLongPress({send:e}){let t=setTimeout(()=>{e({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(t)},trackPositioning({context:e,prop:t,scope:n,refs:i}){if(Ol(n))return;let r=g(g({},t("positioning")),i.get("positioningOverride"));e.set("currentPlacement",r.placement);let s=()=>Mg(n);return It(pa(n),s,y(g({},r),{defer:!0,onComplete(a){e.set("currentPlacement",a.placement)}}))},trackInteractOutside({refs:e,scope:t,prop:n,context:i,send:r}){let s=()=>ln(t),a=!0;return Ft(s,{type:"menu",defer:!0,exclude:[pa(t)],onInteractOutside:n("onInteractOutside"),onRequestDismiss:n("onRequestDismiss"),onFocusOutside(o){var d;(d=n("onFocusOutside"))==null||d(o);let l=j(o.detail.originalEvent);if(ce(Ol(t),l)){o.preventDefault();return}},onEscapeKeyDown(o){var l;(l=n("onEscapeKeyDown"))==null||l(o),i.get("isSubmenu")&&o.preventDefault(),$g({parent:e.get("parent")})},onPointerDownOutside(o){var d;(d=n("onPointerDownOutside"))==null||d(o);let l=j(o.detail.originalEvent);if(ce(Ol(t),l)&&o.detail.contextmenu){o.preventDefault();return}a=!o.detail.focusable},onDismiss(){r({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},trackPointerMove({context:e,scope:t,send:n,refs:i,flush:r}){let s=i.get("parent");r(()=>{s.context.set("suspendPointer",!0)});let a=t.getDoc();return ee(a,"pointermove",o=>{cT(e.get("intentPolygon"),{x:o.clientX,y:o.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),s.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:e,scope:t,computed:n}){let i=()=>{if(e.current().type.startsWith("ITEM_POINTER"))return;let s=t.getById(n("highlightedId")),a=ln(t);Xt(s,{rootEl:a,block:"nearest"})};return H(()=>i()),ot(()=>ln(t),{defer:!0,attributes:["aria-activedescendant"],callback:i})}},actions:{setAnchorPoint({context:e,event:t}){e.set("anchorPoint",n=>me(n,t.point)?n:t.point)},setSubmenuPlacement({context:e,computed:t,refs:n}){if(!e.get("isSubmenu"))return;let i=t("isRtl")?"left-start":"right-start";n.set("positioningOverride",{placement:i,gutter:0})},reposition({context:e,scope:t,prop:n,event:i,refs:r}){var c;let s=()=>Mg(t),a=e.get("anchorPoint"),o=a?()=>g({width:0,height:0},a):void 0,l=g(g({},n("positioning")),r.get("positioningOverride"));It(pa(t),s,y(g(y(g({},l),{defer:!0,getAnchorRect:o}),(c=i.options)!=null?c:{}),{listeners:!1,onComplete(d){e.set("currentPlacement",d.placement)}}))},setOptionState({event:e}){if(!e.option)return;let{checked:t,onCheckedChange:n,type:i}=e.option;i==="radio"?n==null||n(!0):i==="checkbox"&&(n==null||n(!t))},clickHighlightedItem({scope:e,computed:t,prop:n,context:i}){var a;let r=e.getById(t("highlightedId"));if(!r||r.dataset.disabled)return;let s=i.get("highlightedValue");st(r)?(a=n("navigate"))==null||a({value:s,node:r,href:r.href}):queueMicrotask(()=>r.click())},setIntentPolygon({context:e,scope:t,event:n}){let i=ln(t),r=e.get("currentPlacement");if(!i||!r)return;let s=i.getBoundingClientRect(),a=Cd(s,r);if(!a)return;let l=Lu(r)==="right"?-5:5;e.set("intentPolygon",[y(g({},n.point),{x:n.point.x+l}),...a])},clearIntentPolygon({context:e}){e.set("intentPolygon",null)},clearAnchorPoint({context:e}){e.set("anchorPoint",null)},resumePointer({refs:e,flush:t}){let n=e.get("parent");n&&t(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:e,event:t}){let n=t.value||Qn(t.target);e.set("highlightedValue",n)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},focusMenu({scope:e}){H(()=>{let t=ln(e),n=cs({root:t,enabled:!ce(t,e.getActiveElement()),filter(i){var r;return!((r=i.role)!=null&&r.startsWith("menuitem"))}});n==null||n.focus({preventScroll:!0})})},highlightFirstItem({context:e,scope:t}){(ln(t)?queueMicrotask:H)(()=>{let i=eT(t);i&&e.set("highlightedValue",Qn(i))})},highlightLastItem({context:e,scope:t}){(ln(t)?queueMicrotask:H)(()=>{let i=tT(t);i&&e.set("highlightedValue",Qn(i))})},highlightNextItem({context:e,scope:t,event:n,prop:i}){let r=nT(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",Qn(r))},highlightPrevItem({context:e,scope:t,event:n,prop:i}){let r=iT(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",Qn(r))},invokeOnSelect({context:e,prop:t,scope:n}){var s;let i=e.get("highlightedValue");if(i==null)return;let r=QS(n,i);sT(r,i),(s=t("onSelect"))==null||s({value:i})},focusTrigger({scope:e,context:t,event:n}){t.get("isSubmenu")||t.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>{var i;return(i=pa(e))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem({scope:e,context:t,event:n,refs:i}){let r=rT(e,{key:n.key,value:t.get("highlightedValue"),typeaheadState:i.get("typeaheadState")});r&&t.set("highlightedValue",Qn(r))},setParentMenu({refs:e,event:t,context:n}){e.set("parent",t.value),n.set("isSubmenu",!0)},setChildMenu({refs:e,event:t}){let n=e.get("children");n[t.id]=t.value,e.set("children",n)},closeSiblingMenus({refs:e,event:t,scope:n}){var a;let i=t.target;if(!Fg(i))return;let r=i==null?void 0:i.getAttribute("data-uid"),s=e.get("children");for(let o in s){if(o===r)continue;let l=s[o],c=l.context.get("intentPolygon");c&&t.point&&go(c,t.point)||((a=ln(n))==null||a.focus({preventScroll:!0}),l.send({type:"CLOSE"}))}},closeRootMenu({refs:e}){$g({parent:e.get("parent")})},openSubmenu({refs:e,scope:t,computed:n}){let i=t.getById(n("highlightedId")),r=i==null?void 0:i.getAttribute("data-uid"),s=e.get("children"),a=r?s[r]:null;a==null||a.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:e,event:t}){e.set("lastHighlightedValue",Qn(t.target))},restoreHighlightedItem({context:e}){e.get("lastHighlightedValue")&&(e.set("highlightedValue",e.get("lastHighlightedValue")),e.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};uT=_()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]),rA=B(uT),hT=_()(["closeOnSelect","disabled","value","valueText"]),sA=B(hT),gT=_()(["htmlFor"]),aA=B(gT),pT=_()(["id"]),oA=B(pT),fT=_()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]),lA=B(fT),Hg=class extends K{constructor(){super(...arguments);Y(this,"children",[])}initMachine(t){return new W(lT,t)}initApi(){return aT(this.machine.service,q)}setChild(t){this.api.setChild(t.machine.service),this.children.includes(t)||this.children.push(t)}setParent(t){this.api.setParent(t.machine.service)}isOwnElement(t){return t.closest('[phx-hook="Menu"]')===this.el}renderSubmenuTriggers(){let t=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(!t)return;let n=t.querySelectorAll('[data-scope="menu"][data-nested-menu]');for(let i of n){if(!this.isOwnElement(i))continue;let r=i.dataset.nestedMenu;if(!r)continue;let s=this.children.find(o=>o.el.id===`menu:${r}`);if(!s)continue;let a=()=>{let o=this.api.getTriggerItemProps(s.api);this.spreadProps(i,o)};a(),this.machine.subscribe(a),s.machine.subscribe(a)}}render(){let t=this.el.querySelector('[data-scope="menu"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=this.el.querySelector('[data-scope="menu"][data-part="positioner"]'),i=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(n&&i){this.spreadProps(n,this.api.getPositionerProps()),this.spreadProps(i,this.api.getContentProps()),i.style.pointerEvents="auto",n.hidden=!this.api.open;let s=!this.el.querySelector('[data-scope="menu"][data-part="trigger"]');(this.api.open||s)&&(i.querySelectorAll('[data-scope="menu"][data-part="item"]').forEach(d=>{if(!this.isOwnElement(d))return;let h=d.dataset.value;if(h){let m=d.hasAttribute("data-disabled");this.spreadProps(d,this.api.getItemProps({value:h,disabled:m||void 0}))}}),i.querySelectorAll('[data-scope="menu"][data-part="item-group"]').forEach(d=>{if(!this.isOwnElement(d))return;let h=d.id;h&&this.spreadProps(d,this.api.getItemGroupProps({id:h}))}),i.querySelectorAll('[data-scope="menu"][data-part="separator"]').forEach(d=>{this.isOwnElement(d)&&this.spreadProps(d,this.api.getSeparatorProps())}))}let r=this.el.querySelector('[data-scope="menu"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}},mT={mounted(){let e=this.el;if(e.hasAttribute("data-nested"))return;let t=this.pushEvent.bind(this),n=()=>{var a;return(a=this.liveSocket)==null?void 0:a.main},i=new Hg(e,y(g({id:e.id.replace("menu:","")},C(e,"controlled")?{open:C(e,"open")}:{defaultOpen:C(e,"defaultOpen")}),{closeOnSelect:C(e,"closeOnSelect"),loopFocus:C(e,"loopFocus"),typeahead:C(e,"typeahead"),composite:C(e,"composite"),dir:O(e,"dir",["ltr","rtl"]),onSelect:a=>{var v,I,T;let o=C(e,"redirect"),l=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(w=>w.getAttribute("data-value")===a.value),c=l==null?void 0:l.getAttribute("data-redirect"),d=l==null?void 0:l.hasAttribute("data-new-tab"),h=n();o&&a.value&&((v=h==null?void 0:h.isDead)!=null?v:!0)&&c!=="false"&&(d?window.open(a.value,"_blank","noopener,noreferrer"):window.location.href=a.value);let u=O(e,"onSelect");u&&h&&!h.isDead&&h.isConnected()&&t(u,{id:e.id,value:(I=a.value)!=null?I:null});let p=O(e,"onSelectClient");p&&e.dispatchEvent(new CustomEvent(p,{bubbles:!0,detail:{id:e.id,value:(T=a.value)!=null?T:null}}))},onOpenChange:a=>{var d,h;let o=n(),l=O(e,"onOpenChange");l&&o&&!o.isDead&&o.isConnected()&&t(l,{id:e.id,open:(d=a.open)!=null?d:!1});let c=O(e,"onOpenChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{id:e.id,open:(h=a.open)!=null?h:!1}}))}}));i.init(),this.menu=i,this.nestedMenus=new Map;let r=e.querySelectorAll('[data-scope="menu"][data-nested="menu"]'),s=[];r.forEach((a,o)=>{var c;let l=a.id;if(l){let d=`${l}-${o}`,h=new Hg(a,{id:d,dir:O(a,"dir",["ltr","rtl"]),closeOnSelect:C(a,"closeOnSelect"),loopFocus:C(a,"loopFocus"),typeahead:C(a,"typeahead"),composite:C(a,"composite"),onSelect:m=>{var S,P,V;let u=C(e,"redirect"),p=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(A=>A.getAttribute("data-value")===m.value),v=p==null?void 0:p.getAttribute("data-redirect"),I=p==null?void 0:p.hasAttribute("data-new-tab"),T=n();u&&m.value&&((S=T==null?void 0:T.isDead)!=null?S:!0)&&v!=="false"&&(I?window.open(m.value,"_blank","noopener,noreferrer"):window.location.href=m.value);let b=O(e,"onSelect");b&&T&&!T.isDead&&T.isConnected()&&t(b,{id:e.id,value:(P=m.value)!=null?P:null});let f=O(e,"onSelectClient");f&&e.dispatchEvent(new CustomEvent(f,{bubbles:!0,detail:{id:e.id,value:(V=m.value)!=null?V:null}}))}});h.init(),(c=this.nestedMenus)==null||c.set(l,h),s.push(h)}}),setTimeout(()=>{s.forEach(a=>{this.menu&&(this.menu.setChild(a),a.setParent(this.menu))}),this.menu&&this.menu.children.length>0&&this.menu.renderSubmenuTriggers()},0),this.onSetOpen=a=>{let{open:o}=a.detail;i.api.open!==o&&i.api.setOpen(o)},e.addEventListener("phx:menu:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("menu_set_open",a=>{let o=a.menu_id;(!o||e.id===o||e.id===`menu:${o}`)&&i.api.setOpen(a.open)})),this.handlers.push(this.handleEvent("menu_open",()=>{this.pushEvent("menu_open_response",{open:i.api.open})}))},updated(){var e;this.el.hasAttribute("data-nested")||(e=this.menu)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlled")?{open:C(this.el,"open")}:{defaultOpen:C(this.el,"defaultOpen")}),{closeOnSelect:C(this.el,"closeOnSelect"),loopFocus:C(this.el,"loopFocus"),typeahead:C(this.el,"typeahead"),composite:C(this.el,"composite"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(!this.el.hasAttribute("data-nested")){if(this.onSetOpen&&this.el.removeEventListener("phx:menu:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);if(this.nestedMenus)for(let[,t]of this.nestedMenus)t.destroy();(e=this.menu)==null||e.destroy()}}}});var ip={};he(ip,{NumberInput:()=>zT});function yT(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!va){var i;let{unit:a,unitDisplay:o="short"}=t;if(!a)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=Zg[a])===null||i===void 0)&&i[o]))throw new Error(`Unsupported unit ${a} with unitDisplay = ${o}`);t=y(g({},t),{style:"decimal"})}let r=e+(t?Object.entries(t).sort((a,o)=>a[0]<o[0]?-1:1).join():"");if(xl.has(r))return xl.get(r);let s=new Intl.NumberFormat(e,t);return xl.set(r,s),s}function bT(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let i=!1;if(t==="always"?i=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let r=e.format(-n),s=e.format(n),a=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...a].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(a,"+").replace("!!!",s)}else return e.format(n)}}function Al(e,t,n){let i=Wg(e,t);if(!e.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let r of IT)if(r!==i.options.numberingSystem){let s=Wg(e+(e.includes("-u-")?"-nu-":"-u-nu-")+r,t);if(s.isValidPartialNumber(n))return s}}return i}function Wg(e,t){let n=e+(t?Object.entries(t).sort((r,s)=>r[0]<s[0]?-1:1).join():""),i=qg.get(n);return i||(i=new PT(e,t),qg.set(n,i)),i}function ST(e,t,n,i){var r,s,a,o;let l=new Intl.NumberFormat(e,y(g({},n),{minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"})),c=l.formatToParts(-10000.111),d=l.formatToParts(10000.111),h=CT.map(N=>l.formatToParts(N));var m;let u=(m=(r=c.find(N=>N.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&m!==void 0?m:"-",p=(s=d.find(N=>N.type==="plusSign"))===null||s===void 0?void 0:s.value;!p&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(p="+");let I=(a=new Intl.NumberFormat(e,y(g({},n),{minimumFractionDigits:2,maximumFractionDigits:2})).formatToParts(.001).find(N=>N.type==="decimal"))===null||a===void 0?void 0:a.value,T=(o=c.find(N=>N.type==="group"))===null||o===void 0?void 0:o.value,w=c.filter(N=>!Kg.has(N.type)).map(N=>zg(N.value)),b=h.flatMap(N=>N.filter(k=>!Kg.has(k.type)).map(k=>zg(k.value))),f=[...new Set([...w,...b])].sort((N,k)=>k.length-N.length),S=f.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${f.join("|")}|[\\p{White_Space}]`,"gu"),P=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),V=new Map(P.map((N,k)=>[N,k])),A=new RegExp(`[${P.join("")}]`,"g");return{minusSign:u,plusSign:p,decimal:I,group:T,literals:S,numeral:A,index:N=>String(V.get(N))}}function Gi(e,t,n){return e.replaceAll?e.replaceAll(t,n):e.split(t).join(n)}function zg(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rl(e,t){if(!(!e||!t.isActiveElement(e)))try{let{selectionStart:n,selectionEnd:i,value:r}=e;return n==null||i==null?void 0:{start:n,end:i,value:r}}catch(n){return}}function OT(e,t,n){if(!(!e||!n.isActiveElement(e))){if(!t){let i=e.value.length;e.setSelectionRange(i,i);return}try{let i=e.value,{start:r,end:s,value:a}=t;if(i===a){e.setSelectionRange(r,s);return}let o=Yg(a,i,r),l=r===s?o:Yg(a,i,s),c=Math.max(0,Math.min(o,i.length)),d=Math.max(c,Math.min(l,i.length));e.setSelectionRange(c,d)}catch(i){let r=e.value.length;e.setSelectionRange(r,r)}}}function Yg(e,t,n){let i=e.slice(0,n),r=e.slice(n),s=0,a=Math.min(i.length,t.length);for(let c=0;c<a&&i[c]===t[c];c++)s=c+1;let o=0,l=Math.min(r.length,t.length-s);for(let c=0;c<l;c++){let d=r.length-1-c,h=t.length-1-c;if(r[d]===t[h])o=c+1;else break}if(i.length>0&&s>=i.length)return s;if(o>=r.length)return t.length-o;if(s>0)return s;if(o>0)return t.length-o;if(n===0&&s===0&&o===0)return t.length;if(e.length>0){let c=n/e.length;return Math.round(c*t.length)}return t.length}function FT(e,t){let{state:n,send:i,prop:r,scope:s,computed:a}=e,o=n.hasTag("focus"),l=a("isDisabled"),c=!!r("readOnly"),d=!!r("required"),h=n.matches("scrubbing"),m=a("isValueEmpty"),u=a("isOutOfRange")||!!r("invalid"),p=l||!a("canIncrement")||c,v=l||!a("canDecrement")||c,I=r("translations");return{focused:o,invalid:u,empty:m,value:a("formattedValue"),valueAsNumber:a("valueAsNumber"),setValue(T){i({type:"VALUE.SET",value:T})},clearValue(){i({type:"VALUE.CLEAR"})},increment(){i({type:"VALUE.INCREMENT"})},decrement(){i({type:"VALUE.DECREMENT"})},setToMax(){i({type:"VALUE.SET",value:r("max")})},setToMin(){i({type:"VALUE.SET",value:r("min")})},focus(){var T;(T=ti(s))==null||T.focus()},getRootProps(){return t.element(y(g({id:wT(s)},wn.root.attrs),{dir:r("dir"),"data-disabled":E(l),"data-focus":E(o),"data-invalid":E(u),"data-scrubbing":E(h)}))},getLabelProps(){return t.label(y(g({},wn.label.attrs),{dir:r("dir"),"data-disabled":E(l),"data-focus":E(o),"data-invalid":E(u),"data-required":E(d),"data-scrubbing":E(h),id:xT(s),htmlFor:Dr(s),onClick(){H(()=>{er(ti(s))})}}))},getControlProps(){return t.element(y(g({},wn.control.attrs),{dir:r("dir"),role:"group","aria-disabled":l,"data-focus":E(o),"data-disabled":E(l),"data-invalid":E(u),"data-scrubbing":E(h),"aria-invalid":X(u)}))},getValueTextProps(){return t.element(y(g({},wn.valueText.attrs),{dir:r("dir"),"data-disabled":E(l),"data-invalid":E(u),"data-focus":E(o),"data-scrubbing":E(h)}))},getInputProps(){return t.input(y(g({},wn.input.attrs),{dir:r("dir"),name:r("name"),form:r("form"),id:Dr(s),role:"spinbutton",defaultValue:a("formattedValue"),pattern:r("formatOptions")?void 0:r("pattern"),inputMode:r("inputMode"),"aria-invalid":X(u),"data-invalid":E(u),disabled:l,"data-disabled":E(l),readOnly:c,required:r("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":r("min"),"aria-valuemax":r("max"),"aria-valuenow":Number.isNaN(a("valueAsNumber"))?void 0:a("valueAsNumber"),"aria-valuetext":a("valueText"),"data-scrubbing":E(h),onFocus(){i({type:"INPUT.FOCUS"})},onBlur(){i({type:"INPUT.BLUR"})},onInput(T){let w=Rl(T.currentTarget,s);i({type:"INPUT.CHANGE",target:T.currentTarget,hint:"set",selection:w})},onBeforeInput(T){var w;try{let{selectionStart:b,selectionEnd:f,value:S}=T.currentTarget,P=S.slice(0,b)+((w=T.data)!=null?w:"")+S.slice(f);a("parser").isValidPartialNumber(P)||T.preventDefault()}catch(b){}},onKeyDown(T){if(T.defaultPrevented||c||Re(T))return;let w=hi(T)*r("step"),f={ArrowUp(){i({type:"INPUT.ARROW_UP",step:w}),T.preventDefault()},ArrowDown(){i({type:"INPUT.ARROW_DOWN",step:w}),T.preventDefault()},Home(){xe(T)||(i({type:"INPUT.HOME"}),T.preventDefault())},End(){xe(T)||(i({type:"INPUT.END"}),T.preventDefault())},Enter(S){let P=Rl(S.currentTarget,s);i({type:"INPUT.ENTER",selection:P})}}[T.key];f==null||f(T)}}))},getDecrementTriggerProps(){return t.button(y(g({},wn.decrementTrigger.attrs),{dir:r("dir"),id:ep(s),disabled:v,"data-disabled":E(v),"aria-label":I.decrementLabel,type:"button",tabIndex:-1,"aria-controls":Dr(s),"data-scrubbing":E(h),onPointerDown(T){var w;v||fe(T)&&(i({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:T.pointerType}),T.pointerType==="mouse"&&T.preventDefault(),T.pointerType==="touch"&&((w=T.currentTarget)==null||w.focus({preventScroll:!0})))},onPointerUp(T){i({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:T.pointerType})},onPointerLeave(){v||i({type:"TRIGGER.PRESS_UP",hint:"decrement"})}}))},getIncrementTriggerProps(){return t.button(y(g({},wn.incrementTrigger.attrs),{dir:r("dir"),id:Qg(s),disabled:p,"data-disabled":E(p),"aria-label":I.incrementLabel,type:"button",tabIndex:-1,"aria-controls":Dr(s),"data-scrubbing":E(h),onPointerDown(T){var w;p||!fe(T)||(i({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:T.pointerType}),T.pointerType==="mouse"&&T.preventDefault(),T.pointerType==="touch"&&((w=T.currentTarget)==null||w.focus({preventScroll:!0})))},onPointerUp(T){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:T.pointerType})},onPointerLeave(T){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:T.pointerType})}}))},getScrubberProps(){return t.element(y(g({},wn.scrubber.attrs),{dir:r("dir"),"data-disabled":E(l),id:VT(s),role:"presentation","data-scrubbing":E(h),onMouseDown(T){if(l||!fe(T))return;let w=je(T),f=de(T.currentTarget).devicePixelRatio;w.x=w.x-Pi(7.5,f),w.y=w.y-Pi(7.5,f),i({type:"SCRUBBER.PRESS_DOWN",point:w}),T.preventDefault(),H(()=>{er(ti(s))})},style:{cursor:l?void 0:"ew-resize"}}))}}}var xl,kl,va,Zg,vT,ET,IT,Jg,qg,PT,Kg,CT,TT,wn,wT,Dr,Qg,ep,VT,tp,xT,ti,AT,NT,np,kT,RT,DT,LT,MT,$T,HT,Nl,ei,BT,_T,GT,UT,jg,Xg,qT,WT,hA,KT,zT,rp=re(()=>{"use strict";se();xl=new Map,kl=!1;try{kl=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch(e){}va=!1;try{va=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch(e){}Zg={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}},vT=class{format(e){let t="";if(!kl&&this.options.signDisplay!=null?t=bT(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!va){var n;let{unit:i,unitDisplay:r="short",locale:s}=this.resolvedOptions();if(!i)return t;let a=(n=Zg[i])===null||n===void 0?void 0:n[r];t+=a[s]||a.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} \u2013 ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(t);return[...n.map(r=>y(g({},r),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(r=>y(g({},r),{source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!kl&&this.options.signDisplay!=null&&(e=y(g({},e),{signDisplay:this.options.signDisplay})),!va&&this.options.style==="unit"&&(e=y(g({},e),{style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay})),e}constructor(e,t={}){this.numberFormatter=yT(e,t),this.options=t}};ET=new RegExp("^.*\\(.*\\).*$"),IT=["latn","arab","hanidec","deva","beng","fullwide"],Jg=class{parse(e){return Al(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,n){return Al(this.locale,this.options,e).isValidPartialNumber(e,t,n)}getNumberingSystem(e){return Al(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}},qg=new Map;PT=class{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=Gi(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-",""),t=t.replace("+","");let a=t.indexOf(".");a===-1&&(a=t.length),t=t.replace(".",""),a-2===0?t=`0.${t}`:a-2===-1?t=`0.0${t}`:a-2===-2?t="0.00":t=`${t.slice(0,a-2)}.${t.slice(a-2)}`,s>-1&&(t=`-${t}`)}let n=t?+t:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,r;let s=y(g({},this.options),{style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)+2,20)});return new Jg(this.locale,s).parse(new vT(this.locale,s).format(n))}return this.options.currencySign==="accounting"&&ET.test(e)&&(n=-1*n),n}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("\u060C",this.symbols.decimal)),this.symbols.group&&(e=Gi(e,".",this.symbols.group))),this.symbols.group==="\u2019"&&e.includes("'")&&(e=Gi(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Gi(e," ",this.symbols.group),e=Gi(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,t=-1/0,n=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&n>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Gi(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,t.roundingIncrement!==1&&t.roundingIncrement!=null&&(t.maximumFractionDigits==null&&t.minimumFractionDigits==null?(t.maximumFractionDigits=0,t.minimumFractionDigits=0):t.maximumFractionDigits==null?t.maximumFractionDigits=t.minimumFractionDigits:t.minimumFractionDigits==null&&(t.minimumFractionDigits=t.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=ST(e,this.formatter,this.options,t);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}},Kg=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),CT=[0,4,2,1,11,20,3,7,100,21,.1,1.1];TT=U("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),wn=TT.build();wT=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`number-input:${e.id}`},Dr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`number-input:${e.id}:input`},Qg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.incrementTrigger)!=null?n:`number-input:${e.id}:inc`},ep=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.decrementTrigger)!=null?n:`number-input:${e.id}:dec`},VT=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.scrubber)!=null?n:`number-input:${e.id}:scrubber`},tp=e=>`number-input:${e.id}:cursor`,xT=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`number-input:${e.id}:label`},ti=e=>e.getById(Dr(e)),AT=e=>e.getById(Qg(e)),NT=e=>e.getById(ep(e)),np=e=>e.getDoc().getElementById(tp(e)),kT=(e,t)=>{let n=null;return t==="increment"&&(n=AT(e)),t==="decrement"&&(n=NT(e)),n},RT=(e,t)=>{if(!Xe())return MT(e,t),()=>{var n;(n=np(e))==null||n.remove()}},DT=e=>{let t=e.getDoc(),n=t.documentElement,i=t.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},LT=(e,t)=>{let{point:n,isRtl:i,event:r}=t,s=e.getWin(),a=Pi(r.movementX,s.devicePixelRatio),o=Pi(r.movementY,s.devicePixelRatio),l=a>0?"increment":a<0?"decrement":null;i&&l==="increment"&&(l="decrement"),i&&l==="decrement"&&(l="increment");let c={x:n.x+a,y:n.y+o},d=s.innerWidth,h=Pi(7.5,s.devicePixelRatio);return c.x=Xc(c.x+h,d)-h,{hint:l,point:c}},MT=(e,t)=>{let n=e.getDoc(),i=n.createElement("div");i.className="scrubber--cursor",i.id=tp(e),Object.assign(i.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:rs,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),i.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(i)};$T=(e,t={})=>new Intl.NumberFormat(e,t),HT=(e,t={})=>new Jg(e,t),Nl=(e,t)=>{let{prop:n,computed:i}=t;return n("formatOptions")?e===""?Number.NaN:i("parser").parse(e):parseFloat(e)},ei=(e,t)=>{let{prop:n,computed:i}=t;return Number.isNaN(e)?"":n("formatOptions")?i("formatter").format(e):e.toString()},BT=(e,t)=>{let n=e!==void 0&&!Number.isNaN(e)?e:1;return(t==null?void 0:t.style)==="percent"&&(e===void 0||Number.isNaN(e))&&(n=.01),n},{choose:_T,guards:GT,createMachine:UT}=dt(),{not:jg,and:Xg}=GT,qT=UT({props({props:e}){let t=BT(e.step,e.formatOptions);return y(g({dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0},e),{translations:g({incrementLabel:"increment value",decrementLabel:"decrease value"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:n}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(i){var a;let r=n(),s=Nl(i,{computed:r,prop:e});(a=e("onValueChange"))==null||a({value:i,valueAsNumber:s})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(i){return i?`x:${i.x}, y:${i.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:n})=>Nl(e.get("value"),{computed:t,prop:n}),formattedValue:({computed:e,prop:t})=>ei(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>Jc(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>Zc(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!Ii(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>{var n,i;return(i=(n=e("translations")).valueText)==null?void 0:i.call(n,t.get("value"))},formatter:Hn(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>$T(e,t)),parser:Hn(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>HT(e,t))},watch({track:e,action:t,context:n,computed:i,prop:r}){e([()=>n.get("value"),()=>r("locale"),()=>JSON.stringify(r("formatOptions"))],()=>{t(["syncInputElement"])}),e([()=>i("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>n.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Xg("clampValueOnBlur",jg("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]},{guard:jg("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid","invokeOnValueCommit"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:_T([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Xg("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>{var n;return((n=t.hint)!=null?n:e.get("hint"))==="decrement"},isIncrementHint:({context:e,event:t})=>{var n;return((n=t.hint)!=null?n:e.get("hint"))==="increment"},isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){let t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){let t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){let n=ti(t);return wt(n,{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){let n=e.get("scrubberCursorPoint");return RT(t,n)},preventTextSelection({scope:e}){return DT(e)},trackButtonDisabled({context:e,scope:t,send:n}){let i=e.get("hint"),r=kT(t,i);return ot(r,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:n}){let i=ti(e);if(!i||!e.isActiveElement(i)||!n("allowMouseWheel"))return;function r(s){s.preventDefault();let a=Math.sign(s.deltaY)*-1;a===1?t({type:"VALUE.INCREMENT"}):a===-1&&t({type:"VALUE.DECREMENT"})}return ee(i,"wheel",r,{passive:!1})},activatePointerLock({scope:e}){if(!Xe())return Lc(e.getDoc())},trackMousemove({scope:e,send:t,context:n,computed:i}){let r=e.getDoc();function s(o){let l=n.get("scrubberCursorPoint"),c=i("isRtl"),d=LT(e,{point:l,isRtl:c,event:o});d.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:d.hint,point:d.point})}function a(){t({type:"SCRUBBER.POINTER_UP"})}return At(ee(r,"mousemove",s,!1),ee(r,"mouseup",a,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;let n=ti(e);e.isActiveElement(n)||H(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:e,event:t,prop:n,computed:i}){var s;let r=td(i("valueAsNumber"),(s=t.step)!=null?s:n("step"));n("allowOverflow")||(r=He(r,n("min"),n("max"))),e.set("value",ei(r,{computed:i,prop:n}))},decrement({context:e,event:t,prop:n,computed:i}){var s;let r=nd(i("valueAsNumber"),(s=t.step)!=null?s:n("step"));n("allowOverflow")||(r=He(r,n("min"),n("max"))),e.set("value",ei(r,{computed:i,prop:n}))},setClampedValue({context:e,prop:t,computed:n}){let i=He(n("valueAsNumber"),t("min"),t("max"));e.set("value",ei(i,{computed:n,prop:t}))},setRawValue({context:e,event:t,prop:n,computed:i}){let r=Nl(t.value,{computed:i,prop:n});n("allowOverflow")||(r=He(r,n("min"),n("max"))),e.set("value",ei(r,{computed:i,prop:n}))},setValue({context:e,event:t}){var i,r;let n=(r=(i=t.target)==null?void 0:i.value)!=null?r:t.value;e.set("value",n)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:n}){let i=ei(t("max"),{computed:n,prop:t});e.set("value",i)},decrementToMin({context:e,prop:t,computed:n}){let i=ei(t("min"),{computed:n,prop:t});e.set("value",i)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){var n;(n=t("onFocusChange"))==null||n({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){var n;(n=t("onFocusChange"))==null||n({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:n}){var r;if(n.type==="INPUT.CHANGE")return;let i=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";(r=t("onValueInvalid"))==null||r({reason:i,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnValueCommit({computed:e,prop:t}){var n;(n=t("onValueCommit"))==null||n({value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:n,scope:i}){var o;let r=t.type.endsWith("CHANGE")?e.get("value"):n("formattedValue"),s=ti(i),a=(o=t.selection)!=null?o:Rl(s,i);H(()=>{Me(s,r),OT(s,a,i)})},setFormattedValue({context:e,computed:t,action:n}){e.set("value",t("formattedValue")),n(["syncInputElement"])},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){let n=np(t),i=e.get("scrubberCursorPoint");!n||!i||(n.style.transform=`translate3d(${i.x}px, ${i.y}px, 0px)`)}}}}),WT=_()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueCommit","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]),hA=B(WT),KT=class extends K{initMachine(e){return new W(qT,e)}initApi(){return FT(this.machine.service,q)}render(){var l;let e=(l=this.el.querySelector('[data-scope="number-input"][data-part="root"]'))!=null?l:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="number-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="number-input"][data-part="control"]');n&&this.spreadProps(n,this.api.getControlProps());let i=this.el.querySelector('[data-scope="number-input"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let r=this.el.querySelector('[data-scope="number-input"][data-part="input"]');r&&this.spreadProps(r,this.api.getInputProps());let s=this.el.querySelector('[data-scope="number-input"][data-part="decrement-trigger"]');s&&this.spreadProps(s,this.api.getDecrementTriggerProps());let a=this.el.querySelector('[data-scope="number-input"][data-part="increment-trigger"]');a&&this.spreadProps(a,this.api.getIncrementTriggerProps());let o=this.el.querySelector('[data-scope="number-input"][data-part="scrubber"]');o&&this.spreadProps(o,this.api.getScrubberProps())}},zT={mounted(){let e=this.el,t=O(e,"value"),n=O(e,"defaultValue"),i=C(e,"controlled"),r=new KT(e,y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:n}),{min:z(e,"min"),max:z(e,"max"),step:z(e,"step"),disabled:C(e,"disabled"),readOnly:C(e,"readOnly"),invalid:C(e,"invalid"),required:C(e,"required"),allowMouseWheel:C(e,"allowMouseWheel"),name:O(e,"name"),form:O(e,"form"),onValueChange:s=>{let a=e.querySelector('[data-scope="number-input"][data-part="input"]');a&&(a.value=s.value,a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0})));let o=O(e,"onValueChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:s.value,valueAsNumber:s.valueAsNumber,id:e.id});let l=O(e,"onValueChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:{value:s,id:e.id}}))}}));r.init(),this.numberInput=r,this.handlers=[]},updated(){var n;let e=O(this.el,"value"),t=C(this.el,"controlled");(n=this.numberInput)==null||n.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{min:z(this.el,"min"),max:z(this.el,"max"),step:z(this.el,"step"),disabled:C(this.el,"disabled"),readOnly:C(this.el,"readOnly"),invalid:C(this.el,"invalid"),required:C(this.el,"required"),name:O(this.el,"name"),form:O(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.numberInput)==null||e.destroy()}}});var sp={};he(sp,{PasswordInput:()=>eO});function jT(e,t){let{scope:n,prop:i,context:r}=e,s=r.get("visible"),a=!!i("disabled"),o=!!i("invalid"),l=!!i("readOnly"),c=!!i("required"),d=!(l||a),h=i("translations");return{visible:s,disabled:a,invalid:o,focus(){var m;(m=Dl(n))==null||m.focus()},setVisible(m){e.send({type:"VISIBILITY.SET",value:m})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!s})},getRootProps(){return t.element(y(g({},Ui.root.attrs),{dir:i("dir"),"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}))},getLabelProps(){return t.label(y(g({},Ui.label.attrs),{htmlFor:ya(n),"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l),"data-required":E(c)}))},getInputProps(){return t.input(g(y(g({},Ui.input.attrs),{id:ya(n),autoCapitalize:"off",name:i("name"),required:i("required"),autoComplete:i("autoComplete"),spellCheck:!1,readOnly:l,disabled:a,type:s?"text":"password","data-state":s?"visible":"hidden","aria-invalid":X(o),"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}),i("ignorePasswordManagers")?XT:{}))},getVisibilityTriggerProps(){var m;return t.button(y(g({},Ui.visibilityTrigger.attrs),{type:"button",tabIndex:-1,"aria-controls":ya(n),"aria-expanded":s,"data-readonly":E(l),disabled:a,"data-disabled":E(a),"data-state":s?"visible":"hidden","aria-label":(m=h==null?void 0:h.visibilityTrigger)==null?void 0:m.call(h,s),onPointerDown(u){fe(u)&&d&&(u.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}}))},getIndicatorProps(){return t.element(y(g({},Ui.indicator.attrs),{"aria-hidden":!0,"data-state":s?"visible":"hidden","data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}))},getControlProps(){return t.element(y(g({},Ui.control.attrs),{"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}))}}}var YT,Ui,ya,Dl,XT,ZT,JT,bA,QT,eO,ap=re(()=>{"use strict";se();YT=U("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),Ui=YT.build(),ya=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`p-input-${e.id}-input`},Dl=e=>e.getById(ya(e));XT={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},ZT={props({props:e}){return y(g({id:cr(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1},e),{translations:g({visibilityTrigger(t){return t?"Hide password":"Show password"}},e.translations)})},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){var i;(i=e("onVisibilityChange"))==null||i({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){let t=Dl(e);t==null||t.focus()}},effects:{trackFormEvents({scope:e,send:t}){let n=Dl(e),i=n==null?void 0:n.form;if(!i)return;let r=e.getWin(),s=new r.AbortController;return i.addEventListener("reset",a=>{a.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),i.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),()=>s.abort()}}}},JT=_()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]),bA=B(JT),QT=class extends K{initMachine(e){return new W(ZT,e)}initApi(){return jT(this.machine.service,q)}render(){var a;let e=(a=this.el.querySelector('[data-scope="password-input"][data-part="root"]'))!=null?a:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="password-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="password-input"][data-part="control"]');n&&this.spreadProps(n,this.api.getControlProps());let i=this.el.querySelector('[data-scope="password-input"][data-part="input"]');i&&this.spreadProps(i,this.api.getInputProps());let r=this.el.querySelector('[data-scope="password-input"][data-part="visibility-trigger"]');r&&this.spreadProps(r,this.api.getVisibilityTriggerProps());let s=this.el.querySelector('[data-scope="password-input"][data-part="indicator"]');s&&this.spreadProps(s,this.api.getIndicatorProps())}},eO={mounted(){let e=this.el,t=new QT(e,y(g({id:e.id},C(e,"controlledVisible")?{visible:C(e,"visible")}:{defaultVisible:C(e,"defaultVisible")}),{disabled:C(e,"disabled"),invalid:C(e,"invalid"),readOnly:C(e,"readOnly"),required:C(e,"required"),ignorePasswordManagers:C(e,"ignorePasswordManagers"),name:O(e,"name"),dir:Oe(e),autoComplete:O(e,"autoComplete",["current-password","new-password"]),onVisibilityChange:n=>{let i=O(e,"onVisibilityChange");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(i,{visible:n.visible,id:e.id});let r=O(e,"onVisibilityChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{value:n,id:e.id}}))}}));t.init(),this.passwordInput=t,this.handlers=[]},updated(){var e;(e=this.passwordInput)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlledVisible")?{visible:C(this.el,"visible")}:{}),{disabled:C(this.el,"disabled"),invalid:C(this.el,"invalid"),readOnly:C(this.el,"readOnly"),required:C(this.el,"required"),name:O(this.el,"name"),form:O(this.el,"form"),dir:Oe(this.el)}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.passwordInput)==null||e.destroy()}}});var dp={};he(dp,{PinInput:()=>fO});function lO(e,t){var n;return e?!!((n=oO[e])!=null&&n.test(t)):!0}function lp(e,t,n){return n?new RegExp(n,"g").test(e):lO(t,e)}function cO(e,t){let{send:n,context:i,computed:r,prop:s,scope:a}=e,o=r("isValueComplete"),l=!!s("disabled"),c=!!s("readOnly"),d=!!s("invalid"),h=!!s("required"),m=s("translations"),u=i.get("focusedIndex");function p(){var v;(v=aO(a))==null||v.focus()}return{focus:p,count:i.get("count"),items:Array.from({length:i.get("count")}).map((v,I)=>I),value:i.get("value"),valueAsString:r("valueAsString"),complete:o,setValue(v){Array.isArray(v)||ms("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:v})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(v,I){n({type:"VALUE.SET",value:I,index:v})},getRootProps(){return t.element(y(g({dir:s("dir")},ba.root.attrs),{id:Mr(a),"data-invalid":E(d),"data-disabled":E(l),"data-complete":E(o),"data-readonly":E(c)}))},getLabelProps(){return t.label(y(g({},ba.label.attrs),{dir:s("dir"),htmlFor:Ml(a),id:iO(a),"data-invalid":E(d),"data-disabled":E(l),"data-complete":E(o),"data-required":E(h),"data-readonly":E(c),onClick(v){v.preventDefault(),p()}}))},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:Ml(a),readOnly:c,disabled:l,required:h,name:s("name"),form:s("form"),style:Vt,maxLength:r("valueLength"),defaultValue:r("valueAsString")})},getControlProps(){return t.element(y(g({},ba.control.attrs),{dir:s("dir"),id:rO(a)}))},getInputProps(v){var w;let{index:I}=v,T=s("type")==="numeric"?"tel":"text";return t.input(y(g({},ba.input.attrs),{dir:s("dir"),disabled:l,"data-disabled":E(l),"data-complete":E(o),id:nO(a,I.toString()),"data-index":I,"data-ownedby":Mr(a),"aria-label":(w=m==null?void 0:m.inputLabel)==null?void 0:w.call(m,I,r("valueLength")),inputMode:s("otp")||s("type")==="numeric"?"numeric":"text","aria-invalid":X(d),"data-invalid":E(d),type:s("mask")?"password":T,defaultValue:i.get("value")[I]||"",readOnly:c,autoCapitalize:"none",autoComplete:s("otp")?"one-time-code":"off",placeholder:u===I?"":s("placeholder"),onPaste(b){var P;let f=(P=b.clipboardData)==null?void 0:P.getData("text/plain");if(!f)return;if(!lp(f,s("type"),s("pattern"))){n({type:"VALUE.INVALID",value:f}),b.preventDefault();return}b.preventDefault(),n({type:"INPUT.PASTE",value:f})},onBeforeInput(b){try{let f=Tc(b);lp(f,s("type"),s("pattern"))||(n({type:"VALUE.INVALID",value:f}),b.preventDefault()),f.length>1&&b.currentTarget.setSelectionRange(0,1,"forward")}catch(f){}},onChange(b){let f=Yt(b),{value:S}=b.currentTarget;if(f.inputType==="insertFromPaste"){b.currentTarget.value=S[0]||"";return}if(S.length>2){n({type:"INPUT.PASTE",value:S}),b.currentTarget.value=S[0],b.preventDefault();return}if(f.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:S,index:I})},onKeyDown(b){if(b.defaultPrevented||Re(b)||xe(b))return;let S={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[ge(b,{dir:s("dir"),orientation:"horizontal"})];S&&(S(b),b.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:I})},onBlur(b){let f=b.relatedTarget;le(f)&&f.dataset.ownedby===Mr(a)||n({type:"INPUT.BLUR",index:I})}}))}}}function cp(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);let i=n.split("");return n=i[i.length-1],n!=null?n:""}function Ea(e,t){return Array.from({length:t}).fill("").map((n,i)=>e[i]||n)}var tO,ba,Mr,nO,Ml,iO,rO,sO,Ia,Lr,aO,op,Ll,oO,dO,uO,hO,gO,CA,pO,fO,up=re(()=>{"use strict";se();tO=U("pinInput").parts("root","label","input","control"),ba=tO.build(),Mr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`pin-input:${e.id}`},nO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.input)==null?void 0:i.call(n,t))!=null?r:`pin-input:${e.id}:${t}`},Ml=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`pin-input:${e.id}:hidden`},iO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`pin-input:${e.id}:label`},rO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`pin-input:${e.id}:control`},sO=e=>e.getById(Mr(e)),Ia=e=>{let n=`input[data-ownedby=${CSS.escape(Mr(e))}]`;return Fe(sO(e),n)},Lr=(e,t)=>Ia(e)[t],aO=e=>Ia(e)[0],op=e=>e.getById(Ml(e)),Ll=(e,t)=>{e.value=t,e.setAttribute("value",t)},oO={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};({choose:dO,createMachine:uO}=dt()),hO=uO({props({props:e}){return y(g({placeholder:"\u25CB",otp:!1,type:"numeric",defaultValue:e.count?Ea([],e.count):[]},e),{translations:g({inputLabel:(t,n)=>`pin code ${t+1} of ${n}`},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:me,onChange(n){var i;(i=e("onValueChange"))==null||i({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>Ea(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>(t==null?void 0:t.trim())!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:dO([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:i}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>i("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){let n=op(t);xc(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;let i=Ia(e);t.set("count",i.length)},focusInput({context:e,scope:t}){var i;let n=e.get("focusedIndex");n!==-1&&((i=Lr(t,n))==null||i.focus({preventScroll:!0}))},selectInputIfNeeded({context:e,prop:t,scope:n}){let i=e.get("focusedIndex");!t("selectOnFocus")||i===-1||H(()=>{var r;(r=Lr(n,i))==null||r.select()})},invokeOnComplete({computed:e,prop:t}){var n;e("isValueComplete")&&((n=t("onValueComplete"))==null||n({value:e("_value"),valueAsString:e("valueAsString")}))},invokeOnInvalid({context:e,event:t,prop:n}){var i;(i=n("onValueInvalid"))==null||i({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){let n=Ea(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:i}){let r=n("focusedValue"),s=e.get("focusedIndex"),a=cp(r,t.value);i(()=>{e.set("value",fs(n("_value"),s,a))})},revertInputValue({context:e,computed:t,scope:n}){let i=Lr(n,e.get("focusedIndex"));Ll(i,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){let i=e.get("value"),r=Lr(n,t.index);Ll(r,i[t.index])},syncInputElements({context:e,scope:t}){let n=Ia(t),i=e.get("value");n.forEach((r,s)=>{Ll(r,i[s])})},setPastedValue({context:e,event:t,computed:n,flush:i}){H(()=>{let r=n("valueAsString"),s=e.get("focusedIndex"),a=n("valueLength"),o=n("filledValueLength"),l=Math.min(s,o),c=l>0?r.substring(0,s):"",d=t.value.substring(0,a-l),h=Ea(`${c}${d}`.split(""),a);i(()=>{e.set("value",h)})})},setValueAtIndex({context:e,event:t,computed:n}){let i=cp(n("focusedValue"),t.value);e.set("value",fs(n("_value"),t.index,i))},clearValue({context:e}){let t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){let n=e.get("focusedIndex");n!==-1&&e.set("value",fs(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){H(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&H(()=>{var i;(i=Lr(n,e.get("focusedIndex")))==null||i.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){var r;if(!t("name")||!e("isValueComplete"))return;let i=op(n);(r=i==null?void 0:i.form)==null||r.requestSubmit()}}}});gO=_()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]),CA=B(gO),pO=class extends K{initMachine(e){return new W(hO,e)}initApi(){return cO(this.machine.service,q)}render(){var r;let e=(r=this.el.querySelector('[data-scope="pin-input"][data-part="root"]'))!=null?r:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="pin-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="pin-input"][data-part="hidden-input"]');n&&this.spreadProps(n,this.api.getHiddenInputProps());let i=this.el.querySelector('[data-scope="pin-input"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps()),this.api.items.forEach(s=>{let a=this.el.querySelector(`[data-scope="pin-input"][data-part="input"][data-index="${s}"]`);a&&this.spreadProps(a,this.api.getInputProps({index:s}))})}},fO={mounted(){var s;let e=this.el,t=Z(e,"value"),n=Z(e,"defaultValue"),i=C(e,"controlled"),r=new pO(e,y(g({id:e.id,count:(s=z(e,"count"))!=null?s:4},i&&t?{value:t}:{defaultValue:n!=null?n:[]}),{disabled:C(e,"disabled"),invalid:C(e,"invalid"),required:C(e,"required"),readOnly:C(e,"readOnly"),mask:C(e,"mask"),otp:C(e,"otp"),blurOnComplete:C(e,"blurOnComplete"),selectOnFocus:C(e,"selectOnFocus"),name:O(e,"name"),form:O(e,"form"),dir:O(e,"dir",["ltr","rtl"]),type:O(e,"type",["alphanumeric","numeric","alphabetic"]),placeholder:O(e,"placeholder"),onValueChange:a=>{let o=e.querySelector('[data-scope="pin-input"][data-part="hidden-input"]');o&&(o.value=a.valueAsString,o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})));let l=O(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(l,{value:a.value,valueAsString:a.valueAsString,id:e.id});let c=O(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{value:a,id:e.id}}))},onValueComplete:a=>{let o=O(e,"onValueComplete");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:a.value,valueAsString:a.valueAsString,id:e.id})}}));r.init(),this.pinInput=r,this.handlers=[]},updated(){var n,i,r,s;let e=Z(this.el,"value"),t=C(this.el,"controlled");(s=this.pinInput)==null||s.updateProps(y(g({id:this.el.id,count:(r=(i=z(this.el,"count"))!=null?i:(n=this.pinInput)==null?void 0:n.api.count)!=null?r:4},t&&e?{value:e}:{}),{disabled:C(this.el,"disabled"),invalid:C(this.el,"invalid"),required:C(this.el,"required"),readOnly:C(this.el,"readOnly"),name:O(this.el,"name"),form:O(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.pinInput)==null||e.destroy()}}});var mp={};he(mp,{RadioGroup:()=>NO});function TO(e,t){let{context:n,send:i,computed:r,prop:s,scope:a}=e,o=r("isDisabled"),l=s("invalid"),c=s("readOnly");function d(u){return{value:u.value,invalid:!!u.invalid||!!l,disabled:!!u.disabled||o,checked:n.get("value")===u.value,focused:n.get("focusedValue")===u.value,focusVisible:n.get("focusVisibleValue")===u.value,hovered:n.get("hoveredValue")===u.value,active:n.get("activeValue")===u.value}}function h(u){let p=d(u);return{"data-focus":E(p.focused),"data-focus-visible":E(p.focusVisible),"data-disabled":E(p.disabled),"data-readonly":E(c),"data-state":p.checked?"checked":"unchecked","data-hover":E(p.hovered),"data-invalid":E(p.invalid),"data-orientation":s("orientation"),"data-ssr":E(n.get("ssr"))}}let m=()=>{var p;let u=(p=PO(a))!=null?p:IO(a);u==null||u.focus()};return{focus:m,value:n.get("value"),setValue(u){i({type:"SET_VALUE",value:u,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element(y(g({},qi.root.attrs),{role:"radiogroup",id:Pa(a),"aria-labelledby":hp(a),"aria-required":s("required")||void 0,"aria-disabled":o||void 0,"aria-readonly":c||void 0,"data-orientation":s("orientation"),"data-disabled":E(o),"data-invalid":E(l),"data-required":E(s("required")),"aria-orientation":s("orientation"),dir:s("dir"),style:{position:"relative"}}))},getLabelProps(){return t.element(y(g({},qi.label.attrs),{dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":E(o),"data-invalid":E(l),"data-required":E(s("required")),id:hp(a),onClick:m}))},getItemState:d,getItemProps(u){let p=d(u);return t.label(y(g(y(g({},qi.item.attrs),{dir:s("dir"),id:pp(a,u.value),htmlFor:Fl(a,u.value)}),h(u)),{onPointerMove(){p.disabled||p.hovered||i({type:"SET_HOVERED",value:u.value,hovered:!0})},onPointerLeave(){p.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(v){p.disabled||fe(v)&&(p.focused&&v.pointerType==="mouse"&&v.preventDefault(),i({type:"SET_ACTIVE",value:u.value,active:!0}))},onPointerUp(){p.disabled||i({type:"SET_ACTIVE",value:null})},onClick(){var v;!p.disabled&&Xe()&&((v=bO(a,u.value))==null||v.focus())}}))},getItemTextProps(u){return t.element(g(y(g({},qi.itemText.attrs),{dir:s("dir"),id:yO(a,u.value)}),h(u)))},getItemControlProps(u){let p=d(u);return t.element(g(y(g({},qi.itemControl.attrs),{dir:s("dir"),id:vO(a,u.value),"data-active":E(p.active),"aria-hidden":!0}),h(u)))},getItemHiddenInputProps(u){let p=d(u);return t.input({"data-ownedby":Pa(a),id:Fl(a,u.value),type:"radio",name:s("name")||s("id"),form:s("form"),value:u.value,required:s("required"),"aria-invalid":p.invalid||void 0,onClick(v){if(c){v.preventDefault();return}v.currentTarget.checked&&i({type:"SET_VALUE",value:u.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){let v=bn();i({type:"SET_FOCUSED",value:u.value,focused:!0,focusVisible:v})},onKeyDown(v){v.defaultPrevented||v.key===" "&&i({type:"SET_ACTIVE",value:u.value,active:!0})},onKeyUp(v){v.defaultPrevented||v.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:p.disabled||c,defaultChecked:p.checked,style:Vt})},getIndicatorProps(){let u=n.get("indicatorRect"),p=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(y(g({id:fp(a)},qi.indicator.attrs),{dir:s("dir"),hidden:n.get("value")==null||p,"data-disabled":E(o),"data-orientation":s("orientation"),style:{"--transition-property":"left, top, width, height","--left":ye(u==null?void 0:u.x),"--top":ye(u==null?void 0:u.y),"--width":ye(u==null?void 0:u.width),"--height":ye(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[s("orientation")==="horizontal"?"left":"top"]:s("orientation")==="horizontal"?"var(--left)":"var(--top)"}}))}}}var mO,qi,Pa,hp,pp,Fl,vO,yO,fp,Ca,bO,EO,IO,PO,gp,CO,SO,OO,wO,VO,VA,xO,xA,AO,NO,vp=re(()=>{"use strict";gr();se();mO=U("radio-group").parts("root","label","item","itemText","itemControl","indicator"),qi=mO.build(),Pa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`radio-group:${e.id}`},hp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`radio-group:${e.id}:label`},pp=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:${t}`},Fl=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:input:${t}`},vO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:control:${t}`},yO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:label:${t}`},fp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicator)!=null?n:`radio-group:${e.id}:indicator`},Ca=e=>e.getById(Pa(e)),bO=(e,t)=>e.getById(Fl(e,t)),EO=e=>e.getById(fp(e)),IO=e=>{var t;return(t=Ca(e))==null?void 0:t.querySelector("input:not(:disabled)")},PO=e=>{var t;return(t=Ca(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},gp=e=>{let n=`input[type=radio][data-ownedby='${CSS.escape(Pa(e))}']:not([disabled])`;return Fe(Ca(e),n)},CO=(e,t)=>{if(t)return e.getById(pp(e,t))},SO=e=>{var t,n,i,r;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(n=e==null?void 0:e.offsetTop)!=null?n:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(r=e==null?void 0:e.offsetHeight)!=null?r:0}};({not:OO}=Ee()),wO={props({props:e}){return g({orientation:"vertical"},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),focusVisibleValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:n}){e([()=>n.get("value")],()=>{t(["syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:OO("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return wt(Ca(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){var t;return In({root:(t=e.getRootNode)==null?void 0:t.call(e)})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t}){e.set("focusedValue",t.value);let n=t.value!=null&&t.focusVisible?t.value:null;e.set("focusVisibleValue",n)},syncInputElements({context:e,scope:t}){gp(t).forEach(i=>{i.checked=i.value===e.get("value")})},cleanupObserver({refs:e}){var t;(t=e.get("indicatorCleanup"))==null||t()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:n}){var o;if((o=n.get("indicatorCleanup"))==null||o(),!EO(t))return;let i=e.get("value"),r=CO(t,i);if(i==null||!r){e.set("indicatorRect",null);return}let s=()=>{e.set("indicatorRect",SO(r))};s();let a=hn.observe(r,s);n.set("indicatorCleanup",a)},dispatchChangeEvent({context:e,scope:t}){gp(t).forEach(i=>{let r=i.value===e.get("value");r!==i.checked&&gi(i,{checked:r})})}}}},VO=_()(["dir","disabled","form","getRootNode","id","ids","invalid","name","onValueChange","orientation","readOnly","required","value","defaultValue"]),VA=B(VO),xO=_()(["value","disabled","invalid"]),xA=B(xO),AO=class extends K{initMachine(e){return new W(wO,e)}initApi(){return TO(this.machine.service,q)}render(){var i;let e=(i=this.el.querySelector('[data-scope="radio-group"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="radio-group"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="radio-group"][data-part="indicator"]');n&&this.spreadProps(n,this.api.getIndicatorProps()),this.el.querySelectorAll('[data-scope="radio-group"][data-part="item"]').forEach(r=>{let s=r.dataset.value;if(s==null)return;let a=r.dataset.disabled==="true",o=r.dataset.invalid==="true";this.spreadProps(r,this.api.getItemProps({value:s,disabled:a,invalid:o}));let l=r.querySelector('[data-scope="radio-group"][data-part="item-text"]');l&&this.spreadProps(l,this.api.getItemTextProps({value:s,disabled:a,invalid:o}));let c=r.querySelector('[data-scope="radio-group"][data-part="item-control"]');c&&this.spreadProps(c,this.api.getItemControlProps({value:s,disabled:a,invalid:o}));let d=r.querySelector('[data-scope="radio-group"][data-part="item-hidden-input"]');d&&this.spreadProps(d,this.api.getItemHiddenInputProps({value:s,disabled:a,invalid:o}))})}},NO={mounted(){let e=this.el,t=O(e,"value"),n=O(e,"defaultValue"),i=C(e,"controlled"),r=new AO(e,y(g({id:e.id},i&&t!==void 0?{value:t!=null?t:null}:{defaultValue:n!=null?n:null}),{name:O(e,"name"),form:O(e,"form"),disabled:C(e,"disabled"),invalid:C(e,"invalid"),required:C(e,"required"),readOnly:C(e,"readOnly"),dir:O(e,"dir",["ltr","rtl"]),orientation:O(e,"orientation",["horizontal","vertical"]),onValueChange:s=>{let a=O(e,"onValueChange");a&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(a,{value:s.value,id:e.id});let o=O(e,"onValueChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:{value:s,id:e.id}}))}}));r.init(),this.radioGroup=r,this.handlers=[]},updated(){var n;let e=O(this.el,"value"),t=C(this.el,"controlled");(n=this.radioGroup)==null||n.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e!=null?e:null}:{}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:C(this.el,"disabled"),invalid:C(this.el,"invalid"),required:C(this.el,"required"),readOnly:C(this.el,"readOnly"),orientation:O(this.el,"orientation",["horizontal","vertical"])}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.radioGroup)==null||e.destroy()}}});var Sp={};he(Sp,{Select:()=>zO});function FO(e,t){let{context:n,prop:i,scope:r,state:s,computed:a,send:o}=e,l=i("disabled")||n.get("fieldsetDisabled"),c=!!i("invalid"),d=!!i("required"),h=!!i("readOnly"),m=i("composite"),u=i("collection"),p=s.hasTag("open"),v=s.matches("focused"),I=n.get("highlightedValue"),T=n.get("highlightedItem"),w=n.get("selectedItems"),b=n.get("currentPlacement"),f=a("isTypingAhead"),S=a("isInteractive"),P=I?Gl(r,I):void 0;function V(x){let N=u.getItemDisabled(x.item),k=u.getItemValue(x.item);return mn(k,()=>`[zag-js] No value found for item ${JSON.stringify(x.item)}`),{value:k,disabled:!!(l||N),highlighted:I===k,selected:n.get("value").includes(k)}}let A=Tn(y(g({},i("positioning")),{placement:b}));return{open:p,focused:v,empty:n.get("value").length===0,highlightedItem:T,highlightedValue:I,selectedItems:w,hasSelectedItems:a("hasSelectedItems"),value:n.get("value"),valueAsString:a("valueAsString"),collection:u,multiple:!!i("multiple"),disabled:!!l,reposition(x={}){o({type:"POSITIONING.SET",options:x})},focus(){var x;(x=ii(r))==null||x.focus({preventScroll:!0})},setOpen(x){s.hasTag("open")!==x&&o({type:x?"OPEN":"CLOSE"})},selectValue(x){o({type:"ITEM.SELECT",value:x})},setValue(x){o({type:"VALUE.SET",value:x})},selectAll(){o({type:"VALUE.SET",value:u.getValues()})},setHighlightValue(x){o({type:"HIGHLIGHTED_VALUE.SET",value:x})},clearHighlightValue(){o({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(x){o(x?{type:"ITEM.CLEAR",value:x}:{type:"VALUE.CLEAR"})},getItemState:V,getRootProps(){return t.element(y(g({},_e.root.attrs),{dir:i("dir"),id:RO(r),"data-invalid":E(c),"data-readonly":E(h)}))},getLabelProps(){return t.label(y(g({dir:i("dir"),id:Sa(r)},_e.label.attrs),{"data-disabled":E(l),"data-invalid":E(c),"data-readonly":E(h),"data-required":E(d),htmlFor:Ul(r),onClick(x){var N;x.defaultPrevented||l||(N=ii(r))==null||N.focus({preventScroll:!0})}}))},getControlProps(){return t.element(y(g({},_e.control.attrs),{dir:i("dir"),id:DO(r),"data-state":p?"open":"closed","data-focus":E(v),"data-disabled":E(l),"data-invalid":E(c)}))},getValueTextProps(){return t.element(y(g({},_e.valueText.attrs),{dir:i("dir"),"data-disabled":E(l),"data-invalid":E(c),"data-focus":E(v)}))},getTriggerProps(){return t.button(y(g({id:_l(r),disabled:l,dir:i("dir"),type:"button",role:"combobox","aria-controls":Bl(r),"aria-expanded":p,"aria-haspopup":"listbox","data-state":p?"open":"closed","aria-invalid":c,"aria-required":d,"aria-labelledby":Sa(r)},_e.trigger.attrs),{"data-disabled":E(l),"data-invalid":E(c),"data-readonly":E(h),"data-placement":b,"data-placeholder-shown":E(!a("hasSelectedItems")),onClick(x){S&&(x.defaultPrevented||o({type:"TRIGGER.CLICK"}))},onFocus(){o({type:"TRIGGER.FOCUS"})},onBlur(){o({type:"TRIGGER.BLUR"})},onKeyDown(x){if(x.defaultPrevented||!S)return;let k={ArrowUp(){o({type:"TRIGGER.ARROW_UP"})},ArrowDown(D){o({type:D.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){o({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){o({type:"TRIGGER.ARROW_RIGHT"})},Home(){o({type:"TRIGGER.HOME"})},End(){o({type:"TRIGGER.END"})},Enter(){o({type:"TRIGGER.ENTER"})},Space(D){o(f?{type:"TRIGGER.TYPEAHEAD",key:D.key}:{type:"TRIGGER.ENTER"})}}[ge(x,{dir:i("dir"),orientation:"vertical"})];if(k){k(x),x.preventDefault();return}Ue.isValidEvent(x)&&(o({type:"TRIGGER.TYPEAHEAD",key:x.key}),x.preventDefault())}}))},getIndicatorProps(){return t.element(y(g({},_e.indicator.attrs),{dir:i("dir"),"aria-hidden":!0,"data-state":p?"open":"closed","data-disabled":E(l),"data-invalid":E(c),"data-readonly":E(h)}))},getItemProps(x){let N=V(x);return t.element(y(g({id:Gl(r,N.value),role:"option"},_e.item.attrs),{dir:i("dir"),"data-value":N.value,"aria-selected":N.selected,"data-state":N.selected?"checked":"unchecked","data-highlighted":E(N.highlighted),"data-disabled":E(N.disabled),"aria-disabled":X(N.disabled),onPointerMove(k){N.disabled||k.pointerType!=="mouse"||N.value!==I&&o({type:"ITEM.POINTER_MOVE",value:N.value})},onClick(k){k.defaultPrevented||N.disabled||o({type:"ITEM.CLICK",src:"pointerup",value:N.value})},onPointerLeave(k){var $;N.disabled||x.persistFocus||k.pointerType!=="mouse"||!(($=e.event.previous())!=null&&$.type.includes("POINTER"))||o({type:"ITEM.POINTER_LEAVE"})}}))},getItemTextProps(x){let N=V(x);return t.element(y(g({},_e.itemText.attrs),{"data-state":N.selected?"checked":"unchecked","data-disabled":E(N.disabled),"data-highlighted":E(N.highlighted)}))},getItemIndicatorProps(x){let N=V(x);return t.element(y(g({"aria-hidden":!0},_e.itemIndicator.attrs),{"data-state":N.selected?"checked":"unchecked",hidden:!N.selected}))},getItemGroupLabelProps(x){let{htmlFor:N}=x;return t.element(y(g({},_e.itemGroupLabel.attrs),{id:yp(r,N),dir:i("dir"),role:"presentation"}))},getItemGroupProps(x){let{id:N}=x;return t.element(y(g({},_e.itemGroup.attrs),{"data-disabled":E(l),id:LO(r,N),"aria-labelledby":yp(r,N),role:"group",dir:i("dir")}))},getClearTriggerProps(){return t.button(y(g({},_e.clearTrigger.attrs),{id:Pp(r),type:"button","aria-label":"Clear value","data-invalid":E(c),disabled:l,hidden:!a("hasSelectedItems"),dir:i("dir"),onClick(x){x.defaultPrevented||o({type:"CLEAR.CLICK"})}}))},getHiddenSelectProps(){let x=n.get("value"),N=i("multiple")?x:x==null?void 0:x[0];return t.select({name:i("name"),form:i("form"),disabled:l,multiple:i("multiple"),required:i("required"),"aria-hidden":!0,id:Ul(r),defaultValue:N,style:Vt,tabIndex:-1,onFocus(){var k;(k=ii(r))==null||k.focus({preventScroll:!0})},"aria-labelledby":Sa(r)})},getPositionerProps(){return t.element(y(g({},_e.positioner.attrs),{dir:i("dir"),id:Cp(r),style:A.floating}))},getContentProps(){return t.element(y(g({hidden:!p,dir:i("dir"),id:Bl(r),role:m?"listbox":"dialog"},_e.content.attrs),{"data-state":p?"open":"closed","data-placement":b,"data-activedescendant":P,"aria-activedescendant":m?P:void 0,"aria-multiselectable":i("multiple")&&m?!0:void 0,"aria-labelledby":Sa(r),tabIndex:0,onKeyDown(x){if(!S||!ce(x.currentTarget,j(x)))return;if(x.key==="Tab"&&!ds(x)){x.preventDefault();return}let N={ArrowUp(){o({type:"CONTENT.ARROW_UP"})},ArrowDown(){o({type:"CONTENT.ARROW_DOWN"})},Home(){o({type:"CONTENT.HOME"})},End(){o({type:"CONTENT.END"})},Enter(){o({type:"ITEM.CLICK",src:"keydown.enter"})},Space($){var te;f?o({type:"CONTENT.TYPEAHEAD",key:$.key}):(te=N.Enter)==null||te.call(N,$)}},k=N[ge(x)];if(k){k(x),x.preventDefault();return}let D=j(x);Ot(D)||Ue.isValidEvent(x)&&(o({type:"CONTENT.TYPEAHEAD",key:x.key}),x.preventDefault())}}))},getListProps(){return t.element(y(g({},_e.list.attrs),{tabIndex:0,role:m?void 0:"listbox","aria-labelledby":_l(r),"aria-activedescendant":m?void 0:P,"aria-multiselectable":!m&&i("multiple")?!0:void 0}))}}}function Ep(e){var n,i;let t=(i=e.restoreFocus)!=null?i:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null||!!t}function Ip(e,t){return Wi(t?{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}:{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}function WO(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function KO(e){let t={};for(let[n,i]of Object.entries(e)){let r=WO(n);t[r]=i}return t}var kO,_e,Wi,RO,Bl,_l,Pp,Sa,DO,Gl,Ul,Cp,LO,yp,$l,Fr,ii,MO,bp,Hl,$r,ni,$O,HO,BO,MA,_O,FA,GO,$A,UO,HA,qO,zO,Tp=re(()=>{"use strict";vr();Ir();qn();se();kO=U("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),_e=kO.build(),Wi=e=>new kt(e);Wi.empty=()=>new kt({items:[]});RO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`select:${e.id}`},Bl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`select:${e.id}:content`},_l=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`select:${e.id}:trigger`},Pp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`select:${e.id}:clear-trigger`},Sa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`select:${e.id}:label`},DO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`select:${e.id}:control`},Gl=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:option:${t}`},Ul=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenSelect)!=null?n:`select:${e.id}:select`},Cp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`select:${e.id}:positioner`},LO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup:${t}`},yp=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup-label:${t}`},$l=e=>e.getById(Ul(e)),Fr=e=>e.getById(Bl(e)),ii=e=>e.getById(_l(e)),MO=e=>e.getById(Pp(e)),bp=e=>e.getById(Cp(e)),Hl=(e,t)=>t==null?null:e.getById(Gl(e,t));({and:$r,not:ni,or:$O}=Ee()),HO={props({props:e}){var t;return y(g({loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[]},e),{collection:(t=e.collection)!=null?t:Wi.empty(),positioning:g({placement:"bottom-start",gutter:8},e.positioning)})},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:me,onChange(n){var r;let i=e("collection").findMany(n);return(r=e("onValueChange"))==null?void 0:r({value:n,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var r,s;let n=(s=(r=e("value"))!=null?r:e("defaultValue"))!=null?s:[];return{defaultValue:e("collection").findMany(n)}})}},refs(){return{typeahead:g({},Ue.defaultOptions)}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value").toString()],()=>{i(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>t("open")],()=>{i(["toggleVisibility"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{i(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:$O("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:$r(ni("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:ni("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:$r(ni("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:ni("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:ni("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:ni("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:ni("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:$r("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:$r("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:$r("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t.closeOnSelect)!=null?n:e("closeOnSelect"))},restoreFocus:({event:e})=>Ep(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:e,scope:t}){return wt($l(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){let n=e.initial("value");e.set("value",n)}})},trackDismissableElement({scope:e,send:t,prop:n}){let i=()=>Fr(e),r=!0;return Ft(i,{type:"listbox",defer:!0,exclude:[ii(e),MO(e)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(s){var a;(a=n("onInteractOutside"))==null||a(s),r=!(s.detail.focusable||s.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:r})}})},computePlacement({context:e,prop:t,scope:n}){let i=t("positioning");return e.set("currentPlacement",i.placement),It(()=>ii(n),()=>bp(n),y(g({defer:!0},i),{onComplete(a){e.set("currentPlacement",a.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n,event:i}){let r=a=>{let o=e.get("highlightedValue");if(o==null||i.current().type.includes("POINTER"))return;let l=Fr(n),c=t("scrollToIndexFn");if(c){let h=t("collection").indexOf(o);c==null||c({index:h,immediate:a,getElement:()=>Hl(n,o)});return}let d=Hl(n,o);Xt(d,{rootEl:l,block:"nearest"})};return H(()=>r(!0)),ot(()=>Fr(n),{defer:!0,attributes:["data-activedescendant"],callback(){r(!1)}})}},actions:{reposition({context:e,prop:t,scope:n,event:i}){let r=()=>bp(n);It(ii(n),r,y(g(g({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}}))},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let i=t("collection").getPreviousValue(n,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightNextItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let i=t("collection").getNextValue(n,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightFirstItem({context:e,prop:t}){let n=t("collection").firstValue;e.set("highlightedValue",n)},highlightLastItem({context:e,prop:t}){let n=t("collection").lastValue;e.set("highlightedValue",n)},setInitialFocus({scope:e}){H(()=>{let t=cs({root:Fr(e)});t==null||t.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){Ep(e)&&H(()=>{let n=ii(t);n==null||n.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:n}){var s,a;let i=(s=n.value)!=null?s:e.get("highlightedValue");if(i==null||!t("collection").has(i))return;(a=t("onSelect"))==null||a({value:i}),i=t("deselectable")&&!t("multiple")&&e.get("value").includes(i)?null:i,e.set("value",o=>i==null?[]:t("multiple")?yt(o,i):[i])},highlightComputedFirstItem({context:e,prop:t,computed:n}){let i=t("collection"),r=n("hasSelectedItems")?i.sort(e.get("value"))[0]:i.firstValue;e.set("highlightedValue",r)},highlightComputedLastItem({context:e,prop:t,computed:n}){let i=t("collection"),r=n("hasSelectedItems")?i.sort(e.get("value"))[0]:i.lastValue;e.set("highlightedValue",r)},highlightFirstSelectedItem({context:e,prop:t,computed:n}){if(!n("hasSelectedItems"))return;let i=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",i)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});r!=null&&e.set("highlightedValue",r)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n}){var s;(s=t("onSelect"))==null||s({value:n.value});let r=t("deselectable")&&!t("multiple")&&e.get("value").includes(n.value)?null:n.value;e.set("value",a=>r==null?[]:t("multiple")?yt(a,r):[r])},clearItem({context:e,event:t}){e.set("value",n=>n.filter(i=>i!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){let[n]=e.get("value"),i=t("collection").getPreviousValue(n);i&&e.set("value",[i])},selectNextItem({context:e,prop:t}){let[n]=e.get("value"),i=t("collection").getNextValue(n);i&&e.set("value",[i])},selectFirstItem({context:e,prop:t}){let n=t("collection").firstValue;n&&e.set("value",[n])},selectLastItem({context:e,prop:t}){let n=t("collection").lastValue;n&&e.set("value",[n])},selectMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("value")[0]});r!=null&&e.set("value",[r])},scrollContentToTop({prop:e,scope:t}){var n,i;if(e("scrollToIndexFn")){let r=e("collection").firstValue;(n=e("scrollToIndexFn"))==null||n({index:0,immediate:!0,getElement:()=>Hl(t,r)})}else(i=Fr(t))==null||i.scrollTo(0,0)},invokeOnOpen({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},syncSelectElement({context:e,prop:t,scope:n}){let i=$l(n);if(i){if(e.get("value").length===0&&!t("multiple")){i.selectedIndex=-1;return}for(let r of i.options)r.selected=e.get("value").includes(r.value)}},syncCollection({context:e,prop:t}){let n=t("collection"),i=n.find(e.get("highlightedValue"));i&&e.set("highlightedItem",i);let r=n.findMany(e.get("value"));e.set("selectedItems",r)},syncSelectedItems({context:e,prop:t}){let n=t("collection"),i=e.get("selectedItems"),s=e.get("value").map(a=>i.find(l=>n.getItemValue(l)===a)||n.find(a));e.set("selectedItems",s)},syncHighlightedItem({context:e,prop:t}){let n=t("collection"),i=e.get("highlightedValue"),r=i?n.find(i):null;e.set("highlightedItem",r)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{let t=$l(e);if(!t)return;let n=e.getWin(),i=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(i)})}}}};BO=_()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),MA=B(BO),_O=_()(["item","persistFocus"]),FA=B(_O),GO=_()(["id"]),$A=B(GO),UO=_()(["htmlFor"]),HA=B(UO),qO=class extends K{constructor(t,n){var r;super(t,n);Y(this,"_options",[]);Y(this,"hasGroups",!1);Y(this,"placeholder","");Y(this,"init",()=>{this.machine.start(),this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()})});let i=n.collection;this._options=(r=i==null?void 0:i.items)!=null?r:[],this.placeholder=O(this.el,"placeholder")||""}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?Wi({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}):Wi({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}initMachine(t){let n=this.getCollection.bind(this),i=t.collection;return new W(HO,y(g({},t),{get collection(){return i!=null?i:n()}}))}initApi(){return FO(this.machine.service,q)}applyItemProps(){let t=this.el.querySelector('[data-scope="select"][data-part="content"]');t&&(t.querySelectorAll('[data-scope="select"][data-part="item-group"]').forEach(n=>{var s;let i=(s=n.dataset.id)!=null?s:"";this.spreadProps(n,this.api.getItemGroupProps({id:i}));let r=n.querySelector('[data-scope="select"][data-part="item-group-label"]');r&&this.spreadProps(r,this.api.getItemGroupLabelProps({htmlFor:i}))}),t.querySelectorAll('[data-scope="select"][data-part="item"]').forEach(n=>{var o;let i=(o=n.dataset.value)!=null?o:"",r=this.options.find(l=>{var c,d;return String((d=(c=l.id)!=null?c:l.value)!=null?d:"")===String(i)});if(!r)return;this.spreadProps(n,this.api.getItemProps({item:r}));let s=n.querySelector('[data-scope="select"][data-part="item-text"]');s&&this.spreadProps(s,this.api.getItemTextProps({item:r}));let a=n.querySelector('[data-scope="select"][data-part="item-indicator"]');a&&this.spreadProps(a,this.api.getItemIndicatorProps({item:r}))}))}render(){var a;let t=(a=this.el.querySelector('[data-scope="select"][data-part="root"]'))!=null?a:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="select"][data-part="hidden-select"]'),i=this.el.querySelector('[data-scope="select"][data-part="value-input"]');i&&(!this.api.value||this.api.value.length===0?i.value="":this.api.value.length===1?i.value=String(this.api.value[0]):i.value=this.api.value.map(String).join(",")),n&&this.spreadProps(n,this.api.getHiddenSelectProps()),["label","control","trigger","indicator","clear-trigger","positioner"].forEach(o=>{let l=this.el.querySelector(`[data-scope="select"][data-part="${o}"]`);if(!l)return;let c="get"+o.split("-").map(d=>d[0].toUpperCase()+d.slice(1)).join("")+"Props";this.spreadProps(l,this.api[c]())});let r=this.el.querySelector('[data-scope="select"][data-part="item-text"]');if(r){let o=this.api.valueAsString;if(this.api.value&&this.api.value.length>0&&!o){let l=this.api.value[0],c=this.options.find(d=>{var m,u;let h=(u=(m=d.id)!=null?m:d.value)!=null?u:"";return String(h)===String(l)});c?r.textContent=c.label:r.textContent=this.placeholder||""}else r.textContent=o||this.placeholder||""}let s=this.el.querySelector('[data-scope="select"][data-part="content"]');s&&(this.spreadProps(s,this.api.getContentProps()),this.applyItemProps())}};zO={mounted(){let e=this.el,t=JSON.parse(e.dataset.collection||"[]"),n=t.some(s=>s.group!==void 0),i=Ip(t,n),r=new qO(e,y(g({id:e.id,collection:i},C(e,"controlled")?{value:Z(e,"value")}:{defaultValue:Z(e,"defaultValue")}),{disabled:C(e,"disabled"),closeOnSelect:C(e,"closeOnSelect"),dir:O(e,"dir",["ltr","rtl"]),loopFocus:C(e,"loopFocus"),multiple:C(e,"multiple"),invalid:C(e,"invalid"),name:O(e,"name"),form:O(e,"form"),readOnly:C(e,"readOnly"),required:C(e,"required"),positioning:(()=>{let s=e.dataset.positioning;if(s)try{let a=JSON.parse(s);return KO(a)}catch(a){return}})(),onValueChange:s=>{var T;let a=C(e,"redirect"),o=s.value.length>0?String(s.value[0]):null,l=(T=s.items)!=null&&T.length?s.items[0]:null,c=l&&typeof l=="object"&&l!==null&&"redirect"in l?l.redirect:void 0,d=l&&typeof l=="object"&&l!==null&&"new_tab"in l?l.new_tab:void 0;a&&o&&this.liveSocket.main.isDead&&c!==!1&&(d===!0?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o);let u=e.querySelector('[data-scope="select"][data-part="value-input"]');u&&(u.value=s.value.length===0?"":s.value.length===1?String(s.value[0]):s.value.map(String).join(","),u.dispatchEvent(new Event("input",{bubbles:!0})),u.dispatchEvent(new Event("change",{bubbles:!0})));let p={value:s.value,items:s.items,id:e.id},v=O(e,"onValueChangeClient");v&&e.dispatchEvent(new CustomEvent(v,{bubbles:!0,detail:p}));let I=O(e,"onValueChange");I&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(I,p)}}));r.hasGroups=n,r.setOptions(t),r.init(),this.select=r,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);this.select&&(this.select.hasGroups=t,this.select.setOptions(e),this.select.updateProps(y(g({collection:Ip(e,t),id:this.el.id},C(this.el,"controlled")?{value:Z(this.el,"value")}:{defaultValue:Z(this.el,"defaultValue")}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:C(this.el,"disabled"),multiple:C(this.el,"multiple"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:C(this.el,"invalid"),required:C(this.el,"required"),readOnly:C(this.el,"readOnly")})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.select)==null||e.destroy()}}});var Wp={};he(Wp,{SignaturePad:()=>Ew});function Vp(e,t,n,i=r=>r){return e*i(.5-t*(.5-n))}function Hp(e,t,n){let i=ql(1,t/n);return ql(1,e+(ql(1,1-i)-e)*(i*.275))}function jO(e){return[-e[0],-e[1]]}function Bt(e,t){return[e[0]+t[0],e[1]+t[1]]}function xp(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Nn(e,t){return[e[0]-t[0],e[1]-t[1]]}function zl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function An(e,t){return[e[0]*t,e[1]*t]}function Wl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function XO(e,t){return[e[0]/t,e[1]/t]}function Bp(e){return[e[1],-e[0]]}function Kl(e,t){let n=t[0];return e[0]=t[1],e[1]=-n,e}function Ap(e,t){return e[0]*t[0]+e[1]*t[1]}function ZO(e,t){return e[0]===t[0]&&e[1]===t[1]}function JO(e){return Math.hypot(e[0],e[1])}function Np(e,t){let n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function _p(e){return XO(e,JO(e))}function QO(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Yl(e,t,n){let i=Math.sin(n),r=Math.cos(n),s=e[0]-t[0],a=e[1]-t[1],o=s*r-a*i,l=s*i+a*r;return[o+t[0],l+t[1]]}function kp(e,t,n,i){let r=Math.sin(i),s=Math.cos(i),a=t[0]-n[0],o=t[1]-n[1],l=a*s-o*r,c=a*r+o*s;return e[0]=l+n[0],e[1]=c+n[1],e}function Rp(e,t,n){return Bt(e,An(Nn(t,e),n))}function ew(e,t,n,i){let r=n[0]-t[0],s=n[1]-t[1];return e[0]=t[0]+r*i,e[1]=t[1]+s*i,e}function Gp(e,t,n){return Bt(e,An(t,n))}function tw(e,t){let n=Gp(e,_p(Bp(Nn(e,Bt(e,[1,1])))),-t),i=[],r=1/13;for(let s=r;s<=1;s+=r)i.push(Yl(n,e,Hr*2*s));return i}function nw(e,t,n){let i=[],r=1/n;for(let s=r;s<=1;s+=r)i.push(Yl(t,e,Hr*s));return i}function iw(e,t,n){let i=Nn(t,n),r=An(i,.5),s=An(i,.51);return[Nn(e,r),Nn(e,s),Bt(e,s),Bt(e,r)]}function rw(e,t,n,i){let r=[],s=Gp(e,t,n),a=1/i;for(let o=a;o<1;o+=a)r.push(Yl(s,e,Hr*3*o));return r}function sw(e,t,n){return[Bt(e,An(t,n)),Bt(e,An(t,n*.99)),Nn(e,An(t,n*.99)),Nn(e,An(t,n))]}function Dp(e,t,n){return e===!1||e===void 0?0:e===!0?Math.max(t,n):e}function aw(e,t,n){return e.slice(0,10).reduce((i,r)=>{let s=r.pressure;return t&&(s=Hp(i,r.distance,n)),(i+s)/2},e[0].pressure)}function ow(e,t={}){let{size:n=16,smoothing:i=.5,thinning:r=.5,simulatePressure:s=!0,easing:a=Q=>Q,start:o={},end:l={},last:c=!1}=t,{cap:d=!0,easing:h=Q=>Q*(2-Q)}=o,{cap:m=!0,easing:u=Q=>--Q*Q*Q+1}=l;if(e.length===0||n<=0)return[];let p=e[e.length-1].runningLength,v=Dp(o.taper,n,p),I=Dp(l.taper,n,p),T=(n*i)**2,w=[],b=[],f=aw(e,s,n),S=Vp(n,r,e[e.length-1].pressure,a),P,V=e[0].vector,A=e[0].point,x=A,N=A,k=x,D=!1;for(let Q=0;Q<e.length;Q++){let{pressure:Se}=e[Q],{point:Pe,vector:ne,distance:Ie,runningLength:rt}=e[Q],Ut=Q===e.length-1;if(!Ut&&p-rt<3)continue;r?(s&&(Se=Hp(f,Ie,n)),S=Vp(n,r,Se,a)):S=n/2,P===void 0&&(P=S);let ji=rt<v?h(rt/v):1,Ra=p-rt<I?u((p-rt)/I):1;S=Math.max(.01,S*Math.min(ji,Ra));let M=(Ut?e[Q]:e[Q+1]).vector,R=Ut?1:Ap(ne,M),F=Ap(ne,V)<0&&!D,G=R!==null&&R<0;if(F||G){Kl(De,V),Wl(De,De,S);for(let ae=0;ae<=1;ae+=.07692307692307693)zl(Vn,Pe,De),kp(Vn,Vn,Pe,Hr*ae),N=[Vn[0],Vn[1]],w.push(N),xp(xn,Pe,De),kp(xn,xn,Pe,Hr*-ae),k=[xn[0],xn[1]],b.push(k);A=N,x=k,G&&(D=!0);continue}if(D=!1,Ut){Kl(De,ne),Wl(De,De,S),w.push(Nn(Pe,De)),b.push(Bt(Pe,De));continue}ew(De,M,ne,R),Kl(De,De),Wl(De,De,S),zl(Vn,Pe,De),N=[Vn[0],Vn[1]],(Q<=1||Np(A,N)>T)&&(w.push(N),A=N),xp(xn,Pe,De),k=[xn[0],xn[1]],(Q<=1||Np(x,k)>T)&&(b.push(k),x=k),f=Se,V=ne}let $=[e[0].point[0],e[0].point[1]],te=e.length>1?[e[e.length-1].point[0],e[e.length-1].point[1]]:Bt(e[0].point,[1,1]),J=[],ie=[];if(e.length===1){if(!(v||I)||c)return tw($,P||S)}else{v||I&&e.length===1||(d?J.push(...nw($,b[0],13)):J.push(...iw($,w[0],b[0])));let Q=Bp(jO(e[e.length-1].vector));I||v&&e.length===1?ie.push(te):m?ie.push(...rw(te,Q,S,29)):ie.push(...sw(te,Q,S))}return w.concat(ie,b.reverse(),J)}function Mp(e){return e!=null&&e>=0}function lw(e,t={}){var m;let{streamline:n=.5,size:i=16,last:r=!1}=t;if(e.length===0)return[];let s=.15+(1-n)*.85,a=Array.isArray(e[0])?e:e.map(({x:u,y:p,pressure:v=Op})=>[u,p,v]);if(a.length===2){let u=a[1];a=a.slice(0,-1);for(let p=1;p<5;p++)a.push(Rp(a[0],u,p/4))}a.length===1&&(a=[...a,[...Bt(a[0],wp),...a[0].slice(2)]]);let o=[{point:[a[0][0],a[0][1]],pressure:Mp(a[0][2])?a[0][2]:.25,vector:[...wp],distance:0,runningLength:0}],l=!1,c=0,d=o[0],h=a.length-1;for(let u=1;u<a.length;u++){let p=r&&u===h?[a[u][0],a[u][1]]:Rp(d.point,a[u],s);if(ZO(d.point,p))continue;let v=QO(p,d.point);if(c+=v,u<h&&!l){if(c<i)continue;l=!0}zl(Lp,d.point,p),d={point:p,pressure:Mp(a[u][2])?a[u][2]:Op,vector:_p(Lp),distance:v,runningLength:c},o.push(d)}return o[0].vector=((m=o[1])==null?void 0:m.vector)||[0,0],o}function cw(e,t={}){return ow(lw(e,t),t)}function fw(e,t){let{state:n,send:i,prop:r,computed:s,context:a,scope:o}=e,l=n.matches("drawing"),c=s("isEmpty"),d=s("isInteractive"),h=!!r("disabled"),m=!!r("required"),u=r("translations");return{empty:c,drawing:l,currentPath:a.get("currentPath"),paths:a.get("paths"),clear(){i({type:"CLEAR"})},getDataUrl(p,v){return s("isEmpty")?Promise.resolve(""):qp(o,{type:p,quality:v})},getLabelProps(){return t.label(y(g({},ri.label.attrs),{id:gw(o),"data-disabled":E(h),"data-required":E(m),htmlFor:Fp(o),onClick(p){if(!d||p.defaultPrevented)return;let v=wa(o);v==null||v.focus({preventScroll:!0})}}))},getRootProps(){return t.element(y(g({},ri.root.attrs),{"data-disabled":E(h),id:hw(o)}))},getControlProps(){return t.element(y(g({},ri.control.attrs),{tabIndex:h?void 0:0,id:Up(o),role:"application","aria-roledescription":"signature pad","aria-label":u.control,"aria-disabled":h,"data-disabled":E(h),onPointerDown(p){if(!fe(p)||xe(p)||!d)return;let v=j(p);if(v!=null&&v.closest("[data-part=clear-trigger]"))return;p.currentTarget.setPointerCapture(p.pointerId);let I={x:p.clientX,y:p.clientY},T=wa(o);if(!T)return;let{offset:w}=Qa(I,T);i({type:"POINTER_DOWN",point:w,pressure:p.pressure})},onPointerUp(p){d&&p.currentTarget.hasPointerCapture(p.pointerId)&&p.currentTarget.releasePointerCapture(p.pointerId)},style:{position:"relative",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getSegmentProps(){return t.svg(y(g({},ri.segment.attrs),{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",fill:r("drawing").fill}}))},getSegmentPathProps(p){return t.path(y(g({},ri.segmentPath.attrs),{d:p.path}))},getGuideProps(){return t.element(y(g({},ri.guide.attrs),{"data-disabled":E(h)}))},getClearTriggerProps(){return t.button(y(g({},ri.clearTrigger.attrs),{type:"button","aria-label":u.clearTrigger,hidden:!a.get("paths").length||l,disabled:h,onClick(){i({type:"CLEAR"})}}))},getHiddenInputProps(p){return t.input({id:Fp(o),type:"text",hidden:!0,disabled:h,required:r("required"),readOnly:!0,name:r("name"),value:p.value})}}}function mw(e,t=!0){let n=e.length;if(n<4)return"";let i=e[0],r=e[1],s=e[2],a=`M${i[0].toFixed(2)},${i[1].toFixed(2)} Q${r[0].toFixed(2)},${r[1].toFixed(2)} ${Ta(r[0],s[0]).toFixed(2)},${Ta(r[1],s[1]).toFixed(2)} T`;for(let o=2,l=n-1;o<l;o++)i=e[o],r=e[o+1],a+=`${Ta(i[0],r[0]).toFixed(2)},${Ta(i[1],r[1]).toFixed(2)} `;return t&&(a+="Z"),a}function Oa(e,t){let n=e.dataset[t];if(!n)return[];try{return JSON.parse(n)}catch(i){return[]}}function $p(e){var t,n,i,r;return{fill:O(e,"drawingFill")||"black",size:(t=z(e,"drawingSize"))!=null?t:2,simulatePressure:C(e,"drawingSimulatePressure"),smoothing:(n=z(e,"drawingSmoothing"))!=null?n:.5,thinning:(i=z(e,"drawingThinning"))!=null?i:.7,streamline:(r=z(e,"drawingStreamline"))!=null?r:.65}}var YO,Hr,Op,wp,ql,De,Vn,xn,Lp,dw,uw,ri,hw,Up,gw,Fp,wa,pw,qp,Ta,vw,yw,UA,bw,Ew,Kp=re(()=>{"use strict";se();({PI:YO}=Math),Hr=YO+1e-4,Op=.5,wp=[1,1];({min:ql}=Math);De=[0,0],Vn=[0,0],xn=[0,0];Lp=[0,0];dw=cw,uw=U("signature-pad").parts("root","control","segment","segmentPath","guide","clearTrigger","label"),ri=uw.build(),hw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`signature-${e.id}`},Up=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`signature-control-${e.id}`},gw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`signature-label-${e.id}`},Fp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`signature-input-${e.id}`},wa=e=>e.getById(Up(e)),pw=e=>mi(wa(e),"[data-part=segment]"),qp=(e,t)=>Cc(pw(e),t);Ta=(e,t)=>(e+t)/2;vw={props({props:e}){return y(g({defaultPaths:[]},e),{drawing:g({size:2,simulatePressure:!1,thinning:.7,smoothing:.4,streamline:.6},e.drawing),translations:g({control:"signature pad",clearTrigger:"clear signature"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{paths:t(()=>({defaultValue:e("defaultPaths"),value:e("paths"),sync:!0,onChange(n){var i;(i=e("onDraw"))==null||i({paths:n})}})),currentPoints:t(()=>({defaultValue:[]})),currentPath:t(()=>({defaultValue:null}))}},computed:{isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),isEmpty:({context:e})=>e.get("paths").length===0},on:{CLEAR:{actions:["clearPoints","invokeOnDrawEnd","focusCanvasEl"]}},states:{idle:{on:{POINTER_DOWN:{target:"drawing",actions:["addPoint"]}}},drawing:{effects:["trackPointerMove"],on:{POINTER_MOVE:{actions:["addPoint","invokeOnDraw"]},POINTER_UP:{target:"idle",actions:["endStroke","invokeOnDrawEnd"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){let n=e.getDoc();return un(n,{onPointerMove({event:i,point:r}){let s=wa(e);if(!s)return;let{offset:a}=Qa(r,s);t({type:"POINTER_MOVE",point:a,pressure:i.pressure})},onPointerUp(){t({type:"POINTER_UP"})}})}},actions:{addPoint({context:e,event:t,prop:n}){let i=[...e.get("currentPoints"),t.point];e.set("currentPoints",i);let r=dw(i,n("drawing"));e.set("currentPath",mw(r))},endStroke({context:e}){let t=[...e.get("paths"),e.get("currentPath")];e.set("paths",t),e.set("currentPoints",[]),e.set("currentPath",null)},clearPoints({context:e}){e.set("currentPoints",[]),e.set("paths",[]),e.set("currentPath",null)},focusCanvasEl({scope:e}){queueMicrotask(()=>{var t;(t=e.getActiveElement())==null||t.focus({preventScroll:!0})})},invokeOnDraw({context:e,prop:t}){var n;(n=t("onDraw"))==null||n({paths:[...e.get("paths"),e.get("currentPath")]})},invokeOnDrawEnd({context:e,prop:t,scope:n,computed:i}){var r;(r=t("onDrawEnd"))==null||r({paths:[...e.get("paths")],getDataUrl(s,a=.92){return i("isEmpty")?Promise.resolve(""):qp(n,{type:s,quality:a})}})}}}},yw=_()(["defaultPaths","dir","disabled","drawing","getRootNode","id","ids","name","onDraw","onDrawEnd","paths","readOnly","required","translations"]),UA=B(yw),bw=class extends K{constructor(){super(...arguments);Y(this,"imageURL","");Y(this,"paths",[]);Y(this,"name");Y(this,"syncPaths",()=>{let t=this.el.querySelector('[data-scope="signature-pad"][data-part="segment"]');if(!t)return;if(this.api.paths.length+(this.api.currentPath?1:0)===0){t.innerHTML="",this.imageURL="",this.paths=[];let i=this.el.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');i&&(i.value="");return}if(t.innerHTML="",this.api.paths.forEach(i=>{let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("data-scope","signature-pad"),r.setAttribute("data-part","path"),this.spreadProps(r,this.api.getSegmentPathProps({path:i})),t.appendChild(r)}),this.api.currentPath){let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("data-scope","signature-pad"),i.setAttribute("data-part","current-path"),this.spreadProps(i,this.api.getSegmentPathProps({path:this.api.currentPath})),t.appendChild(i)}})}initMachine(t){return this.name=t.name,new W(vw,t)}setName(t){this.name=t}setPaths(t){this.paths=t}initApi(){return fw(this.machine.service,q)}render(){let t=this.el.querySelector('[data-scope="signature-pad"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=t.querySelector('[data-scope="signature-pad"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=t.querySelector('[data-scope="signature-pad"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=t.querySelector('[data-scope="signature-pad"][data-part="segment"]');r&&this.spreadProps(r,this.api.getSegmentProps());let s=t.querySelector('[data-scope="signature-pad"][data-part="guide"]');s&&this.spreadProps(s,this.api.getGuideProps());let a=t.querySelector('[data-scope="signature-pad"][data-part="clear-trigger"]');if(a){this.spreadProps(a,this.api.getClearTriggerProps());let l=this.api.paths.length>0||!!this.api.currentPath;a.hidden=!l}let o=t.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');if(o){let l=this.paths.length>0?this.paths:this.api.paths;this.paths.length===0&&this.api.paths.length>0&&(this.paths=[...this.api.paths]);let c=l.length>0?JSON.stringify(l):"";this.spreadProps(o,this.api.getHiddenInputProps({value:c})),this.name&&(o.name=this.name),o.value=c}this.syncPaths()}};Ew={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=C(e,"controlled"),i=Oa(e,"paths"),r=Oa(e,"defaultPaths"),s=new bw(e,y(g(g({id:e.id,name:O(e,"name")},n&&i.length>0?{paths:i}:void 0),!n&&r.length>0?{defaultPaths:r}:void 0),{drawing:$p(e),onDrawEnd:o=>{s.setPaths(o.paths);let l=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');l&&(l.value=JSON.stringify(o.paths)),o.getDataUrl("image/png").then(c=>{s.imageURL=c;let d=O(e,"onDrawEnd");d&&this.liveSocket.main.isConnected()&&t(d,{id:e.id,paths:o.paths,url:c});let h=O(e,"onDrawEndClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{id:e.id,paths:o.paths,url:c}}))})}}));if(s.init(),this.signaturePad=s,(n?i:r).length>0){let o=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');o&&(o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})))}this.onClear=o=>{let{id:l}=o.detail;if(l&&l!==e.id)return;s.api.clear(),s.imageURL="",s.setPaths([]);let c=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');c&&(c.value="")},e.addEventListener("phx:signature-pad:clear",this.onClear),this.handlers=[],this.handlers.push(this.handleEvent("signature_pad_clear",o=>{let l=o.signature_pad_id;if(l&&l!==e.id)return;s.api.clear(),s.imageURL="",s.setPaths([]);let c=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');c&&(c.value="")}))},updated(){var r,s;let e=C(this.el,"controlled"),t=Oa(this.el,"paths"),n=Oa(this.el,"defaultPaths"),i=O(this.el,"name");i&&((r=this.signaturePad)==null||r.setName(i)),(s=this.signaturePad)==null||s.updateProps(y(g(g({id:this.el.id,name:i},e&&t.length>0?{paths:t}:{}),!e&&n.length>0?{defaultPaths:n}:{}),{drawing:$p(this.el)}))},destroyed(){var e;if(this.onClear&&this.el.removeEventListener("phx:signature-pad:clear",this.onClear),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.signaturePad)==null||e.destroy()}}});var Xp={};he(Xp,{Switch:()=>xw});function Tw(e,t){let{context:n,send:i,prop:r,scope:s}=e,a=!!r("disabled"),o=!!r("readOnly"),l=!!r("required"),c=!!n.get("checked"),d=!a&&n.get("focused"),h=!a&&n.get("focusVisible"),m=!a&&n.get("active"),u={"data-active":E(m),"data-focus":E(d),"data-focus-visible":E(h),"data-readonly":E(o),"data-hover":E(n.get("hovered")),"data-disabled":E(a),"data-state":c?"checked":"unchecked","data-invalid":E(r("invalid")),"data-required":E(l)};return{checked:c,disabled:a,focused:d,setChecked(p){i({type:"CHECKED.SET",checked:p,isTrusted:!1})},toggleChecked(){i({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return t.label(y(g(g({},Va.root.attrs),u),{dir:r("dir"),id:jp(s),htmlFor:jl(s),onPointerMove(){a||i({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){a||i({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(p){var I;if(a)return;j(p)===Ki(s)&&p.stopPropagation(),Xe()&&((I=Ki(s))==null||I.focus())}}))},getLabelProps(){return t.element(y(g(g({},Va.label.attrs),u),{dir:r("dir"),id:zp(s)}))},getThumbProps(){return t.element(y(g(g({},Va.thumb.attrs),u),{dir:r("dir"),id:Pw(s),"aria-hidden":!0}))},getControlProps(){return t.element(y(g(g({},Va.control.attrs),u),{dir:r("dir"),id:Cw(s),"aria-hidden":!0}))},getHiddenInputProps(){return t.input({id:jl(s),type:"checkbox",required:r("required"),defaultChecked:c,disabled:a,"aria-labelledby":zp(s),"aria-invalid":r("invalid"),name:r("name"),form:r("form"),value:r("value"),style:Vt,onFocus(){let p=bn();i({type:"CONTEXT.SET",context:{focused:!0,focusVisible:p}})},onBlur(){i({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(p){if(o){p.preventDefault();return}let v=p.currentTarget.checked;i({type:"CHECKED.SET",checked:v,isTrusted:!0})}})}}}var Iw,Va,jp,zp,Pw,Cw,jl,Sw,Ki,Yp,Ow,ww,YA,Vw,xw,Zp=re(()=>{"use strict";gr();se();Iw=U("switch").parts("root","label","control","thumb"),Va=Iw.build(),jp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`switch:${e.id}`},zp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`switch:${e.id}:label`},Pw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.thumb)!=null?n:`switch:${e.id}:thumb`},Cw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`switch:${e.id}:control`},jl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`switch:${e.id}:input`},Sw=e=>e.getById(jp(e)),Ki=e=>e.getById(jl(e));({not:Yp}=Ee()),Ow={props({props:e}){return g({defaultChecked:!1,label:"switch",value:"on"},e)},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var i;(i=e("onCheckedChange"))==null||i({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:i}){e([()=>t("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Yp("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Yp("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return gs({pointerNode:Sw(t),keyboardNode:Ki(t),isValidKey:i=>i.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return In({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return wt(Ki(n),{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){let i=e.initial("checked");t({type:"CHECKED.SET",checked:!!i,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){let n=Ki(t);n&&rr(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){queueMicrotask(()=>{let n=Ki(t);gi(n,{checked:e.get("checked")})})}}}},ww=_()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),YA=B(ww),Vw=class extends K{initMachine(e){return new W(Ow,e)}initApi(){return Tw(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="switch"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="switch"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let n=this.el.querySelector('[data-scope="switch"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="switch"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="switch"][data-part="thumb"]');r&&this.spreadProps(r,this.api.getThumbProps())}},xw={mounted(){let e=this.el,t=this.pushEvent.bind(this);this.wasFocused=!1;let n=new Vw(e,y(g({id:e.id},C(e,"controlled")?{checked:C(e,"checked")}:{defaultChecked:C(e,"defaultChecked")}),{disabled:C(e,"disabled"),name:O(e,"name"),form:O(e,"form"),value:O(e,"value"),dir:O(e,"dir",["ltr","rtl"]),invalid:C(e,"invalid"),required:C(e,"required"),readOnly:C(e,"readOnly"),label:O(e,"label"),onCheckedChange:i=>{let r=O(e,"onCheckedChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{checked:i.checked,id:e.id});let s=O(e,"onCheckedChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}}));n.init(),this.zagSwitch=n,this.onSetChecked=i=>{let{value:r}=i.detail;n.api.setChecked(r)},e.addEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers=[],this.handlers.push(this.handleEvent("switch_set_checked",i=>{let r=i.id;r&&r!==e.id||n.api.setChecked(i.value)})),this.handlers.push(this.handleEvent("switch_toggle_checked",i=>{let r=i.id;r&&r!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("switch_checked",()=>{this.pushEvent("switch_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("switch_focused",()=>{this.pushEvent("switch_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("switch_disabled",()=>{this.pushEvent("switch_disabled_response",{value:n.api.disabled})}))},beforeUpdate(){var e,t;this.wasFocused=(t=(e=this.zagSwitch)==null?void 0:e.api.focused)!=null?t:!1},updated(){var e;if((e=this.zagSwitch)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlled")?{checked:C(this.el,"checked")}:{defaultChecked:C(this.el,"defaultChecked")}),{disabled:C(this.el,"disabled"),name:O(this.el,"name"),form:O(this.el,"form"),value:O(this.el,"value"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:C(this.el,"invalid"),required:C(this.el,"required"),readOnly:C(this.el,"readOnly"),label:O(this.el,"label")})),C(this.el,"controlled")&&this.wasFocused){let t=this.el.querySelector('[data-part="hidden-input"]');t==null||t.focus()}},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.zagSwitch)==null||e.destroy()}}});var tf={};he(tf,{Tabs:()=>Kw});function Hw(e,t){let{state:n,send:i,context:r,prop:s,scope:a}=e,o=s("translations"),l=n.matches("focused"),c=s("orientation")==="vertical",d=s("orientation")==="horizontal",h=s("composite");function m(u){return{selected:r.get("value")===u.value,focused:r.get("focusedValue")===u.value,disabled:!!u.disabled}}return{value:r.get("value"),focusedValue:r.get("focusedValue"),setValue(u){i({type:"SET_VALUE",value:u})},clearValue(){i({type:"CLEAR_VALUE"})},setIndicatorRect(u){let p=si(a,u);i({type:"SET_INDICATOR_RECT",id:p})},syncTabIndex(){i({type:"SYNC_TAB_INDEX"})},selectNext(u){i({type:"TAB_FOCUS",value:u,src:"selectNext"}),i({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(u){i({type:"TAB_FOCUS",value:u,src:"selectPrev"}),i({type:"ARROW_PREV",src:"selectPrev"})},focus(){var p;let u=r.get("value");u&&((p=xa(a,u))==null||p.focus())},getRootProps(){return t.element(y(g({},Br.root.attrs),{id:Nw(a),"data-orientation":s("orientation"),"data-focus":E(l),dir:s("dir")}))},getListProps(){return t.element(y(g({},Br.list.attrs),{id:_r(a),role:"tablist",dir:s("dir"),"data-focus":E(l),"aria-orientation":s("orientation"),"data-orientation":s("orientation"),"aria-label":o==null?void 0:o.listLabel,onKeyDown(u){if(u.defaultPrevented||Re(u)||!ce(u.currentTarget,j(u)))return;let p={ArrowDown(){d||i({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){d||i({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||i({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||i({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){i({type:"HOME"})},End(){i({type:"END"})}},v=ge(u,{dir:s("dir"),orientation:s("orientation")}),I=p[v];if(I){u.preventDefault(),I(u);return}}}))},getTriggerState:m,getTriggerProps(u){let{value:p,disabled:v}=u,I=m(u);return t.button(y(g({},Br.trigger.attrs),{role:"tab",type:"button",disabled:v,dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":E(v),"aria-disabled":v,"data-value":p,"aria-selected":I.selected,"data-selected":E(I.selected),"data-focus":E(I.focused),"aria-controls":I.selected?Xl(a,p):void 0,"data-ownedby":_r(a),"data-ssr":E(r.get("ssr")),id:si(a,p),tabIndex:I.selected&&h?0:-1,onFocus(){i({type:"TAB_FOCUS",value:p})},onBlur(T){let w=T.relatedTarget;(w==null?void 0:w.getAttribute("role"))!=="tab"&&i({type:"TAB_BLUR"})},onClick(T){T.defaultPrevented||Mn(T)||v||(Xe()&&T.currentTarget.focus(),i({type:"TAB_CLICK",value:p}))}}))},getContentProps(u){let{value:p}=u,v=r.get("value")===p;return t.element(y(g({},Br.content.attrs),{dir:s("dir"),id:Xl(a,p),tabIndex:h?0:-1,"aria-labelledby":si(a,p),role:"tabpanel","data-ownedby":_r(a),"data-selected":E(v),"data-orientation":s("orientation"),hidden:!v}))},getIndicatorProps(){let u=r.get("indicatorRect"),p=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(y(g({id:Qp(a)},Br.indicator.attrs),{dir:s("dir"),"data-orientation":s("orientation"),hidden:p,style:{"--transition-property":"left, right, top, bottom, width, height","--left":ye(u==null?void 0:u.x),"--top":ye(u==null?void 0:u.y),"--width":ye(u==null?void 0:u.width),"--height":ye(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[d?"left":"top"]:d?"var(--left)":"var(--top)"}}))}}}var Aw,Br,Nw,_r,Xl,si,Qp,kw,Rw,xa,Jp,zi,Dw,Lw,Mw,Fw,ef,$w,Bw,_w,Gw,JA,Uw,QA,qw,eN,Ww,Kw,nf=re(()=>{"use strict";se();Aw=U("tabs").parts("root","list","trigger","content","indicator"),Br=Aw.build(),Nw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tabs:${e.id}`},_r=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.list)!=null?n:`tabs:${e.id}:list`},Xl=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.content)==null?void 0:i.call(n,t))!=null?r:`tabs:${e.id}:content-${t}`},si=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.trigger)==null?void 0:i.call(n,t))!=null?r:`tabs:${e.id}:trigger-${t}`},Qp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicator)!=null?n:`tabs:${e.id}:indicator`},kw=e=>e.getById(_r(e)),Rw=(e,t)=>e.getById(Xl(e,t)),xa=(e,t)=>t!=null?e.getById(si(e,t)):null,Jp=e=>e.getById(Qp(e)),zi=e=>{let n=`[role=tab][data-ownedby='${CSS.escape(_r(e))}']:not([disabled])`;return Fe(kw(e),n)},Dw=e=>lt(zi(e)),Lw=e=>mt(zi(e)),Mw=(e,t)=>vi(zi(e),si(e,t.value),t.loopFocus),Fw=(e,t)=>yi(zi(e),si(e,t.value),t.loopFocus),ef=e=>{var t,n,i,r;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(n=e==null?void 0:e.offsetTop)!=null?n:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(r=e==null?void 0:e.offsetHeight)!=null?r:0}},$w=(e,t)=>{let n=io(zi(e),si(e,t));return ef(n)};({createMachine:Bw}=dt()),_w=Bw({props({props:e}){return g({dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){fi(t.node)},defaultValue:null},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(n){var i;(i=e("onFocusChange"))==null||i({focusedValue:n})}})),ssr:t(()=>({defaultValue:!0})),indicatorRect:t(()=>({defaultValue:null}))}},watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value")],()=>{i(["syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),n([()=>t("dir"),()=>t("orientation")],()=>{i(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){H(()=>{let n=e.get("focusedValue");if(!n)return;let r=t("deselectable")&&e.get("value")===n?null:n;e.set("value",r)})},setFocusedValue({context:e,event:t,flush:n}){t.value!=null&&n(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:n}){let i=n("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",i?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){H(()=>{var t;(t=Dw(e))==null||t.focus()})},focusLastTab({scope:e}){H(()=>{var t;(t=Lw(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:n,event:i}){var a;let r=(a=i.value)!=null?a:e.get("focusedValue");if(!r)return;let s=Mw(n,{value:r,loopFocus:t("loopFocus")});H(()=>{t("composite")?s==null||s.focus():(s==null?void 0:s.dataset.value)!=null&&e.set("focusedValue",s.dataset.value)})},focusPrevTab({context:e,prop:t,scope:n,event:i}){var a;let r=(a=i.value)!=null?a:e.get("focusedValue");if(!r)return;let s=Fw(n,{value:r,loopFocus:t("loopFocus")});H(()=>{t("composite")?s==null||s.focus():(s==null?void 0:s.dataset.value)!=null&&e.set("focusedValue",s.dataset.value)})},syncTabIndex({context:e,scope:t}){H(()=>{let n=e.get("value");if(!n)return;let i=Rw(t,n);if(!i)return;sr(i).length>0?i.removeAttribute("tabindex"):i.setAttribute("tabindex","0")})},cleanupObserver({refs:e}){let t=e.get("indicatorCleanup");t&&t()},setIndicatorRect({context:e,event:t,scope:n}){var a;let i=(a=t.id)!=null?a:e.get("value");!Jp(n)||!i||!xa(n,i)||e.set("indicatorRect",$w(n,i))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:n}){let i=t.get("indicatorCleanup");if(i&&i(),!Jp(n))return;let s=()=>{let l=xa(n,e.get("value"));if(!l)return;let c=ef(l);e.set("indicatorRect",d=>me(d,c)?d:c)};s();let a=zi(n),o=At(...a.map(l=>hn.observe(l,s)));t.set("indicatorCleanup",o)},navigateIfNeeded({context:e,prop:t,scope:n}){var s;let i=e.get("value");if(!i)return;let r=xa(n,i);st(r)&&((s=t("navigate"))==null||s({value:i,node:r,href:r.href}))}}}}),Gw=_()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]),JA=B(Gw),Uw=_()(["disabled","value"]),QA=B(Uw),qw=_()(["value"]),eN=B(qw),Ww=class extends K{initMachine(e){return new W(_w,e)}initApi(){return Hw(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="tabs"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="tabs"][data-part="list"]');if(!t)return;this.spreadProps(t,this.api.getListProps());let n=this.el.getAttribute("data-items"),i=n?JSON.parse(n):[],r=t.querySelectorAll('[data-scope="tabs"][data-part="trigger"]');for(let a=0;a<r.length&&a<i.length;a++){let o=r[a],l=i[a];this.spreadProps(o,this.api.getTriggerProps({value:l.value,disabled:l.disabled}))}let s=e.querySelectorAll('[data-scope="tabs"][data-part="content"]');for(let a=0;a<s.length&&a<i.length;a++){let o=s[a],l=i[a];this.spreadProps(o,this.api.getContentProps({value:l.value}))}}},Kw={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Ww(e,y(g({id:e.id},C(e,"controlled")?{value:O(e,"value")}:{defaultValue:O(e,"defaultValue")}),{orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:i=>{var a,o;let r=O(e,"onValueChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.value)!=null?a:null});let s=O(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.value)!=null?o:null}}))},onFocusChange:i=>{var a,o;let r=O(e,"onFocusChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.focusedValue)!=null?a:null});let s=O(e,"onFocusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.focusedValue)!=null?o:null}}))}}));n.init(),this.tabs=n,this.onSetValue=i=>{let{value:r}=i.detail;n.api.setValue(r)},e.addEventListener("phx:tabs:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("tabs_set_value",i=>{let r=i.tabs_id;r&&r!==e.id||n.api.setValue(i.value)})),this.handlers.push(this.handleEvent("tabs_value",()=>{this.pushEvent("tabs_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("tabs_focused_value",()=>{this.pushEvent("tabs_focused_value_response",{value:n.api.focusedValue})}))},updated(){var e;(e=this.tabs)==null||e.updateProps(y(g({id:this.el.id},C(this.el,"controlled")?{value:O(this.el,"value")}:{defaultValue:O(this.el,"defaultValue")}),{orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:tabs:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.tabs)==null||e.destroy()}}});var af={};he(af,{Timer:()=>rV});function Xw(e,t){let{state:n,send:i,computed:r,scope:s}=e,a=n.matches("running"),o=n.matches("paused"),l=r("time"),c=r("formattedTime"),d=r("progressPercent");return{running:a,paused:o,time:l,formattedTime:c,progressPercent:d,start(){i({type:"START"})},pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},reset(){i({type:"RESET"})},restart(){i({type:"RESTART"})},getRootProps(){return t.element(g({id:Yw(s)},kn.root.attrs))},getAreaProps(){return t.element(g({role:"timer",id:jw(s),"aria-label":`${l.days} days ${c.hours}:${c.minutes}:${c.seconds}`,"aria-atomic":!0},kn.area.attrs))},getControlProps(){return t.element(g({},kn.control.attrs))},getItemProps(h){let m=l[h.type];return t.element(y(g({},kn.item.attrs),{"data-type":h.type,style:{"--value":m}}))},getItemLabelProps(h){return t.element(y(g({},kn.itemLabel.attrs),{"data-type":h.type}))},getItemValueProps(h){return t.element(y(g({},kn.itemValue.attrs),{"data-type":h.type}))},getSeparatorProps(){return t.element(g({"aria-hidden":!0},kn.separator.attrs))},getActionTriggerProps(h){if(!rf.has(h.action))throw new Error(`[zag-js] Invalid action: ${h.action}. Must be one of: ${Array.from(rf).join(", ")}`);return t.button(y(g({},kn.actionTrigger.attrs),{hidden:Ce(h.action,{start:()=>a||o,pause:()=>!a,reset:()=>!a&&!o,resume:()=>!o,restart:()=>!1}),type:"button",onClick(m){m.defaultPrevented||i({type:h.action.toUpperCase()})}}))}}}function Jw(e){let t=Math.max(0,e),n=t%1e3,i=Math.floor(t/1e3)%60,r=Math.floor(t/(1e3*60))%60,s=Math.floor(t/(1e3*60*60))%24;return{days:Math.floor(t/(1e3*60*60*24)),hours:s,minutes:r,seconds:i,milliseconds:n}}function sf(e,t,n){let i=n-t;return i===0?0:(e-t)/i}function Gr(e,t=2){return e.toString().padStart(t,"0")}function Qw(e,t){return Math.floor(e/t)*t}function eV(e){let{days:t,hours:n,minutes:i,seconds:r}=e;return{days:Gr(t),hours:Gr(n),minutes:Gr(i),seconds:Gr(r),milliseconds:Gr(e.milliseconds,3)}}function tV(e){let{startMs:t,targetMs:n,countdown:i,interval:r}=e;if(r!=null&&(typeof r!="number"||r<=0))throw new Error(`[timer] Invalid interval: ${r}. Must be a positive number.`);if(t!=null&&(typeof t!="number"||t<0))throw new Error(`[timer] Invalid startMs: ${t}. Must be a non-negative number.`);if(n!=null&&(typeof n!="number"||n<0))throw new Error(`[timer] Invalid targetMs: ${n}. Must be a non-negative number.`);if(i&&t!=null&&n!=null&&t<=n)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than targetMs (${n}).`);if(!i&&t!=null&&n!=null&&t>=n)throw new Error(`[timer] Invalid stopwatch configuration: startMs (${t}) must be less than targetMs (${n}).`);if(i&&n==null&&t!=null&&t<=0)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than 0 when no targetMs is provided.`)}var zw,kn,Yw,jw,rf,Zw,nV,rN,iV,rV,of=re(()=>{"use strict";se();zw=U("timer").parts("root","area","control","item","itemValue","itemLabel","actionTrigger","separator"),kn=zw.build(),Yw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`timer:${e.id}:root`},jw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.area)!=null?n:`timer:${e.id}:area`},rf=new Set(["start","pause","resume","reset","restart"]);Zw={props({props:e}){return tV(e),g({interval:1e3,startMs:0},e)},initialState({prop:e}){return e("autoStart")?"running":"idle"},context({prop:e,bindable:t}){return{currentMs:t(()=>({defaultValue:e("startMs")}))}},watch({track:e,send:t,prop:n}){e([()=>n("startMs")],()=>{t({type:"RESTART"})})},on:{RESTART:{target:"running:temp",actions:["resetTime"]}},computed:{time:({context:e})=>Jw(e.get("currentMs")),formattedTime:({computed:e})=>eV(e("time")),progressPercent:Hn(({context:e,prop:t})=>[e.get("currentMs"),t("targetMs"),t("startMs"),t("countdown")],([e,t=0,n,i])=>{let r=i?sf(e,t,n):sf(e,n,t);return He(r,0,1)})},states:{idle:{on:{START:{target:"running"},RESET:{actions:["resetTime"]}}},"running:temp":{effects:["waitForNextTick"],on:{CONTINUE:{target:"running"}}},running:{effects:["keepTicking"],on:{PAUSE:{target:"paused"},TICK:[{target:"idle",guard:"hasReachedTarget",actions:["invokeOnComplete"]},{actions:["updateTime","invokeOnTick"]}],RESET:{actions:["resetTime"]}}},paused:{on:{RESUME:{target:"running"},RESET:{target:"idle",actions:["resetTime"]}}}},implementations:{effects:{keepTicking({prop:e,send:t}){return rd(({deltaMs:n})=>{t({type:"TICK",deltaMs:n})},e("interval"))},waitForNextTick({send:e}){return fn(()=>{e({type:"CONTINUE"})},0)}},actions:{updateTime({context:e,prop:t,event:n}){let i=t("countdown")?-1:1,r=Qw(n.deltaMs,t("interval"));e.set("currentMs",s=>{let a=s+i*r,o=t("targetMs");return o==null&&t("countdown")&&(o=0),t("countdown")&&o!=null?Math.max(a,o):!t("countdown")&&o!=null?Math.min(a,o):a})},resetTime({context:e,prop:t}){var i;let n=t("targetMs");n==null&&t("countdown")&&(n=0),e.set("currentMs",(i=t("startMs"))!=null?i:0)},invokeOnTick({context:e,prop:t,computed:n}){var i;(i=t("onTick"))==null||i({value:e.get("currentMs"),time:n("time"),formattedTime:n("formattedTime")})},invokeOnComplete({prop:e}){var t;(t=e("onComplete"))==null||t()}},guards:{hasReachedTarget:({context:e,prop:t})=>{let n=t("targetMs");if(n==null&&t("countdown")&&(n=0),n==null)return!1;let i=e.get("currentMs");return t("countdown")?i<=n:i>=n}}}};nV=_()(["autoStart","countdown","getRootNode","id","ids","interval","onComplete","onTick","startMs","targetMs"]),rN=B(nV),iV=class extends K{initMachine(e){return new W(Zw,e)}initApi(){return Xw(this.machine.service,q)}render(){var a;let e=(a=this.el.querySelector('[data-scope="timer"][data-part="root"]'))!=null?a:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="timer"][data-part="area"]');t&&this.spreadProps(t,this.api.getAreaProps());let n=this.el.querySelector('[data-scope="timer"][data-part="control"]');n&&this.spreadProps(n,this.api.getControlProps()),["days","hours","minutes","seconds","milliseconds"].forEach(o=>{let l=this.el.querySelector(`[data-scope="timer"][data-part="item"][data-type="${o}"]`);l&&this.spreadProps(l,this.api.getItemProps({type:o}));let c=this.el.querySelector(`[data-scope="timer"][data-part="item-value"][data-type="${o}"]`);c&&this.spreadProps(c,this.api.getItemValueProps({type:o}));let d=this.el.querySelector(`[data-scope="timer"][data-part="item-label"][data-type="${o}"]`);d&&this.spreadProps(d,this.api.getItemLabelProps({type:o}))});let r=this.el.querySelector('[data-scope="timer"][data-part="separator"]');r&&this.spreadProps(r,this.api.getSeparatorProps()),["start","pause","resume","reset","restart"].forEach(o=>{let l=this.el.querySelector(`[data-scope="timer"][data-part="action-trigger"][data-action="${o}"]`);l&&this.spreadProps(l,this.api.getActionTriggerProps({action:o}))})}},rV={mounted(){var n;let e=this.el,t=new iV(e,{id:e.id,countdown:C(e,"countdown"),startMs:z(e,"startMs"),targetMs:z(e,"targetMs"),autoStart:C(e,"autoStart"),interval:(n=z(e,"interval"))!=null?n:1e3,onTick:i=>{let r=O(e,"onTick");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(r,{value:i.value,time:i.time,formattedTime:i.formattedTime,id:e.id})},onComplete:()=>{let i=O(e,"onComplete");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(i,{id:e.id})}});t.init(),this.timer=t,this.handlers=[]},updated(){var e,t;(t=this.timer)==null||t.updateProps({id:this.el.id,countdown:C(this.el,"countdown"),startMs:z(this.el,"startMs"),targetMs:z(this.el,"targetMs"),autoStart:C(this.el,"autoStart"),interval:(e=z(this.el,"interval"))!=null?e:1e3})},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.timer)==null||e.destroy()}}});var mf={};he(mf,{Toast:()=>VV});function Zl(e,t){var n;return(n=e!=null?e:hf[t])!=null?n:hf.DEFAULT}function cV(e,t){var v;let{prop:n,computed:i,context:r}=e,{offsets:s,gap:a}=n("store").attrs,o=r.get("heights"),l=lV(s),c=n("dir")==="rtl",d=t.replace("-start",c?"-right":"-left").replace("-end",c?"-left":"-right"),h=d.includes("right"),m=d.includes("left"),u={position:"fixed",pointerEvents:i("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${a}px`,"--first-height":`${((v=o[0])==null?void 0:v.height)||0}px`,"--viewport-offset-left":l.left,"--viewport-offset-right":l.right,"--viewport-offset-top":l.top,"--viewport-offset-bottom":l.bottom,zIndex:rs},p="center";if(h&&(p="flex-end"),m&&(p="flex-start"),u.alignItems=p,d.includes("top")){let I=l.top;u.top=`max(env(safe-area-inset-top, 0px), ${I})`}if(d.includes("bottom")){let I=l.bottom;u.bottom=`max(env(safe-area-inset-bottom, 0px), ${I})`}if(!d.includes("left")){let I=l.right;u.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${I})`}if(!d.includes("right")){let I=l.left;u.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${I})`}return u}function dV(e,t){let{prop:n,context:i,computed:r}=e,s=n("parent"),a=s.computed("placement"),{gap:o}=s.prop("store").attrs,[l]=a.split("-"),c=i.get("mounted"),d=i.get("remainingTime"),h=r("height"),m=r("frontmost"),u=!m,p=!n("stacked"),v=n("stacked"),T=n("type")==="loading"?Number.MAX_SAFE_INTEGER:d,w=r("heightIndex")*o+r("heightBefore"),b={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${n("removeDelay")}ms`,"--duration":`${T}ms`,"--initial-height":`${h}px`,"--offset":`${w}px`,"--index":n("index"),"--z-index":r("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},f=S=>Object.assign(b,S);return l==="top"?f({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):l==="bottom"&&f({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),c&&(f({"--y":"0","--opacity":"1"}),v&&f({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||f({"--opacity":"0",pointerEvents:"none"}),u&&p&&(f({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||f({"--y":"calc(var(--sign) * 40%)"})),u&&v&&!t&&f({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),m&&!t&&f({"--y":"calc(var(--lift) * -100%)"}),b}function uV(e,t){let{computed:n}=e,i={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},r=s=>Object.assign(i,s);return n("frontmost")&&!t&&r({height:"calc(var(--initial-height) + 80%)"}),i}function hV(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function gV(e,t){let{context:n,prop:i,send:r,refs:s,computed:a}=e;return{getCount(){return n.get("toasts").length},getToasts(){return n.get("toasts")},getGroupProps(o={}){let{label:l="Notifications"}=o,{hotkey:c}=i("store").attrs,d=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=a("placement"),[m,u="center"]=h.split("-");return t.element(y(g({},Yi.group.attrs),{dir:i("dir"),tabIndex:-1,"aria-label":`${h} ${l} ${d}`,id:aV(h),"data-placement":h,"data-side":m,"data-align":u,"aria-live":"polite",role:"region",style:cV(e,h),onMouseEnter(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_ENTER",placement:h})},onMouseMove(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_ENTER",placement:h})},onMouseLeave(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_LEAVE",placement:h})},onFocus(p){r({type:"REGION.FOCUS",target:p.relatedTarget})},onBlur(p){s.get("isFocusWithin")&&!ce(p.currentTarget,p.relatedTarget)&&queueMicrotask(()=>r({type:"REGION.BLUR"}))}}))},subscribe(o){return i("store").subscribe(()=>o(n.get("toasts")))}}}function yV(e,t){let{state:n,send:i,prop:r,scope:s,context:a,computed:o}=e,l=n.hasTag("visible"),c=n.hasTag("paused"),d=a.get("mounted"),h=o("frontmost"),m=r("parent").computed("placement"),u=r("type"),p=r("stacked"),v=r("title"),I=r("description"),T=r("action"),[w,b="center"]=m.split("-");return{type:u,title:v,description:I,placement:m,visible:l,paused:c,closable:!!r("closable"),pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},dismiss(){i({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element(y(g({},Yi.root.attrs),{dir:r("dir"),id:ff(s),"data-state":l?"open":"closed","data-type":u,"data-placement":m,"data-align":b,"data-side":w,"data-mounted":E(d),"data-paused":E(c),"data-first":E(h),"data-sibling":E(!h),"data-stack":E(p),"data-overlap":E(!p),role:"status","aria-atomic":"true","aria-describedby":I?uf(s):void 0,"aria-labelledby":v?df(s):void 0,tabIndex:0,style:dV(e,l),onKeyDown(f){f.defaultPrevented||f.key=="Escape"&&(i({type:"DISMISS",src:"keyboard"}),f.preventDefault())}}))},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:uV(e,l)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:hV()})},getTitleProps(){return t.element(y(g({},Yi.title.attrs),{id:df(s)}))},getDescriptionProps(){return t.element(y(g({},Yi.description.attrs),{id:uf(s)}))},getActionTriggerProps(){return t.button(y(g({},Yi.actionTrigger.attrs),{type:"button",onClick(f){var S;f.defaultPrevented||((S=T==null?void 0:T.onClick)==null||S.call(T),i({type:"DISMISS",src:"user"}))}}))},getCloseTriggerProps(){return t.button(y(g({id:oV(s)},Yi.closeTrigger.attrs),{type:"button","aria-label":"Dismiss notification",onClick(f){f.defaultPrevented||i({type:"DISMISS",src:"user"})}}))}}}function gf(e,t){let{id:n,height:i}=t;e.context.set("heights",r=>r.find(a=>a.id===n)?r.map(a=>a.id===n?y(g({},a),{height:i}):a):[{id:n,height:i},...r])}function PV(e={}){let t=IV(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0}),n=[],i=[],r=new Set,s=[],a=D=>(n.push(D),()=>{let $=n.indexOf(D);n.splice($,1)}),o=D=>(n.forEach($=>$(D)),D),l=D=>{if(i.length>=t.max){s.push(D);return}o(D),i.unshift(D)},c=()=>{for(;s.length>0&&i.length<t.max;){let D=s.shift();D&&(o(D),i.unshift(D))}},d=D=>{var J;let $=(J=D.id)!=null?J:`toast:${cr()}`,te=i.find(ie=>ie.id===$);return r.has($)&&r.delete($),te?i=i.map(ie=>ie.id===$?o(y(g(g({},ie),D),{id:$})):ie):l(y(g({id:$,duration:t.duration,removeDelay:t.removeDelay,type:"info"},D),{stacked:!t.overlap,gap:t.gap})),$},h=D=>(r.add(D),D?(n.forEach($=>$({id:D,dismiss:!0})),i=i.filter($=>$.id!==D),c()):(i.forEach($=>{n.forEach(te=>te({id:$.id,dismiss:!0}))}),i=[],s=[]),D);return{attrs:t,subscribe:a,create:d,update:(D,$)=>d(g({id:D},$)),remove:h,dismiss:D=>{D!=null?i=i.map($=>$.id===D?o(y(g({},$),{message:"DISMISS"})):$):i=i.map($=>o(y(g({},$),{message:"DISMISS"})))},error:D=>d(y(g({},D),{type:"error"})),success:D=>d(y(g({},D),{type:"success"})),info:D=>d(y(g({},D),{type:"info"})),warning:D=>d(y(g({},D),{type:"warning"})),loading:D=>d(y(g({},D),{type:"loading"})),getVisibleToasts:()=>i.filter(D=>!r.has(D.id)),getCount:()=>i.length,promise:(D,$,te={})=>{if(!$||!$.loading){zt("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}let J=d(y(g(g({},te),$.loading),{promise:D,type:"loading"})),ie=!0,Q,Se=Kt(D).then(ne=>Ve(null,null,function*(){if(Q=["resolve",ne],CV(ne)&&!ne.ok){ie=!1;let Ie=Kt($.error,`HTTP Error! status: ${ne.status}`);d(y(g(g({},te),Ie),{id:J,type:"error"}))}else if($.success!==void 0){ie=!1;let Ie=Kt($.success,ne);d(y(g(g({},te),Ie),{id:J,type:"success"}))}})).catch(ne=>Ve(null,null,function*(){if(Q=["reject",ne],$.error!==void 0){ie=!1;let Ie=Kt($.error,ne);d(y(g(g({},te),Ie),{id:J,type:"error"}))}})).finally(()=>{var ne;ie&&h(J),(ne=$.finally)==null||ne.call($)});return{id:J,unwrap:()=>new Promise((ne,Ie)=>Se.then(()=>Q[0]==="reject"?Ie(Q[1]):ne(Q[1])).catch(Ie))}},pause:D=>{D!=null?i=i.map($=>$.id===D?o(y(g({},$),{message:"PAUSE"})):$):i=i.map($=>o(y(g({},$),{message:"PAUSE"})))},resume:D=>{D!=null?i=i.map($=>$.id===D?o(y(g({},$),{message:"RESUME"})):$):i=i.map($=>o(y(g({},$),{message:"RESUME"})))},isVisible:D=>!r.has(D)&&!!i.find($=>$.id===D),isDismissed:D=>r.has(D),expand:()=>{i=i.map(D=>o(y(g({},D),{stacked:!0})))},collapse:()=>{i=i.map(D=>o(y(g({},D),{stacked:!1})))}}}function wV(e,t){var s,a,o;let n=(s=t==null?void 0:t.id)!=null?s:Ln(e,"toast"),i=(o=t==null?void 0:t.store)!=null?o:PV({placement:(a=t==null?void 0:t.placement)!=null?a:"bottom",overlap:t==null?void 0:t.overlap,max:t==null?void 0:t.max,gap:t==null?void 0:t.gap,offsets:t==null?void 0:t.offsets,pauseOnPageIdle:t==null?void 0:t.pauseOnPageIdle}),r=new OV(e,{id:n,store:i});return r.init(),SV.set(n,r),Jl.set(n,i),e.dataset.toastGroup="true",e.dataset.toastGroupId=n,{group:r,store:i}}function Ur(e){if(e)return Jl.get(e);let t=document.querySelector("[data-toast-group]");if(!t)return;let n=t.dataset.toastGroupId||t.id;return n?Jl.get(n):void 0}var sV,Yi,aV,lf,ff,cf,df,uf,oV,hf,lV,pV,fV,mV,vV,bV,EV,IV,CV,pf,SV,Jl,TV,OV,VV,vf=re(()=>{"use strict";qn();se();sV=U("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),Yi=sV.build(),aV=e=>`toast-group:${e}`,lf=(e,t)=>e.getById(`toast-group:${t}`),ff=e=>`toast:${e.id}`,cf=e=>e.getById(ff(e)),df=e=>`toast:${e.id}:title`,uf=e=>`toast:${e.id}:description`,oV=e=>`toast${e.id}:close`,hf={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};lV=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;({guards:pV,createMachine:fV}=dt()),{and:mV}=pV,vV=fV({props({props:e}){return y(g({dir:"ltr",id:cr()},e),{store:e.store})},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:Ja.create(),dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(n=>n.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:n}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{n(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:mV("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore({context:e,prop:t}){let n=t("store");return e.set("toasts",n.getVisibleToasts()),n.subscribe(i=>{if(i.dismiss){e.set("toasts",r=>r.filter(s=>s.id!==i.id));return}e.set("toasts",r=>{let s=r.findIndex(a=>a.id===i.id);return s!==-1?[...r.slice(0,s),g(g({},r[s]),i),...r.slice(s+1)]:[i,...r]})})},trackHotKeyPress({prop:e,send:t}){return ee(document,"keydown",i=>{let{hotkey:r}=e("store").attrs;r.every(a=>i[a]||i.code===a)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:n}){let{pauseOnPageIdle:i}=e("store").attrs;if(!i)return;let r=n.getDoc();return ee(r,"visibilitychange",()=>{let s=r.visibilityState==="hidden";t({type:s?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:n,scope:i}){var c;let r=t.get("toasts"),s=n("placement"),a=r.length>0;if(!a){(c=e.get("dismissableCleanup"))==null||c();return}if(a&&e.get("dismissableCleanup"))return;let l=qu(()=>lf(i,s),{defer:!0});e.set("dismissableCleanup",l)},clearDismissableBranch({refs:e}){var t;(t=e.get("dismissableCleanup"))==null||t()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{var n;(n=lf(e,t("placement")))==null||n.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){(e==null?void 0:e.id)!=null&&queueMicrotask(()=>{t.set("heights",n=>n.filter(i=>i.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){var t;!e.get("lastFocusedEl")||e.get("isPointerWithin")||((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){var t;e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){var t;e.get("lastFocusedEl")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});({not:bV}=Ee()),EV={props({props:e}){return vn(e,["id","type","parent","removeDelay"],"toast"),y(g({closable:!0},e),{duration:Zl(e.duration,e.type)})},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:Zl(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{let t=e("parent").context.get("toasts"),n=t.findIndex(i=>i.id===e("id"));return t.length-n},height:({prop:e})=>{var i;let n=e("parent").context.get("heights").find(r=>r.id===e("id"));return(i=n==null?void 0:n.height)!=null?i:0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(n=>n.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{let t=e("parent").context.get("heights"),n=t.findIndex(i=>i.id===e("id"));return t.reduce((i,r,s)=>s>=n?i:i+r.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:n}){e([()=>t("message")],()=>{let i=t("message");i&&n({type:i,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{n({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:bV("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return fn(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:n}){if(!n("shouldPersist"))return fn(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return fn(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let n;return H(()=>{let i=cf(e);if(!i)return;let r=()=>{let o=i.style.height;i.style.height="auto";let l=i.getBoundingClientRect().height;i.style.height=o;let c={id:t("id"),height:l};gf(t("parent"),c)},s=e.getWin(),a=new s.MutationObserver(r);a.observe(i,{childList:!0,subtree:!0,characterData:!0}),n=()=>a.disconnect()}),()=>n==null?void 0:n()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){H(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:n}){queueMicrotask(()=>{let i=cf(e);if(!i)return;let r=i.style.height;i.style.height="auto";let s=i.getBoundingClientRect().height;i.style.height=r,n.set("initialHeight",s);let a={id:t("id"),height:s};gf(t("parent"),a)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:n}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",Zl(n("duration"),n("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",n=>{let i=t.get("closeTimerStartTime"),r=Date.now()-i;return t.set("lastCloseStartTimerStartTime",Date.now()),n-r})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){var n;(n=e("onStatusChange"))==null||n({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"unmounted"})},invokeOnVisible({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"visible"})}}}};IV=(e,t)=>g(g({},t),Ci(e));CV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pf={connect:gV,machine:vV},SV=new Map,Jl=new Map,TV=class extends K{constructor(t,n){super(t,n);Y(this,"parts");Y(this,"duration");Y(this,"destroy",()=>{this.machine.stop(),this.el.remove()});this.duration=n.duration,this.el.setAttribute("data-scope","toast"),this.el.setAttribute("data-part","root"),this.el.innerHTML=`
      <span data-scope="toast" data-part="ghost-before"></span>
      <div data-scope="toast" data-part="progressbar"></div>
      <div data-scope="toast" data-part="loading-spinner" style="display: none;"></div>

      <div data-scope="toast" data-part="content">
        <div data-scope="toast" data-part="title"></div>
        <div data-scope="toast" data-part="description"></div>
      </div>

      <button data-scope="toast" data-part="close-trigger">
        <svg viewBox="0 0 20 20" aria-hidden="true">
          <path d="M4.293 4.293 10 8.586l5.707-5.707 1.414 1.414L11.414 10l5.707 5.707-1.414 1.414L10 11.414l-5.707 5.707-1.414-1.414L8.586 10 2.879 4.293z"/>
        </svg>
      </button>

      <span data-scope="toast" data-part="ghost-after"></span>
    `,this.parts={title:this.el.querySelector('[data-scope="toast"][data-part="title"]'),description:this.el.querySelector('[data-scope="toast"][data-part="description"]'),close:this.el.querySelector('[data-scope="toast"][data-part="close-trigger"]'),ghostBefore:this.el.querySelector('[data-scope="toast"][data-part="ghost-before"]'),ghostAfter:this.el.querySelector('[data-scope="toast"][data-part="ghost-after"]'),progressbar:this.el.querySelector('[data-scope="toast"][data-part="progressbar"]'),loadingSpinner:this.el.querySelector('[data-scope="toast"][data-part="loading-spinner"]')}}initMachine(t){return new W(EV,t)}initApi(){return yV(this.machine.service,q)}render(){var a,o;this.spreadProps(this.el,this.api.getRootProps()),this.spreadProps(this.parts.close,this.api.getCloseTriggerProps()),this.spreadProps(this.parts.ghostBefore,this.api.getGhostBeforeProps()),this.spreadProps(this.parts.ghostAfter,this.api.getGhostAfterProps()),this.parts.title.textContent!==this.api.title&&(this.parts.title.textContent=(a=this.api.title)!=null?a:""),this.parts.description.textContent!==this.api.description&&(this.parts.description.textContent=(o=this.api.description)!=null?o:""),this.spreadProps(this.parts.title,this.api.getTitleProps()),this.spreadProps(this.parts.description,this.api.getDescriptionProps());let t=this.duration,n=t==="Infinity"||t===1/0||t===Number.POSITIVE_INFINITY,i=this.el.closest('[phx-hook="Toast"]'),r=i==null?void 0:i.querySelector("[data-loading-icon-template]"),s=r==null?void 0:r.innerHTML;n?(this.parts.progressbar.style.display="none",this.parts.loadingSpinner.style.display="flex",this.el.setAttribute("data-duration-infinity","true"),s&&this.parts.loadingSpinner.innerHTML!==s&&(this.parts.loadingSpinner.innerHTML=s)):(this.parts.progressbar.style.display="block",this.parts.loadingSpinner.style.display="none",this.el.removeAttribute("data-duration-infinity"))}},OV=class extends K{constructor(t,n){var i;super(t,n);Y(this,"toastComponents",new Map);Y(this,"groupEl");Y(this,"store");Y(this,"destroy",()=>{for(let t of this.toastComponents.values())t.destroy();this.toastComponents.clear(),this.machine.stop()});this.store=n.store,this.groupEl=(i=t.querySelector('[data-part="group"]'))!=null?i:(()=>{let r=document.createElement("div");return r.setAttribute("data-scope","toast"),r.setAttribute("data-part","group"),t.appendChild(r),r})()}initMachine(t){return new W(pf.machine,t)}initApi(){return pf.connect(this.machine.service,q)}render(){this.spreadProps(this.groupEl,this.api.getGroupProps());let t=this.api.getToasts().filter(i=>typeof i.id=="string"),n=new Set(t.map(i=>i.id));t.forEach((i,r)=>{let s=this.toastComponents.get(i.id);if(s)s.duration=i.duration,s.updateProps(y(g({},i),{parent:this.machine.service,index:r}));else{let a=document.createElement("div");a.setAttribute("data-scope","toast"),a.setAttribute("data-part","root"),this.groupEl.appendChild(a),s=new TV(a,y(g({},i),{parent:this.machine.service,index:r})),s.init(),this.toastComponents.set(i.id,s)}});for(let[i,r]of this.toastComponents)n.has(i)||(r.destroy(),this.toastComponents.delete(i))}};VV={mounted(){var h;let e=this.el;e.id||(e.id=Ln(e,"toast")),this.groupId=e.id;let t=m=>{if(m)try{return m.includes("{")?JSON.parse(m):m}catch(u){return m}},n=m=>m==="Infinity"||m===1/0?1/0:typeof m=="string"?parseInt(m,10)||void 0:m,i=(h=O(e,"placement",["top-start","top","top-end","bottom-start","bottom","bottom-end"]))!=null?h:"bottom-end";wV(e,{id:this.groupId,placement:i,overlap:C(e,"overlap"),max:z(e,"max"),gap:z(e,"gap"),offsets:t(O(e,"offset")),pauseOnPageIdle:C(e,"pauseOnPageIdle")});let r=Ur(this.groupId),s=e.getAttribute("data-flash-info"),a=e.getAttribute("data-flash-info-title"),o=e.getAttribute("data-flash-error"),l=e.getAttribute("data-flash-error-title"),c=e.getAttribute("data-flash-info-duration"),d=e.getAttribute("data-flash-error-duration");if(r&&s)try{r.create({title:a||"Success",description:s,type:"info",id:Ln(void 0,"toast"),duration:n(c!=null?c:void 0)})}catch(m){console.error("Failed to create flash info toast:",m)}if(r&&o)try{r.create({title:l||"Error",description:o,type:"error",id:Ln(void 0,"toast"),duration:n(d!=null?d:void 0)})}catch(m){console.error("Failed to create flash error toast:",m)}this.handlers=[],this.handlers.push(this.handleEvent("toast-create",m=>{let u=Ur(m.groupId||this.groupId);if(u)try{u.create({title:m.title,description:m.description,type:m.type||"info",id:m.id||Ln(void 0,"toast"),duration:n(m.duration)})}catch(p){console.error("Failed to create toast:",p)}})),this.handlers.push(this.handleEvent("toast-update",m=>{let u=Ur(m.groupId||this.groupId);if(u)try{u.update(m.id,{title:m.title,description:m.description,type:m.type})}catch(p){console.error("Failed to update toast:",p)}})),this.handlers.push(this.handleEvent("toast-dismiss",m=>{let u=Ur(m.groupId||this.groupId);if(u)try{u.dismiss(m.id)}catch(p){console.error("Failed to dismiss toast:",p)}})),e.addEventListener("toast:create",m=>{let{detail:u}=m,p=Ur(u.groupId||this.groupId);if(p)try{p.create({title:u.title,description:u.description,type:u.type||"info",id:u.id||Ln(void 0,"toast"),duration:n(u.duration)})}catch(v){console.error("Failed to create toast:",v)}})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e)}}});var Pf={};he(Pf,{ToggleGroup:()=>BV});function DV(e,t){let{context:n,send:i,prop:r,scope:s}=e,a=n.get("value"),o=r("disabled"),l=!r("multiple"),c=r("rovingFocus"),d=r("orientation")==="horizontal";function h(m){let u=AV(s,m.value);return{id:u,disabled:!!(m.disabled||o),pressed:!!a.includes(m.value),focused:n.get("focusedId")===u}}return{value:a,setValue(m){i({type:"VALUE.SET",value:m})},getRootProps(){return t.element(y(g({},yf.root.attrs),{id:Aa(s),dir:r("dir"),role:l?"radiogroup":"group",tabIndex:n.get("isTabbingBackward")?-1:0,"data-disabled":E(o),"data-orientation":r("orientation"),"data-focus":E(n.get("focusedId")!=null),style:{outline:"none"},onMouseDown(){o||i({type:"ROOT.MOUSE_DOWN"})},onFocus(m){o||m.currentTarget===j(m)&&(n.get("isClickFocus")||n.get("isTabbingBackward")||i({type:"ROOT.FOCUS"}))},onBlur(m){let u=m.relatedTarget;ce(m.currentTarget,u)||o||i({type:"ROOT.BLUR"})}}))},getItemState:h,getItemProps(m){let u=h(m),p=u.focused?0:-1;return t.button(y(g({},yf.item.attrs),{id:u.id,type:"button","data-ownedby":Aa(s),"data-focus":E(u.focused),disabled:u.disabled,tabIndex:c?p:void 0,role:l?"radio":void 0,"aria-checked":l?u.pressed:void 0,"aria-pressed":l?void 0:u.pressed,"data-disabled":E(u.disabled),"data-orientation":r("orientation"),dir:r("dir"),"data-state":u.pressed?"on":"off",onFocus(){u.disabled||i({type:"TOGGLE.FOCUS",id:u.id})},onClick(v){u.disabled||(i({type:"TOGGLE.CLICK",id:u.id,value:m.value}),Xe()&&v.currentTarget.focus({preventScroll:!0}))},onKeyDown(v){if(v.defaultPrevented||!ce(v.currentTarget,j(v))||u.disabled)return;let T={Tab(w){let b=w.shiftKey;i({type:"TOGGLE.SHIFT_TAB",isShiftTab:b})},ArrowLeft(){!c||!d||i({type:"TOGGLE.FOCUS_PREV"})},ArrowRight(){!c||!d||i({type:"TOGGLE.FOCUS_NEXT"})},ArrowUp(){!c||d||i({type:"TOGGLE.FOCUS_PREV"})},ArrowDown(){!c||d||i({type:"TOGGLE.FOCUS_NEXT"})},Home(){c&&i({type:"TOGGLE.FOCUS_FIRST"})},End(){c&&i({type:"TOGGLE.FOCUS_LAST"})}}[ge(v)];T&&(T(v),v.key!=="Tab"&&v.preventDefault())}}))}}}var xV,yf,Aa,AV,If,Na,bf,NV,kV,RV,Ef,LV,MV,FV,gN,$V,pN,HV,BV,Cf=re(()=>{"use strict";se();xV=U("toggle-group").parts("root","item"),yf=xV.build(),Aa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`toggle-group:${e.id}`},AV=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`toggle-group:${e.id}:${t}`},If=e=>e.getById(Aa(e)),Na=e=>{let n=`[data-ownedby='${CSS.escape(Aa(e))}']:not([data-disabled])`;return Fe(If(e),n)},bf=e=>lt(Na(e)),NV=e=>mt(Na(e)),kV=(e,t,n)=>vi(Na(e),t,n),RV=(e,t,n)=>yi(Na(e),t,n);({not:Ef,and:LV}=Ee()),MV={props({props:e}){return g({defaultValue:[],orientation:"horizontal",rovingFocus:!0,loopFocus:!0,deselectable:!0},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),focusedId:t(()=>({defaultValue:null})),isTabbingBackward:t(()=>({defaultValue:!1})),isClickFocus:t(()=>({defaultValue:!1})),isWithinToolbar:t(()=>({defaultValue:!1}))}},computed:{currentLoopFocus:({context:e,prop:t})=>t("loopFocus")&&!e.get("isWithinToolbar")},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:Ef(LV("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward","clearFocusedId","clearClickFocus"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":[{guard:Ef("isFirstToggleFocused"),target:"idle",actions:["setIsTabbingBackward"]},{actions:["setIsTabbingBackward"]}]}}},implementations:{guards:{isClickFocus:({context:e})=>e.get("isClickFocus"),isTabbingBackward:({context:e})=>e.get("isTabbingBackward"),isFirstToggleFocused:({context:e,scope:t})=>{var n;return e.get("focusedId")===((n=bf(t))==null?void 0:n.id)}},actions:{setIsTabbingBackward({context:e}){e.set("isTabbingBackward",!0)},clearIsTabbingBackward({context:e}){e.set("isTabbingBackward",!1)},setClickFocus({context:e}){e.set("isClickFocus",!0)},clearClickFocus({context:e}){e.set("isClickFocus",!1)},checkIfWithinToolbar({context:e,scope:t}){var i;let n=(i=If(t))==null?void 0:i.closest("[role=toolbar]");e.set("isWithinToolbar",!!n)},setFocusedId({context:e,event:t}){e.set("focusedId",t.id)},clearFocusedId({context:e}){e.set("focusedId",null)},setValue({context:e,event:t,prop:n}){vn(t,["value"]);let i=e.get("value");gn(t.value)?i=t.value:n("multiple")?i=yt(i,t.value):i=me(i,[t.value])&&n("deselectable")?[]:[t.value],e.set("value",i)},focusNextToggle({context:e,scope:t,prop:n}){H(()=>{var r;let i=e.get("focusedId");i&&((r=kV(t,i,n("loopFocus")))==null||r.focus({preventScroll:!0}))})},focusPrevToggle({context:e,scope:t,prop:n}){H(()=>{var r;let i=e.get("focusedId");i&&((r=RV(t,i,n("loopFocus")))==null||r.focus({preventScroll:!0}))})},focusFirstToggle({scope:e}){H(()=>{var t;(t=bf(e))==null||t.focus({preventScroll:!0})})},focusLastToggle({scope:e}){H(()=>{var t;(t=NV(e))==null||t.focus({preventScroll:!0})})}}}},FV=_()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value","defaultValue","deselectable"]),gN=B(FV),$V=_()(["value","disabled"]),pN=B($V),HV=class extends K{initMachine(e){return new W(MV,e)}initApi(){return DV(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="toggle-group"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelectorAll('[data-scope="toggle-group"][data-part="item"]');for(let n=0;n<t.length;n++){let i=t[n],r=O(i,"value");if(!r)continue;let s=C(i,"disabled");this.spreadProps(i,this.api.getItemProps({value:r,disabled:s}))}}},BV={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=y(g({id:e.id},C(e,"controlled")?{value:Z(e,"value")}:{defaultValue:Z(e,"defaultValue")}),{defaultValue:Z(e,"defaultValue"),deselectable:C(e,"deselectable"),loopFocus:C(e,"loopFocus"),rovingFocus:C(e,"rovingFocus"),disabled:C(e,"disabled"),multiple:C(e,"multiple"),orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:r=>{let s=O(e,"onValueChange");s&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(s,{value:r.value,id:e.id});let a=O(e,"onValueChangeClient");a&&e.dispatchEvent(new CustomEvent(a,{bubbles:!0,detail:{value:r.value,id:e.id}}))}}),i=new HV(e,n);i.init(),this.toggleGroup=i,this.onSetValue=r=>{let{value:s}=r.detail;i.api.setValue(s)},e.addEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("toggle-group_set_value",r=>{let s=r.id;s&&s!==e.id||i.api.setValue(r.value)})),this.handlers.push(this.handleEvent("toggle-group:value",()=>{this.pushEvent("toggle-group:value_response",{value:i.api.value})}))},updated(){var e;(e=this.toggleGroup)==null||e.updateProps(y(g({},C(this.el,"controlled")?{value:Z(this.el,"value")}:{defaultValue:Z(this.el,"defaultValue")}),{deselectable:C(this.el,"deselectable"),loopFocus:C(this.el,"loopFocus"),rovingFocus:C(this.el,"rovingFocus"),disabled:C(this.el,"disabled"),multiple:C(this.el,"multiple"),orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.toggleGroup)==null||e.destroy()}}});var Vf={};he(Vf,{TreeView:()=>ZV});function wf(e,t,n){let i=e.getNodeValue(t);if(!e.isBranchNode(t))return n.includes(i);let r=e.getDescendantValues(i),s=r.every(o=>n.includes(o)),a=r.some(o=>n.includes(o));return s?!0:a?"indeterminate":!1}function UV(e,t,n){let i=e.getDescendantValues(t),r=i.every(s=>n.includes(s));return vt(r?ct(n,...i):Ze(n,...i))}function qV(e,t){let n=new Map;return e.visit({onEnter:i=>{let r=e.getNodeValue(i),s=e.isBranchNode(i),a=wf(e,i,t);n.set(r,{type:s?"branch":"leaf",checked:a})}}),n}function WV(e,t){let{context:n,scope:i,computed:r,prop:s,send:a}=e,o=s("collection"),l=Array.from(n.get("expandedValue")),c=Array.from(n.get("selectedValue")),d=Array.from(n.get("checkedValue")),h=r("isTypingAhead"),m=n.get("focusedValue"),u=n.get("loadingStatus"),p=n.get("renamingValue"),v=({indexPath:b})=>o.getValuePath(b).slice(0,-1).some(S=>!l.includes(S)),I=o.getFirstNode(void 0,{skip:v}),T=I?o.getNodeValue(I):null;function w(b){let{node:f,indexPath:S}=b,P=o.getNodeValue(f);return{id:tc(i,P),value:P,indexPath:S,valuePath:o.getValuePath(S),disabled:!!f.disabled,focused:m==null?T===P:m===P,selected:c.includes(P),expanded:l.includes(P),loading:u[P]==="loading",depth:S.length,isBranch:o.isBranchNode(f),renaming:p===P,get checked(){return wf(o,f,d)}}}return{collection:o,expandedValue:l,selectedValue:c,checkedValue:d,toggleChecked(b,f){a({type:"CHECKED.TOGGLE",value:b,isBranch:f})},setChecked(b){a({type:"CHECKED.SET",value:b})},clearChecked(){a({type:"CHECKED.CLEAR"})},getCheckedMap(){return qV(o,d)},expand(b){a({type:b?"BRANCH.EXPAND":"EXPANDED.ALL",value:b})},collapse(b){a({type:b?"BRANCH.COLLAPSE":"EXPANDED.CLEAR",value:b})},deselect(b){a({type:b?"NODE.DESELECT":"SELECTED.CLEAR",value:b})},select(b){a({type:b?"NODE.SELECT":"SELECTED.ALL",value:b,isTrusted:!1})},getVisibleNodes(){return r("visibleNodes")},focus(b){Ne(i,b)},selectParent(b){let f=o.getParentNode(b);if(!f)return;let S=Ze(c,o.getNodeValue(f));a({type:"SELECTED.SET",value:S,src:"select.parent"})},expandParent(b){let f=o.getParentNode(b);if(!f)return;let S=Ze(l,o.getNodeValue(f));a({type:"EXPANDED.SET",value:S,src:"expand.parent"})},setExpandedValue(b){let f=vt(b);a({type:"EXPANDED.SET",value:f})},setSelectedValue(b){let f=vt(b);a({type:"SELECTED.SET",value:f})},startRenaming(b){a({type:"NODE.RENAME",value:b})},submitRenaming(b,f){a({type:"RENAME.SUBMIT",value:b,label:f})},cancelRenaming(){a({type:"RENAME.CANCEL"})},getRootProps(){return t.element(y(g({},Ge.root.attrs),{id:GV(i),dir:s("dir")}))},getLabelProps(){return t.element(y(g({},Ge.label.attrs),{id:Sf(i),dir:s("dir")}))},getTreeProps(){return t.element(y(g({},Ge.tree.attrs),{id:Ql(i),dir:s("dir"),role:"tree","aria-label":"Tree View","aria-labelledby":Sf(i),"aria-multiselectable":s("selectionMode")==="multiple"||void 0,tabIndex:-1,onKeyDown(b){if(b.defaultPrevented||Re(b))return;let f=j(b);if(Ot(f))return;let S=f==null?void 0:f.closest("[data-part=branch-control], [data-part=item]");if(!S)return;let P=S.dataset.value;if(P==null){console.warn("[zag-js/tree-view] Node id not found for node",S);return}let V=S.matches("[data-part=branch-control]"),A={ArrowDown(k){xe(k)||(k.preventDefault(),a({type:"NODE.ARROW_DOWN",id:P,shiftKey:k.shiftKey}))},ArrowUp(k){xe(k)||(k.preventDefault(),a({type:"NODE.ARROW_UP",id:P,shiftKey:k.shiftKey}))},ArrowLeft(k){xe(k)||S.dataset.disabled||(k.preventDefault(),a({type:V?"BRANCH_NODE.ARROW_LEFT":"NODE.ARROW_LEFT",id:P}))},ArrowRight(k){!V||S.dataset.disabled||(k.preventDefault(),a({type:"BRANCH_NODE.ARROW_RIGHT",id:P}))},Home(k){xe(k)||(k.preventDefault(),a({type:"NODE.HOME",id:P,shiftKey:k.shiftKey}))},End(k){xe(k)||(k.preventDefault(),a({type:"NODE.END",id:P,shiftKey:k.shiftKey}))},Space(k){var D;S.dataset.disabled||(h?a({type:"TREE.TYPEAHEAD",key:k.key}):(D=A.Enter)==null||D.call(A,k))},Enter(k){S.dataset.disabled||st(f)&&xe(k)||(a({type:V?"BRANCH_NODE.CLICK":"NODE.CLICK",id:P,src:"keyboard"}),st(f)||k.preventDefault())},"*"(k){S.dataset.disabled||(k.preventDefault(),a({type:"SIBLINGS.EXPAND",id:P}))},a(k){!k.metaKey||S.dataset.disabled||(k.preventDefault(),a({type:"SELECTED.ALL",moveFocus:!0}))},F2(k){if(S.dataset.disabled)return;let D=s("canRename");if(!D)return;let $=o.getIndexPath(P);if($){let te=o.at($);if(te&&!D(te,$))return}k.preventDefault(),a({type:"NODE.RENAME",value:P})}},x=ge(b,{dir:s("dir")}),N=A[x];if(N){N(b);return}Ue.isValidEvent(b)&&(a({type:"TREE.TYPEAHEAD",key:b.key,id:P}),b.preventDefault())}}))},getNodeState:w,getItemProps(b){let f=w(b);return t.element(y(g({},Ge.item.attrs),{id:f.id,dir:s("dir"),"data-ownedby":Ql(i),"data-path":b.indexPath.join("/"),"data-value":f.value,tabIndex:f.focused?0:-1,"data-focus":E(f.focused),role:"treeitem","aria-current":f.selected?"true":void 0,"aria-selected":f.disabled?void 0:f.selected,"data-selected":E(f.selected),"aria-disabled":X(f.disabled),"data-disabled":E(f.disabled),"data-renaming":E(f.renaming),"aria-level":f.depth,"data-depth":f.depth,style:{"--depth":f.depth},onFocus(S){S.stopPropagation(),a({type:"NODE.FOCUS",id:f.value})},onClick(S){if(f.disabled||!fe(S)||st(S.currentTarget)&&xe(S))return;let P=S.metaKey||S.ctrlKey;a({type:"NODE.CLICK",id:f.value,shiftKey:S.shiftKey,ctrlKey:P}),S.stopPropagation(),st(S.currentTarget)||S.preventDefault()}}))},getItemTextProps(b){let f=w(b);return t.element(y(g({},Ge.itemText.attrs),{"data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused)}))},getItemIndicatorProps(b){let f=w(b);return t.element(y(g({},Ge.itemIndicator.attrs),{"aria-hidden":!0,"data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused),hidden:!f.selected}))},getBranchProps(b){let f=w(b);return t.element(y(g({},Ge.branch.attrs),{"data-depth":f.depth,dir:s("dir"),"data-branch":f.value,role:"treeitem","data-ownedby":Ql(i),"data-value":f.value,"aria-level":f.depth,"aria-selected":f.disabled?void 0:f.selected,"data-path":b.indexPath.join("/"),"data-selected":E(f.selected),"aria-expanded":f.expanded,"data-state":f.expanded?"open":"closed","aria-disabled":X(f.disabled),"data-disabled":E(f.disabled),"data-loading":E(f.loading),"aria-busy":X(f.loading),style:{"--depth":f.depth}}))},getBranchIndicatorProps(b){let f=w(b);return t.element(y(g({},Ge.branchIndicator.attrs),{"aria-hidden":!0,"data-state":f.expanded?"open":"closed","data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused),"data-loading":E(f.loading)}))},getBranchTriggerProps(b){let f=w(b);return t.element(y(g({},Ge.branchTrigger.attrs),{role:"button",dir:s("dir"),"data-disabled":E(f.disabled),"data-state":f.expanded?"open":"closed","data-value":f.value,"data-loading":E(f.loading),disabled:f.loading,onClick(S){f.disabled||f.loading||(a({type:"BRANCH_TOGGLE.CLICK",id:f.value}),S.stopPropagation())}}))},getBranchControlProps(b){let f=w(b);return t.element(y(g({},Ge.branchControl.attrs),{role:"button",id:f.id,dir:s("dir"),tabIndex:f.focused?0:-1,"data-path":b.indexPath.join("/"),"data-state":f.expanded?"open":"closed","data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused),"data-renaming":E(f.renaming),"data-value":f.value,"data-depth":f.depth,"data-loading":E(f.loading),"aria-busy":X(f.loading),onFocus(S){a({type:"NODE.FOCUS",id:f.value}),S.stopPropagation()},onClick(S){if(f.disabled||f.loading||!fe(S)||st(S.currentTarget)&&xe(S))return;let P=S.metaKey||S.ctrlKey;a({type:"BRANCH_NODE.CLICK",id:f.value,shiftKey:S.shiftKey,ctrlKey:P}),S.stopPropagation()}}))},getBranchTextProps(b){let f=w(b);return t.element(y(g({},Ge.branchText.attrs),{dir:s("dir"),"data-disabled":E(f.disabled),"data-state":f.expanded?"open":"closed","data-loading":E(f.loading)}))},getBranchContentProps(b){let f=w(b);return t.element(y(g({},Ge.branchContent.attrs),{role:"group",dir:s("dir"),"data-state":f.expanded?"open":"closed","data-depth":f.depth,"data-path":b.indexPath.join("/"),"data-value":f.value,hidden:!f.expanded}))},getBranchIndentGuideProps(b){let f=w(b);return t.element(y(g({},Ge.branchIndentGuide.attrs),{"data-depth":f.depth}))},getNodeCheckboxProps(b){let f=w(b),S=f.checked;return t.element(y(g({},Ge.nodeCheckbox.attrs),{tabIndex:-1,role:"checkbox","data-state":S===!0?"checked":S===!1?"unchecked":"indeterminate","aria-checked":S===!0?"true":S===!1?"false":"mixed","data-disabled":E(f.disabled),onClick(P){if(P.defaultPrevented||f.disabled||!fe(P))return;a({type:"CHECKED.TOGGLE",value:f.value,isBranch:f.isBranch}),P.stopPropagation();let V=P.currentTarget.closest("[role=treeitem]");V==null||V.focus({preventScroll:!0})}}))},getNodeRenameInputProps(b){let f=w(b);return t.input(y(g({},Ge.nodeRenameInput.attrs),{id:Of(i,f.value),type:"text","aria-label":"Rename tree item",hidden:!f.renaming,onKeyDown(S){Re(S)||(S.key==="Escape"&&(a({type:"RENAME.CANCEL"}),S.preventDefault()),S.key==="Enter"&&(a({type:"RENAME.SUBMIT",label:S.currentTarget.value}),S.preventDefault()),S.stopPropagation())},onBlur(S){a({type:"RENAME.SUBMIT",label:S.currentTarget.value})}}))}}}function ka(e,t){let{context:n,prop:i,refs:r}=e;if(!i("loadChildren")){n.set("expandedValue",v=>vt(Ze(v,...t)));return}let s=n.get("loadingStatus"),[a,o]=so(t,v=>s[v]==="loaded");if(a.length>0&&n.set("expandedValue",v=>vt(Ze(v,...a))),o.length===0)return;let l=i("collection"),[c,d]=so(o,v=>{let I=l.findNode(v);return l.getNodeChildren(I).length>0});if(c.length>0&&n.set("expandedValue",v=>vt(Ze(v,...c))),d.length===0)return;n.set("loadingStatus",v=>g(g({},v),d.reduce((I,T)=>y(g({},I),{[T]:"loading"}),{})));let h=d.map(v=>{let I=l.getIndexPath(v),T=l.getValuePath(I),w=l.findNode(v);return{id:v,indexPath:I,valuePath:T,node:w}}),m=r.get("pendingAborts"),u=i("loadChildren");mn(u,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");let p=h.map(({id:v,indexPath:I,valuePath:T,node:w})=>{let b=m.get(v);b&&(b.abort(),m.delete(v));let f=new AbortController;return m.set(v,f),u({valuePath:T,indexPath:I,node:w,signal:f.signal})});Promise.allSettled(p).then(v=>{var f,S;let I=[],T=[],w=n.get("loadingStatus"),b=i("collection");v.forEach((P,V)=>{let{id:A,indexPath:x,node:N,valuePath:k}=h[V];P.status==="fulfilled"?(w[A]="loaded",I.push(A),b=b.replace(x,y(g({},N),{children:P.value}))):(m.delete(A),Reflect.deleteProperty(w,A),T.push({node:N,error:P.reason,indexPath:x,valuePath:k}))}),n.set("loadingStatus",w),I.length&&(n.set("expandedValue",P=>vt(Ze(P,...I))),(f=i("onLoadChildrenComplete"))==null||f({collection:b})),T.length&&((S=i("onLoadChildrenError"))==null||S({nodes:T}))})}function _t(e){let{prop:t,context:n}=e;return function({indexPath:r}){return t("collection").getValuePath(r).slice(0,-1).some(a=>!n.get("expandedValue").includes(a))}}function ai(e,t){let{prop:n,scope:i,computed:r}=e,s=n("scrollToIndexFn");if(!s)return!1;let a=n("collection"),o=r("visibleNodes");for(let l=0;l<o.length;l++){let{node:c,indexPath:d}=o[l];if(a.getNodeValue(c)===t)return s({index:l,node:c,indexPath:d,getElement:()=>i.getById(tc(i,t))}),!0}return!1}function jV(e){var s;let n=e.querySelectorAll('[data-scope="tree-view"][data-part="branch"], [data-scope="tree-view"][data-part="item"]'),i=[];for(let a of n){let o=a.getAttribute("data-path"),l=a.getAttribute("data-value");if(o==null||l==null)continue;let c=o.split("/").map(m=>parseInt(m,10));if(c.some(Number.isNaN))continue;let d=(s=a.getAttribute("data-name"))!=null?s:l,h=a.getAttribute("data-part")==="branch";i.push({pathArr:c,id:l,name:d,isBranch:h})}i.sort((a,o)=>{let l=Math.min(a.pathArr.length,o.pathArr.length);for(let c=0;c<l;c++)if(a.pathArr[c]!==o.pathArr[c])return a.pathArr[c]-o.pathArr[c];return a.pathArr.length-o.pathArr.length});let r={id:"ROOT",name:"",children:[]};for(let{pathArr:a,id:o,name:l,isBranch:c}of i){let d=r;for(let m=0;m<a.length-1;m++){let u=a[m];d.children||(d.children=[]),d=d.children[u]}let h=a[a.length-1];d.children||(d.children=[]),d.children[h]=c?{id:o,name:l,children:[]}:{id:o,name:l}}return r}var _V,Ge,ec,GV,Sf,tc,Ql,Ne,Of,Tf,Gt,KV,zV,bN,YV,EN,XV,ZV,xf=re(()=>{"use strict";vr();se();_V=U("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","nodeRenameInput","root","tree"),Ge=_V.build(),ec=e=>new Vo(e);ec.empty=()=>new Vo({rootNode:{children:[]}});GV=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tree:${e.id}:root`},Sf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`tree:${e.id}:label`},tc=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.node)==null?void 0:i.call(n,t))!=null?r:`tree:${e.id}:node:${t}`},Ql=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.tree)!=null?n:`tree:${e.id}:tree`},Ne=(e,t)=>{var n;t!=null&&((n=e.getById(tc(e,t)))==null||n.focus())},Of=(e,t)=>`tree:${e.id}:rename-input:${t}`,Tf=(e,t)=>e.getById(Of(e,t));({and:Gt}=Ee()),KV={props({props:e}){return g({selectionMode:"single",collection:ec.empty(),typeahead:!0,expandOnClick:!0,defaultExpandedValue:[],defaultSelectedValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{expandedValue:t(()=>({defaultValue:e("defaultExpandedValue"),value:e("expandedValue"),isEqual:me,onChange(i){var a;let s=n().get("focusedValue");(a=e("onExpandedChange"))==null||a({expandedValue:i,focusedValue:s,get expandedNodes(){return e("collection").findNodes(i)}})}})),selectedValue:t(()=>({defaultValue:e("defaultSelectedValue"),value:e("selectedValue"),isEqual:me,onChange(i){var a;let s=n().get("focusedValue");(a=e("onSelectionChange"))==null||a({selectedValue:i,focusedValue:s,get selectedNodes(){return e("collection").findNodes(i)}})}})),focusedValue:t(()=>({defaultValue:e("defaultFocusedValue")||null,value:e("focusedValue"),onChange(i){var r;(r=e("onFocusChange"))==null||r({focusedValue:i,get focusedNode(){return i?e("collection").findNode(i):null}})}})),loadingStatus:t(()=>({defaultValue:{}})),checkedValue:t(()=>({defaultValue:e("defaultCheckedValue")||[],value:e("checkedValue"),isEqual:me,onChange(i){var r;(r=e("onCheckedChange"))==null||r({checkedValue:i})}})),renamingValue:t(()=>({sync:!0,defaultValue:null}))}},refs(){return{typeaheadState:g({},Ue.defaultOptions),pendingAborts:new Map}},computed:{isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar.length>0,visibleNodes:({prop:e,context:t})=>{let n=[];return e("collection").visit({skip:_t({prop:e,context:t}),onEnter:(i,r)=>{n.push({node:i,indexPath:r})}}),n}},on:{"EXPANDED.SET":{actions:["setExpanded"]},"EXPANDED.CLEAR":{actions:["clearExpanded"]},"EXPANDED.ALL":{actions:["expandAllBranches"]},"BRANCH.EXPAND":{actions:["expandBranches"]},"BRANCH.COLLAPSE":{actions:["collapseBranches"]},"SELECTED.SET":{actions:["setSelected"]},"SELECTED.ALL":[{guard:Gt("isMultipleSelection","moveFocus"),actions:["selectAllNodes","focusTreeLastNode"]},{guard:"isMultipleSelection",actions:["selectAllNodes"]}],"SELECTED.CLEAR":{actions:["clearSelected"]},"NODE.SELECT":{actions:["selectNode"]},"NODE.DESELECT":{actions:["deselectNode"]},"CHECKED.TOGGLE":{actions:["toggleChecked"]},"CHECKED.SET":{actions:["setChecked"]},"CHECKED.CLEAR":{actions:["clearChecked"]},"NODE.FOCUS":{actions:["setFocusedNode"]},"NODE.ARROW_DOWN":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["focusTreeNextNode","extendSelectionToNextNode"]},{actions:["focusTreeNextNode"]}],"NODE.ARROW_UP":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["focusTreePrevNode","extendSelectionToPrevNode"]},{actions:["focusTreePrevNode"]}],"NODE.ARROW_LEFT":{actions:["focusBranchNode"]},"BRANCH_NODE.ARROW_LEFT":[{guard:"isBranchExpanded",actions:["collapseBranch"]},{actions:["focusBranchNode"]}],"BRANCH_NODE.ARROW_RIGHT":[{guard:Gt("isBranchFocused","isBranchExpanded"),actions:["focusBranchFirstNode"]},{actions:["expandBranch"]}],"SIBLINGS.EXPAND":{actions:["expandSiblingBranches"]},"NODE.HOME":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToFirstNode","focusTreeFirstNode"]},{actions:["focusTreeFirstNode"]}],"NODE.END":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToLastNode","focusTreeLastNode"]},{actions:["focusTreeLastNode"]}],"NODE.CLICK":[{guard:Gt("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{actions:["selectNode"]}],"BRANCH_NODE.CLICK":[{guard:Gt("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{guard:"expandOnClick",actions:["selectNode","toggleBranchNode"]},{actions:["selectNode"]}],"BRANCH_TOGGLE.CLICK":{actions:["toggleBranchNode"]},"TREE.TYPEAHEAD":{actions:["focusMatchedNode"]}},exit:["clearPendingAborts"],states:{idle:{on:{"NODE.RENAME":{target:"renaming",actions:["setRenamingValue"]}}},renaming:{entry:["syncRenameInput","focusRenameInput"],on:{"RENAME.SUBMIT":{guard:"isRenameLabelValid",target:"idle",actions:["submitRenaming"]},"RENAME.CANCEL":{target:"idle",actions:["cancelRenaming"]}}}},implementations:{guards:{isBranchFocused:({context:e,event:t})=>e.get("focusedValue")===t.id,isBranchExpanded:({context:e,event:t})=>e.get("expandedValue").includes(t.id),isShiftKey:({event:e})=>e.shiftKey,isCtrlKey:({event:e})=>e.ctrlKey,hasSelectedItems:({context:e})=>e.get("selectedValue").length>0,isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",moveFocus:({event:e})=>!!e.moveFocus,expandOnClick:({prop:e})=>!!e("expandOnClick"),isRenameLabelValid:({event:e})=>e.label.trim()!==""},actions:{selectNode({context:e,event:t}){let n=t.id||t.value;e.set("selectedValue",i=>n==null?i:!t.isTrusted&&gn(n)?i.concat(...n):[gn(n)?mt(n):n].filter(Boolean))},deselectNode({context:e,event:t}){let n=ar(t.id||t.value);e.set("selectedValue",i=>ct(i,...n))},setFocusedNode({context:e,event:t}){e.set("focusedValue",t.id)},clearFocusedNode({context:e}){e.set("focusedValue",null)},clearSelectedItem({context:e}){e.set("selectedValue",[])},toggleBranchNode({context:e,event:t,action:n}){let i=e.get("expandedValue").includes(t.id);n(i?["collapseBranch"]:["expandBranch"])},expandBranch(e){let{event:t}=e;ka(e,[t.id])},expandBranches(e){let{context:t,event:n}=e,i=ar(n.value);ka(e,ps(i,t.get("expandedValue")))},collapseBranch({context:e,event:t}){e.set("expandedValue",n=>ct(n,t.id))},collapseBranches(e){let{context:t,event:n}=e,i=ar(n.value);t.set("expandedValue",r=>ct(r,...i))},setExpanded({context:e,event:t}){gn(t.value)&&e.set("expandedValue",t.value)},clearExpanded({context:e}){e.set("expandedValue",[])},setSelected({context:e,event:t}){gn(t.value)&&e.set("selectedValue",t.value)},clearSelected({context:e}){e.set("selectedValue",[])},focusTreeFirstNode(e){let{prop:t,scope:n}=e,i=t("collection"),r=i.getFirstNode(void 0,{skip:_t(e)});if(!r)return;let s=i.getNodeValue(r);ai(e,s)?H(()=>Ne(n,s)):Ne(n,s)},focusTreeLastNode(e){let{prop:t,scope:n}=e,i=t("collection"),r=i.getLastNode(void 0,{skip:_t(e)}),s=i.getNodeValue(r);ai(e,s)?H(()=>Ne(n,s)):Ne(n,s)},focusBranchFirstNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.findNode(t.id),a=r.getFirstNode(s,{skip:_t(e)});if(!a)return;let o=r.getNodeValue(a);ai(e,o)?H(()=>Ne(i,o)):Ne(i,o)},focusTreeNextNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getNextNode(t.id,{skip:_t(e)});if(!s)return;let a=r.getNodeValue(s);ai(e,a)?H(()=>Ne(i,a)):Ne(i,a)},focusTreePrevNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getPreviousNode(t.id,{skip:_t(e)});if(!s)return;let a=r.getNodeValue(s);ai(e,a)?H(()=>Ne(i,a)):Ne(i,a)},focusBranchNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getParentNode(t.id),a=s?r.getNodeValue(s):void 0;if(!a)return;ai(e,a)?H(()=>Ne(i,a)):Ne(i,a)},selectAllNodes({context:e,prop:t}){e.set("selectedValue",t("collection").getValues())},focusMatchedNode(e){let{context:t,prop:n,refs:i,event:r,scope:s,computed:a}=e,l=a("visibleNodes").map(({node:h})=>({textContent:n("collection").stringifyNode(h),id:n("collection").getNodeValue(h)})),c=Ue(l,{state:i.get("typeaheadState"),activeId:t.get("focusedValue"),key:r.key});if(!(c!=null&&c.id))return;ai(e,c.id)?H(()=>Ne(s,c.id)):Ne(s,c.id)},toggleNodeSelection({context:e,event:t}){let n=yt(e.get("selectedValue"),t.id);e.set("selectedValue",n)},expandAllBranches(e){let{context:t,prop:n}=e,i=n("collection").getBranchValues(),r=ps(i,t.get("expandedValue"));ka(e,r)},expandSiblingBranches(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getIndexPath(n.id);if(!s)return;let o=r.getSiblingNodes(s).map(c=>r.getNodeValue(c)),l=ps(o,t.get("expandedValue"));ka(e,l)},extendSelectionToNode(e){let{context:t,event:n,prop:i,computed:r}=e,s=i("collection"),a=lt(t.get("selectedValue"))||s.getNodeValue(s.getFirstNode()),o=n.id,l=[a,o],c=0;r("visibleNodes").forEach(({node:h})=>{let m=s.getNodeValue(h);c===1&&l.push(m),(m===a||m===o)&&c++}),t.set("selectedValue",vt(l))},extendSelectionToNextNode(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getNextNode(n.id,{skip:_t(e)});if(!s)return;let a=new Set(t.get("selectedValue")),o=r.getNodeValue(s);o!=null&&(a.has(n.id)&&a.has(o)?a.delete(n.id):a.has(o)||a.add(o),t.set("selectedValue",Array.from(a)))},extendSelectionToPrevNode(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getPreviousNode(n.id,{skip:_t(e)});if(!s)return;let a=new Set(t.get("selectedValue")),o=r.getNodeValue(s);o!=null&&(a.has(n.id)&&a.has(o)?a.delete(n.id):a.has(o)||a.add(o),t.set("selectedValue",Array.from(a)))},extendSelectionToFirstNode(e){let{context:t,prop:n}=e,i=n("collection"),r=lt(t.get("selectedValue")),s=[];i.visit({skip:_t(e),onEnter:a=>{let o=i.getNodeValue(a);if(s.push(o),o===r)return"stop"}}),t.set("selectedValue",s)},extendSelectionToLastNode(e){let{context:t,prop:n}=e,i=n("collection"),r=lt(t.get("selectedValue")),s=[],a=!1;i.visit({skip:_t(e),onEnter:o=>{let l=i.getNodeValue(o);l===r&&(a=!0),a&&s.push(l)}}),t.set("selectedValue",s)},clearPendingAborts({refs:e}){let t=e.get("pendingAborts");t.forEach(n=>n.abort()),t.clear()},toggleChecked({context:e,event:t,prop:n}){let i=n("collection");e.set("checkedValue",r=>t.isBranch?UV(i,t.value,r):yt(r,t.value))},setChecked({context:e,event:t}){e.set("checkedValue",t.value)},clearChecked({context:e}){e.set("checkedValue",[])},setRenamingValue({context:e,event:t,prop:n}){e.set("renamingValue",t.value);let i=n("onRenameStart");if(i){let r=n("collection"),s=r.getIndexPath(t.value);if(s){let a=r.at(s);a&&i({value:t.value,node:a,indexPath:s})}}},submitRenaming({context:e,event:t,prop:n,scope:i}){var c;let r=e.get("renamingValue");if(!r)return;let a=n("collection").getIndexPath(r);if(!a)return;let o=t.label.trim(),l=n("onBeforeRename");if(l&&!l({value:r,label:o,indexPath:a})){e.set("renamingValue",null),Ne(i,r);return}(c=n("onRenameComplete"))==null||c({value:r,label:o,indexPath:a}),e.set("renamingValue",null),Ne(i,r)},cancelRenaming({context:e,scope:t}){let n=e.get("renamingValue");e.set("renamingValue",null),n&&Ne(t,n)},syncRenameInput({context:e,scope:t,prop:n}){let i=e.get("renamingValue");if(!i)return;let r=n("collection"),s=r.findNode(i);if(!s)return;let a=r.stringifyNode(s),o=Tf(t,i);Me(o,a)},focusRenameInput({context:e,scope:t}){let n=e.get("renamingValue");if(!n)return;let i=Tf(t,n);i&&(i.focus(),i.select())}}}};zV=_()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren","canRename","onRenameStart","onBeforeRename","onRenameComplete","scrollToIndexFn"]),bN=B(zV),YV=_()(["node","indexPath"]),EN=B(YV);XV=class extends K{constructor(t,n){var s;let i=(s=n.treeData)!=null?s:jV(t),r=ec({nodeToValue:a=>a.id,nodeToString:a=>a.name,rootNode:i});super(t,y(g({},n),{collection:r}));Y(this,"treeCollection");Y(this,"syncTree",()=>{let t=this.el.querySelector('[data-scope="tree-view"][data-part="tree"]');t&&(this.spreadProps(t,this.api.getTreeProps()),this.updateExistingTree(t))});this.treeCollection=r}initMachine(t){return new W(KV,g({},t))}initApi(){return WV(this.machine.service,q)}getNodeAt(t){var i;if(t.length===0)return;let n=this.treeCollection.rootNode;for(let r of t)if(n=(i=n==null?void 0:n.children)==null?void 0:i[r],!n)return;return n}updateExistingTree(t){this.spreadProps(t,this.api.getTreeProps());let n=t.querySelectorAll('[data-scope="tree-view"][data-part="branch"]');for(let r of n){let s=r.getAttribute("data-path");if(s==null)continue;let a=s.split("/").map(p=>parseInt(p,10)),o=this.getNodeAt(a);if(!o)continue;let l={indexPath:a,node:o};this.spreadProps(r,this.api.getBranchProps(l));let c=r.querySelector('[data-scope="tree-view"][data-part="branch-control"]');c&&this.spreadProps(c,this.api.getBranchControlProps(l));let d=r.querySelector('[data-scope="tree-view"][data-part="branch-text"]');d&&this.spreadProps(d,this.api.getBranchTextProps(l));let h=r.querySelector('[data-scope="tree-view"][data-part="branch-indicator"]');h&&this.spreadProps(h,this.api.getBranchIndicatorProps(l));let m=r.querySelector('[data-scope="tree-view"][data-part="branch-content"]');m&&this.spreadProps(m,this.api.getBranchContentProps(l));let u=r.querySelector('[data-scope="tree-view"][data-part="branch-indent-guide"]');u&&this.spreadProps(u,this.api.getBranchIndentGuideProps(l))}let i=t.querySelectorAll('[data-scope="tree-view"][data-part="item"]');for(let r of i){let s=r.getAttribute("data-path");if(s==null)continue;let a=s.split("/").map(c=>parseInt(c,10)),o=this.getNodeAt(a);if(!o)continue;let l={indexPath:a,node:o};this.spreadProps(r,this.api.getItemProps(l))}}render(){var i;let t=(i=this.el.querySelector('[data-scope="tree-view"][data-part="root"]'))!=null?i:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="tree-view"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps()),this.syncTree()}},ZV={mounted(){var i;let e=this.el,t=this.pushEvent.bind(this),n=new XV(e,y(g({id:e.id},C(e,"controlled")?{expandedValue:Z(e,"expandedValue"),selectedValue:Z(e,"selectedValue")}:{defaultExpandedValue:Z(e,"defaultExpandedValue"),defaultSelectedValue:Z(e,"defaultSelectedValue")}),{selectionMode:(i=O(e,"selectionMode",["single","multiple"]))!=null?i:"single",dir:Oe(e),onSelectionChange:r=>{var u;let s=C(e,"redirect"),a=(u=r.selectedValue)!=null&&u.length?r.selectedValue[0]:void 0,o=[...e.querySelectorAll('[data-scope="tree-view"][data-part="item"], [data-scope="tree-view"][data-part="branch"]')].find(p=>p.getAttribute("data-value")===a),l=(o==null?void 0:o.getAttribute("data-part"))==="item",c=o==null?void 0:o.getAttribute("data-redirect"),d=o==null?void 0:o.hasAttribute("data-new-tab");s&&a&&l&&this.liveSocket.main.isDead&&c!=="false"&&(d?window.open(a,"_blank","noopener,noreferrer"):window.location.href=a);let m=O(e,"onSelectionChange");m&&this.liveSocket.main.isConnected()&&t(m,{id:e.id,value:y(g({},r),{isItem:l!=null?l:!1})})},onExpandedChange:r=>{let s=O(e,"onExpandedChange");s&&this.liveSocket.main.isConnected()&&t(s,{id:e.id,value:r})}}));n.init(),this.treeView=n,this.onSetExpandedValue=r=>{let{value:s}=r.detail;n.api.setExpandedValue(s)},e.addEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue=r=>{let{value:s}=r.detail;n.api.setSelectedValue(s)},e.addEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers=[],this.handlers.push(this.handleEvent("tree_view_set_expanded_value",r=>{let s=r.tree_view_id;s&&e.id!==s&&e.id!==`tree-view:${s}`||n.api.setExpandedValue(r.value)})),this.handlers.push(this.handleEvent("tree_view_set_selected_value",r=>{let s=r.tree_view_id;s&&e.id!==s&&e.id!==`tree-view:${s}`||n.api.setSelectedValue(r.value)})),this.handlers.push(this.handleEvent("tree_view_expanded_value",()=>{t("tree_view_expanded_value_response",{value:n.api.expandedValue})})),this.handlers.push(this.handleEvent("tree_view_selected_value",()=>{t("tree_view_selected_value_response",{value:n.api.selectedValue})}))},updated(){var e;C(this.el,"controlled")&&((e=this.treeView)==null||e.updateProps({expandedValue:Z(this.el,"expandedValue"),selectedValue:Z(this.el,"selectedValue")}))},destroyed(){var e;if(this.onSetExpandedValue&&this.el.removeEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue&&this.el.removeEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.treeView)==null||e.destroy()}}});var QV={};he(QV,{Hooks:()=>Af,default:()=>JV,hooks:()=>pe});function pe(e,t){return{mounted(){return Ve(this,null,function*(){let r=(yield e())[t];if(this._realHook=r,r!=null&&r.mounted)return r.mounted.call(this)})},updated(){var i,r;(r=(i=this._realHook)==null?void 0:i.updated)==null||r.call(this)},destroyed(){var i,r;(r=(i=this._realHook)==null?void 0:i.destroyed)==null||r.call(this)},disconnected(){var i,r;(r=(i=this._realHook)==null?void 0:i.disconnected)==null||r.call(this)},reconnected(){var i,r;(r=(i=this._realHook)==null?void 0:i.reconnected)==null||r.call(this)},beforeUpdate(){var i,r;(r=(i=this._realHook)==null?void 0:i.beforeUpdate)==null||r.call(this)}}}var Af={Accordion:pe(()=>Promise.resolve().then(()=>(cd(),ld)),"Accordion"),AngleSlider:pe(()=>Promise.resolve().then(()=>(kd(),Nd)),"AngleSlider"),Avatar:pe(()=>Promise.resolve().then(()=>(Md(),Ld)),"Avatar"),Carousel:pe(()=>Promise.resolve().then(()=>(qd(),Ud)),"Carousel"),Checkbox:pe(()=>Promise.resolve().then(()=>(Qd(),Jd)),"Checkbox"),Clipboard:pe(()=>Promise.resolve().then(()=>(tu(),eu)),"Clipboard"),Collapsible:pe(()=>Promise.resolve().then(()=>(iu(),nu)),"Collapsible"),Combobox:pe(()=>Promise.resolve().then(()=>(nh(),th)),"Combobox"),DatePicker:pe(()=>Promise.resolve().then(()=>(eg(),Qh)),"DatePicker"),Dialog:pe(()=>Promise.resolve().then(()=>(dg(),cg)),"Dialog"),Editable:pe(()=>Promise.resolve().then(()=>(mg(),fg)),"Editable"),FloatingPanel:pe(()=>Promise.resolve().then(()=>(Vg(),wg)),"FloatingPanel"),Listbox:pe(()=>Promise.resolve().then(()=>(Dg(),Rg)),"Listbox"),Menu:pe(()=>Promise.resolve().then(()=>(Ug(),Gg)),"Menu"),NumberInput:pe(()=>Promise.resolve().then(()=>(rp(),ip)),"NumberInput"),PasswordInput:pe(()=>Promise.resolve().then(()=>(ap(),sp)),"PasswordInput"),PinInput:pe(()=>Promise.resolve().then(()=>(up(),dp)),"PinInput"),RadioGroup:pe(()=>Promise.resolve().then(()=>(vp(),mp)),"RadioGroup"),Select:pe(()=>Promise.resolve().then(()=>(Tp(),Sp)),"Select"),SignaturePad:pe(()=>Promise.resolve().then(()=>(Kp(),Wp)),"SignaturePad"),Switch:pe(()=>Promise.resolve().then(()=>(Zp(),Xp)),"Switch"),Tabs:pe(()=>Promise.resolve().then(()=>(nf(),tf)),"Tabs"),Timer:pe(()=>Promise.resolve().then(()=>(of(),af)),"Timer"),Toast:pe(()=>Promise.resolve().then(()=>(vf(),mf)),"Toast"),ToggleGroup:pe(()=>Promise.resolve().then(()=>(Cf(),Pf)),"ToggleGroup"),TreeView:pe(()=>Promise.resolve().then(()=>(xf(),Vf)),"TreeView")};var JV=Af;return Uf(QV);})();
