"use strict";var Corex=(()=>{var qn=Object.defineProperty,Ff=Object.defineProperties,Hf=Object.getOwnPropertyDescriptor,Bf=Object.getOwnPropertyDescriptors,Gf=Object.getOwnPropertyNames,$n=Object.getOwnPropertySymbols;var Fo=Object.prototype.hasOwnProperty,ad=Object.prototype.propertyIsEnumerable;var Lo=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Uf=e=>{throw TypeError(e)};var Mo=(e,t,a)=>t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,g=(e,t)=>{for(var a in t||(t={}))Fo.call(t,a)&&Mo(e,a,t[a]);if($n)for(var a of $n(t))ad.call(t,a)&&Mo(e,a,t[a]);return e},y=(e,t)=>Ff(e,Bf(t));var gt=(e,t)=>{var a={};for(var i in e)Fo.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&$n)for(var i of $n(e))t.indexOf(i)<0&&ad.call(e,i)&&(a[i]=e[i]);return a};var te=(e,t)=>()=>(e&&(t=e(e=0)),t);var de=(e,t)=>{for(var a in t)qn(e,a,{get:t[a],enumerable:!0})},_f=(e,t,a,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Gf(t))!Fo.call(e,n)&&n!==a&&qn(e,n,{get:()=>t[n],enumerable:!(i=Hf(t,n))||i.enumerable});return e};var $f=e=>_f(qn({},"__esModule",{value:!0}),e);var K=(e,t,a)=>Mo(e,typeof t!="symbol"?t+"":t,a);var Se=(e,t,a)=>new Promise((i,n)=>{var r=l=>{try{s(a.next(l))}catch(d){n(d)}},o=l=>{try{s(a.throw(l))}catch(d){n(d)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(r,o);s((a=a.apply(e,t)).next())}),qf=function(e,t){this[0]=e,this[1]=t};var id=e=>{var t=e[Lo("asyncIterator")],a=!1,i,n={};return t==null?(t=e[Lo("iterator")](),i=r=>n[r]=o=>t[r](o)):(t=t.call(e),i=r=>n[r]=o=>{if(a){if(a=!1,r==="throw")throw o;return o}return a=!0,{done:!1,value:new qf(new Promise(s=>{var l=t[r](o);l instanceof Object||Uf("Object expected"),s(l)}),1)}}),n[Lo("iterator")]=()=>n,i("next"),"throw"in t?i("throw"):n.throw=r=>{throw r},"return"in t&&i("return"),n};function Ce(e){let t=e.dataset.dir;if(t!==void 0&&zf.includes(t))return t;let a=document.documentElement.getAttribute("dir");return a==="ltr"||a==="rtl"?a:"ltr"}function Zi(e){if(e)try{if(e.ownerDocument.activeElement!==e)return;let t=e.value.length;e.setSelectionRange(t,t)}catch(t){}}function em(e){return["html","body","#document"].includes(vd(e))}function Jn(e){if(!e)return!1;let t=e.getRootNode();return si(t)===e}function Pt(e){if(e==null||!re(e))return!1;try{return am(e)&&e.selectionStart!=null||nm.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch(t){return!1}}function oe(e,t){var i;if(!e||!t||!re(e)||!re(t))return!1;let a=(i=t.getRootNode)==null?void 0:i.call(t);if(e===t||e.contains(t))return!0;if(a&&Ra(a)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Re(e){var t;return Ji(e)?e:Qf(e)?e.document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function rm(e){return Re(e).documentElement}function se(e){var t,a,i;return Ra(e)?se(e.host):Ji(e)?(t=e.defaultView)!=null?t:window:re(e)&&(i=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?i:window}function si(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){let a=t.shadowRoot.activeElement;if(!a||a===t)break;t=a}return t}function om(e){if(vd(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Ra(e)&&e.host||rm(e);return Ra(t)?t.host:t}function Wo(e){var a;let t;try{if(t=e.getRootNode({composed:!0}),Ji(t)||Ra(t))return t}catch(i){}return(a=e.ownerDocument)!=null?a:document}function rt(e){return Go.has(e)||Go.set(e,se(e).getComputedStyle(e)),Go.get(e)}function nr(e,t){let a=new Set,i=Wo(e),n=r=>{let o=r.querySelectorAll("[aria-controls]");for(let s of o){if(s.getAttribute("aria-expanded")!=="true")continue;let l=bd(s);for(let d of l){if(!d||a.has(d))continue;a.add(d);let c=i.getElementById(d);if(c){let f=c.getAttribute("role"),p=c.getAttribute("aria-modal")==="true";if(f&&sm(f)&&!p&&(c===t||c.contains(t)||n(c)))return!0}}}return!1};return n(e)}function jo(e,t){let a=Wo(e),i=new Set,n=r=>{let o=r.querySelectorAll("[aria-controls]");for(let s of o){if(s.getAttribute("aria-expanded")!=="true")continue;let l=bd(s);for(let d of l){if(!d||i.has(d))continue;i.add(d);let c=a.getElementById(d);if(c){let f=c.getAttribute("role"),p=c.getAttribute("aria-modal")==="true";f&&Ko.has(f)&&!p&&(t(c),n(c))}}}};n(e)}function yd(e){let t=new Set;return jo(e,a=>{e.contains(a)||t.add(a)}),Array.from(t)}function lm(e){let t=e.getAttribute("role");return!!(t&&Ko.has(t))}function dm(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Ed(e){var t;return dm(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function xd(e){if(!e.id)return!1;let t=Wo(e),a=CSS.escape(e.id),i=`[aria-controls~="${a}"][aria-expanded="true"], [aria-controls="${a}"][aria-expanded="true"]`;return!!(t.querySelector(i)&&lm(e))}function Cd(e,t){let{type:a,quality:i=.92,background:n}=t;if(!e)throw new Error("[zag-js > getDataUrl]: Could not find the svg element");let r=se(e),o=r.document,s=e.getBoundingClientRect(),l=e.cloneNode(!0);l.hasAttribute("viewBox")||l.setAttribute("viewBox",`0 0 ${s.width} ${s.height}`);let d=`<?xml version="1.0" standalone="no"?>\r
`+new r.XMLSerializer().serializeToString(l),c="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(d);if(a==="image/svg+xml")return Promise.resolve(c).then(v=>(l.remove(),v));let f=r.devicePixelRatio||1,p=o.createElement("canvas"),u=new r.Image;u.src=c,p.width=s.width*f,p.height=s.height*f;let h=p.getContext("2d");return(a==="image/jpeg"||n)&&(h.fillStyle=n||"white",h.fillRect(0,0,p.width,p.height)),new Promise(v=>{u.onload=()=>{h==null||h.drawImage(u,0,0,p.width,p.height),v(p.toDataURL(a,i)),l.remove()}})}function um(){var e,t;return(t=(e=navigator.userAgentData)==null?void 0:e.platform)!=null?t:navigator.platform}function cm(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:a})=>`${t}/${a}`).join(" "):navigator.userAgent}function Pd(e){let{selectionStart:t,selectionEnd:a,value:i}=e.currentTarget,n=e.data;return i.slice(0,t)+(n!=null?n:"")+i.slice(a)}function vm(e){var t,a,i,n;return(n=(t=e.composedPath)==null?void 0:t.call(e))!=null?n:(i=(a=e.nativeEvent)==null?void 0:a.composedPath)==null?void 0:i.call(a)}function j(e){var t,a;return(a=(t=vm(e))==null?void 0:t[0])!=null?a:e.target}function Da(e){let t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;let a=e.button===1,i=or(e);return a||i}function en(e){let t=e.currentTarget;if(!t)return!1;let a=t.localName;return e.altKey?a==="a"||a==="button"&&t.type==="submit"||a==="input"&&t.type==="submit":!1}function ke(e){return Wt(e).isComposing||e.keyCode===229}function or(e){return li()?e.metaKey:e.ctrlKey}function Sd(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function Id(e){return e.pointerType===""&&e.isTrusted?!0:mm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ue(e,t={}){var r;let{dir:a="ltr",orientation:i="horizontal"}=t,n=e.key;return n=(r=ym[n])!=null?r:n,a==="rtl"&&i==="horizontal"&&n in rd&&(n=rd[n]),n}function Wt(e){var t;return(t=e.nativeEvent)!=null?t:e}function ui(e){return e.ctrlKey||e.metaKey?.1:Em.has(e.key)||e.shiftKey&&xm.has(e.key)?10:1}function je(e,t="client"){let a=bm(e)?e.touches[0]||e.changedTouches[0]:e;return{x:a[`${t}X`],y:a[`${t}Y`]}}function Od(e,t){var r;let{type:a="HTMLInputElement",property:i="value"}=t,n=se(e)[a].prototype;return(r=Object.getOwnPropertyDescriptor(n,i))!=null?r:{}}function Cm(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Ae(e,t,a="value"){var n;if(!e)return;let i=Cm(e);i&&((n=Od(e,{type:i,property:a}).set)==null||n.call(e,t)),e.setAttribute(a,t)}function tn(e,t){var a;e&&((a=Od(e,{type:"HTMLInputElement",property:"checked"}).set)==null||a.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked"))}function wd(e,t){let{value:a,bubbles:i=!0}=t;if(!e)return;let n=se(e);e instanceof n.HTMLInputElement&&(Ae(e,`${a}`),e.dispatchEvent(new n.Event("input",{bubbles:i})))}function ci(e,t){let{checked:a,bubbles:i=!0}=t;if(!e)return;let n=se(e);e instanceof n.HTMLInputElement&&(tn(e,a),e.dispatchEvent(new n.Event("click",{bubbles:i})))}function Tm(e){return Pm(e)?e.form:e.closest("form")}function Pm(e){return e.matches("textarea, input, select, button")}function Sm(e,t){if(!e)return;let a=Tm(e),i=n=>{n.defaultPrevented||t()};return a==null||a.addEventListener("reset",i,{passive:!0}),()=>a==null?void 0:a.removeEventListener("reset",i)}function Im(e,t){let a=e==null?void 0:e.closest("fieldset");if(!a)return;t(a.disabled);let i=se(a),n=new i.MutationObserver(()=>t(a.disabled));return n.observe(a,{attributes:!0,attributeFilter:["disabled"]}),()=>n.disconnect()}function St(e,t){if(!e)return;let{onFieldsetDisabledChange:a,onFormReset:i}=t,n=[Sm(e,i),Im(e,a)];return()=>n.forEach(r=>r==null?void 0:r())}function kd(e){let t=e.getAttribute("tabindex");return t?parseInt(t,10):NaN}function km(e,t){if(!t)return null;if(t===!0)return e.shadowRoot||null;let a=t(e);return(a===!0?e.shadowRoot:a)||null}function Nd(e,t,a){let i=[...e],n=[...e],r=new Set,o=new Map;e.forEach((l,d)=>o.set(l,d));let s=0;for(;s<n.length;){let l=n[s++];if(!l||r.has(l))continue;r.add(l);let d=km(l,t);if(d){let c=Array.from(d.querySelectorAll(sr)).filter(a),f=o.get(l);if(f!==void 0){let p=f+1;i.splice(p,0,...c),c.forEach((u,h)=>{o.set(u,p+h)});for(let u=p+c.length;u<i.length;u++)o.set(i[u],u)}else{let p=i.length;i.push(...c),c.forEach((u,h)=>{o.set(u,p+h)})}n.push(...c)}}return i}function Ke(e){return!re(e)||e.closest("[inert]")?!1:e.matches(sr)&&im(e)}function Kt(e,t={}){if(!e)return[];let{includeContainer:a,getShadowRoot:i}=t,n=Array.from(e.querySelectorAll(sr));a&&la(e)&&n.unshift(e);let r=[];for(let o of n)if(la(o)){if(Vd(o)&&o.contentDocument){let s=o.contentDocument.body;r.push(...Kt(s,{getShadowRoot:i}));continue}r.push(o)}if(i){let o=Nd(r,i,la);return!o.length&&a?n:o}return!r.length&&a?n:r}function la(e){return re(e)&&e.tabIndex>0?!0:Ke(e)&&!Vm(e)}function Nm(e,t={}){let a=Kt(e,t),i=a[0]||null,n=a[a.length-1]||null;return[i,n]}function pi(e){return e.tabIndex<0&&(Om.test(e.localName)||Pt(e))&&!wm(e)?0:e.tabIndex}function lr(e){let{root:t,getInitialEl:a,filter:i,enabled:n=!0}=e;if(!n)return;let r=null;if(r||(r=typeof a=="function"?a():a),r||(r=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!r){let o=Kt(t);r=i?o.filter(i)[0]:o[0]}return r||t||void 0}function dr(e){let t=e.currentTarget;if(!t)return!1;let[a,i]=Nm(t);return!(Jn(a)&&e.shiftKey||Jn(i)&&!e.shiftKey||!a&&!i)}function F(e){let t=Jo.create();return t.request(e),t.cleanup}function La(e){let t=new Set;function a(i){let n=globalThis.requestAnimationFrame(i);t.add(()=>globalThis.cancelAnimationFrame(n))}return a(()=>a(e)),function(){t.forEach(i=>i())}}function Rm(e,t,a){let i=F(()=>{e.removeEventListener(t,n,!0),a()}),n=()=>{i(),a()};return e.addEventListener(t,n,{once:!0,capture:!0}),i}function Am(e,t){if(!e)return;let{attributes:a,callback:i}=t,n=e.ownerDocument.defaultView||window,r=new n.MutationObserver(o=>{for(let s of o)s.type==="attributes"&&s.attributeName&&a.includes(s.attributeName)&&i(s)});return r.observe(e,{attributes:!0,attributeFilter:a}),()=>r.disconnect()}function ot(e,t){let{defer:a}=t,i=a?F:r=>r(),n=[];return n.push(i(()=>{let r=typeof e=="function"?e():e;n.push(Am(r,t))})),()=>{n.forEach(r=>r==null?void 0:r())}}function Dm(e,t){let{callback:a}=t;if(!e)return;let i=e.ownerDocument.defaultView||window,n=new i.MutationObserver(a);return n.observe(e,{childList:!0,subtree:!0}),()=>n.disconnect()}function ur(e,t){let{defer:a}=t,i=a?F:r=>r(),n=[];return n.push(i(()=>{let r=typeof e=="function"?e():e;n.push(Dm(r,t))})),()=>{n.forEach(r=>r==null?void 0:r())}}function hi(e){let t=()=>{let a=se(e);e.dispatchEvent(new a.MouseEvent("click"))};fm()?Rm(e,"keyup",t):queueMicrotask(t)}function cr(e){let t=om(e);return em(t)?Re(t).body:re(t)&&Ad(t)?t:cr(t)}function Ad(e){let t=se(e),{overflow:a,overflowX:i,overflowY:n,display:r}=t.getComputedStyle(e);return Lm.test(a+n+i)&&!Mm.has(r)}function Fm(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function jt(e,t){let n=t||{},{rootEl:a}=n,i=gt(n,["rootEl"]);!e||!a||!Ad(a)||!Fm(a)||e.scrollIntoView(i)}function Qo(e,t){let{left:a,top:i,width:n,height:r}=t.getBoundingClientRect(),o={x:e.x-a,y:e.y-i},s={x:nd(o.x/n),y:nd(o.y/r)};function l(d={}){let{dir:c="ltr",orientation:f="horizontal",inverted:p}=d,u=typeof p=="object"?p.x:p,h=typeof p=="object"?p.y:p;return f==="horizontal"?c==="rtl"||u?1-s.x:s.x:h?1-s.y:s.y}return{offset:o,percent:s,getPercentValue:l}}function Dd(e,t){let a=e.body,i="pointerLockElement"in e||"mozPointerLockElement"in e,n=()=>!!e.pointerLockElement;function r(){t==null||t(n())}function o(l){n()&&(t==null||t(!1)),console.error("PointerLock error occurred:",l),e.exitPointerLock()}if(!i)return;try{a.requestPointerLock()}catch(l){}let s=[Z(e,"pointerlockchange",r,!1),Z(e,"pointerlockerror",o,!1)];return()=>{s.forEach(l=>l()),e.exitPointerLock()}}function Hm(e={}){let{target:t,doc:a}=e,i=a!=null?a:document,n=i.documentElement;return Qi()?(oi==="default"&&(_o=n.style.webkitUserSelect,n.style.webkitUserSelect="none"),oi="disabled"):t&&(jn.set(t,t.style.userSelect),t.style.userSelect="none"),()=>es({target:t,doc:i})}function es(e={}){let{target:t,doc:a}=e,i=(a!=null?a:document).documentElement;if(Qi()){if(oi!=="disabled")return;oi="restoring",setTimeout(()=>{La(()=>{oi==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=_o||""),_o="",oi="default")})},300)}else if(t&&jn.has(t)){let n=jn.get(t);t.style.userSelect==="none"&&(t.style.userSelect=n!=null?n:""),t.getAttribute("style")===""&&t.removeAttribute("style"),jn.delete(t)}}function ts(e={}){let o=e,{defer:t,target:a}=o,i=gt(o,["defer","target"]),n=t?F:s=>s(),r=[];return r.push(n(()=>{let s=typeof a=="function"?a():a;r.push(Hm(y(g({},i),{target:s})))})),()=>{r.forEach(s=>s==null?void 0:s())}}function da(e,t){let{onPointerMove:a,onPointerUp:i}=t,n=s=>{let l=je(s),d=Math.sqrt(l.x**2+l.y**2),c=s.pointerType==="touch"?10:5;if(!(d<c)){if(s.pointerType==="mouse"&&s.buttons===0){r(s);return}a({point:l,event:s})}},r=s=>{let l=je(s);i({point:l,event:s})},o=[Z(e,"pointermove",n,!1),Z(e,"pointerup",r,!1),Z(e,"pointercancel",r,!1),Z(e,"contextmenu",r,!1),ts({doc:e})];return()=>{o.forEach(s=>s())}}function pr(e){let{pointerNode:t,keyboardNode:a=t,onPress:i,onPressStart:n,onPressEnd:r,isValidKey:o=P=>P.key==="Enter"}=e;if(!t)return _t;let s=se(t),l=_t,d=_t,c=_t,f=P=>({point:je(P),event:P});function p(P){n==null||n(f(P))}function u(P){r==null||r(f(P))}let h=Z(t,"pointerdown",P=>{d();let w=Z(s,"pointerup",m=>{let S=j(m);oe(t,S)?i==null||i(f(m)):r==null||r(f(m))},{passive:!i,once:!0}),b=Z(s,"pointercancel",u,{passive:!r,once:!0});d=Bo(w,b),Jn(a)&&P.pointerType==="mouse"&&P.preventDefault(),p(P)},{passive:!n}),v=Z(a,"focus",C);l=Bo(h,v);function C(){let P=S=>{if(!o(S))return;let x=V=>{if(!o(V))return;let k=new s.PointerEvent("pointerup"),D=f(k);i==null||i(D),r==null||r(D)};d(),d=Z(a,"keyup",x);let O=new s.PointerEvent("pointerdown");p(O)},w=()=>{let S=new s.PointerEvent("pointercancel");u(S)},b=Z(a,"keydown",P),m=Z(a,"blur",w);c=Bo(b,m)}return()=>{l(),d(),c()}}function De(e,t){var a;return Array.from((a=e==null?void 0:e.querySelectorAll(t))!=null?a:[])}function gi(e,t){var a;return(a=e==null?void 0:e.querySelector(t))!=null?a:null}function is(e,t,a=as){return e.find(i=>a(i)===t)}function ns(e,t,a=as){let i=is(e,t,a);return i?e.indexOf(i):-1}function fi(e,t,a=!0){let i=ns(e,t);return i=a?(i+1)%e.length:Math.min(i+1,e.length-1),e[i]}function mi(e,t,a=!0){let i=ns(e,t);return i===-1?a?e[e.length-1]:null:(i=a?(i-1+e.length)%e.length:Math.max(0,i-1),e[i])}function Bm(e){let t=new WeakMap,a,i=new WeakMap,n=r=>a||(a=new r.ResizeObserver(o=>{for(let s of o){i.set(s.target,s);let l=t.get(s.target);if(l)for(let d of l)d(s)}}),a);return{observe:(r,o)=>{let s=t.get(r)||new Set;s.add(o),t.set(r,s);let l=se(r);return n(l).observe(r,e),()=>{let d=t.get(r);d&&(d.delete(o),d.size===0&&(t.delete(r),n(l).unobserve(r)))}},unobserve:r=>{t.delete(r),a==null||a.unobserve(r)}}}function $m(e,t,a,i=as){let n=a?ns(e,a,i):-1,r=a?Yf(e,n):e;return t.length===1&&(r=r.filter(o=>i(o)!==a)),r.find(o=>_m(Um(o),t))}function Ld(e,t,a){let i=e.getAttribute(t),n=i!=null;return i===a?_t:(e.setAttribute(t,a),()=>{n?e.setAttribute(t,i):e.removeAttribute(t)})}function Ma(e,t){if(!e)return _t;let a=Object.keys(t).reduce((i,n)=>(i[n]=e.style.getPropertyValue(n),i),{});return qm(a,t)?_t:(Object.assign(e.style,t),()=>{Object.assign(e.style,a),e.style.length===0&&e.removeAttribute("style")})}function Md(e,t,a){if(!e)return _t;let i=e.style.getPropertyValue(t);return i===a?_t:(e.style.setProperty(t,a),()=>{e.style.setProperty(t,i),e.style.length===0&&e.removeAttribute("style")})}function qm(e,t){return Object.keys(e).every(a=>e[a]===t[a])}function zm(e,t){let{state:a,activeId:i,key:n,timeout:r=350,itemToId:o}=t,s=a.keysSoFar+n,l=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,d=e.slice(),c=$m(d,l,i,o);function f(){clearTimeout(a.timer),a.timer=-1}function p(u){a.keysSoFar=u,f(),u!==""&&(a.timer=+setTimeout(()=>{p(""),f()},r))}return p(s),c}function Wm(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function Km(e,t,a){let{signal:i}=t;return[new Promise((n,r)=>{let o=setTimeout(()=>{r(new Error(`Timeout of ${a}ms exceeded`))},a);i.addEventListener("abort",()=>{clearTimeout(o),r(new Error("Promise aborted"))}),e.then(s=>{i.aborted||(clearTimeout(o),n(s))}).catch(s=>{i.aborted||(clearTimeout(o),r(s))})}),()=>t.abort()]}function Fd(e,t){let{timeout:a,rootNode:i}=t,n=se(i),r=Re(i),o=new n.AbortController;return Km(new Promise(s=>{let l=e();if(l){s(l);return}let d=new n.MutationObserver(()=>{let c=e();c&&c.isConnected&&(d.disconnect(),s(c))});d.observe(r.body,{childList:!0,subtree:!0})}),o,a)}function nn(e){return e==null?[]:Array.isArray(e)?e:[e]}function vi(e,t,a={}){let{step:i=1,loop:n=!0}=a,r=t+i,o=e.length,s=o-1;return t===-1?i>0?0:s:r<0?n?s:0:r>=o?n?0:t>o?o:t:r}function Bd(e,t,a={}){return e[vi(e,t,a)]}function rn(e,t,a={}){let{step:i=1,loop:n=!0}=a;return vi(e,t,{step:-i,loop:n})}function Gd(e,t,a={}){return e[rn(e,t,a)]}function on(e,t){return e.reduce((a,i,n)=>{var r;return n%t===0?a.push([i]):(r=ft(a))==null||r.push(i),a},[])}function rs(e,t){return e.reduce(([a,i],n)=>(t(n)?a.push(n):i.push(n),[a,i]),[[],[]])}function xe(e,t,...a){var n;if(e in t){let r=t[e];return $t(r)?r(...a):r}let i=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(n=Error.captureStackTrace)==null||n.call(Error,i,xe),i}function Wd(e,t=0){let a=0,i=null;return(...n)=>{let r=Date.now(),o=r-a;o>=t?(i&&(clearTimeout(i),i=null),e(...n),a=r):i||(i=setTimeout(()=>{e(...n),a=Date.now(),i=null},t-o))}}function xi(e){if(!Yi(e)||e===void 0)return e;let t=Reflect.ownKeys(e).filter(i=>typeof i=="string"),a={};for(let i of t){let n=e[i];n!==void 0&&(a[i]=xi(n))}return a}function pa(e,t){let a={};for(let i of t){let n=e[i];n!==void 0&&(a[i]=n)}return a}function uv(e,t){let a={},i={},n=new Set(t),r=Reflect.ownKeys(e);for(let o of r)n.has(o)?i[o]=e[o]:a[o]=e[o];return[i,a]}function iu(e,t){let a=new au(({now:i,deltaMs:n})=>{if(n>=t){let r=t>0?i-n%t:i;a.setStartMs(r),e({startMs:r,deltaMs:n})}});return a.start(),()=>a.stop()}function ha(e,t){let a=new au(({deltaMs:i})=>{if(i>=t)return e(),!1});return a.start(),()=>a.stop()}function zt(...e){let t=e.length===1?e[0]:e[1],a=e.length===2?e[0]:!0}function fr(...e){let t=e.length===1?e[0]:e[1],a=e.length===2?e[0]:!0}function ga(e,t){if(e==null)throw new Error(t())}function fa(e,t,a){let i=[];for(let n of t)e[n]==null&&i.push(n);if(i.length>0)throw new Error(`[zag-js${a?` > ${a}`:""}] missing required props: ${i.join(", ")}`)}function nu(...e){let t={};for(let a of e){if(!a)continue;for(let n in t){if(n.startsWith("on")&&typeof t[n]=="function"&&typeof a[n]=="function"){t[n]=wt(a[n],t[n]);continue}if(n==="className"||n==="class"){t[n]=cv(t[n],a[n]);continue}if(n==="style"){t[n]=hv(t[n],a[n]);continue}t[n]=a[n]!==void 0?a[n]:t[n]}for(let n in a)t[n]===void 0&&(t[n]=a[n]);let i=Object.getOwnPropertySymbols(a);for(let n of i)t[n]=a[n]}return t}function Fa(e,t,a){let i=[],n;return r=>{var s;let o=e(r);return(o.length!==i.length||o.some((l,d)=>!ge(i[d],l)))&&(i=o,n=t(o,r),(s=a==null?void 0:a.onChange)==null||s.call(a,n)),n}}function be(){return{and:(...e)=>function(t){return e.every(a=>t.guard(a))},or:(...e)=>function(t){return e.some(a=>t.guard(a))},not:e=>function(t){return!t.guard(e)}}}function dt(){return{guards:be(),createMachine:e=>e,choose:e=>function({choose:t}){var a;return(a=t(e))==null?void 0:a.actions}}}function gv(e){let t=()=>{var i,n;return(n=(i=e.getRootNode)==null?void 0:i.call(e))!=null?n:document},a=()=>Re(t());return y(g({},e),{getRootNode:t,getDoc:a,getWin:()=>{var i;return(i=a().defaultView)!=null?i:window},getActiveElement:()=>si(t()),isActiveElement:Jn,getById:i=>t().getElementById(i)})}function fv(e){return new Proxy({},{get(t,a){return a==="style"?i=>e({style:i}).style:e}})}function yv(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function ru(e,t){let a=yv();return a?(a[e]||(a[e]=t()),a[e]):t()}function mr(e={}){return Sv(e)}function er(e,t,a){let i=Na.get(e);Qn()&&!i&&console.warn("Please use proxy object");let n,r=[],o=i[3],s=!1,l=o(d=>{if(r.push(d),a){t(r.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,s&&t(r.splice(0))}))});return s=!0,()=>{s=!1,l()}}function Iv(e){let t=Na.get(e);Qn()&&!t&&console.warn("Please use proxy object");let[a,i,n]=t;return n(a,i())}function Av(e,t,a){let i=a||"default",n=Wn.get(e);n||(n=new Map,Wn.set(e,n));let r=n.get(i)||{},o=Object.keys(t),s=(h,v)=>{e.addEventListener(h.toLowerCase(),v)},l=(h,v)=>{e.removeEventListener(h.toLowerCase(),v)},d=h=>h.startsWith("on"),c=h=>!h.startsWith("on"),f=h=>s(h.substring(2),t[h]),p=h=>l(h.substring(2),t[h]),u=h=>{let v=t[h],C=r[h];if(v!==C){if(h==="class"){e.className=v!=null?v:"";return}if(md.has(h)){e[h]=v!=null?v:"";return}if(typeof v=="boolean"&&!h.includes("aria-")){e.toggleAttribute(Kn(e,h),v);return}if(h==="children"){e.innerHTML=v;return}if(v!=null){e.setAttribute(Kn(e,h),v);return}e.removeAttribute(Kn(e,h))}};for(let h in r)t[h]==null&&(h==="class"?e.className="":md.has(h)?e[h]="":e.removeAttribute(Kn(e,h)));return Object.keys(r).filter(d).forEach(h=>{l(h.substring(2),r[h])}),o.filter(d).forEach(f),o.filter(c).forEach(u),n.set(i,t),function(){o.filter(d).forEach(p);let h=Wn.get(e);h&&(h.delete(i),h.size===0&&Wn.delete(e))}}function tr(e){var r,o;let t=(r=e().value)!=null?r:e().defaultValue;e().debug&&console.log(`[bindable > ${e().debug}] initial`,t);let a=(o=e().isEqual)!=null?o:Object.is,i=mr({value:t}),n=()=>e().value!==void 0;return{initial:t,ref:i,get(){return n()?e().value:i.value},set(s){var c,f;let l=i.value,d=$t(s)?s(l):s;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:d,prev:l}),n()||(i.value=d),a(d,l)||((f=(c=e()).onChange)==null||f.call(c,d,l))},invoke(s,l){var d,c;(c=(d=e()).onChange)==null||c.call(d,s,l)},hash(s){var l,d,c;return(c=(d=(l=e()).hash)==null?void 0:d.call(l,s))!=null?c:String(s)}}}function Dv(e){let t={current:e};return{get(a){return t.current[a]},set(a,i){t.current[a]=i}}}function ou(e,t){if(!Yi(e)||!Yi(t))return t===void 0?e:t;let a=g({},e);for(let i of Object.keys(t)){let n=t[i],r=e[i];n!==void 0&&(Yi(r)&&Yi(n)?a[i]=ou(r,n):a[i]=n)}return a}var zf,I,X,W,T,Aa,_,ri,Wf,Kf,jf,Ho,nd,Yf,Bo,_t,ar,ir,E,Y,Xf,Zf,Jf,re,Ji,Qf,vd,tm,Ra,am,nt,im,nm,Go,Ko,sm,bd,rr,Yo,Td,pm,Xo,hm,gm,Qi,Zo,li,Ye,fm,mm,he,di,Ie,bm,ym,rd,Em,xm,Z,Vd,Om,wm,Vm,sr,an,Jo,Lm,Mm,oi,_o,jn,as,ua,Gm,Um,_m,_e,It,jm,Hd,Ym,sa,Xm,od,Zm,st,ft,Jm,Xe,lt,mt,hr,vt,sd,Qm,ge,ca,Ud,_d,Ot,Yn,$t,$d,Fe,ev,qd,tv,Yi,av,iv,nv,qt,os,rv,zd,wt,sn,Kd,ld,jd,ov,sv,lv,dv,$o,bi,Yd,Xd,Zd,yi,He,dd,Ei,Jd,gr,ud,Qd,eu,tu,me,H,zn,Xn,au,cv,pv,cd,hv,Xi,Uo,B,aw,mv,pd,qo,vv,bv,hd,Zn,Ev,xv,Cv,Tv,zo,gd,Qn,Na,Pv,Sv,Ov,wv,ne,fd,Vv,kv,$,Wn,md,Nv,Rv,Kn,q,z,ae=te(()=>{"use strict";zf=["ltr","rtl"];I=(e,t,a)=>{let i=e.dataset[t];if(i!==void 0&&(!a||a.includes(i)))return i},X=(e,t)=>{let a=e.dataset[t];if(typeof a=="string")return a.split(",").map(i=>i.trim()).filter(i=>i.length>0)},W=(e,t,a)=>{let i=e.dataset[t];if(i===void 0)return;let n=Number(i);if(!Number.isNaN(n))return a&&!a.includes(n)?0:n},T=(e,t)=>{let a=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.hasAttribute(`data-${a}`)},Aa=(e,t="element")=>e!=null&&e.id?e.id:`${t}-${Math.random().toString(36).substring(2,9)}`,_=(e,t=[])=>({parts:(...a)=>{if(Wf(t))return _(e,a);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...a)=>_(e,[...t,...a]),omit:(...a)=>_(e,t.filter(i=>!a.includes(i))),rename:a=>_(a,t),keys:()=>t,build:()=>[...new Set(t)].reduce((a,i)=>Object.assign(a,{[i]:{selector:[`&[data-scope="${ri(e)}"][data-part="${ri(i)}"]`,`& [data-scope="${ri(e)}"][data-part="${ri(i)}"]`].join(", "),attrs:{"data-scope":ri(e),"data-part":ri(i)}}}),{})}),ri=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Wf=e=>e.length===0,Kf=Object.defineProperty,jf=(e,t,a)=>t in e?Kf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ho=(e,t,a)=>jf(e,typeof t!="symbol"?t+"":t,a);nd=e=>Math.max(0,Math.min(1,e)),Yf=(e,t)=>e.map((a,i)=>e[(Math.max(t,0)+i)%e.length]),Bo=(...e)=>t=>e.reduce((a,i)=>i(a),t),_t=()=>{},ar=e=>typeof e=="object"&&e!==null,ir=2147483647,E=e=>e?"":void 0,Y=e=>e?"true":void 0,Xf=1,Zf=9,Jf=11,re=e=>ar(e)&&e.nodeType===Xf&&typeof e.nodeName=="string",Ji=e=>ar(e)&&e.nodeType===Zf,Qf=e=>ar(e)&&e===e.window,vd=e=>re(e)?e.localName||"":"#document";tm=e=>ar(e)&&e.nodeType!==void 0,Ra=e=>tm(e)&&e.nodeType===Jf&&"host"in e,am=e=>re(e)&&e.localName==="input",nt=e=>!!(e!=null&&e.matches("a[href]")),im=e=>re(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;nm=/(textarea|select)/;Go=new WeakMap;Ko=new Set(["menu","listbox","dialog","grid","tree","region"]),sm=e=>Ko.has(e),bd=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};rr=()=>typeof document<"u";Yo=e=>rr()&&e.test(um()),Td=e=>rr()&&e.test(cm()),pm=e=>rr()&&e.test(navigator.vendor),Xo=()=>rr()&&!!navigator.maxTouchPoints,hm=()=>Yo(/^iPhone/i),gm=()=>Yo(/^iPad/i)||li()&&navigator.maxTouchPoints>1,Qi=()=>hm()||gm(),Zo=()=>li()||Qi(),li=()=>Yo(/^Mac/i),Ye=()=>Zo()&&pm(/apple/i),fm=()=>Td(/Firefox/i),mm=()=>Td(/Android/i);he=e=>e.button===0,di=e=>e.button===2||li()&&e.ctrlKey&&e.button===0,Ie=e=>e.ctrlKey||e.altKey||e.metaKey,bm=e=>"touches"in e&&e.touches.length>0,ym={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},rd={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};Em=new Set(["PageUp","PageDown"]),xm=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);Z=(e,t,a,i)=>{let n=typeof e=="function"?e():e;return n==null||n.addEventListener(t,a,i),()=>{n==null||n.removeEventListener(t,a,i)}};Vd=e=>re(e)&&e.tagName==="IFRAME",Om=/^(audio|video|details)$/;wm=e=>!Number.isNaN(kd(e)),Vm=e=>kd(e)<0;sr="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",an=(e,t={})=>{if(!e)return[];let{includeContainer:a=!1,getShadowRoot:i}=t,n=Array.from(e.querySelectorAll(sr));(a==!0||a=="if-empty"&&n.length===0)&&re(e)&&Ke(e)&&n.unshift(e);let r=[];for(let o of n)if(Ke(o)){if(Vd(o)&&o.contentDocument){let s=o.contentDocument.body;r.push(...an(s,{getShadowRoot:i}));continue}r.push(o)}return i?Nd(r,i,Ke):r};Jo=class Rd{constructor(){Ho(this,"id",null),Ho(this,"fn_cleanup"),Ho(this,"cleanup",()=>{this.cancel()})}static create(){return new Rd}request(t){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=t==null?void 0:t()})}cancel(){var t;this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),(t=this.fn_cleanup)==null||t.call(this),this.fn_cleanup=void 0}isActive(){return this.id!==null}};Lm=/auto|scroll|overlay|hidden|clip/,Mm=new Set(["inline","contents"]);oi="default",_o="",jn=new WeakMap;as=e=>e.id;ua=Bm({box:"border-box"}),Gm=e=>e.split("").map(t=>{let a=t.charCodeAt(0);return a>0&&a<128?t:a>=128&&a<=255?`/x${a.toString(16)}`.replace("/","\\"):""}).join("").trim(),Um=e=>{var t,a,i;return Gm((i=(a=(t=e.dataset)==null?void 0:t.valuetext)!=null?a:e.textContent)!=null?i:"")},_m=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());_e=Object.assign(zm,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Wm});It={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};jm=Object.defineProperty,Hd=e=>{throw TypeError(e)},Ym=(e,t,a)=>t in e?jm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,sa=(e,t,a)=>Ym(e,typeof t!="symbol"?t+"":t,a),Xm=(e,t,a)=>t.has(e)||Hd("Cannot "+a),od=(e,t,a)=>(Xm(e,t,"read from private field"),t.get(e)),Zm=(e,t,a)=>t.has(e)?Hd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a);st=e=>e[0],ft=e=>e[e.length-1],Jm=(e,t)=>e.indexOf(t)!==-1,Xe=(e,...t)=>e.concat(t),lt=(e,...t)=>e.filter(a=>!t.includes(a)),mt=e=>Array.from(new Set(e)),hr=(e,t)=>{let a=new Set(t);return e.filter(i=>!a.has(i))},vt=(e,t)=>Jm(e,t)?lt(e,t):Xe(e,t);sd=e=>(e==null?void 0:e.constructor.name)==="Array",Qm=(e,t)=>{if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!ge(e[a],t[a]))return!1;return!0},ge=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(sd(e)&&sd(t))return Qm(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;let a=Object.keys(t!=null?t:Object.create(null)),i=a.length;for(let n=0;n<i;n++)if(!Reflect.has(e,a[n]))return!1;for(let n=0;n<i;n++){let r=a[n];if(!ge(e[r],t[r]))return!1}return!0},ca=e=>Array.isArray(e),Ud=e=>e===!0||e===!1,_d=e=>e!=null&&typeof e=="object",Ot=e=>_d(e)&&!ca(e),Yn=e=>typeof e=="string",$t=e=>typeof e=="function",$d=e=>e==null,Fe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ev=e=>Object.prototype.toString.call(e),qd=Function.prototype.toString,tv=qd.call(Object),Yi=e=>{if(!_d(e)||ev(e)!="[object Object]"||nv(e))return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let a=Fe(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&qd.call(a)==tv},av=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,iv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,nv=e=>av(e)||iv(e),qt=(e,...t)=>{var a;return(a=typeof e=="function"?e(...t):e)!=null?a:void 0},os=e=>e,rv=e=>e(),zd=()=>{},wt=(...e)=>(...t)=>{e.forEach(function(a){a==null||a(...t)})},sn=(()=>{let e=0;return()=>(e++,e.toString(36))})();({floor:Kd,abs:ld,round:jd,min:ov,max:sv,pow:lv,sign:dv}=Math),$o=e=>Number.isNaN(e),bi=e=>$o(e)?0:e,Yd=(e,t)=>(e%t+t)%t,Xd=(e,t)=>bi(e)>=t,Zd=(e,t)=>bi(e)<=t,yi=(e,t,a)=>{let i=bi(e),n=t==null||i>=t,r=a==null||i<=a;return n&&r},He=(e,t,a)=>ov(sv(bi(e),t),a),dd=(e,t)=>{let a=e,i=t.toString(),n=i.indexOf("."),r=n>=0?i.length-n:0;if(r>0){let o=lv(10,r);a=jd(a*o)/o}return a},Ei=(e,t)=>typeof t=="number"?Kd(e*t+.5)/t:jd(e),Jd=(e,t,a,i)=>{let n=t!=null?Number(t):0,r=Number(a),o=(e-n)%i,s=ld(o)*2>=i?e+dv(o)*(i-ld(o)):e-o;if(s=dd(s,i),!$o(n)&&s<n)s=n;else if(!$o(r)&&s>r){let l=Kd((r-n)/i),d=n+l*i;s=l<=0||d<n?r:d}return dd(s,i)},gr=(e,t,a)=>e[t]===a?e:[...e.slice(0,t),a,...e.slice(t+1)],ud=e=>{if(!Number.isFinite(e))return 0;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a+=1;return a},Qd=(e,t,a)=>{let i=t==="+"?e+a:e-a;if(e%1!==0||a%1!==0){let n=10**Math.max(ud(e),ud(a));e=Math.round(e*n),a=Math.round(a*n),i=t==="+"?e+a:e-a,i/=n}return i},eu=(e,t)=>Qd(bi(e),"+",t),tu=(e,t)=>Qd(bi(e),"-",t),me=e=>typeof e=="number"?`${e}px`:e;H=e=>function(t){return uv(t,e)},zn=()=>performance.now(),au=class{constructor(e){this.onTick=e,sa(this,"frameId",null),sa(this,"pausedAtMs",null),sa(this,"context"),sa(this,"cancelFrame",()=>{this.frameId!==null&&(cancelAnimationFrame(this.frameId),this.frameId=null)}),sa(this,"setStartMs",t=>{this.context.startMs=t}),sa(this,"start",()=>{if(this.frameId!==null)return;let t=zn();this.pausedAtMs!==null?(this.context.startMs+=t-this.pausedAtMs,this.pausedAtMs=null):this.context.startMs=t,this.frameId=requestAnimationFrame(od(this,Xn))}),sa(this,"pause",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=zn())}),sa(this,"stop",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=null)}),Zm(this,Xn,t=>{if(this.context.now=t,this.context.deltaMs=t-this.context.startMs,this.onTick(this.context)===!1){this.stop();return}this.frameId=requestAnimationFrame(od(this,Xn))}),this.context={now:0,startMs:zn(),deltaMs:0}}get elapsedMs(){return this.pausedAtMs!==null?this.pausedAtMs-this.context.startMs:zn()-this.context.startMs}};Xn=new WeakMap;cv=(...e)=>e.map(t=>{var a;return(a=t==null?void 0:t.trim)==null?void 0:a.call(t)}).filter(Boolean).join(" "),pv=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,cd=e=>{let t={},a;for(;a=pv.exec(e);)t[a[1]]=a[2];return t},hv=(e,t)=>{if(Yn(e)){if(Yn(t))return`${e};${t}`;e=cd(e)}else Yn(t)&&(t=cd(t));return Object.assign({},e!=null?e:{},t!=null?t:{})};Xi=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(Xi||{}),Uo="__init__";B=()=>e=>Array.from(new Set(e)),aw=Symbol(),mv=Symbol(),pd=Object.getPrototypeOf,qo=new WeakMap,vv=e=>e&&(qo.has(e)?qo.get(e):pd(e)===Object.prototype||pd(e)===Array.prototype),bv=e=>vv(e)&&e[mv]||null,hd=(e,t=!0)=>{qo.set(e,t)};Zn=ru("__zag__refSet",()=>new WeakSet),Ev=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,xv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Cv=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Tv=e=>Ev(e)||xv(e)||Cv(e),zo=e=>e!==null&&typeof e=="object",gd=e=>zo(e)&&!Zn.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Tv(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise)&&!(e instanceof File)&&!(e instanceof Blob)&&!(e instanceof AbortController),Qn=()=>!1,Na=ru("__zag__proxyStateMap",()=>new WeakMap),Pv=(e=Object.is,t=(s,l)=>new Proxy(s,l),a=new WeakMap,i=(s,l)=>{let d=a.get(s);if((d==null?void 0:d[0])===l)return d[1];let c=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return hd(c,!0),a.set(s,[l,c]),Reflect.ownKeys(s).forEach(f=>{let p=Reflect.get(s,f);Zn.has(p)?(hd(p,!1),c[f]=p):Na.has(p)?c[f]=Iv(p):c[f]=p}),Object.freeze(c)},n=new WeakMap,r=[1,1],o=s=>{if(!zo(s))throw new Error("object required");let l=n.get(s);if(l)return l;let d=r[0],c=new Set,f=(x,O=++r[0])=>{d!==O&&(d=O,c.forEach(V=>V(x,O)))},p=r[1],u=(x=++r[1])=>(p!==x&&!c.size&&(p=x,v.forEach(([O])=>{let V=O[1](x);V>d&&(d=V)})),d),h=x=>(O,V)=>{let k=[...O];k[1]=[x,...k[1]],f(k,V)},v=new Map,C=(x,O)=>{if(Qn()&&v.has(x))throw new Error("prop listener already exists");if(c.size){let V=O[3](h(x));v.set(x,[O,V])}else v.set(x,[O])},P=x=>{var V;let O=v.get(x);O&&(v.delete(x),(V=O[1])==null||V.call(O))},w=x=>(c.add(x),c.size===1&&v.forEach(([O,V],k)=>{if(Qn()&&V)throw new Error("remove already exists");let D=O[3](h(k));v.set(k,[O,D])}),()=>{c.delete(x),c.size===0&&v.forEach(([O,V],k)=>{V&&(V(),v.set(k,[O]))})}),b=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),m=t(b,{deleteProperty(x,O){let V=Reflect.get(x,O);P(O);let k=Reflect.deleteProperty(x,O);return k&&f(["delete",[O],V]),k},set(x,O,V,k){var J;let D=Reflect.has(x,O),N=Reflect.get(x,O,k);if(D&&(e(N,V)||n.has(V)&&e(N,n.get(V))))return!0;P(O),zo(V)&&(V=bv(V)||V);let U=V;if(!((J=Object.getOwnPropertyDescriptor(x,O))!=null&&J.set)){!Na.has(V)&&gd(V)&&(U=mr(V));let pe=!Zn.has(U)&&Na.get(U);pe&&C(O,pe)}return Reflect.set(x,O,U,k),f(["set",[O],V,N]),!0}});n.set(s,m);let S=[b,u,i,w];return Na.set(m,S),Reflect.ownKeys(s).forEach(x=>{let O=Object.getOwnPropertyDescriptor(s,x);O.get||O.set?Object.defineProperty(b,x,O):m[x]=s[x]}),m})=>[o,Na,Zn,e,t,gd,a,i,n,r],[Sv]=Pv();Ov=Object.defineProperty,wv=(e,t,a)=>t in e?Ov(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ne=(e,t,a)=>wv(e,typeof t!="symbol"?t+"":t,a),fd={onFocus:"onFocusin",onBlur:"onFocusout",onChange:"onInput",onDoubleClick:"onDblclick",htmlFor:"for",className:"class",defaultValue:"value",defaultChecked:"checked"},Vv=new Set(["viewBox","preserveAspectRatio"]),kv=e=>{let t="";for(let a in e){let i=e[a];i!=null&&(a.startsWith("--")||(a=a.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)),t+=`${a}:${i};`)}return t},$=fv(e=>Object.entries(e).reduce((t,[a,i])=>{if(i===void 0)return t;if(a in fd&&(a=fd[a]),a==="style"&&typeof i=="object")return t.style=kv(i),t;let n=Vv.has(a)?a:a.toLowerCase();return t[n]=i,t},{})),Wn=new WeakMap,md=new Set(["value","checked","selected"]),Nv=new Set(["viewBox","preserveAspectRatio","clipPath","clipRule","fillRule","strokeWidth","strokeLinecap","strokeLinejoin","strokeDasharray","strokeDashoffset","strokeMiterlimit"]),Rv=e=>e.tagName==="svg"||e.namespaceURI==="http://www.w3.org/2000/svg",Kn=(e,t)=>Rv(e)&&Nv.has(t)?t:t.toLowerCase();tr.cleanup=e=>{};tr.ref=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}};q=class{constructor(e,t={}){var f,p,u;this.machine=e,ne(this,"scope"),ne(this,"context"),ne(this,"prop"),ne(this,"state"),ne(this,"refs"),ne(this,"computed"),ne(this,"event",{type:""}),ne(this,"previousEvent",{type:""}),ne(this,"effects",new Map),ne(this,"transition",null),ne(this,"cleanups",[]),ne(this,"subscriptions",[]),ne(this,"userPropsRef"),ne(this,"getEvent",()=>y(g({},this.event),{current:()=>this.event,previous:()=>this.previousEvent})),ne(this,"getStateConfig",h=>this.machine.states[h]),ne(this,"getState",()=>y(g({},this.state),{matches:(...h)=>h.includes(this.state.get()),hasTag:h=>{var v,C;return!!((C=(v=this.getStateConfig(this.state.get()))==null?void 0:v.tags)!=null&&C.includes(h))}})),ne(this,"debug",(...h)=>{this.machine.debug&&console.log(...h)}),ne(this,"notify",()=>{this.publish()}),ne(this,"send",h=>{this.status===Xi.Started&&queueMicrotask(()=>{var S,x,O,V,k;if(!h)return;this.previousEvent=this.event,this.event=h,this.debug("send",h);let v=this.state.get(),C=h.type,P=(V=(x=(S=this.getStateConfig(v))==null?void 0:S.on)==null?void 0:x[C])!=null?V:(O=this.machine.on)==null?void 0:O[C],w=this.choose(P);if(!w)return;this.transition=w;let b=(k=w.target)!=null?k:v;this.debug("transition",w);let m=b!==v;m?this.state.set(b):w.reenter&&!m?this.state.invoke(v,v):this.action(w.actions)})}),ne(this,"action",h=>{let v=$t(h)?h(this.getParams()):h;if(!v)return;let C=v.map(P=>{var b,m;let w=(m=(b=this.machine.implementations)==null?void 0:b.actions)==null?void 0:m[P];return w||zt(`[zag-js] No implementation found for action "${JSON.stringify(P)}"`),w});for(let P of C)P==null||P(this.getParams())}),ne(this,"guard",h=>{var v,C;return $t(h)?h(this.getParams()):(C=(v=this.machine.implementations)==null?void 0:v.guards)==null?void 0:C[h](this.getParams())}),ne(this,"effect",h=>{let v=$t(h)?h(this.getParams()):h;if(!v)return;let C=v.map(w=>{var m,S;let b=(S=(m=this.machine.implementations)==null?void 0:m.effects)==null?void 0:S[w];return b||zt(`[zag-js] No implementation found for effect "${JSON.stringify(w)}"`),b}),P=[];for(let w of C){let b=w==null?void 0:w(this.getParams());b&&P.push(b)}return()=>P.forEach(w=>w==null?void 0:w())}),ne(this,"choose",h=>nn(h).find(v=>{let C=!v.guard;return Yn(v.guard)?C=!!this.guard(v.guard):$t(v.guard)&&(C=v.guard(this.getParams())),C})),ne(this,"subscribe",h=>(this.subscriptions.push(h),()=>{let v=this.subscriptions.indexOf(h);v>-1&&this.subscriptions.splice(v,1)})),ne(this,"status",Xi.NotStarted),ne(this,"publish",()=>{this.callTrackers(),this.subscriptions.forEach(h=>h(this.service))}),ne(this,"trackers",[]),ne(this,"setupTrackers",()=>{var h,v;(v=(h=this.machine).watch)==null||v.call(h,this.getParams())}),ne(this,"callTrackers",()=>{this.trackers.forEach(({deps:h,fn:v})=>{let C=h.map(P=>P());ge(v.prev,C)||(v(),v.prev=C)})}),ne(this,"getParams",()=>({state:this.getState(),context:this.context,event:this.getEvent(),prop:this.prop,send:this.send,action:this.action,guard:this.guard,track:(h,v)=>{v.prev=h.map(C=>C()),this.trackers.push({deps:h,fn:v})},refs:this.refs,computed:this.computed,flush:rv,scope:this.scope,choose:this.choose})),this.userPropsRef={current:t};let{id:a,ids:i,getRootNode:n}=qt(t);this.scope=gv({id:a,ids:i,getRootNode:n});let r=h=>{var C,P;let v=qt(this.userPropsRef.current);return((P=(C=e.props)==null?void 0:C.call(e,{props:xi(v),scope:this.scope}))!=null?P:v)[h]};this.prop=r;let o=(f=e.context)==null?void 0:f.call(e,{prop:r,bindable:tr,scope:this.scope,flush(h){queueMicrotask(h)},getContext(){return s},getComputed(){return l},getRefs(){return d},getEvent:this.getEvent.bind(this)});o&&Object.values(o).forEach(h=>{let v=er(h.ref,()=>this.notify());this.cleanups.push(v)});let s={get(h){return o==null?void 0:o[h].get()},set(h,v){o==null||o[h].set(v)},initial(h){return o==null?void 0:o[h].initial},hash(h){let v=o==null?void 0:o[h].get();return o==null?void 0:o[h].hash(v)}};this.context=s;let l=h=>{var v,C;return(C=(v=e.computed)==null?void 0:v[h]({context:s,event:this.getEvent(),prop:r,refs:this.refs,scope:this.scope,computed:l}))!=null?C:{}};this.computed=l;let d=Dv((u=(p=e.refs)==null?void 0:p.call(e,{prop:r,context:s}))!=null?u:{});this.refs=d;let c=tr(()=>({defaultValue:e.initialState({prop:r}),onChange:(h,v)=>{var P,w,b,m,S;v&&((P=this.effects.get(v))==null||P(),this.effects.delete(v)),v&&this.action((w=this.getStateConfig(v))==null?void 0:w.exit),this.action((b=this.transition)==null?void 0:b.actions);let C=this.effect((m=this.getStateConfig(h))==null?void 0:m.effects);if(C&&this.effects.set(h,C),v===Uo){this.action(e.entry);let x=this.effect(e.effects);x&&this.effects.set(Uo,x)}this.action((S=this.getStateConfig(h))==null?void 0:S.entry)}}));this.state=c,this.cleanups.push(er(this.state.ref,()=>this.notify()))}updateProps(e){let t=this.userPropsRef.current;this.userPropsRef.current=()=>{let a=qt(t),i=qt(e);return ou(a,i)},this.notify()}start(){this.status=Xi.Started,this.debug("initializing..."),this.state.invoke(this.state.initial,Uo),this.setupTrackers()}stop(){this.effects.forEach(e=>e==null?void 0:e()),this.effects.clear(),this.transition=null,this.action(this.machine.exit),this.cleanups.forEach(e=>e()),this.cleanups=[],this.subscriptions=[],this.status=Xi.Stopped,this.debug("unmounting...")}get service(){return{state:this.getState(),send:this.send,context:this.context,prop:this.prop,scope:this.scope,refs:this.refs,computed:this.computed,event:this.getEvent(),getStatus:()=>this.status}}},z=class{constructor(e,t){K(this,"el");K(this,"doc");K(this,"machine");K(this,"api");K(this,"init",()=>{this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start()});K(this,"destroy",()=>{this.machine.stop()});K(this,"spreadProps",(e,t)=>{Av(e,t,this.machine.scope.id)});K(this,"updateProps",e=>{this.machine.updateProps(e)});if(!e)throw new Error("Root element not found");this.el=e,this.doc=document,this.machine=this.initMachine(t),this.api=this.initApi()}}});var su={};de(su,{Accordion:()=>Yv});function _v(e,t){let{send:a,context:i,prop:n,scope:r,computed:o}=e,s=i.get("focusedValue"),l=i.get("value"),d=n("multiple");function c(p){let u=p;!d&&u.length>1&&(u=[u[0]]),a({type:"VALUE.SET",value:u})}function f(p){var u;return{expanded:l.includes(p.value),focused:s===p.value,disabled:!!((u=p.disabled)!=null?u:n("disabled"))}}return{focusedValue:s,value:l,setValue:c,getItemState:f,getRootProps(){return t.element(y(g({},ln.root.attrs),{dir:n("dir"),id:vr(r),"data-orientation":n("orientation")}))},getItemProps(p){let u=f(p);return t.element(y(g({},ln.item.attrs),{dir:n("dir"),id:Mv(r,p.value),"data-state":u.expanded?"open":"closed","data-focus":E(u.focused),"data-disabled":E(u.disabled),"data-orientation":n("orientation")}))},getItemContentProps(p){let u=f(p);return t.element(y(g({},ln.itemContent.attrs),{dir:n("dir"),role:"region",id:ss(r,p.value),"aria-labelledby":br(r,p.value),hidden:!u.expanded,"data-state":u.expanded?"open":"closed","data-disabled":E(u.disabled),"data-focus":E(u.focused),"data-orientation":n("orientation")}))},getItemIndicatorProps(p){let u=f(p);return t.element(y(g({},ln.itemIndicator.attrs),{dir:n("dir"),"aria-hidden":!0,"data-state":u.expanded?"open":"closed","data-disabled":E(u.disabled),"data-focus":E(u.focused),"data-orientation":n("orientation")}))},getItemTriggerProps(p){let{value:u}=p,h=f(p);return t.button(y(g({},ln.itemTrigger.attrs),{type:"button",dir:n("dir"),id:br(r,u),"aria-controls":ss(r,u),"data-controls":ss(r,u),"aria-expanded":h.expanded,disabled:h.disabled,"data-orientation":n("orientation"),"aria-disabled":h.disabled,"data-state":h.expanded?"open":"closed","data-ownedby":vr(r),onFocus(){h.disabled||a({type:"TRIGGER.FOCUS",value:u})},onBlur(){h.disabled||a({type:"TRIGGER.BLUR"})},onClick(v){h.disabled||(Ye()&&v.currentTarget.focus(),a({type:"TRIGGER.CLICK",value:u}))},onKeyDown(v){if(v.defaultPrevented||h.disabled)return;let C={ArrowDown(){o("isHorizontal")||a({type:"GOTO.NEXT",value:u})},ArrowUp(){o("isHorizontal")||a({type:"GOTO.PREV",value:u})},ArrowRight(){o("isHorizontal")&&a({type:"GOTO.NEXT",value:u})},ArrowLeft(){o("isHorizontal")&&a({type:"GOTO.PREV",value:u})},Home(){a({type:"GOTO.FIRST",value:u})},End(){a({type:"GOTO.LAST",value:u})}},P=ue(v,{dir:n("dir"),orientation:n("orientation")}),w=C[P];w&&(w(v),v.preventDefault())}}))}}}var Lv,ln,vr,Mv,ss,br,Fv,yr,Hv,Bv,Gv,Uv,$v,qv,zv,Wv,dw,Kv,uw,jv,Yv,lu=te(()=>{"use strict";ae();Lv=_("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),ln=Lv.build(),vr=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`accordion:${e.id}`},Mv=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`accordion:${e.id}:item:${t}`},ss=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemContent)==null?void 0:i.call(a,t))!=null?n:`accordion:${e.id}:content:${t}`},br=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemTrigger)==null?void 0:i.call(a,t))!=null?n:`accordion:${e.id}:trigger:${t}`},Fv=e=>e.getById(vr(e)),yr=e=>{let t=`[data-controls][data-ownedby='${CSS.escape(vr(e))}']:not([disabled])`;return De(Fv(e),t)},Hv=e=>st(yr(e)),Bv=e=>ft(yr(e)),Gv=(e,t)=>fi(yr(e),br(e,t)),Uv=(e,t)=>mi(yr(e),br(e,t));({and:$v,not:qv}=be()),zv={props({props:e}){return g({collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(a){var i;(i=e("onFocusChange"))==null||i({value:a})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var i;(i=e("onValueChange"))==null||i({value:a})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:$v("isExpanded","canToggle"),actions:["collapse"]},{guard:qv("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:a}){let i=t("multiple")?lt(e.get("value"),a.value):[];e.set("value",i)},expand({context:e,prop:t,event:a}){let i=t("multiple")?Xe(e.get("value"),a.value):[a.value];e.set("value",i)},focusFirstTrigger({scope:e}){var t;(t=Hv(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=Bv(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){var i;let a=e.get("focusedValue");a&&((i=Gv(t,a))==null||i.focus())},focusPrevTrigger({context:e,scope:t}){var i;let a=e.get("focusedValue");a&&((i=Uv(t,a))==null||i.focus())},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(zt("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}},Wv=B()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]),dw=H(Wv),Kv=B()(["value","disabled"]),uw=H(Kv),jv=class extends z{initMachine(e){return new q(zv,e)}initApi(){return _v(this.machine.service,$)}render(){var i;let e=(i=this.el.querySelector('[data-scope="accordion"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.getItemsList(),a=e.querySelectorAll('[data-scope="accordion"][data-part="item"]');for(let n=0;n<a.length;n++){let r=a[n],o=t[n];if(!(o!=null&&o.value))continue;let{value:s,disabled:l}=o;this.spreadProps(r,this.api.getItemProps({value:s,disabled:l}));let d=r.querySelector('[data-scope="accordion"][data-part="item-trigger"]');d&&this.spreadProps(d,this.api.getItemTriggerProps({value:s,disabled:l}));let c=r.querySelector('[data-scope="accordion"][data-part="item-indicator"]');c&&this.spreadProps(c,this.api.getItemIndicatorProps({value:s,disabled:l}));let f=r.querySelector('[data-scope="accordion"][data-part="item-content"]');f&&this.spreadProps(f,this.api.getItemContentProps({value:s,disabled:l}))}}getItemsList(){let e=this.el.getAttribute("data-items");if(!e)return[];try{return JSON.parse(e)}catch(t){return[]}}},Yv={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=new jv(e,y(g({id:e.id},T(e,"controlled")?{value:X(e,"value")}:{defaultValue:X(e,"defaultValue")}),{collapsible:T(e,"collapsible"),multiple:T(e,"multiple"),orientation:I(e,"orientation",["horizontal","vertical"]),dir:Ce(e),onValueChange:i=>{var o,s;let n=I(e,"onValueChange");n&&this.liveSocket.main.isConnected()&&t(n,{id:e.id,value:(o=i.value)!=null?o:null});let r=I(e,"onValueChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{id:e.id,value:(s=i.value)!=null?s:null}}))},onFocusChange:i=>{var o,s;let n=I(e,"onFocusChange");n&&this.liveSocket.main.isConnected()&&t(n,{id:e.id,value:(o=i.value)!=null?o:null});let r=I(e,"onFocusChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{id:e.id,value:(s=i.value)!=null?s:null}}))}}));a.init(),this.accordion=a,this.onSetValue=i=>{let{value:n}=i.detail;a.api.setValue(n)},e.addEventListener("phx:accordion:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("accordion_set_value",i=>{let n=i.accordion_id;n&&!(e.id===n||e.id===`accordion:${n}`)||a.api.setValue(i.value)})),this.handlers.push(this.handleEvent("accordion_value",()=>{this.pushEvent("accordion_value_response",{value:a.api.value})})),this.handlers.push(this.handleEvent("accordion_focused_value",()=>{this.pushEvent("accordion_focused_value_response",{value:a.api.focusedValue})}))},updated(){var t,a,i,n;let e=T(this.el,"controlled");(n=this.accordion)==null||n.updateProps(y(g({id:this.el.id},e?{value:X(this.el,"value")}:{defaultValue:(i=(a=(t=this.accordion)==null?void 0:t.api)==null?void 0:a.value)!=null?i:X(this.el,"defaultValue")}),{collapsible:T(this.el,"collapsible"),multiple:T(this.el,"multiple"),orientation:I(this.el,"orientation",["horizontal","vertical"]),dir:Ce(this.el)}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:accordion:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.accordion)==null||e.destroy()}}});function mu(e,t,a=e.center){let i=t.x-a.x,n=t.y-a.y;return 360-(Math.atan2(i,n)*(180/Math.PI)+180)}function ma(e){let{x:t,y:a,width:i,height:n}=e,r=t+i/2,o=a+n/2;return{x:t,y:a,width:i,height:n,minX:t,minY:a,maxX:t+i,maxY:a+n,midX:r,midY:o,center:Ha(r,o)}}function eb(e){let t=Ha(e.minX,e.minY),a=Ha(e.maxX,e.minY),i=Ha(e.maxX,e.maxY),n=Ha(e.minX,e.maxY);return{top:t,right:a,bottom:i,left:n}}function tb(e){if(!ls.has(e)){let t=e.ownerDocument.defaultView||window;ls.set(e,t.getComputedStyle(e))}return ls.get(e)}function cs(e,t={}){return ma(ab(e,t))}function ab(e,t={}){let{excludeScrollbar:a=!1,excludeBorders:i=!1}=t,{x:n,y:r,width:o,height:s}=e.getBoundingClientRect(),l={x:n,y:r,width:o,height:s},d=tb(e),{borderLeftWidth:c,borderTopWidth:f,borderRightWidth:p,borderBottomWidth:u}=d,h=cu(c,p),v=cu(f,u);if(i&&(l.width-=h,l.height-=v,l.x+=ds(c),l.y+=ds(f)),a){let C=e.offsetWidth-e.clientWidth-h,P=e.offsetHeight-e.clientHeight-v;l.width-=C,l.height-=P}return l}function xu(e,t={}){return ma(ib(e,t))}function ib(e,t){let{excludeScrollbar:a=!1}=t,{innerWidth:i,innerHeight:n,document:r,visualViewport:o}=e,s=(o==null?void 0:o.width)||i,l=(o==null?void 0:o.height)||n,d={x:0,y:0,width:s,height:l};if(a){let c=i-r.documentElement.clientWidth,f=n-r.documentElement.clientHeight;d.width-=c,d.height-=f}return d}function Cu(e,t){let a=ma(e),{top:i,right:n,left:r,bottom:o}=eb(a),[s]=t.split("-");return{top:[r,i,n,o],right:[i,n,o,r],bottom:[i,r,o,n],left:[n,i,r,o]}[s]}function ps(e,t){let{x:a,y:i}=t,n=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){let s=e[r].x,l=e[r].y,d=e[o].x,c=e[o].y;l>i!=c>i&&a<(d-s)*(i-l)/(c-l)+s&&(n=!n)}return n}function gu(e,t){let{minX:a,minY:i,maxX:n,maxY:r,midX:o,midY:s}=e,l=t.includes("w")?a:t.includes("e")?n:o,d=t.includes("n")?i:t.includes("s")?r:s;return{x:l,y:d}}function rb(e){return nb[e]}function Tu(e,t,a,i){let{scalingOriginMode:n,lockAspectRatio:r}=i,o=gu(e,a),s=rb(a),l=gu(e,s);n==="center"&&(t={x:t.x*2,y:t.y*2});let d={x:o.x+t.x,y:o.y+t.y},c={x:pu[a].x*2-1,y:pu[a].y*2-1},f={width:d.x-l.x,height:d.y-l.y},p=c.x*f.width/e.width,u=c.y*f.height/e.height,h=Ci(p)>Ci(u)?p:u,v=r?{x:h,y:h}:{x:o.x===l.x?1:p,y:o.y===l.y?1:u};switch(o.y===l.y?v.y=Ci(v.y):Er(v.y)!==Er(u)&&(v.y*=-1),o.x===l.x?v.x=Ci(v.x):Er(v.x)!==Er(p)&&(v.x*=-1),n){case"extent":return fu(e,du.scale(v.x,v.y,l),!1);case"center":return fu(e,du.scale(v.x,v.y,{x:e.midX,y:e.midY}),!1)}}function ob(e,t,a=!0){return a?{x:hu(t.x,e.x),y:hu(t.y,e.y),width:Ci(t.x-e.x),height:Ci(t.y-e.y)}:{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}}function fu(e,t,a=!0){let i=t.applyTo({x:e.minX,y:e.minY}),n=t.applyTo({x:e.maxX,y:e.maxY});return ob(i,n,a)}var Xv,Zv,Yt,du,uu,dn,Jv,Qv,un,Ha,us,vu,bu,yu,Eu,ls,ds,cu,hw,gw,pu,nb,Er,Ci,hu,xr=te(()=>{"use strict";Xv=Object.defineProperty,Zv=(e,t,a)=>t in e?Xv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Yt=(e,t,a)=>Zv(e,typeof t!="symbol"?t+"":t,a),du=class Oe{constructor([t,a,i,n,r,o]=[0,0,0,0,0,0]){Yt(this,"m00"),Yt(this,"m01"),Yt(this,"m02"),Yt(this,"m10"),Yt(this,"m11"),Yt(this,"m12"),Yt(this,"rotate",(...s)=>this.prepend(Oe.rotate(...s))),Yt(this,"scale",(...s)=>this.prepend(Oe.scale(...s))),Yt(this,"translate",(...s)=>this.prepend(Oe.translate(...s))),this.m00=t,this.m01=a,this.m02=i,this.m10=n,this.m11=r,this.m12=o}applyTo(t){let{x:a,y:i}=t,{m00:n,m01:r,m02:o,m10:s,m11:l,m12:d}=this;return{x:n*a+r*i+o,y:s*a+l*i+d}}prepend(t){return new Oe([this.m00*t.m00+this.m01*t.m10,this.m00*t.m01+this.m01*t.m11,this.m00*t.m02+this.m01*t.m12+this.m02,this.m10*t.m00+this.m11*t.m10,this.m10*t.m01+this.m11*t.m11,this.m10*t.m02+this.m11*t.m12+this.m12])}append(t){return new Oe([t.m00*this.m00+t.m01*this.m10,t.m00*this.m01+t.m01*this.m11,t.m00*this.m02+t.m01*this.m12+t.m02,t.m10*this.m00+t.m11*this.m10,t.m10*this.m01+t.m11*this.m11,t.m10*this.m02+t.m11*this.m12+t.m12])}get determinant(){return this.m00*this.m11-this.m01*this.m10}get isInvertible(){let t=this.determinant;return isFinite(t)&&isFinite(this.m02)&&isFinite(this.m12)&&t!==0}invert(){let t=this.determinant;return new Oe([this.m11/t,-this.m01/t,(this.m01*this.m12-this.m11*this.m02)/t,-this.m10/t,this.m00/t,(this.m10*this.m02-this.m00*this.m12)/t])}get array(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,0,0,1]}get float32Array(){return new Float32Array(this.array)}static get identity(){return new Oe([1,0,0,0,1,0])}static rotate(t,a){let i=new Oe([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0]);return a&&(a.x!==0||a.y!==0)?Oe.multiply(Oe.translate(a.x,a.y),i,Oe.translate(-a.x,-a.y)):i}static scale(t,a=t,i={x:0,y:0}){let n=new Oe([t,0,0,0,a,0]);return i.x!==0||i.y!==0?Oe.multiply(Oe.translate(i.x,i.y),n,Oe.translate(-i.x,-i.y)):n}static translate(t,a){return new Oe([1,0,t,0,1,a])}static multiply(...[t,...a]){return t?a.reduce((i,n)=>i.prepend(n),t):Oe.identity}get a(){return this.m00}get b(){return this.m10}get c(){return this.m01}get d(){return this.m11}get tx(){return this.m02}get ty(){return this.m12}get scaleComponents(){return{x:this.a,y:this.d}}get translationComponents(){return{x:this.tx,y:this.ty}}get skewComponents(){return{x:this.c,y:this.b}}toString(){return`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`}};uu=(e,t,a)=>Math.min(Math.max(e,t),a),dn=(e,t,a)=>{let i=uu(e.x,a.x,a.x+a.width-t.width),n=uu(e.y,a.y,a.y+a.height-t.height);return{x:i,y:n}},Jv={width:0,height:0},Qv={width:1/0,height:1/0},un=(e,t=Jv,a=Qv)=>({width:Math.min(Math.max(e.width,t.width),a.width),height:Math.min(Math.max(e.height,t.height),a.height)}),Ha=(e,t)=>({x:e,y:t}),us=(e,t)=>t?Ha(e.x-t.x,e.y-t.y):e,vu=(e,t)=>Ha(e.x+t.x,e.y+t.y);bu=(e,t)=>{let a=Math.max(t.x,Math.min(e.x,t.x+t.width-e.width)),i=Math.max(t.y,Math.min(e.y,t.y+t.height-e.height));return{x:a,y:i,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},yu=(e,t)=>e.width===(t==null?void 0:t.width)&&e.height===(t==null?void 0:t.height),Eu=(e,t)=>e.x===(t==null?void 0:t.x)&&e.y===(t==null?void 0:t.y),ls=new WeakMap;ds=e=>parseFloat(e.replace("px","")),cu=(...e)=>e.reduce((t,a)=>t+(a?ds(a):0),0),{min:hw,max:gw}=Math;pu={n:{x:.5,y:0},ne:{x:1,y:0},e:{x:1,y:.5},se:{x:1,y:1},s:{x:.5,y:1},sw:{x:0,y:1},w:{x:0,y:.5},nw:{x:0,y:0}},nb={n:"s",ne:"sw",e:"w",se:"nw",s:"n",sw:"ne",w:"e",nw:"se"},{sign:Er,abs:Ci,min:hu}=Math});var ku={};de(ku,{AngleSlider:()=>vb});function wu(e,t,a){let i=ma(e.getBoundingClientRect()),n=mu(i,t);return a!=null?n-a:n}function Vu(e){return Math.min(Math.max(e,Cr),Tr)}function pb(e,t){let a=Vu(e),i=Math.ceil(a/t),n=Math.round(a/t);return i>=a/t?i*t===Tr?Cr:i*t:n*t}function Su(e,t){return Jd(e,Cr,Tr,t)}function hb(e,t){let{state:a,send:i,context:n,prop:r,computed:o,scope:s}=e,l=a.matches("dragging"),d=n.get("value"),c=o("valueAsDegree"),f=r("disabled"),p=r("invalid"),u=r("readOnly"),h=o("interactive"),v=r("aria-label"),C=r("aria-labelledby");return{value:d,valueAsDegree:c,dragging:l,setValue(P){i({type:"VALUE.SET",value:P})},getRootProps(){return t.element(y(g({},Ba.root.attrs),{id:lb(s),"data-disabled":E(f),"data-invalid":E(p),"data-readonly":E(u),style:{"--value":d,"--angle":c}}))},getLabelProps(){return t.label(y(g({},Ba.label.attrs),{id:Pu(s),htmlFor:hs(s),"data-disabled":E(f),"data-invalid":E(p),"data-readonly":E(u),onClick(P){var w;h&&(P.preventDefault(),(w=gs(s))==null||w.focus())}}))},getHiddenInputProps(){return t.element({type:"hidden",value:d,name:r("name"),id:hs(s)})},getControlProps(){return t.element(y(g({},Ba.control.attrs),{role:"presentation",id:Ou(s),"data-disabled":E(f),"data-invalid":E(p),"data-readonly":E(u),onPointerDown(P){if(!h||!he(P))return;let w=je(P),b=P.currentTarget,m=gs(s),S=Wt(P).composedPath(),x=m&&S.includes(m),O=null;x&&(O=wu(b,w)-d),i({type:"CONTROL.POINTER_DOWN",point:w,angularOffset:O}),P.stopPropagation()},style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getThumbProps(){return t.element(y(g({},Ba.thumb.attrs),{id:Iu(s),role:"slider","aria-label":v,"aria-labelledby":C!=null?C:Pu(s),"aria-valuemax":360,"aria-valuemin":0,"aria-valuenow":d,tabIndex:u||h?0:void 0,"data-disabled":E(f),"data-invalid":E(p),"data-readonly":E(u),onFocus(){i({type:"THUMB.FOCUS"})},onBlur(){i({type:"THUMB.BLUR"})},onKeyDown(P){if(!h)return;let w=ui(P)*r("step");switch(P.key){case"ArrowLeft":case"ArrowUp":P.preventDefault(),i({type:"THUMB.ARROW_DEC",step:w});break;case"ArrowRight":case"ArrowDown":P.preventDefault(),i({type:"THUMB.ARROW_INC",step:w});break;case"Home":P.preventDefault(),i({type:"THUMB.HOME"});break;case"End":P.preventDefault(),i({type:"THUMB.END"});break}},style:{rotate:"var(--angle)"}}))},getValueTextProps(){return t.element(y(g({},Ba.valueText.attrs),{id:db(s)}))},getMarkerGroupProps(){return t.element(g({},Ba.markerGroup.attrs))},getMarkerProps(P){let w;return P.value<d?w="under-value":P.value>d?w="over-value":w="at-value",t.element(y(g({},Ba.marker.attrs),{"data-value":P.value,"data-state":w,"data-disabled":E(f),style:{"--marker-value":P.value,rotate:"calc(var(--marker-value) * 1deg)"}}))}}}var sb,Ba,lb,Iu,hs,Ou,db,Pu,ub,cb,gs,Cr,Tr,gb,fb,bw,mb,vb,Nu=te(()=>{"use strict";xr();ae();sb=_("angle-slider").parts("root","label","thumb","valueText","control","track","markerGroup","marker"),Ba=sb.build(),lb=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`angle-slider:${e.id}`},Iu=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.thumb)!=null?a:`angle-slider:${e.id}:thumb`},hs=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.hiddenInput)!=null?a:`angle-slider:${e.id}:input`},Ou=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`angle-slider:${e.id}:control`},db=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.valueText)!=null?a:`angle-slider:${e.id}:value-text`},Pu=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`angle-slider:${e.id}:label`},ub=e=>e.getById(hs(e)),cb=e=>e.getById(Ou(e)),gs=e=>e.getById(Iu(e)),Cr=0,Tr=359;gb={props({props:e}){return g({step:1,defaultValue:0},e)},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var i;(i=e("onValueChange"))==null||i({value:a,valueAsDegree:`${a}deg`})}}))}},refs(){return{thumbDragOffset:null}},computed:{interactive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsDegree:({context:e})=>`${e.get("value")}deg`},watch({track:e,context:t,action:a}){e([()=>t.get("value")],()=>{a(["syncInputElement"])})},initialState(){return"idle"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"CONTROL.POINTER_DOWN":{target:"dragging",actions:["setThumbDragOffset","setPointerValue","focusThumb"]},"THUMB.FOCUS":{target:"focused"}}},focused:{on:{"CONTROL.POINTER_DOWN":{target:"dragging",actions:["setThumbDragOffset","setPointerValue","focusThumb"]},"THUMB.ARROW_DEC":{actions:["decrementValue","invokeOnChangeEnd"]},"THUMB.ARROW_INC":{actions:["incrementValue","invokeOnChangeEnd"]},"THUMB.HOME":{actions:["setValueToMin","invokeOnChangeEnd"]},"THUMB.END":{actions:["setValueToMax","invokeOnChangeEnd"]},"THUMB.BLUR":{target:"idle"}}},dragging:{entry:["focusThumb"],effects:["trackPointerMove"],on:{"DOC.POINTER_UP":{target:"focused",actions:["invokeOnChangeEnd","clearThumbDragOffset"]},"DOC.POINTER_MOVE":{actions:["setPointerValue"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){return da(e.getDoc(),{onPointerMove(a){t({type:"DOC.POINTER_MOVE",point:a.point})},onPointerUp(){t({type:"DOC.POINTER_UP"})}})}},actions:{syncInputElement({scope:e,context:t}){let a=ub(e);Ae(a,t.get("value").toString())},invokeOnChangeEnd({context:e,prop:t,computed:a}){var i;(i=t("onValueChangeEnd"))==null||i({value:e.get("value"),valueAsDegree:a("valueAsDegree")})},setPointerValue({scope:e,event:t,context:a,prop:i,refs:n}){let r=cb(e);if(!r)return;let o=n.get("thumbDragOffset"),s=wu(r,t.point,o);a.set("value",pb(s,i("step")))},setValueToMin({context:e}){e.set("value",Cr)},setValueToMax({context:e}){e.set("value",Tr)},setValue({context:e,event:t}){e.set("value",Vu(t.value))},decrementValue({context:e,event:t,prop:a}){var n;let i=Su(e.get("value")-t.step,(n=t.step)!=null?n:a("step"));e.set("value",i)},incrementValue({context:e,event:t,prop:a}){var n;let i=Su(e.get("value")+t.step,(n=t.step)!=null?n:a("step"));e.set("value",i)},focusThumb({scope:e}){F(()=>{var t;(t=gs(e))==null||t.focus({preventScroll:!0})})},setThumbDragOffset({refs:e,event:t}){var a;e.set("thumbDragOffset",(a=t.angularOffset)!=null?a:null)},clearThumbDragOffset({refs:e}){e.set("thumbDragOffset",null)}}}},fb=B()(["aria-label","aria-labelledby","dir","disabled","getRootNode","id","ids","invalid","name","onValueChange","onValueChangeEnd","readOnly","step","value","defaultValue"]),bw=H(fb),mb=class extends z{initMachine(e){return new q(gb,e)}initApi(){return hb(this.machine.service,$)}render(){var s;let e=(s=this.el.querySelector('[data-scope="angle-slider"][data-part="root"]'))!=null?s:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="angle-slider"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let a=this.el.querySelector('[data-scope="angle-slider"][data-part="hidden-input"]');a&&this.spreadProps(a,this.api.getHiddenInputProps());let i=this.el.querySelector('[data-scope="angle-slider"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let n=this.el.querySelector('[data-scope="angle-slider"][data-part="thumb"]');n&&this.spreadProps(n,this.api.getThumbProps());let r=this.el.querySelector('[data-scope="angle-slider"][data-part="value-text"]');r&&this.spreadProps(r,this.api.getValueTextProps());let o=this.el.querySelector('[data-scope="angle-slider"][data-part="marker-group"]');o&&this.spreadProps(o,this.api.getMarkerGroupProps()),this.el.querySelectorAll('[data-scope="angle-slider"][data-part="marker"]').forEach(l=>{let d=l.dataset.value;if(d==null)return;let c=Number(d);Number.isNaN(c)||this.spreadProps(l,this.api.getMarkerProps({value:c}))})}},vb={mounted(){var r;let e=this.el,t=W(e,"value"),a=W(e,"defaultValue"),i=T(e,"controlled"),n=new mb(e,y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:a!=null?a:0}),{step:(r=W(e,"step"))!=null?r:1,disabled:T(e,"disabled"),readOnly:T(e,"readOnly"),invalid:T(e,"invalid"),name:I(e,"name"),dir:I(e,"dir",["ltr","rtl"]),onValueChange:o=>{let s=e.querySelector('[data-scope="angle-slider"][data-part="hidden-input"]');s&&(s.value=String(o.value),s.dispatchEvent(new Event("input",{bubbles:!0})),s.dispatchEvent(new Event("change",{bubbles:!0})));let l=I(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(l,{value:o.value,valueAsDegree:o.valueAsDegree,id:e.id});let d=I(e,"onValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{value:o,id:e.id}}))}}));n.init(),this.angleSlider=n,this.handlers=[]},updated(){var a,i;let e=W(this.el,"value"),t=T(this.el,"controlled");(i=this.angleSlider)==null||i.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{step:(a=W(this.el,"step"))!=null?a:1,disabled:T(this.el,"disabled"),readOnly:T(this.el,"readOnly"),invalid:T(this.el,"invalid"),name:I(this.el,"name")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.angleSlider)==null||e.destroy()}}});var Du={};de(Du,{Avatar:()=>Ib});function xb(e,t){let{state:a,send:i,prop:n,scope:r}=e,o=a.matches("loaded");return{loaded:o,setSrc(s){var l;(l=ms(r))==null||l.setAttribute("src",s)},setLoaded(){i({type:"img.loaded",src:"api"})},setError(){i({type:"img.error",src:"api"})},getRootProps(){return t.element(y(g({},fs.root.attrs),{dir:n("dir"),id:Ru(r)}))},getImageProps(){return t.img(y(g({},fs.image.attrs),{hidden:!o,dir:n("dir"),id:Au(r),"data-state":o?"visible":"hidden",onLoad(){i({type:"img.loaded",src:"element"})},onError(){i({type:"img.error",src:"element"})}}))},getFallbackProps(){return t.element(y(g({},fs.fallback.attrs),{dir:n("dir"),id:yb(r),hidden:o,"data-state":o?"hidden":"visible"}))}}}function Tb(e){return e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}var bb,fs,Ru,Au,yb,Eb,ms,Cb,Pb,Cw,Sb,Ib,Lu=te(()=>{"use strict";ae();bb=_("avatar").parts("root","image","fallback"),fs=bb.build(),Ru=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`avatar:${e.id}`},Au=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.image)!=null?a:`avatar:${e.id}:image`},yb=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.fallback)!=null?a:`avatar:${e.id}:fallback`},Eb=e=>e.getById(Ru(e)),ms=e=>e.getById(Au(e));Cb={initialState(){return"loading"},effects:["trackImageRemoval","trackSrcChange"],on:{"src.change":{target:"loading"},"img.unmount":{target:"error"}},states:{loading:{entry:["checkImageStatus"],on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]},"img.error":{target:"error",actions:["invokeOnError"]}}},error:{on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{on:{"img.error":{target:"error",actions:["invokeOnError"]}}}},implementations:{actions:{invokeOnLoad({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"loaded"})},invokeOnError({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"error"})},checkImageStatus({send:e,scope:t}){let a=ms(t);if(!(a!=null&&a.complete))return;let i=Tb(a)?"img.loaded":"img.error";e({type:i,src:"ssr"})}},effects:{trackImageRemoval({send:e,scope:t}){let a=Eb(t);return ur(a,{callback(i){Array.from(i[0].removedNodes).find(n=>n.nodeType===Node.ELEMENT_NODE&&n.matches("[data-scope=avatar][data-part=image]"))&&e({type:"img.unmount"})}})},trackSrcChange({send:e,scope:t}){let a=ms(t);return ot(a,{attributes:["src","srcset"],callback(){e({type:"src.change"})}})}}}};Pb=B()(["dir","id","ids","onStatusChange","getRootNode"]),Cw=H(Pb),Sb=class extends z{initMachine(e){return new q(Cb,e)}initApi(){return xb(this.machine.service,$)}render(){var i;let e=(i=this.el.querySelector('[data-scope="avatar"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="avatar"][data-part="image"]');t&&this.spreadProps(t,this.api.getImageProps());let a=this.el.querySelector('[data-scope="avatar"][data-part="fallback"]');a&&this.spreadProps(a,this.api.getFallbackProps())}},Ib={mounted(){let e=this.el,t=I(e,"src"),a=new Sb(e,g({id:e.id,onStatusChange:i=>{let n=I(e,"onStatusChange");n&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(n,{status:i.status,id:e.id});let r=I(e,"onStatusChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{value:i,id:e.id}}))}},t!==void 0?{}:{}));a.init(),this.avatar=a,t!==void 0&&a.api.setSrc(t),this.handlers=[]},updated(){let e=I(this.el,"src");e!==void 0&&this.avatar&&this.avatar.api.setSrc(e)},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.avatar)==null||e.destroy()}}});var _u={};de(_u,{Carousel:()=>qb});function Hu(e){let t=rt(e),a=e.getBoundingClientRect(),i=t.getPropertyValue("scroll-padding-left").replace("auto","0px"),n=t.getPropertyValue("scroll-padding-top").replace("auto","0px"),r=t.getPropertyValue("scroll-padding-right").replace("auto","0px"),o=t.getPropertyValue("scroll-padding-bottom").replace("auto","0px");function s(p,u){let h=parseFloat(p);return/%/.test(p)&&(h/=100,h*=u),Number.isNaN(h)?0:h}let l=s(i,a.width),d=s(n,a.height),c=s(r,a.width),f=s(o,a.height);return{x:{before:l,after:c},y:{before:d,after:f}}}function Ob(e,t,a="both"){return a==="x"&&e.right>=t.left&&e.left<=t.right||a==="y"&&e.bottom>=t.top&&e.top<=t.bottom||a==="both"&&e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}function Bu(e){let t=[];for(let a of e.children)t=t.concat(a,Bu(a));return t}function Gu(e,t=!1){let a=e.getBoundingClientRect(),i=ys(e)==="rtl",n={x:{start:[],center:[],end:[]},y:{start:[],center:[],end:[]}},r=t?Bu(e):e.children;for(let o of["x","y"]){let s=o==="x"?"y":"x",l=o==="x"?"left":"top",d=o==="x"?"right":"bottom",c=o==="x"?"width":"height",f=o==="x"?"scrollLeft":"scrollTop",p=i&&o==="x";for(let u of r){let h=u.getBoundingClientRect();if(!Ob(a,h,s))continue;let v=rt(u),[C,P]=v.getPropertyValue("scroll-snap-align").split(" ");typeof P>"u"&&(P=C);let w=o==="x"?P:C,b,m,S;if(p){let x=Math.abs(e[f]),O=a[d]-h[d]+x;b=O,m=O+h[c],S=O+h[c]/2}else b=h[l]-a[l]+e[f],m=b+h[c],S=b+h[c]/2;switch(w){case"none":break;case"start":n[o].start.push({node:u,position:b});break;case"center":n[o].center.push({node:u,position:S});break;case"end":n[o].end.push({node:u,position:m});break}}}return n}function wb(e){let t=ys(e),a=e.getBoundingClientRect(),i=Hu(e),n=Gu(e),r={x:e.scrollWidth-e.offsetWidth,y:e.scrollHeight-e.offsetHeight},o=t==="rtl",s=o&&e.scrollLeft<=0,l;return o?(l=vs([...n.x.start.map(d=>d.position-i.x.after),...n.x.center.map(d=>d.position-a.width/2),...n.x.end.map(d=>d.position-a.width+i.x.before)].map(bs(0,r.x))),s&&(l=l.map(d=>-d))):l=vs([...n.x.start.map(d=>d.position-i.x.before),...n.x.center.map(d=>d.position-a.width/2),...n.x.end.map(d=>d.position-a.width+i.x.after)].map(bs(0,r.x))),{x:l,y:vs([...n.y.start.map(d=>d.position-i.y.before),...n.y.center.map(d=>d.position-a.height/2),...n.y.end.map(d=>d.position-a.height+i.y.after)].map(bs(0,r.y)))}}function Vb(e,t,a){let i=ys(e),n=Hu(e),r=Gu(e),o=[...r[t].start,...r[t].center,...r[t].end],s=i==="rtl",l=s&&t==="x"&&e.scrollLeft<=0;for(let d of o)if(a(d.node)){let c;return t==="x"&&s?(c=d.position-n.x.after,l&&(c=-c)):c=d.position-(t==="x"?n.x.before:n.y.before),c}}function Fb(e,t){let{state:a,context:i,computed:n,send:r,scope:o,prop:s}=e,l=a.matches("autoplay"),d=a.matches("dragging"),c=n("canScrollNext"),f=n("canScrollPrev"),p=n("isHorizontal"),u=s("autoSize"),h=Array.from(i.get("pageSnapPoints")),v=i.get("page"),C=s("slidesPerPage"),P=s("padding"),w=s("translations");return{isPlaying:l,isDragging:d,page:v,pageSnapPoints:h,canScrollNext:c,canScrollPrev:f,getProgress(){return v/h.length},getProgressText(){var m,S;let b={page:v+1,totalPages:h.length};return(S=(m=w.progressText)==null?void 0:m.call(w,b))!=null?S:""},scrollToIndex(b,m){r({type:"INDEX.SET",index:b,instant:m})},scrollTo(b,m){r({type:"PAGE.SET",index:b,instant:m})},scrollNext(b){r({type:"PAGE.NEXT",instant:b})},scrollPrev(b){r({type:"PAGE.PREV",instant:b})},play(){r({type:"AUTOPLAY.START"})},pause(){r({type:"AUTOPLAY.PAUSE"})},isInView(b){return Array.from(i.get("slidesInView")).includes(b)},refresh(){r({type:"SNAP.REFRESH"})},getRootProps(){return t.element(y(g({},Vt.root.attrs),{id:Nb(o),role:"region","aria-roledescription":"carousel","data-orientation":s("orientation"),dir:s("dir"),style:{"--slides-per-page":C,"--slide-spacing":s("spacing"),"--slide-item-size":u?"auto":"calc(100% / var(--slides-per-page) - var(--slide-spacing) * (var(--slides-per-page) - 1) / var(--slides-per-page))"}}))},getItemGroupProps(){return t.element(y(g({},Vt.itemGroup.attrs),{id:Pr(o),"data-orientation":s("orientation"),"data-dragging":E(d),dir:s("dir"),"aria-live":l?"off":"polite",onFocus(b){oe(b.currentTarget,j(b))&&r({type:"VIEWPORT.FOCUS"})},onBlur(b){oe(b.currentTarget,b.relatedTarget)||r({type:"VIEWPORT.BLUR"})},onMouseDown(b){if(b.defaultPrevented||!s("allowMouseDrag")||!he(b))return;let m=j(b);Ke(m)&&m!==b.currentTarget||(b.preventDefault(),r({type:"DRAGGING.START"}))},onWheel:Wd(b=>{let m=s("orientation")==="horizontal"?"deltaX":"deltaY";b[m]<0&&!n("canScrollPrev")||b[m]>0&&!n("canScrollNext")||r({type:"USER.SCROLL"})},150),onTouchStart(){r({type:"USER.SCROLL"})},style:{display:u?"flex":"grid",gap:"var(--slide-spacing)",scrollSnapType:[p?"x":"y",s("snapType")].join(" "),gridAutoFlow:p?"column":"row",scrollbarWidth:"none",overscrollBehaviorX:"contain",[p?"gridAutoColumns":"gridAutoRows"]:u?void 0:"var(--slide-item-size)",[p?"scrollPaddingInline":"scrollPaddingBlock"]:P,[p?"paddingInline":"paddingBlock"]:P,[p?"overflowX":"overflowY"]:"auto"}}))},getItemProps(b){let m=i.get("slidesInView").includes(b.index);return t.element(y(g({},Vt.item.attrs),{id:Rb(o,b.index),dir:s("dir"),role:"group","data-index":b.index,"data-inview":E(m),"aria-roledescription":"slide","data-orientation":s("orientation"),"aria-label":w.item(b.index,s("slideCount")),"aria-hidden":Y(!m),style:{flex:"0 0 auto",[p?"maxWidth":"maxHeight"]:"100%",scrollSnapAlign:(()=>{var V;let S=(V=b.snapAlign)!=null?V:"start",x=s("slidesPerMove"),O=x==="auto"?Math.floor(s("slidesPerPage")):x;return(b.index+O)%O===0?S:void 0})()}}))},getControlProps(){return t.element(y(g({},Vt.control.attrs),{"data-orientation":s("orientation")}))},getPrevTriggerProps(){return t.button(y(g({},Vt.prevTrigger.attrs),{id:Db(o),type:"button",disabled:!f,dir:s("dir"),"aria-label":w.prevTrigger,"data-orientation":s("orientation"),"aria-controls":Pr(o),onClick(b){b.defaultPrevented||r({type:"PAGE.PREV",src:"trigger"})}}))},getNextTriggerProps(){return t.button(y(g({},Vt.nextTrigger.attrs),{dir:s("dir"),id:Ab(o),type:"button","aria-label":w.nextTrigger,"data-orientation":s("orientation"),"aria-controls":Pr(o),disabled:!c,onClick(b){b.defaultPrevented||r({type:"PAGE.NEXT",src:"trigger"})}}))},getIndicatorGroupProps(){return t.element(y(g({},Vt.indicatorGroup.attrs),{dir:s("dir"),id:Lb(o),"data-orientation":s("orientation"),onKeyDown(b){if(b.defaultPrevented)return;let m="indicator",S={ArrowDown(V){p||(r({type:"PAGE.NEXT",src:m}),V.preventDefault())},ArrowUp(V){p||(r({type:"PAGE.PREV",src:m}),V.preventDefault())},ArrowRight(V){p&&(r({type:"PAGE.NEXT",src:m}),V.preventDefault())},ArrowLeft(V){p&&(r({type:"PAGE.PREV",src:m}),V.preventDefault())},Home(V){r({type:"PAGE.SET",index:0,src:m}),V.preventDefault()},End(V){r({type:"PAGE.SET",index:h.length-1,src:m}),V.preventDefault()}},x=ue(b,{dir:s("dir"),orientation:s("orientation")}),O=S[x];O==null||O(b)}}))},getIndicatorProps(b){return t.button(y(g({},Vt.indicator.attrs),{dir:s("dir"),id:Uu(o,b.index),type:"button","data-orientation":s("orientation"),"data-index":b.index,"data-readonly":E(b.readOnly),"data-current":E(b.index===v),"aria-label":w.indicator(b.index),onClick(m){m.defaultPrevented||b.readOnly||r({type:"PAGE.SET",index:b.index,src:"indicator"})}}))},getAutoplayTriggerProps(){return t.button(y(g({},Vt.autoplayTrigger.attrs),{type:"button","data-orientation":s("orientation"),"data-pressed":E(l),"aria-label":l?w.autoplayStop:w.autoplayStart,onClick(b){b.defaultPrevented||r({type:l?"AUTOPLAY.PAUSE":"AUTOPLAY.START"})}}))},getProgressTextProps(){return t.element(g({},Vt.progressText.attrs))}}}function Bb(e,t,a){if(e==null||a<=0)return[];let i=[],n=t==="auto"?Math.floor(a):t;if(n<=0)return[];for(let r=0;r<e&&!(r+a>e);r+=n)i.push(r);return i}var ys,vs,bs,kb,Vt,Nb,Rb,Pr,Ab,Db,Lb,Uu,$e,Mu,Mb,Fu,Hb,Gb,Iw,Ub,Ow,_b,ww,$b,qb,$u=te(()=>{"use strict";ae();ys=e=>rt(e).direction;vs=e=>[...new Set(e)],bs=(e,t)=>a=>Math.max(e,Math.min(t,a)),kb=_("carousel").parts("root","itemGroup","item","control","nextTrigger","prevTrigger","indicatorGroup","indicator","autoplayTrigger","progressText"),Vt=kb.build(),Nb=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`carousel:${e.id}`},Rb=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`carousel:${e.id}:item:${t}`},Pr=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.itemGroup)!=null?a:`carousel:${e.id}:item-group`},Ab=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.nextTrigger)!=null?a:`carousel:${e.id}:next-trigger`},Db=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.prevTrigger)!=null?a:`carousel:${e.id}:prev-trigger`},Lb=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.indicatorGroup)!=null?a:`carousel:${e.id}:indicator-group`},Uu=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.indicator)==null?void 0:i.call(a,t))!=null?n:`carousel:${e.id}:indicator:${t}`},$e=e=>e.getById(Pr(e)),Mu=e=>De($e(e),"[data-part=item]"),Mb=(e,t)=>e.getById(Uu(e,t)),Fu=e=>{let t=$e(e);if(!t)return;let a=Kt(t);t.setAttribute("tabindex",a.length>0?"-1":"0")};Hb={props({props:e}){return fa(e,["slideCount"],"carousel"),y(g({dir:"ltr",defaultPage:0,orientation:"horizontal",snapType:"mandatory",loop:!!e.autoplay,slidesPerPage:1,slidesPerMove:"auto",spacing:"0px",autoplay:!1,allowMouseDrag:!1,inViewThreshold:.6,autoSize:!1},e),{translations:g({nextTrigger:"Next slide",prevTrigger:"Previous slide",indicator:t=>`Go to slide ${t+1}`,item:(t,a)=>`${t+1} of ${a}`,autoplayStart:"Start slide rotation",autoplayStop:"Stop slide rotation",progressText:({page:t,totalPages:a})=>`${t} / ${a}`},e.translations)})},refs(){return{timeoutRef:void 0}},initialState({prop:e}){return e("autoplay")?"autoplay":"idle"},context({prop:e,bindable:t,getContext:a}){return{page:t(()=>({defaultValue:e("defaultPage"),value:e("page"),onChange(i){var r;let n=a().get("pageSnapPoints");(r=e("onPageChange"))==null||r({page:i,pageSnapPoint:n[i]})}})),pageSnapPoints:t(()=>({defaultValue:e("autoSize")?Array.from({length:e("slideCount")},(i,n)=>n):Bb(e("slideCount"),e("slidesPerMove"),e("slidesPerPage"))})),slidesInView:t(()=>({defaultValue:[]}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isHorizontal:({prop:e})=>e("orientation")==="horizontal",canScrollNext:({prop:e,context:t})=>e("loop")||t.get("page")<t.get("pageSnapPoints").length-1,canScrollPrev:({prop:e,context:t})=>e("loop")||t.get("page")>0,autoplayInterval:({prop:e})=>{let t=e("autoplay");return Ot(t)?t.delay:4e3}},watch({track:e,action:t,context:a,prop:i,send:n}){e([()=>i("slidesPerPage"),()=>i("slidesPerMove")],()=>{t(["setSnapPoints"])}),e([()=>a.get("page")],()=>{t(["scrollToPage","focusIndicatorEl"])}),e([()=>i("orientation"),()=>i("autoSize"),()=>i("dir")],()=>{t(["setSnapPoints","scrollToPage"])}),e([()=>i("slideCount")],()=>{n({type:"SNAP.REFRESH",src:"slide.count"})}),e([()=>!!i("autoplay")],()=>{n({type:i("autoplay")?"AUTOPLAY.START":"AUTOPLAY.PAUSE",src:"autoplay.prop.change"})})},on:{"PAGE.NEXT":{target:"idle",actions:["clearScrollEndTimer","setNextPage"]},"PAGE.PREV":{target:"idle",actions:["clearScrollEndTimer","setPrevPage"]},"PAGE.SET":{target:"idle",actions:["clearScrollEndTimer","setPage"]},"INDEX.SET":{target:"idle",actions:["clearScrollEndTimer","setMatchingPage"]},"SNAP.REFRESH":{actions:["setSnapPoints","clampPage"]},"PAGE.SCROLL":{actions:["scrollToPage"]}},effects:["trackSlideMutation","trackSlideIntersections","trackSlideResize"],entry:["setSnapPoints","setPage"],exit:["clearScrollEndTimer"],states:{idle:{on:{"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"AUTOPLAY.START":{target:"autoplay",actions:["invokeAutoplayStart"]},"USER.SCROLL":{target:"userScroll"},"VIEWPORT.FOCUS":{target:"focus"}}},focus:{effects:["trackKeyboardScroll"],on:{"VIEWPORT.BLUR":{target:"idle"},"PAGE.NEXT":{actions:["clearScrollEndTimer","setNextPage"]},"PAGE.PREV":{actions:["clearScrollEndTimer","setPrevPage"]},"PAGE.SET":{actions:["clearScrollEndTimer","setPage"]},"INDEX.SET":{actions:["clearScrollEndTimer","setMatchingPage"]},"USER.SCROLL":{target:"userScroll"}}},dragging:{effects:["trackPointerMove"],entry:["disableScrollSnap"],on:{DRAGGING:{actions:["scrollSlides","invokeDragging"]},"DRAGGING.END":{target:"idle",actions:["endDragging","invokeDraggingEnd"]}}},userScroll:{effects:["trackScroll"],on:{"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"SCROLL.END":[{guard:"isFocused",target:"focus",actions:["setClosestPage"]},{target:"idle",actions:["setClosestPage"]}]}},autoplay:{effects:["trackDocumentVisibility","trackScroll","autoUpdateSlide"],exit:["invokeAutoplayEnd"],on:{"AUTOPLAY.TICK":{actions:["setNextPage","invokeAutoplay"]},"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"AUTOPLAY.PAUSE":{target:"idle"}}}},implementations:{guards:{isFocused:({scope:e})=>e.isActiveElement($e(e))},effects:{autoUpdateSlide({computed:e,send:t}){let a=setInterval(()=>{t({type:e("canScrollNext")?"AUTOPLAY.TICK":"AUTOPLAY.PAUSE",src:"autoplay.interval"})},e("autoplayInterval"));return()=>clearInterval(a)},trackSlideMutation({scope:e,send:t}){let a=$e(e);if(!a)return;let i=e.getWin(),n=new i.MutationObserver(()=>{t({type:"SNAP.REFRESH",src:"slide.mutation"}),Fu(e)});return Fu(e),n.observe(a,{childList:!0,subtree:!0}),()=>n.disconnect()},trackSlideResize({scope:e,send:t}){if(!$e(e))return;let a=()=>{t({type:"SNAP.REFRESH",src:"slide.resize"})};F(()=>{a(),F(()=>{t({type:"PAGE.SCROLL",instant:!0})})});let i=Mu(e);i.forEach(a);let n=i.map(r=>ua.observe(r,a));return wt(...n)},trackSlideIntersections({scope:e,prop:t,context:a}){let i=$e(e),n=e.getWin(),r=new n.IntersectionObserver(o=>{let s=o.reduce((l,d)=>{var p;let c=d.target,f=Number((p=c.dataset.index)!=null?p:"-1");return f==null||Number.isNaN(f)||f===-1?l:d.isIntersecting?Xe(l,f):lt(l,f)},a.get("slidesInView"));a.set("slidesInView",mt(s))},{root:i,threshold:t("inViewThreshold")});return Mu(e).forEach(o=>r.observe(o)),()=>r.disconnect()},trackScroll({send:e,refs:t,scope:a}){let i=$e(a);return i?Z(i,"scroll",()=>{clearTimeout(t.get("timeoutRef")),t.set("timeoutRef",void 0),t.set("timeoutRef",setTimeout(()=>{e({type:"SCROLL.END"})},150))},{passive:!0}):void 0},trackDocumentVisibility({scope:e,send:t}){let a=e.getDoc();return Z(a,"visibilitychange",()=>{a.visibilityState!=="visible"&&t({type:"AUTOPLAY.PAUSE",src:"doc.hidden"})})},trackPointerMove({scope:e,send:t}){let a=e.getDoc();return da(a,{onPointerMove({event:i}){t({type:"DRAGGING",left:-i.movementX,top:-i.movementY})},onPointerUp(){t({type:"DRAGGING.END"})}})},trackKeyboardScroll({scope:e,send:t,context:a}){let i=e.getWin();return Z(i,"keydown",n=>{switch(n.key){case"ArrowRight":n.preventDefault(),t({type:"PAGE.NEXT"});break;case"ArrowLeft":n.preventDefault(),t({type:"PAGE.PREV"});break;case"Home":n.preventDefault(),t({type:"PAGE.SET",index:0});break;case"End":n.preventDefault(),t({type:"PAGE.SET",index:a.get("pageSnapPoints").length-1})}},{capture:!0})}},actions:{clearScrollEndTimer({refs:e}){e.get("timeoutRef")!=null&&(clearTimeout(e.get("timeoutRef")),e.set("timeoutRef",void 0))},scrollToPage({context:e,event:t,scope:a,computed:i,flush:n}){var d;let r=t.instant?"instant":"smooth",o=He((d=t.index)!=null?d:e.get("page"),0,e.get("pageSnapPoints").length-1),s=$e(a);if(!s)return;let l=i("isHorizontal")?"left":"top";n(()=>{s.scrollTo({[l]:e.get("pageSnapPoints")[o],behavior:r})})},setClosestPage({context:e,scope:t,computed:a}){let i=$e(t);if(!i)return;let n=a("isHorizontal")?i.scrollLeft:i.scrollTop,r=e.get("pageSnapPoints").findIndex(o=>Math.abs(o-n)<1);r!==-1&&e.set("page",r)},setNextPage({context:e,prop:t,state:a}){let i=a.matches("autoplay")||t("loop"),n=vi(e.get("pageSnapPoints"),e.get("page"),{loop:i});e.set("page",n)},setPrevPage({context:e,prop:t,state:a}){let i=a.matches("autoplay")||t("loop"),n=rn(e.get("pageSnapPoints"),e.get("page"),{loop:i});e.set("page",n)},setMatchingPage({context:e,event:t,computed:a,scope:i}){let n=$e(i);if(!n)return;let r=Vb(n,a("isHorizontal")?"x":"y",s=>s.dataset.index===t.index.toString());if(r==null)return;let o=e.get("pageSnapPoints").findIndex(s=>Math.abs(s-r)<1);e.set("page",o)},setPage({context:e,event:t}){var i;let a=(i=t.index)!=null?i:e.get("page");e.set("page",a)},clampPage({context:e}){let t=He(e.get("page"),0,e.get("pageSnapPoints").length-1);e.set("page",t)},setSnapPoints({context:e,computed:t,scope:a}){let i=$e(a);if(!i)return;let n=wb(i);e.set("pageSnapPoints",t("isHorizontal")?n.x:n.y)},disableScrollSnap({scope:e}){let t=$e(e);if(!t)return;let a=getComputedStyle(t);t.dataset.scrollSnapType=a.getPropertyValue("scroll-snap-type"),t.style.setProperty("scroll-snap-type","none")},scrollSlides({scope:e,event:t}){var a;(a=$e(e))==null||a.scrollBy({left:t.left,top:t.top,behavior:"instant"})},endDragging({scope:e,context:t,computed:a}){let i=$e(e);if(!i)return;let n=a("isHorizontal"),r=n?i.scrollLeft:i.scrollTop,o=t.get("pageSnapPoints"),s=o.reduce((l,d)=>Math.abs(d-r)<Math.abs(l-r)?d:l,o[0]);F(()=>{i.scrollTo({left:n?s:i.scrollLeft,top:n?i.scrollTop:s,behavior:"smooth"}),t.set("page",o.indexOf(s));let l=i.dataset.scrollSnapType;l&&(i.style.setProperty("scroll-snap-type",l),delete i.dataset.scrollSnapType)})},focusIndicatorEl({context:e,event:t,scope:a}){if(t.src!=="indicator")return;let i=Mb(a,e.get("page"));i&&F(()=>i.focus({preventScroll:!0}))},invokeDragStart({context:e,prop:t}){var a;(a=t("onDragStatusChange"))==null||a({type:"dragging.start",isDragging:!0,page:e.get("page")})},invokeDragging({context:e,prop:t}){var a;(a=t("onDragStatusChange"))==null||a({type:"dragging",isDragging:!0,page:e.get("page")})},invokeDraggingEnd({context:e,prop:t}){var a;(a=t("onDragStatusChange"))==null||a({type:"dragging.end",isDragging:!1,page:e.get("page")})},invokeAutoplay({context:e,prop:t}){var a;(a=t("onAutoplayStatusChange"))==null||a({type:"autoplay",isPlaying:!0,page:e.get("page")})},invokeAutoplayStart({context:e,prop:t}){var a;(a=t("onAutoplayStatusChange"))==null||a({type:"autoplay.start",isPlaying:!0,page:e.get("page")})},invokeAutoplayEnd({context:e,prop:t}){var a;(a=t("onAutoplayStatusChange"))==null||a({type:"autoplay.stop",isPlaying:!1,page:e.get("page")})}}}};Gb=B()(["dir","getRootNode","id","ids","loop","page","defaultPage","onPageChange","orientation","slideCount","slidesPerPage","slidesPerMove","spacing","padding","autoplay","allowMouseDrag","inViewThreshold","translations","snapType","autoSize","onDragStatusChange","onAutoplayStatusChange"]),Iw=H(Gb),Ub=B()(["index","readOnly"]),Ow=H(Ub),_b=B()(["index","snapAlign"]),ww=H(_b),$b=class extends z{initMachine(e){return new q(Hb,e)}initApi(){return Fb(this.machine.service,$)}render(){var c;let e=(c=this.el.querySelector('[data-scope="carousel"][data-part="root"]'))!=null?c:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="carousel"][data-part="control"]');t&&this.spreadProps(t,this.api.getControlProps());let a=this.el.querySelector('[data-scope="carousel"][data-part="item-group"]');a&&this.spreadProps(a,this.api.getItemGroupProps());let i=Number(this.el.dataset.slideCount)||0;for(let f=0;f<i;f++){let p=this.el.querySelector(`[data-scope="carousel"][data-part="item"][data-index="${f}"]`);p&&this.spreadProps(p,this.api.getItemProps({index:f}))}let n=this.el.querySelector('[data-scope="carousel"][data-part="prev-trigger"]');n&&this.spreadProps(n,this.api.getPrevTriggerProps());let r=this.el.querySelector('[data-scope="carousel"][data-part="next-trigger"]');r&&this.spreadProps(r,this.api.getNextTriggerProps());let o=this.el.querySelector('[data-scope="carousel"][data-part="autoplay-trigger"]');o&&this.spreadProps(o,this.api.getAutoplayTriggerProps());let s=this.el.querySelector('[data-scope="carousel"][data-part="indicator-group"]');s&&this.spreadProps(s,this.api.getIndicatorGroupProps());let l=this.api.pageSnapPoints.length;for(let f=0;f<l;f++){let p=this.el.querySelector(`[data-scope="carousel"][data-part="indicator"][data-index="${f}"]`);p&&this.spreadProps(p,this.api.getIndicatorProps({index:f}))}let d=this.el.querySelector('[data-scope="carousel"][data-part="progress-text"]');d&&this.spreadProps(d,this.api.getProgressTextProps())}},qb={mounted(){var o,s,l,d;let e=this.el,t=W(e,"page"),a=W(e,"defaultPage"),i=T(e,"controlled"),n=W(e,"slideCount");if(n==null||n<1)return;let r=new $b(e,y(g({id:e.id,slideCount:n},i&&t!==void 0?{page:t}:{defaultPage:a!=null?a:0}),{dir:Ce(e),orientation:I(e,"orientation",["horizontal","vertical"]),slidesPerPage:(o=W(e,"slidesPerPage"))!=null?o:1,slidesPerMove:I(e,"slidesPerMove")==="auto"?"auto":W(e,"slidesPerMove"),loop:T(e,"loop"),autoplay:T(e,"autoplay")?{delay:(s=W(e,"autoplayDelay"))!=null?s:4e3}:!1,allowMouseDrag:T(e,"allowMouseDrag"),spacing:(l=I(e,"spacing"))!=null?l:"0px",padding:I(e,"padding"),inViewThreshold:(d=W(e,"inViewThreshold"))!=null?d:.6,snapType:I(e,"snapType",["proximity","mandatory"]),autoSize:T(e,"autoSize"),onPageChange:c=>{let f=I(e,"onPageChange");f&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(f,{page:c.page,pageSnapPoint:c.pageSnapPoint,id:e.id});let p=I(e,"onPageChangeClient");p&&e.dispatchEvent(new CustomEvent(p,{bubbles:!0,detail:{value:c,id:e.id}}))}}));r.init(),this.carousel=r,this.handlers=[]},updated(){var i,n;let e=W(this.el,"slideCount");if(e==null||e<1)return;let t=W(this.el,"page"),a=T(this.el,"controlled");(n=this.carousel)==null||n.updateProps(y(g({id:this.el.id,slideCount:e},a&&t!==void 0?{page:t}:{}),{dir:Ce(this.el),orientation:I(this.el,"orientation",["horizontal","vertical"]),slidesPerPage:(i=W(this.el,"slidesPerPage"))!=null?i:1,loop:T(this.el,"loop"),allowMouseDrag:T(this.el,"allowMouseDrag")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.carousel)==null||e.destroy()}}});function zb(e){return!(e.metaKey||!li()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Kb(e,t,a){let i=a?j(a):null,n=se(i);return e=e||i instanceof n.HTMLInputElement&&!Wb.has(i==null?void 0:i.type)||i instanceof n.HTMLTextAreaElement||i instanceof n.HTMLElement&&i.isContentEditable,!(e&&t==="keyboard"&&a instanceof n.KeyboardEvent&&!Reflect.has(jb,a.key))}function Or(e,t){for(let a of Es)a(e,t)}function Ir(e){Ga=!0,zb(e)&&(ba="keyboard",Or("keyboard",e))}function ut(e){ba="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Ga=!0,Or("pointer",e))}function qu(e){Id(e)&&(Ga=!0,ba="virtual")}function zu(e){let t=j(e);t===se(t)||t===Re(t)||(!Ga&&!xs&&(ba="virtual",Or("virtual",e)),Ga=!1,xs=!1)}function Wu(){Ga=!1,xs=!0}function Yb(e){if(typeof window>"u"||Sr.get(se(e)))return;let t=se(e),a=Re(e),i=t.HTMLElement.prototype.focus;function n(){ba="virtual",Or("virtual",null),Ga=!0,i.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:n})}catch(r){}a.addEventListener("keydown",Ir,!0),a.addEventListener("keyup",Ir,!0),a.addEventListener("click",qu,!0),t.addEventListener("focus",zu,!0),t.addEventListener("blur",Wu,!1),typeof t.PointerEvent<"u"?(a.addEventListener("pointerdown",ut,!0),a.addEventListener("pointermove",ut,!0),a.addEventListener("pointerup",ut,!0)):(a.addEventListener("mousedown",ut,!0),a.addEventListener("mousemove",ut,!0),a.addEventListener("mouseup",ut,!0)),t.addEventListener("beforeunload",()=>{Xb(e)},{once:!0}),Sr.set(t,{focus:i})}function Ku(){return ba}function va(){return ba==="keyboard"}function ya(e={}){let{isTextInput:t,autoFocus:a,onChange:i,root:n}=e;Yb(n),i==null||i({isFocusVisible:a||va(),modality:ba});let r=(o,s)=>{Kb(!!t,o,s)&&(i==null||i({isFocusVisible:va(),modality:o}))};return Es.add(r),()=>{Es.delete(r)}}var Wb,ba,Es,Sr,Ga,xs,jb,Xb,cn=te(()=>{"use strict";ae();Wb=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);ba=null,Es=new Set,Sr=new Map,Ga=!1,xs=!1,jb={Tab:!0,Escape:!0};Xb=(e,t)=>{let a=se(e),i=Re(e),n=Sr.get(a);if(n){try{Object.defineProperty(a.HTMLElement.prototype,"focus",{configurable:!0,value:n.focus})}catch(r){}i.removeEventListener("keydown",Ir,!0),i.removeEventListener("keyup",Ir,!0),i.removeEventListener("click",qu,!0),a.removeEventListener("focus",zu,!0),a.removeEventListener("blur",Wu,!1),typeof a.PointerEvent<"u"?(i.removeEventListener("pointerdown",ut,!0),i.removeEventListener("pointermove",ut,!0),i.removeEventListener("pointerup",ut,!0)):(i.removeEventListener("mousedown",ut,!0),i.removeEventListener("mousemove",ut,!0),i.removeEventListener("mouseup",ut,!0)),Sr.delete(a)}}});var Zu={};de(Zu,{Checkbox:()=>ry});function ey(e,t){let{send:a,context:i,prop:n,computed:r,scope:o}=e,s=!!n("disabled"),l=!!n("readOnly"),d=!!n("required"),c=!!n("invalid"),f=!s&&i.get("focused"),p=!s&&i.get("focusVisible"),u=r("checked"),h=r("indeterminate"),v=i.get("checked"),C={"data-active":E(i.get("active")),"data-focus":E(f),"data-focus-visible":E(p),"data-readonly":E(l),"data-hover":E(i.get("hovered")),"data-disabled":E(s),"data-state":h?"indeterminate":u?"checked":"unchecked","data-invalid":E(c),"data-required":E(d)};return{checked:u,disabled:s,indeterminate:h,focused:f,checkedState:v,setChecked(P){a({type:"CHECKED.SET",checked:P,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label(y(g(g({},wr.root.attrs),C),{dir:n("dir"),id:Xu(o),htmlFor:Cs(o),onPointerMove(){s||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(P){j(P)===pn(o)&&P.stopPropagation()}}))},getLabelProps(){return t.element(y(g(g({},wr.label.attrs),C),{dir:n("dir"),id:ju(o)}))},getControlProps(){return t.element(y(g(g({},wr.control.attrs),C),{dir:n("dir"),id:Jb(o),"aria-hidden":!0}))},getIndicatorProps(){return t.element(y(g(g({},wr.indicator.attrs),C),{dir:n("dir"),hidden:!h&&!u}))},getHiddenInputProps(){return t.input({id:Cs(o),type:"checkbox",required:n("required"),defaultChecked:u,disabled:s,"aria-labelledby":ju(o),"aria-invalid":c,name:n("name"),form:n("form"),value:n("value"),style:It,onFocus(){let P=va();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:P}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(P){if(l){P.preventDefault();return}let w=P.currentTarget.checked;a({type:"CHECKED.SET",checked:w,isTrusted:!0})}})}}}function Vr(e){return e==="indeterminate"}function ay(e){return Vr(e)?!1:!!e}var Zb,wr,Xu,ju,Jb,Cs,Qb,pn,Yu,ty,iy,Lw,ny,ry,Ju=te(()=>{"use strict";cn();ae();Zb=_("checkbox").parts("root","label","control","indicator"),wr=Zb.build(),Xu=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`checkbox:${e.id}`},ju=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`checkbox:${e.id}:label`},Jb=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`checkbox:${e.id}:control`},Cs=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.hiddenInput)!=null?a:`checkbox:${e.id}:input`},Qb=e=>e.getById(Xu(e)),pn=e=>e.getById(Cs(e));({not:Yu}=be()),ty={props({props:e}){var t;return y(g({value:"on"},e),{defaultChecked:(t=e.defaultChecked)!=null?t:!1})},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(a){var i;(i=e("onCheckedChange"))==null||i({checked:a})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:a,action:i}){e([()=>a("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Yu("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Yu("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>Vr(e.get("checked")),checked:({context:e})=>ay(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:a}){if(!t("disabled"))return pr({pointerNode:Qb(a),keyboardNode:pn(a),isValidKey:i=>i.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var a;if(!e("disabled"))return ya({root:(a=t.getRootNode)==null?void 0:a.call(t)})},trackFormControlState({context:e,scope:t}){return St(pn(t),{onFieldsetDisabledChange(a){e.set("fieldsetDisabled",a)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(let a in t.context)e.set(a,t.context[a])},syncInputElement({context:e,computed:t,scope:a}){let i=pn(a);i&&(tn(i,t("checked")),i.indeterminate=Vr(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){let a=Vr(t("checked"))?!0:!t("checked");e.set("checked",a)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{let a=pn(t);ci(a,{checked:e("checked")})})}}}};iy=B()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),Lw=H(iy),ny=class extends z{initMachine(e){return new q(ty,e)}initApi(){return ey(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="checkbox"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector(':scope > [data-scope="checkbox"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let a=e.querySelector(':scope > [data-scope="checkbox"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps());let i=e.querySelector(':scope > [data-scope="checkbox"][data-part="control"]');if(i){this.spreadProps(i,this.api.getControlProps());let n=i.querySelector(':scope > [data-scope="checkbox"][data-part="indicator"]');n&&this.spreadProps(n,this.api.getIndicatorProps())}}},ry={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=new ny(e,y(g({id:e.id},T(e,"controlled")?{checked:T(e,"checked")}:{defaultChecked:T(e,"defaultChecked")}),{disabled:T(e,"disabled"),name:I(e,"name"),form:I(e,"form"),value:I(e,"value"),dir:Ce(e),invalid:T(e,"invalid"),required:T(e,"required"),readOnly:T(e,"readOnly"),onCheckedChange:i=>{let n=I(e,"onCheckedChange");n&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(n,{checked:i.checked,id:e.id});let r=I(e,"onCheckedChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{value:i,id:e.id}}))}}));a.init(),this.checkbox=a,this.onSetChecked=i=>{let{checked:n}=i.detail;a.api.setChecked(n)},e.addEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked=()=>{a.api.toggleChecked()},e.addEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers=[],this.handlers.push(this.handleEvent("checkbox_set_checked",i=>{let n=i.id;n&&n!==e.id||a.api.setChecked(i.checked)})),this.handlers.push(this.handleEvent("checkbox_toggle_checked",i=>{let n=i.id;n&&n!==e.id||a.api.toggleChecked()})),this.handlers.push(this.handleEvent("checkbox_checked",()=>{this.pushEvent("checkbox_checked_response",{value:a.api.checked})})),this.handlers.push(this.handleEvent("checkbox_focused",()=>{this.pushEvent("checkbox_focused_response",{value:a.api.focused})})),this.handlers.push(this.handleEvent("checkbox_disabled",()=>{this.pushEvent("checkbox_disabled_response",{value:a.api.disabled})}))},updated(){var e;(e=this.checkbox)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlled")?{checked:T(this.el,"checked")}:{defaultChecked:T(this.el,"defaultChecked")}),{disabled:T(this.el,"disabled"),name:I(this.el,"name"),form:I(this.el,"form"),value:I(this.el,"value"),dir:Ce(this.el),invalid:T(this.el,"invalid"),required:T(this.el,"required"),readOnly:T(this.el,"readOnly"),label:I(this.el,"label")}))},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked&&this.el.removeEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.checkbox)==null||e.destroy()}}});var Qu={};de(Qu,{Clipboard:()=>yy});function cy(e,t){let a=e.createElement("pre");return Object.assign(a.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),a.textContent=t,a}function py(e){let t=se(e).getSelection();if(t==null)return Promise.reject(new Error);t.removeAllRanges();let a=e.ownerDocument,i=a.createRange();return i.selectNodeContents(e),t.addRange(i),a.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}function hy(e,t){var n;let a=e.defaultView||window;if(((n=a.navigator.clipboard)==null?void 0:n.writeText)!==void 0)return a.navigator.clipboard.writeText(t);if(!e.body)return Promise.reject(new Error);let i=cy(e,t);return e.body.appendChild(i),py(i),e.body.removeChild(i),Promise.resolve()}function gy(e,t){let{state:a,send:i,context:n,scope:r}=e,o=a.matches("copied");return{copied:o,value:n.get("value"),setValue(s){i({type:"VALUE.SET",value:s})},copy(){i({type:"COPY"})},getRootProps(){return t.element(y(g({},Ti.root.attrs),{"data-copied":E(o),id:sy(r)}))},getLabelProps(){return t.label(y(g({},Ti.label.attrs),{htmlFor:Ts(r),"data-copied":E(o),id:ly(r)}))},getControlProps(){return t.element(y(g({},Ti.control.attrs),{"data-copied":E(o)}))},getInputProps(){return t.input(y(g({},Ti.input.attrs),{defaultValue:n.get("value"),"data-copied":E(o),readOnly:!0,"data-readonly":"true",id:Ts(r),onFocus(s){s.currentTarget.select()},onCopy(){i({type:"INPUT.COPY"})}}))},getTriggerProps(){return t.button(y(g({},Ti.trigger.attrs),{type:"button","aria-label":o?"Copied to clipboard":"Copy to clipboard","data-copied":E(o),onClick(){i({type:"COPY"})}}))},getIndicatorProps(s){return t.element(y(g({},Ti.indicator.attrs),{hidden:s.copied!==o}))}}}var oy,Ti,sy,Ts,ly,dy,uy,fy,my,Bw,vy,Gw,by,yy,ec=te(()=>{"use strict";ae();oy=_("clipboard").parts("root","control","trigger","indicator","input","label"),Ti=oy.build(),sy=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`clip:${e.id}`},Ts=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.input)!=null?a:`clip:${e.id}:input`},ly=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`clip:${e.id}:label`},dy=e=>e.getById(Ts(e)),uy=(e,t)=>hy(e.getDoc(),t);fy={props({props:e}){return g({timeout:3e3,defaultValue:""},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var i;(i=e("onValueChange"))==null||i({value:a})}}))}},watch({track:e,context:t,action:a}){e([()=>t.get("value")],()=>{a(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:e,send:t}){return ha(()=>{t({type:"COPY.DONE"})},e("timeout"))}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},copyToClipboard({context:e,scope:t}){uy(t,e.get("value"))},invokeOnCopy({prop:e}){var t;(t=e("onStatusChange"))==null||t({copied:!0})},syncInputElement({context:e,scope:t}){let a=dy(t);a&&Ae(a,e.get("value"))}}}},my=B()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]),Bw=H(my),vy=B()(["copied"]),Gw=H(vy),by=class extends z{initMachine(e){return new q(fy,e)}initApi(){return gy(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="clipboard"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="clipboard"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let a=e.querySelector('[data-scope="clipboard"][data-part="control"]');if(a){this.spreadProps(a,this.api.getControlProps());let i=a.querySelector('[data-scope="clipboard"][data-part="input"]');if(i){let r=g({},this.api.getInputProps()),o=this.el.dataset.inputAriaLabel;o&&(r["aria-label"]=o),this.spreadProps(i,r)}let n=a.querySelector('[data-scope="clipboard"][data-part="trigger"]');if(n){let r=g({},this.api.getTriggerProps()),o=this.el.dataset.triggerAriaLabel;o&&(r["aria-label"]=o),this.spreadProps(n,r)}}}}},yy={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=this.liveSocket,i=new by(e,y(g({id:e.id,timeout:W(e,"timeout")},T(e,"controlled")?{value:I(e,"value")}:{defaultValue:I(e,"defaultValue")}),{onValueChange:n=>{var o;let r=I(e,"onValueChange");r&&a.main.isConnected()&&t(r,{id:e.id,value:(o=n.value)!=null?o:null})},onStatusChange:n=>{let r=I(e,"onStatusChange");r&&a.main.isConnected()&&t(r,{id:e.id,copied:n.copied});let o=I(e,"onStatusChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0}))}}));i.init(),this.clipboard=i,this.onCopy=()=>{i.api.copy()},e.addEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue=n=>{let{value:r}=n.detail;i.api.setValue(r)},e.addEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("clipboard_copy",n=>{let r=n.clipboard_id;r&&r!==e.id||i.api.copy()})),this.handlers.push(this.handleEvent("clipboard_set_value",n=>{let r=n.clipboard_id;r&&r!==e.id||i.api.setValue(n.value)})),this.handlers.push(this.handleEvent("clipboard_copied",()=>{this.pushEvent("clipboard_copied_response",{value:i.api.copied})}))},updated(){var e;(e=this.clipboard)==null||e.updateProps(y(g({id:this.el.id,timeout:W(this.el,"timeout")},T(this.el,"controlled")?{value:I(this.el,"value")}:{defaultValue:I(this.el,"value")}),{dir:I(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onCopy&&this.el.removeEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue&&this.el.removeEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.clipboard)==null||e.destroy()}}});var tc={};de(tc,{Collapsible:()=>Oy});function Ty(e,t){let{state:a,send:i,context:n,scope:r,prop:o}=e,s=a.matches("open")||a.matches("closing"),l=a.matches("open"),d=a.matches("closed"),{width:c,height:f}=n.get("size"),p=!!o("disabled"),u=o("collapsedHeight"),h=o("collapsedWidth"),v=u!=null,C=h!=null,P=v||C,w=!n.get("initial")&&l;return{disabled:p,visible:s,open:l,measureSize(){i({type:"size.measure"})},setOpen(b){a.matches("open")!==b&&i({type:b?"open":"close"})},getRootProps(){return t.element(y(g({},kr.root.attrs),{"data-state":l?"open":"closed",dir:o("dir"),id:xy(r)}))},getContentProps(){return t.element(y(g({},kr.content.attrs),{id:Ps(r),"data-collapsible":"","data-state":w?void 0:l?"open":"closed","data-disabled":E(p),"data-has-collapsed-size":E(P),hidden:!s&&!P,dir:o("dir"),style:g(g({"--height":me(f),"--width":me(c),"--collapsed-height":me(u),"--collapsed-width":me(h)},d&&v&&{overflow:"hidden",minHeight:me(u),maxHeight:me(u)}),d&&C&&{overflow:"hidden",minWidth:me(h),maxWidth:me(h)})}))},getTriggerProps(){return t.element(y(g({},kr.trigger.attrs),{id:Cy(r),dir:o("dir"),type:"button","data-state":l?"open":"closed","data-disabled":E(p),"aria-controls":Ps(r),"aria-expanded":s||!1,onClick(b){b.defaultPrevented||p||i({type:l?"close":"open"})}}))},getIndicatorProps(){return t.element(y(g({},kr.indicator.attrs),{dir:o("dir"),"data-state":l?"open":"closed","data-disabled":E(p)}))}}}var Ey,kr,xy,Ps,Cy,hn,Py,Sy,qw,Iy,Oy,ac=te(()=>{"use strict";ae();Ey=_("collapsible").parts("root","trigger","content","indicator"),kr=Ey.build(),xy=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`collapsible:${e.id}`},Ps=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`collapsible:${e.id}:content`},Cy=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`collapsible:${e.id}:trigger`},hn=e=>e.getById(Ps(e));Py={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:a}){e([()=>t("open")],()=>{a(["setInitial","computeSize","toggleVisibility"])})},exit:["cleanupNode"],states:{closed:{effects:["trackTabbableElements"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let a,i=F(()=>{let n=hn(t);if(!n)return;let r=rt(n).animationName;if(!r||r==="none"){e({type:"animation.end"});return}let o=s=>{j(s)===n&&e({type:"animation.end"})};n.addEventListener("animationend",o),a=()=>{n.removeEventListener("animationend",o)}});return()=>{i(),a==null||a()}},trackExitAnimation:({send:e,scope:t})=>{let a,i=F(()=>{let n=hn(t);if(!n)return;let r=rt(n).animationName;if(!r||r==="none"){e({type:"animation.end"});return}let o=l=>{j(l)===n&&e({type:"animation.end"})};n.addEventListener("animationend",o);let s=Ma(n,{animationFillMode:"forwards"});a=()=>{n.removeEventListener("animationend",o),La(()=>s())}});return()=>{i(),a==null||a()}},trackTabbableElements:({scope:e,prop:t})=>{if(!t("collapsedHeight")&&!t("collapsedWidth"))return;let a=hn(e);if(!a)return;let i=()=>{let o=Kt(a).map(s=>Ld(s,"inert",""));return()=>{o.forEach(s=>s())}},n=i(),r=ur(a,{callback(){n(),n=i()}});return()=>{n(),r()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{let a=hn(t);if(!a)return;let{height:i,width:n}=a.getBoundingClientRect();e.set("size",{height:i,width:n})},computeSize:({refs:e,scope:t,context:a})=>{var n;(n=e.get("cleanup"))==null||n();let i=F(()=>{let r=hn(t);if(!r)return;let o=r.hidden;r.style.animationName="none",r.style.animationDuration="0s",r.hidden=!1;let s=r.getBoundingClientRect();a.set("size",{height:s.height,width:s.width}),a.get("initial")&&(r.style.animationName="",r.style.animationDuration=""),r.hidden=o});e.set("cleanup",i)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}},Sy=B()(["dir","disabled","getRootNode","id","ids","collapsedHeight","collapsedWidth","onExitComplete","onOpenChange","defaultOpen","open"]),qw=H(Sy),Iy=class extends z{initMachine(e){return new q(Py,e)}initApi(){return Ty(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="collapsible"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="collapsible"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let a=e.querySelector('[data-scope="collapsible"][data-part="content"]');a&&this.spreadProps(a,this.api.getContentProps())}}},Oy={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=new Iy(e,y(g({id:e.id},T(e,"controlled")?{open:T(e,"open")}:{defaultOpen:T(e,"defaultOpen")}),{disabled:T(e,"disabled"),dir:I(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let n=I(e,"onOpenChange");n&&this.liveSocket.main.isConnected()&&t(n,{id:e.id,open:i.open});let r=I(e,"onOpenChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));a.init(),this.collapsible=a,this.onSetOpen=i=>{let{open:n}=i.detail;a.api.setOpen(n)},e.addEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("collapsible_set_open",i=>{let n=i.collapsible_id;n&&n!==e.id||a.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("collapsible_open",()=>{this.pushEvent("collapsible_open_response",{value:a.api.open})}))},updated(){var e;(e=this.collapsible)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlled")?{open:T(this.el,"open")}:{defaultOpen:T(this.el,"defaultOpen")}),{disabled:T(this.el,"disabled"),dir:I(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.collapsible)==null||e.destroy()}}});function gn(e,t,...a){return[...e.slice(0,t),...a,...e.slice(t)]}function Nr(e,t,a){t=[...t].sort((n,r)=>n-r);let i=t.map(n=>e[n]);for(let n=t.length-1;n>=0;n--)e=[...e.slice(0,t[n]),...e.slice(t[n]+1)];return a=Math.max(0,a-t.filter(n=>n<a).length),[...e.slice(0,a),...i,...e.slice(a)]}function Ea(e){return Fe(e,"columnCount")&&Fe(e,"getRows")}function sc(e,t,a){for(let i=0;i<t.length;i++)e=a.getChildren(e,t.slice(i+1))[t[i]];return e}function Ny(e){let t=Ry(e),a=[],i=new Set;for(let n of t){let r=n.join();i.has(r)||(i.add(r),a.push(n))}return a}function lc(e,t){for(let a=0;a<Math.min(e.length,t.length);a++){if(e[a]<t[a])return-1;if(e[a]>t[a])return 1}return e.length-t.length}function Ry(e){return e.sort(lc)}function Ay(e,t){let a;return Ze(e,y(g({},t),{onEnter:(i,n)=>{if(t.predicate(i,n))return a=i,"stop"}})),a}function Dy(e,t){let a=[];return Ze(e,{onEnter:(i,n)=>{t.predicate(i,n)&&a.push(i)},getChildren:t.getChildren}),a}function ic(e,t){let a;return Ze(e,{onEnter:(i,n)=>{if(t.predicate(i,n))return a=[...n],"stop"},getChildren:t.getChildren}),a}function Ly(e,t){let a=t.initialResult;return Ze(e,y(g({},t),{onEnter:(i,n)=>{a=t.nextResult(a,i,n)}})),a}function My(e,t){return Ly(e,y(g({},t),{initialResult:[],nextResult:(a,i,n)=>(a.push(...t.transform(i,n)),a)}))}function Fy(e,t){let{predicate:a,create:i,getChildren:n}=t,r=(o,s)=>{let l=n(o,s),d=[];l.forEach((u,h)=>{let v=[...s,h],C=r(u,v);C&&d.push(C)});let c=s.length===0,f=a(o,s),p=d.length>0;return c||f||p?i(o,d,s):null};return r(e,[])||i(e,[],[])}function Hy(e,t){let a=[],i=0,n=new Map,r=new Map;return Ze(e,{getChildren:t.getChildren,onEnter:(o,s)=>{n.has(o)||n.set(o,i++);let l=t.getChildren(o,s);l.forEach(u=>{r.has(u)||r.set(u,o),n.has(u)||n.set(u,i++)});let d=l.length>0?l.map(u=>n.get(u)):void 0,c=r.get(o),f=c?n.get(c):void 0,p=n.get(o);a.push(y(g({},o),{_children:d,_parent:f,_index:p}))}}),a}function By(e,t){return{type:"insert",index:e,nodes:t}}function Gy(e){return{type:"remove",indexes:e}}function Is(){return{type:"replace"}}function dc(e){return[e.slice(0,-1),e[e.length-1]]}function uc(e,t,a=new Map){var o;let[i,n]=dc(e);for(let s=i.length-1;s>=0;s--){let l=i.slice(0,s).join();switch((o=a.get(l))==null?void 0:o.type){case"remove":continue}a.set(l,Is())}let r=a.get(i.join());switch(r==null?void 0:r.type){case"remove":a.set(i.join(),{type:"removeThenInsert",removeIndexes:r.indexes,insertIndex:n,insertNodes:t});break;default:a.set(i.join(),By(n,t))}return a}function cc(e){var i;let t=new Map,a=new Map;for(let n of e){let r=n.slice(0,-1).join(),o=(i=a.get(r))!=null?i:[];o.push(n[n.length-1]),a.set(r,o.sort((s,l)=>s-l))}for(let n of e)for(let r=n.length-2;r>=0;r--){let o=n.slice(0,r).join();t.has(o)||t.set(o,Is())}for(let[n,r]of a)t.set(n,Gy(r));return t}function Uy(e,t){let a=new Map,[i,n]=dc(e);for(let r=i.length-1;r>=0;r--){let o=i.slice(0,r).join();a.set(o,Is())}return a.set(i.join(),{type:"removeThenInsert",removeIndexes:[n],insertIndex:n,insertNodes:[t]}),a}function Dr(e,t,a){return _y(e,y(g({},a),{getChildren:(i,n)=>{var o;let r=n.join();switch((o=t.get(r))==null?void 0:o.type){case"replace":case"remove":case"removeThenInsert":case"insert":return a.getChildren(i,n);default:return[]}},transform:(i,n,r)=>{let o=r.join(),s=t.get(o);switch(s==null?void 0:s.type){case"remove":return a.create(i,n.filter((c,f)=>!s.indexes.includes(f)),r);case"removeThenInsert":let l=n.filter((c,f)=>!s.removeIndexes.includes(f)),d=s.removeIndexes.reduce((c,f)=>f<c?c-1:c,s.insertIndex);return a.create(i,nc(l,d,0,...s.insertNodes),r);case"insert":return a.create(i,nc(n,s.index,0,...s.nodes),r);case"replace":return a.create(i,n,r);default:return i}}}))}function nc(e,t,a,...i){return[...e.slice(0,t),...i,...e.slice(t+a)]}function _y(e,t){let a={};return Ze(e,y(g({},t),{onLeave:(i,n)=>{var c,f;let r=[0,...n],o=r.join(),s=t.transform(i,(c=a[o])!=null?c:[],n),l=r.slice(0,-1).join(),d=(f=a[l])!=null?f:[];d.push(s),a[l]=d}})),a[""][0]}function $y(e,t){let{nodes:a,at:i}=t;if(i.length===0)throw new Error("Can't insert nodes at the root");let n=uc(i,a);return Dr(e,n,t)}function qy(e,t){if(t.at.length===0)return t.node;let a=Uy(t.at,t.node);return Dr(e,a,t)}function zy(e,t){if(t.indexPaths.length===0)return e;for(let i of t.indexPaths)if(i.length===0)throw new Error("Can't remove the root node");let a=cc(t.indexPaths);return Dr(e,a,t)}function Wy(e,t){if(t.indexPaths.length===0)return e;for(let r of t.indexPaths)if(r.length===0)throw new Error("Can't move the root node");if(t.to.length===0)throw new Error("Can't move nodes to the root");let a=Ny(t.indexPaths),i=a.map(r=>sc(e,r,t)),n=uc(t.to,i,cc(a));return Dr(e,n,t)}function Ze(e,t){let{onEnter:a,onLeave:i,getChildren:n}=t,r=[],o=[{node:e}],s=t.reuseIndexPath?()=>r:()=>r.slice();for(;o.length>0;){let l=o[o.length-1];if(l.state===void 0){let c=a==null?void 0:a(l.node,s());if(c==="stop")return;l.state=c==="skip"?-1:0}let d=l.children||n(l.node,s());if(l.children||(l.children=d),l.state!==-1){if(l.state<d.length){let c=l.state;r.push(c),o.push({node:d[c]}),l.state=c+1;continue}if((i==null?void 0:i(l.node,s()))==="stop")return}r.pop(),o.pop()}}var wy,Vy,A,Rr,kt,ky,Ss,oc,Os,Pi,fn=te(()=>{"use strict";ae();wy=Object.defineProperty,Vy=(e,t,a)=>t in e?wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,A=(e,t,a)=>Vy(e,typeof t!="symbol"?t+"":t,a),Rr={itemToValue(e){return typeof e=="string"?e:Ot(e)&&Fe(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:Ot(e)&&Fe(e,"label")?e.label:Rr.itemToValue(e)},isItemDisabled(e){return Ot(e)&&Fe(e,"disabled")?!!e.disabled:!1}},kt=class rc{constructor(t){this.options=t,A(this,"items"),A(this,"indexMap",null),A(this,"copy",a=>new rc(y(g({},this.options),{items:a!=null?a:[...this.items]}))),A(this,"isEqual",a=>ge(this.items,a.items)),A(this,"setItems",a=>this.copy(a)),A(this,"getValues",(a=this.items)=>{let i=[];for(let n of a){let r=this.getItemValue(n);r!=null&&i.push(r)}return i}),A(this,"find",a=>{if(a==null)return null;let i=this.indexOf(a);return i!==-1?this.at(i):null}),A(this,"findMany",a=>{let i=[];for(let n of a){let r=this.find(n);r!=null&&i.push(r)}return i}),A(this,"at",a=>{var r;if(!this.options.groupBy&&!this.options.groupSort)return(r=this.items[a])!=null?r:null;let i=0,n=this.group();for(let[,o]of n)for(let s of o){if(i===a)return s;i++}return null}),A(this,"sortFn",(a,i)=>{let n=this.indexOf(a),r=this.indexOf(i);return(n!=null?n:0)-(r!=null?r:0)}),A(this,"sort",a=>[...a].sort(this.sortFn.bind(this))),A(this,"getItemValue",a=>{var i,n,r;return a==null?null:(r=(n=(i=this.options).itemToValue)==null?void 0:n.call(i,a))!=null?r:Rr.itemToValue(a)}),A(this,"getItemDisabled",a=>{var i,n,r;return a==null?!1:(r=(n=(i=this.options).isItemDisabled)==null?void 0:n.call(i,a))!=null?r:Rr.isItemDisabled(a)}),A(this,"stringifyItem",a=>{var i,n,r;return a==null?null:(r=(n=(i=this.options).itemToString)==null?void 0:n.call(i,a))!=null?r:Rr.itemToString(a)}),A(this,"stringify",a=>a==null?null:this.stringifyItem(this.find(a))),A(this,"stringifyItems",(a,i=", ")=>{let n=[];for(let r of a){let o=this.stringifyItem(r);o!=null&&n.push(o)}return n.join(i)}),A(this,"stringifyMany",(a,i)=>this.stringifyItems(this.findMany(a),i)),A(this,"has",a=>this.indexOf(a)!==-1),A(this,"hasItem",a=>a==null?!1:this.has(this.getItemValue(a))),A(this,"group",()=>{let{groupBy:a,groupSort:i}=this.options;if(!a)return[["",[...this.items]]];let n=new Map;this.items.forEach((o,s)=>{let l=a(o,s);n.has(l)||n.set(l,[]),n.get(l).push(o)});let r=Array.from(n.entries());return i&&r.sort(([o],[s])=>{if(typeof i=="function")return i(o,s);if(Array.isArray(i)){let l=i.indexOf(o),d=i.indexOf(s);return l===-1?1:d===-1?-1:l-d}return i==="asc"?o.localeCompare(s):i==="desc"?s.localeCompare(o):0}),r}),A(this,"getNextValue",(a,i=1,n=!1)=>{let r=this.indexOf(a);if(r===-1)return null;for(r=n?Math.min(r+i,this.size-1):r+i;r<=this.size&&this.getItemDisabled(this.at(r));)r++;return this.getItemValue(this.at(r))}),A(this,"getPreviousValue",(a,i=1,n=!1)=>{let r=this.indexOf(a);if(r===-1)return null;for(r=n?Math.max(r-i,0):r-i;r>=0&&this.getItemDisabled(this.at(r));)r--;return this.getItemValue(this.at(r))}),A(this,"indexOf",a=>{var i;if(a==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(n=>this.getItemValue(n)===a);if(!this.indexMap){this.indexMap=new Map;let n=0,r=this.group();for(let[,o]of r)for(let s of o){let l=this.getItemValue(s);l!=null&&this.indexMap.set(l,n),n++}}return(i=this.indexMap.get(a))!=null?i:-1}),A(this,"getByText",(a,i)=>{let n=i!=null?this.indexOf(i):-1,r=a.length===1;for(let o=0;o<this.items.length;o++){let s=this.items[(n+o+1)%this.items.length];if(!(r&&this.getItemValue(s)===i)&&!this.getItemDisabled(s)&&ky(this.stringifyItem(s),a))return s}}),A(this,"search",(a,i)=>{let{state:n,currentValue:r,timeout:o=350}=i,s=n.keysSoFar+a,l=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,d=this.getByText(l,r),c=this.getItemValue(d);function f(){clearTimeout(n.timer),n.timer=-1}function p(u){n.keysSoFar=u,f(),u!==""&&(n.timer=+setTimeout(()=>{p(""),f()},o))}return p(s),c}),A(this,"update",(a,i)=>{let n=this.indexOf(a);return n===-1?this:this.copy([...this.items.slice(0,n),i,...this.items.slice(n+1)])}),A(this,"upsert",(a,i,n="append")=>{let r=this.indexOf(a);return r===-1?(n==="append"?this.append:this.prepend)(i):this.copy([...this.items.slice(0,r),i,...this.items.slice(r+1)])}),A(this,"insert",(a,...i)=>this.copy(gn(this.items,a,...i))),A(this,"insertBefore",(a,...i)=>{let n=this.indexOf(a);if(n===-1)if(this.items.length===0)n=0;else return this;return this.copy(gn(this.items,n,...i))}),A(this,"insertAfter",(a,...i)=>{let n=this.indexOf(a);if(n===-1)if(this.items.length===0)n=0;else return this;return this.copy(gn(this.items,n+1,...i))}),A(this,"prepend",(...a)=>this.copy(gn(this.items,0,...a))),A(this,"append",(...a)=>this.copy(gn(this.items,this.items.length,...a))),A(this,"filter",a=>{let i=this.items.filter((n,r)=>a(this.stringifyItem(n),r,n));return this.copy(i)}),A(this,"remove",(...a)=>{let i=a.map(n=>typeof n=="string"?n:this.getItemValue(n));return this.copy(this.items.filter(n=>{let r=this.getItemValue(n);return r==null?!1:!i.includes(r)}))}),A(this,"move",(a,i)=>{let n=this.indexOf(a);return n===-1?this:this.copy(Nr(this.items,[n],i))}),A(this,"moveBefore",(a,...i)=>{let n=this.items.findIndex(o=>this.getItemValue(o)===a);if(n===-1)return this;let r=i.map(o=>this.items.findIndex(s=>this.getItemValue(s)===o)).sort((o,s)=>o-s);return this.copy(Nr(this.items,r,n))}),A(this,"moveAfter",(a,...i)=>{let n=this.items.findIndex(o=>this.getItemValue(o)===a);if(n===-1)return this;let r=i.map(o=>this.items.findIndex(s=>this.getItemValue(s)===o)).sort((o,s)=>o-s);return this.copy(Nr(this.items,r,n+1))}),A(this,"reorder",(a,i)=>this.copy(Nr(this.items,[a],i))),A(this,"compareValue",(a,i)=>{let n=this.indexOf(a),r=this.indexOf(i);return n<r?-1:n>r?1:0}),A(this,"range",(a,i)=>{let n=[],r=a;for(;r!=null;){if(this.find(r)&&n.push(r),r===i)return n;r=this.getNextValue(r)}return[]}),A(this,"getValueRange",(a,i)=>a&&i?this.compareValue(a,i)<=0?this.range(a,i):this.range(i,a):[]),A(this,"toString",()=>{let a="";for(let i of this.items){let n=this.getItemValue(i),r=this.stringifyItem(i),o=this.getItemDisabled(i),s=[n,r,o].filter(Boolean).join(":");a+=s+","}return a}),A(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*id(this.items)}},ky=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase()));Ss=class extends kt{constructor(e){let{columnCount:t}=e;super(e),A(this,"columnCount"),A(this,"rows",null),A(this,"getRows",()=>(this.rows||(this.rows=on([...this.items],this.columnCount)),this.rows)),A(this,"getRowCount",()=>Math.ceil(this.items.length/this.columnCount)),A(this,"getCellIndex",(a,i)=>a*this.columnCount+i),A(this,"getCell",(a,i)=>this.at(this.getCellIndex(a,i))),A(this,"getValueCell",a=>{let i=this.indexOf(a);if(i===-1)return null;let n=Math.floor(i/this.columnCount),r=i%this.columnCount;return{row:n,column:r}}),A(this,"getLastEnabledColumnIndex",a=>{for(let i=this.columnCount-1;i>=0;i--){let n=this.getCell(a,i);if(n&&!this.getItemDisabled(n))return i}return null}),A(this,"getFirstEnabledColumnIndex",a=>{for(let i=0;i<this.columnCount;i++){let n=this.getCell(a,i);if(n&&!this.getItemDisabled(n))return i}return null}),A(this,"getPreviousRowValue",(a,i=!1)=>{let n=this.getValueCell(a);if(n===null)return null;let r=this.getRows(),o=r.length,s=n.row,l=n.column;for(let d=1;d<=o;d++){s=rn(r,s,{loop:i});let c=r[s];if(!c)continue;if(!c[l]){let p=this.getLastEnabledColumnIndex(s);p!=null&&(l=p)}let f=this.getCell(s,l);if(!this.getItemDisabled(f))return this.getItemValue(f)}return this.firstValue}),A(this,"getNextRowValue",(a,i=!1)=>{let n=this.getValueCell(a);if(n===null)return null;let r=this.getRows(),o=r.length,s=n.row,l=n.column;for(let d=1;d<=o;d++){s=vi(r,s,{loop:i});let c=r[s];if(!c)continue;if(!c[l]){let p=this.getLastEnabledColumnIndex(s);p!=null&&(l=p)}let f=this.getCell(s,l);if(!this.getItemDisabled(f))return this.getItemValue(f)}return this.lastValue}),this.columnCount=t}};oc=class Ar extends Set{constructor(t=[]){super(t),A(this,"selectionMode","single"),A(this,"deselectable",!0),A(this,"copy",()=>{let a=new Ar([...this]);return this.sync(a)}),A(this,"sync",a=>(a.selectionMode=this.selectionMode,a.deselectable=this.deselectable,a)),A(this,"isEmpty",()=>this.size===0),A(this,"isSelected",a=>this.selectionMode==="none"||a==null?!1:this.has(a)),A(this,"canSelect",(a,i)=>this.selectionMode!=="none"||!a.getItemDisabled(a.find(i))),A(this,"firstSelectedValue",a=>{let i=null;for(let n of this)(!i||a.compareValue(n,i)<0)&&(i=n);return i}),A(this,"lastSelectedValue",a=>{let i=null;for(let n of this)(!i||a.compareValue(n,i)>0)&&(i=n);return i}),A(this,"extendSelection",(a,i,n)=>{if(this.selectionMode==="none")return this;if(this.selectionMode==="single")return this.replaceSelection(a,n);let r=this.copy(),o=Array.from(this).pop();for(let s of a.getValueRange(i,o!=null?o:n))r.delete(s);for(let s of a.getValueRange(n,i))this.canSelect(a,s)&&r.add(s);return r}),A(this,"toggleSelection",(a,i)=>{if(this.selectionMode==="none")return this;if(this.selectionMode==="single"&&!this.isSelected(i))return this.replaceSelection(a,i);let n=this.copy();return n.has(i)?n.delete(i):n.canSelect(a,i)&&n.add(i),n}),A(this,"replaceSelection",(a,i)=>{if(this.selectionMode==="none")return this;if(i==null)return this;if(!this.canSelect(a,i))return this;let n=new Ar([i]);return this.sync(n)}),A(this,"setSelection",a=>{if(this.selectionMode==="none")return this;let i=new Ar;for(let n of a)if(n!=null&&(i.add(n),this.selectionMode==="single"))break;return this.sync(i)}),A(this,"clearSelection",()=>{let a=this.copy();return a.deselectable&&a.size>0&&a.clear(),a}),A(this,"select",(a,i,n)=>this.selectionMode==="none"?this:this.selectionMode==="single"?this.isSelected(i)&&this.deselectable?this.toggleSelection(a,i):this.replaceSelection(a,i):this.selectionMode==="multiple"||n?this.toggleSelection(a,i):this.replaceSelection(a,i)),A(this,"deselect",a=>{let i=this.copy();return i.delete(a),i}),A(this,"isEqual",a=>ge(Array.from(this),Array.from(a)))}};Os=class pc{constructor(t){this.options=t,A(this,"rootNode"),A(this,"isEqual",a=>ge(this.rootNode,a.rootNode)),A(this,"getNodeChildren",a=>{var i,n,r,o;return(o=(r=(n=(i=this.options).nodeToChildren)==null?void 0:n.call(i,a))!=null?r:Pi.nodeToChildren(a))!=null?o:[]}),A(this,"resolveIndexPath",a=>typeof a=="string"?this.getIndexPath(a):a),A(this,"resolveNode",a=>{let i=this.resolveIndexPath(a);return i?this.at(i):void 0}),A(this,"getNodeChildrenCount",a=>{var i,n,r;return(r=(n=(i=this.options).nodeToChildrenCount)==null?void 0:n.call(i,a))!=null?r:Pi.nodeToChildrenCount(a)}),A(this,"getNodeValue",a=>{var i,n,r;return(r=(n=(i=this.options).nodeToValue)==null?void 0:n.call(i,a))!=null?r:Pi.nodeToValue(a)}),A(this,"getNodeDisabled",a=>{var i,n,r;return(r=(n=(i=this.options).isNodeDisabled)==null?void 0:n.call(i,a))!=null?r:Pi.isNodeDisabled(a)}),A(this,"stringify",a=>{let i=this.findNode(a);return i?this.stringifyNode(i):null}),A(this,"stringifyNode",a=>{var i,n,r;return(r=(n=(i=this.options).nodeToString)==null?void 0:n.call(i,a))!=null?r:Pi.nodeToString(a)}),A(this,"getFirstNode",(a=this.rootNode,i={})=>{let n;return Ze(a,{getChildren:this.getNodeChildren,onEnter:(r,o)=>{var s;if(!this.isSameNode(r,a)){if((s=i.skip)!=null&&s.call(i,{value:this.getNodeValue(r),node:r,indexPath:o}))return"skip";if(!n&&o.length>0&&!this.getNodeDisabled(r))return n=r,"stop"}}}),n}),A(this,"getLastNode",(a=this.rootNode,i={})=>{let n;return Ze(a,{getChildren:this.getNodeChildren,onEnter:(r,o)=>{var s;if(!this.isSameNode(r,a)){if((s=i.skip)!=null&&s.call(i,{value:this.getNodeValue(r),node:r,indexPath:o}))return"skip";o.length>0&&!this.getNodeDisabled(r)&&(n=r)}}}),n}),A(this,"at",a=>sc(this.rootNode,a,{getChildren:this.getNodeChildren})),A(this,"findNode",(a,i=this.rootNode)=>Ay(i,{getChildren:this.getNodeChildren,predicate:n=>this.getNodeValue(n)===a})),A(this,"findNodes",(a,i=this.rootNode)=>{let n=new Set(a.filter(r=>r!=null));return Dy(i,{getChildren:this.getNodeChildren,predicate:r=>n.has(this.getNodeValue(r))})}),A(this,"sort",a=>a.reduce((i,n)=>{let r=this.getIndexPath(n);return r&&i.push({value:n,indexPath:r}),i},[]).sort((i,n)=>lc(i.indexPath,n.indexPath)).map(({value:i})=>i)),A(this,"getIndexPath",a=>ic(this.rootNode,{getChildren:this.getNodeChildren,predicate:i=>this.getNodeValue(i)===a})),A(this,"getValue",a=>{let i=this.at(a);return i?this.getNodeValue(i):void 0}),A(this,"getValuePath",a=>{if(!a)return[];let i=[],n=[...a];for(;n.length>0;){let r=this.at(n);r&&i.unshift(this.getNodeValue(r)),n.pop()}return i}),A(this,"getDepth",a=>{var i,n;return(n=(i=ic(this.rootNode,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===a}))==null?void 0:i.length)!=null?n:0}),A(this,"isSameNode",(a,i)=>this.getNodeValue(a)===this.getNodeValue(i)),A(this,"isRootNode",a=>this.isSameNode(a,this.rootNode)),A(this,"contains",(a,i)=>!a||!i?!1:i.slice(0,a.length).every((n,r)=>a[r]===i[r])),A(this,"getNextNode",(a,i={})=>{let n=!1,r;return Ze(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(o,s)=>{var d;if(this.isRootNode(o))return;let l=this.getNodeValue(o);if((d=i.skip)!=null&&d.call(i,{value:l,node:o,indexPath:s}))return l===a&&(n=!0),"skip";if(n&&!this.getNodeDisabled(o))return r=o,"stop";l===a&&(n=!0)}}),r}),A(this,"getPreviousNode",(a,i={})=>{let n,r=!1;return Ze(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(o,s)=>{var d;if(this.isRootNode(o))return;let l=this.getNodeValue(o);if((d=i.skip)!=null&&d.call(i,{value:l,node:o,indexPath:s}))return"skip";if(l===a)return r=!0,"stop";this.getNodeDisabled(o)||(n=o)}}),r?n:void 0}),A(this,"getParentNodes",a=>{var r;let i=(r=this.resolveIndexPath(a))==null?void 0:r.slice();if(!i)return[];let n=[];for(;i.length>0;){i.pop();let o=this.at(i);o&&!this.isRootNode(o)&&n.unshift(o)}return n}),A(this,"getDescendantNodes",(a,i)=>{let n=this.resolveNode(a);if(!n)return[];let r=[];return Ze(n,{getChildren:this.getNodeChildren,onEnter:(o,s)=>{s.length!==0&&(!(i!=null&&i.withBranch)&&this.isBranchNode(o)||r.push(o))}}),r}),A(this,"getDescendantValues",(a,i)=>this.getDescendantNodes(a,i).map(n=>this.getNodeValue(n))),A(this,"getParentIndexPath",a=>a.slice(0,-1)),A(this,"getParentNode",a=>{let i=this.resolveIndexPath(a);return i?this.at(this.getParentIndexPath(i)):void 0}),A(this,"visit",a=>{let r=a,{skip:i}=r,n=gt(r,["skip"]);Ze(this.rootNode,y(g({},n),{getChildren:this.getNodeChildren,onEnter:(o,s)=>{var l;if(!this.isRootNode(o))return i!=null&&i({value:this.getNodeValue(o),node:o,indexPath:s})?"skip":(l=n.onEnter)==null?void 0:l.call(n,o,s)}}))}),A(this,"getPreviousSibling",a=>{let i=this.getParentNode(a);if(!i)return;let n=this.getNodeChildren(i),r=a[a.length-1];for(;--r>=0;){let o=n[r];if(!this.getNodeDisabled(o))return o}}),A(this,"getNextSibling",a=>{let i=this.getParentNode(a);if(!i)return;let n=this.getNodeChildren(i),r=a[a.length-1];for(;++r<n.length;){let o=n[r];if(!this.getNodeDisabled(o))return o}}),A(this,"getSiblingNodes",a=>{let i=this.getParentNode(a);return i?this.getNodeChildren(i):[]}),A(this,"getValues",(a=this.rootNode)=>My(a,{getChildren:this.getNodeChildren,transform:i=>[this.getNodeValue(i)]}).slice(1)),A(this,"isValidDepth",(a,i)=>i==null?!0:typeof i=="function"?i(a.length):a.length===i),A(this,"isBranchNode",a=>this.getNodeChildren(a).length>0||this.getNodeChildrenCount(a)!=null),A(this,"getBranchValues",(a=this.rootNode,i={})=>{let n=[];return Ze(a,{getChildren:this.getNodeChildren,onEnter:(r,o)=>{var l;if(o.length===0)return;let s=this.getNodeValue(r);if((l=i.skip)!=null&&l.call(i,{value:s,node:r,indexPath:o}))return"skip";this.isBranchNode(r)&&this.isValidDepth(o,i.depth)&&n.push(this.getNodeValue(r))}}),n}),A(this,"flatten",(a=this.rootNode)=>Hy(a,{getChildren:this.getNodeChildren})),A(this,"_create",(a,i)=>this.getNodeChildren(a).length>0||i.length>0?y(g({},a),{children:i}):g({},a)),A(this,"_insert",(a,i,n)=>this.copy($y(a,{at:i,nodes:n,getChildren:this.getNodeChildren,create:this._create}))),A(this,"copy",a=>new pc(y(g({},this.options),{rootNode:a}))),A(this,"_replace",(a,i,n)=>this.copy(qy(a,{at:i,node:n,getChildren:this.getNodeChildren,create:this._create}))),A(this,"_move",(a,i,n)=>this.copy(Wy(a,{indexPaths:i,to:n,getChildren:this.getNodeChildren,create:this._create}))),A(this,"_remove",(a,i)=>this.copy(zy(a,{indexPaths:i,getChildren:this.getNodeChildren,create:this._create}))),A(this,"replace",(a,i)=>this._replace(this.rootNode,a,i)),A(this,"remove",a=>this._remove(this.rootNode,a)),A(this,"insertBefore",(a,i)=>this.getParentNode(a)?this._insert(this.rootNode,a,i):void 0),A(this,"insertAfter",(a,i)=>{if(!this.getParentNode(a))return;let n=[...a.slice(0,-1),a[a.length-1]+1];return this._insert(this.rootNode,n,i)}),A(this,"move",(a,i)=>this._move(this.rootNode,a,i)),A(this,"filter",a=>{let i=Fy(this.rootNode,{predicate:a,getChildren:this.getNodeChildren,create:this._create});return this.copy(i)}),A(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=t.rootNode}},Pi={nodeToValue(e){return typeof e=="string"?e:Ot(e)&&Fe(e,"value")?e.value:""},nodeToString(e){return typeof e=="string"?e:Ot(e)&&Fe(e,"label")?e.label:Pi.nodeToValue(e)},isNodeDisabled(e){return Ot(e)&&Fe(e,"disabled")?!!e.disabled:!1},nodeToChildren(e){return e.children},nodeToChildrenCount(e){if(Ot(e)&&Fe(e,"childrenCount"))return e.childrenCount}}});function Vs(e,t,a){return Je(e,xa(t,a))}function Zt(e,t){return typeof e=="function"?e(t):e}function Jt(e){return e.split("-")[0]}function Oi(e){return e.split("-")[1]}function Rs(e){return e==="x"?"y":"x"}function As(e){return e==="y"?"height":"width"}function Nt(e){return Xy.has(Jt(e))?"y":"x"}function Ds(e){return Rs(Nt(e))}function Zy(e,t,a){a===void 0&&(a=!1);let i=Oi(e),n=Ds(e),r=As(n),o=n==="x"?i===(a?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=Fr(o)),[o,Fr(o)]}function Jy(e){let t=Fr(e);return[ks(e),t,ks(t)]}function ks(e){return e.replace(/start|end/g,t=>Yy[t])}function tE(e,t,a){switch(e){case"top":case"bottom":return a?t?gc:hc:t?hc:gc;case"left":case"right":return t?Qy:eE;default:return[]}}function aE(e,t,a,i){let n=Oi(e),r=tE(Jt(e),a==="start",i);return n&&(r=r.map(o=>o+"-"+n),t&&(r=r.concat(r.map(ks)))),r}function Fr(e){return e.replace(/left|right|bottom|top/g,t=>jy[t])}function iE(e){return g({top:0,right:0,bottom:0,left:0},e)}function Pc(e){return typeof e!="number"?iE(e):{top:e,right:e,bottom:e,left:e}}function Hr(e){let{x:t,y:a,width:i,height:n}=e;return{width:i,height:n,top:a,left:t,right:t+i,bottom:a+n,x:t,y:a}}function fc(e,t,a){let{reference:i,floating:n}=e,r=Nt(t),o=Ds(t),s=As(o),l=Jt(t),d=r==="y",c=i.x+i.width/2-n.width/2,f=i.y+i.height/2-n.height/2,p=i[s]/2-n[s]/2,u;switch(l){case"top":u={x:c,y:i.y-n.height};break;case"bottom":u={x:c,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:f};break;case"left":u={x:i.x-n.width,y:f};break;default:u={x:i.x,y:i.y}}switch(Oi(t)){case"start":u[o]-=p*(a&&d?-1:1);break;case"end":u[o]+=p*(a&&d?-1:1);break}return u}function nE(e,t){return Se(this,null,function*(){var a;t===void 0&&(t={});let{x:i,y:n,platform:r,rects:o,elements:s,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:u=0}=Zt(t,e),h=Pc(u),v=s[p?f==="floating"?"reference":"floating":f],C=Hr(yield r.getClippingRect({element:(a=yield r.isElement==null?void 0:r.isElement(v))==null||a?v:v.contextElement||(yield r.getDocumentElement==null?void 0:r.getDocumentElement(s.floating)),boundary:d,rootBoundary:c,strategy:l})),P=f==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,w=yield r.getOffsetParent==null?void 0:r.getOffsetParent(s.floating),b=(yield r.isElement==null?void 0:r.isElement(w))?(yield r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},m=Hr(r.convertOffsetParentRelativeRectToViewportRelativeRect?yield r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:P,offsetParent:w,strategy:l}):P);return{top:(C.top-m.top+h.top)/b.y,bottom:(m.bottom-C.bottom+h.bottom)/b.y,left:(C.left-m.left+h.left)/b.x,right:(m.right-C.right+h.right)/b.x}})}function mc(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vc(e){return Ky.some(t=>e[t]>=0)}function dE(e,t){return Se(this,null,function*(){let{placement:a,platform:i,elements:n}=e,r=yield i.isRTL==null?void 0:i.isRTL(n.floating),o=Jt(a),s=Oi(a),l=Nt(a)==="y",d=Sc.has(o)?-1:1,c=r&&l?-1:1,f=Zt(t,e),{mainAxis:p,crossAxis:u,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof h=="number"&&(u=s==="end"?h*-1:h),l?{x:u*c,y:p*d}:{x:p*d,y:u*c}})}function Br(){return typeof window<"u"}function wi(e){return Ic(e)?(e.nodeName||"").toLowerCase():"#document"}function Qe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dt(e){var t;return(t=(Ic(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ic(e){return Br()?e instanceof Node||e instanceof Qe(e).Node:!1}function bt(e){return Br()?e instanceof Element||e instanceof Qe(e).Element:!1}function At(e){return Br()?e instanceof HTMLElement||e instanceof Qe(e).HTMLElement:!1}function bc(e){return!Br()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qe(e).ShadowRoot}function bn(e){let{overflow:t,overflowX:a,overflowY:i,display:n}=yt(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+a)&&!gE.has(n)}function mE(e){return fE.has(wi(e))}function Gr(e){return vE.some(t=>{try{return e.matches(t)}catch(a){return!1}})}function Ls(e){let t=Ms(),a=bt(e)?yt(e):e;return bE.some(i=>a[i]?a[i]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||yE.some(i=>(a.willChange||"").includes(i))||EE.some(i=>(a.contain||"").includes(i))}function xE(e){let t=Ca(e);for(;At(t)&&!Ii(t);){if(Ls(t))return t;if(Gr(t))return null;t=Ca(t)}return null}function Ms(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ii(e){return CE.has(wi(e))}function yt(e){return Qe(e).getComputedStyle(e)}function Ur(e){return bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ca(e){if(wi(e)==="html")return e;let t=e.assignedSlot||e.parentNode||bc(e)&&e.host||Dt(e);return bc(t)?t.host:t}function Oc(e){let t=Ca(e);return Ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:At(t)&&bn(t)?t:Oc(t)}function vn(e,t,a){var i;t===void 0&&(t=[]),a===void 0&&(a=!0);let n=Oc(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),o=Qe(n);if(r){let s=Ns(o);return t.concat(o,o.visualViewport||[],bn(n)?n:[],s&&a?vn(s):[])}return t.concat(n,vn(n,[],a))}function Ns(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wc(e){let t=yt(e),a=parseFloat(t.width)||0,i=parseFloat(t.height)||0,n=At(e),r=n?e.offsetWidth:a,o=n?e.offsetHeight:i,s=Mr(a)!==r||Mr(i)!==o;return s&&(a=r,i=o),{width:a,height:i,$:s}}function Fs(e){return bt(e)?e:e.contextElement}function Si(e){let t=Fs(e);if(!At(t))return Rt(1);let a=t.getBoundingClientRect(),{width:i,height:n,$:r}=wc(t),o=(r?Mr(a.width):a.width)/i,s=(r?Mr(a.height):a.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}function Vc(e){let t=Qe(e);return!Ms()||!t.visualViewport?TE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PE(e,t,a){return t===void 0&&(t=!1),!a||t&&a!==Qe(e)?!1:t}function Ua(e,t,a,i){t===void 0&&(t=!1),a===void 0&&(a=!1);let n=e.getBoundingClientRect(),r=Fs(e),o=Rt(1);t&&(i?bt(i)&&(o=Si(i)):o=Si(e));let s=PE(r,a,i)?Vc(r):Rt(0),l=(n.left+s.x)/o.x,d=(n.top+s.y)/o.y,c=n.width/o.x,f=n.height/o.y;if(r){let p=Qe(r),u=i&&bt(i)?Qe(i):i,h=p,v=Ns(h);for(;v&&i&&u!==h;){let C=Si(v),P=v.getBoundingClientRect(),w=yt(v),b=P.left+(v.clientLeft+parseFloat(w.paddingLeft))*C.x,m=P.top+(v.clientTop+parseFloat(w.paddingTop))*C.y;l*=C.x,d*=C.y,c*=C.x,f*=C.y,l+=b,d+=m,h=Qe(v),v=Ns(h)}}return Hr({width:c,height:f,x:l,y:d})}function _r(e,t){let a=Ur(e).scrollLeft;return t?t.left+a:Ua(Dt(e)).left+a}function kc(e,t){let a=e.getBoundingClientRect(),i=a.left+t.scrollLeft-_r(e,a),n=a.top+t.scrollTop;return{x:i,y:n}}function SE(e){let{elements:t,rect:a,offsetParent:i,strategy:n}=e,r=n==="fixed",o=Dt(i),s=t?Gr(t.floating):!1;if(i===o||s&&r)return a;let l={scrollLeft:0,scrollTop:0},d=Rt(1),c=Rt(0),f=At(i);if((f||!f&&!r)&&((wi(i)!=="body"||bn(o))&&(l=Ur(i)),At(i))){let u=Ua(i);d=Si(i),c.x=u.x+i.clientLeft,c.y=u.y+i.clientTop}let p=o&&!f&&!r?kc(o,l):Rt(0);return{width:a.width*d.x,height:a.height*d.y,x:a.x*d.x-l.scrollLeft*d.x+c.x+p.x,y:a.y*d.y-l.scrollTop*d.y+c.y+p.y}}function IE(e){return Array.from(e.getClientRects())}function OE(e){let t=Dt(e),a=Ur(e),i=e.ownerDocument.body,n=Je(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=Je(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),o=-a.scrollLeft+_r(e),s=-a.scrollTop;return yt(i).direction==="rtl"&&(o+=Je(t.clientWidth,i.clientWidth)-n),{width:n,height:r,x:o,y:s}}function wE(e,t){let a=Qe(e),i=Dt(e),n=a.visualViewport,r=i.clientWidth,o=i.clientHeight,s=0,l=0;if(n){r=n.width,o=n.height;let c=Ms();(!c||c&&t==="fixed")&&(s=n.offsetLeft,l=n.offsetTop)}let d=_r(i);if(d<=0){let c=i.ownerDocument,f=c.body,p=getComputedStyle(f),u=c.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,h=Math.abs(i.clientWidth-f.clientWidth-u);h<=yc&&(r-=h)}else d<=yc&&(r+=d);return{width:r,height:o,x:s,y:l}}function kE(e,t){let a=Ua(e,!0,t==="fixed"),i=a.top+e.clientTop,n=a.left+e.clientLeft,r=At(e)?Si(e):Rt(1),o=e.clientWidth*r.x,s=e.clientHeight*r.y,l=n*r.x,d=i*r.y;return{width:o,height:s,x:l,y:d}}function Ec(e,t,a){let i;if(t==="viewport")i=wE(e,a);else if(t==="document")i=OE(Dt(e));else if(bt(t))i=kE(t,a);else{let n=Vc(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Hr(i)}function Nc(e,t){let a=Ca(e);return a===t||!bt(a)||Ii(a)?!1:yt(a).position==="fixed"||Nc(a,t)}function NE(e,t){let a=t.get(e);if(a)return a;let i=vn(e,[],!1).filter(s=>bt(s)&&wi(s)!=="body"),n=null,r=yt(e).position==="fixed",o=r?Ca(e):e;for(;bt(o)&&!Ii(o);){let s=yt(o),l=Ls(o);!l&&s.position==="fixed"&&(n=null),(r?!l&&!n:!l&&s.position==="static"&&n&&VE.has(n.position)||bn(o)&&!l&&Nc(e,o))?i=i.filter(d=>d!==o):n=s,o=Ca(o)}return t.set(e,i),i}function RE(e){let{element:t,boundary:a,rootBoundary:i,strategy:n}=e,r=[...a==="clippingAncestors"?Gr(t)?[]:NE(t,this._c):[].concat(a),i],o=r[0],s=r.reduce((l,d)=>{let c=Ec(t,d,n);return l.top=Je(c.top,l.top),l.right=xa(c.right,l.right),l.bottom=xa(c.bottom,l.bottom),l.left=Je(c.left,l.left),l},Ec(t,o,n));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function AE(e){let{width:t,height:a}=wc(e);return{width:t,height:a}}function DE(e,t,a){let i=At(t),n=Dt(t),r=a==="fixed",o=Ua(e,!0,r,t),s={scrollLeft:0,scrollTop:0},l=Rt(0);function d(){l.x=_r(n)}if(i||!i&&!r)if((wi(t)!=="body"||bn(n))&&(s=Ur(t)),i){let u=Ua(t,!0,r,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else n&&d();r&&!i&&n&&d();let c=n&&!i&&!r?kc(n,s):Rt(0),f=o.left+s.scrollLeft-l.x-c.x,p=o.top+s.scrollTop-l.y-c.y;return{x:f,y:p,width:o.width,height:o.height}}function ws(e){return yt(e).position==="static"}function xc(e,t){if(!At(e)||yt(e).position==="fixed")return null;if(t)return t(e);let a=e.offsetParent;return Dt(e)===a&&(a=a.ownerDocument.body),a}function Rc(e,t){let a=Qe(e);if(Gr(e))return a;if(!At(e)){let n=Ca(e);for(;n&&!Ii(n);){if(bt(n)&&!ws(n))return n;n=Ca(n)}return a}let i=xc(e,t);for(;i&&mE(i)&&ws(i);)i=xc(i,t);return i&&Ii(i)&&ws(i)&&!Ls(i)?a:i||xE(e)||a}function ME(e){return yt(e).direction==="rtl"}function Ac(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HE(e,t){let a=null,i,n=Dt(e);function r(){var s;clearTimeout(i),(s=a)==null||s.disconnect(),a=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),r();let d=e.getBoundingClientRect(),{left:c,top:f,width:p,height:u}=d;if(s||t(),!p||!u)return;let h=Lr(f),v=Lr(n.clientWidth-(c+p)),C=Lr(n.clientHeight-(f+u)),P=Lr(c),w={rootMargin:-h+"px "+-v+"px "+-C+"px "+-P+"px",threshold:Je(0,xa(1,l))||1},b=!0;function m(S){let x=S[0].intersectionRatio;if(x!==l){if(!b)return o();x?o(!1,x):i=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!Ac(d,e.getBoundingClientRect())&&o(),b=!1}try{a=new IntersectionObserver(m,y(g({},w),{root:n.ownerDocument}))}catch(S){a=new IntersectionObserver(m,w)}a.observe(e)}return o(!0),r}function BE(e,t,a,i){i===void 0&&(i={});let{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,d=Fs(e),c=n||r?[...d?vn(d):[],...vn(t)]:[];c.forEach(P=>{n&&P.addEventListener("scroll",a,{passive:!0}),r&&P.addEventListener("resize",a)});let f=d&&s?HE(d,a):null,p=-1,u=null;o&&(u=new ResizeObserver(P=>{let[w]=P;w&&w.target===d&&u&&(u.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(t)})),a()}),d&&!l&&u.observe(d),u.observe(t));let h,v=l?Ua(e):null;l&&C();function C(){let P=Ua(e);v&&!Ac(v,P)&&a(),v=P,h=requestAnimationFrame(C)}return a(),()=>{var P;c.forEach(w=>{n&&w.removeEventListener("scroll",a),r&&w.removeEventListener("resize",a)}),f==null||f(),(P=u)==null||P.disconnect(),u=null,l&&cancelAnimationFrame(h)}}function Cc(e=0,t=0,a=0,i=0){if(typeof DOMRect=="function")return new DOMRect(e,t,a,i);let n={x:e,y:t,width:a,height:i,top:t,right:e+a,bottom:t+i,left:e};return y(g({},n),{toJSON:()=>n})}function jE(e){if(!e)return Cc();let{x:t,y:a,width:i,height:n}=e;return Cc(t,a,i,n)}function YE(e,t){return{contextElement:re(e)?e:e==null?void 0:e.contextElement,getBoundingClientRect:()=>{let a=e,i=t==null?void 0:t(a);return i||!a?jE(i):a.getBoundingClientRect()}}}function ZE(e,t){return{name:"transformOrigin",fn(a){var k,D,N,U,J;let{elements:i,middlewareData:n,placement:r,rects:o,y:s}=a,l=r.split("-")[0],d=XE(l),c=((k=n.arrow)==null?void 0:k.x)||0,f=((D=n.arrow)==null?void 0:D.y)||0,p=(t==null?void 0:t.clientWidth)||0,u=(t==null?void 0:t.clientHeight)||0,h=c+p/2,v=f+u/2,C=Math.abs(((N=n.shift)==null?void 0:N.y)||0),P=o.reference.height/2,w=u/2,b=(J=(U=e.offset)==null?void 0:U.mainAxis)!=null?J:e.gutter,m=typeof b=="number"?b+w:b!=null?b:w,S=C>m,x={top:`${h}px calc(100% + ${m}px)`,bottom:`${h}px ${-m}px`,left:`calc(100% + ${m}px) ${v}px`,right:`${-m}px ${v}px`}[l],O=`${h}px ${o.reference.y+P-s}px`,V=!!e.overlap&&d==="y"&&S;return i.floating.style.setProperty(Xt.transformOrigin.variable,V?O:x),{data:{transformOrigin:V?O:x}}}}}function ex(e){let[t,a]=e.split("-");return{side:t,align:a,hasAlign:a!=null}}function Dc(e){return e.split("-")[0]}function Tc(e,t){let a=e.devicePixelRatio||1;return Math.round(t*a)/a}function Hs(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function ax(e,t,a){let i=e||t.createElement("div");return zE({element:i,padding:a.arrowPadding})}function ix(e,t){var a;if(!$d((a=t.offset)!=null?a:t.gutter))return GE(({placement:i})=>{var c,f,p,u;let n=((e==null?void 0:e.clientHeight)||0)/2,r=(f=(c=t.offset)==null?void 0:c.mainAxis)!=null?f:t.gutter,o=typeof r=="number"?r+n:r!=null?r:n,{hasAlign:s}=ex(i),l=s?void 0:t.shift,d=(u=(p=t.offset)==null?void 0:p.crossAxis)!=null?u:l;return xi({crossAxis:d,mainAxis:o,alignmentAxis:t.shift})})}function nx(e){if(!e.flip)return;let t=Hs(e.boundary);return _E(y(g({},t?{boundary:t}:void 0),{padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip}))}function rx(e){if(!e.slide&&!e.overlap)return;let t=Hs(e.boundary);return UE(y(g({},t?{boundary:t}:void 0),{mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:WE()}))}function ox(e){return $E({padding:e.overflowPadding,apply({elements:t,rects:a,availableHeight:i,availableWidth:n}){let r=t.floating,o=Math.round(a.reference.width),s=Math.round(a.reference.height);n=Math.floor(n),i=Math.floor(i),r.style.setProperty("--reference-width",`${o}px`),r.style.setProperty("--reference-height",`${s}px`),r.style.setProperty("--available-width",`${n}px`),r.style.setProperty("--available-height",`${i}px`)}})}function sx(e){var t;if(e.hideWhenDetached)return qE({strategy:"referenceHidden",boundary:(t=Hs(e.boundary))!=null?t:"clippingAncestors"})}function lx(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function dx(e,t,a={}){var C,P;let i=(P=(C=a.getAnchorElement)==null?void 0:C.call(a))!=null?P:e,n=YE(i,a.getAnchorRect);if(!t||!n)return;let r=Object.assign({},tx,a),o=t.querySelector("[data-part=arrow]"),s=[ix(o,r),nx(r),rx(r),ax(o,t.ownerDocument,r),QE(o),ZE({gutter:r.gutter,offset:r.offset,overlap:r.overlap},o),ox(r),sx(r),JE],{placement:l,strategy:d,onComplete:c,onPositioned:f}=r,p=()=>Se(null,null,function*(){var O;if(!n||!t)return;let w=yield KE(n,t,{placement:l,middleware:s,strategy:d});c==null||c(w),f==null||f({placed:!0});let b=se(t),m=Tc(b,w.x),S=Tc(b,w.y);t.style.setProperty("--x",`${m}px`),t.style.setProperty("--y",`${S}px`),r.hideWhenDetached&&((O=w.middlewareData.hide)!=null&&O.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));let x=t.firstElementChild;if(x){let V=rt(x);t.style.setProperty("--z-index",V.zIndex)}}),u=()=>Se(null,null,function*(){a.updatePosition?(yield a.updatePosition({updatePosition:p,floatingElement:t}),f==null||f({placed:!0})):yield p()}),h=lx(r.listeners),v=r.listeners?BE(n,t,u,h):zd;return u(),()=>{v==null||v(),f==null||f({placed:!1})}}function Et(e,t,a={}){let s=a,{defer:i}=s,n=gt(s,["defer"]),r=i?F:l=>l(),o=[];return o.push(r(()=>{let l=typeof e=="function"?e():e,d=typeof t=="function"?t():t;o.push(dx(l,d,n))})),()=>{o.forEach(l=>l==null?void 0:l())}}function Ta(e={}){let{placement:t,sameWidth:a,fitViewport:i,strategy:n="absolute"}=e;return{arrow:{position:"absolute",width:Xt.arrowSize.reference,height:Xt.arrowSize.reference,[Xt.arrowSizeHalf.variable]:`calc(${Xt.arrowSize.reference} / 2)`,[Xt.arrowOffset.variable]:`calc(${Xt.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?ux[t.split("-")[0]]:void 0,background:Xt.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:n,isolation:"isolate",minWidth:a?void 0:"max-content",width:a?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Ky,xa,Je,Mr,Lr,Rt,jy,Yy,Xy,hc,gc,Qy,eE,rE,oE,sE,lE,Sc,uE,cE,pE,hE,gE,fE,vE,bE,yE,EE,CE,TE,yc,VE,LE,FE,GE,UE,_E,$E,qE,zE,WE,KE,mn,Xt,XE,JE,QE,tx,ux,yn=te(()=>{"use strict";ae();Ky=["top","right","bottom","left"],xa=Math.min,Je=Math.max,Mr=Math.round,Lr=Math.floor,Rt=e=>({x:e,y:e}),jy={left:"right",right:"left",bottom:"top",top:"bottom"},Yy={start:"end",end:"start"};Xy=new Set(["top","bottom"]);hc=["left","right"],gc=["right","left"],Qy=["top","bottom"],eE=["bottom","top"];rE=(e,t,a)=>Se(null,null,function*(){let{placement:i="bottom",strategy:n="absolute",middleware:r=[],platform:o}=a,s=r.filter(Boolean),l=yield o.isRTL==null?void 0:o.isRTL(t),d=yield o.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:f}=fc(d,i,l),p=i,u={},h=0;for(let C=0;C<s.length;C++){var v;let{name:P,fn:w}=s[C],{x:b,y:m,data:S,reset:x}=yield w({x:c,y:f,initialPlacement:i,placement:p,strategy:n,middlewareData:u,rects:d,platform:y(g({},o),{detectOverflow:(v=o.detectOverflow)!=null?v:nE}),elements:{reference:e,floating:t}});c=b!=null?b:c,f=m!=null?m:f,u=y(g({},u),{[P]:g(g({},u[P]),S)}),x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(p=x.placement),x.rects&&(d=x.rects===!0?yield o.getElementRects({reference:e,floating:t,strategy:n}):x.rects),{x:c,y:f}=fc(d,p,l)),C=-1)}return{x:c,y:f,placement:p,strategy:n,middlewareData:u}}),oE=e=>({name:"arrow",options:e,fn(a){return Se(this,null,function*(){let{x:i,y:n,placement:r,rects:o,platform:s,elements:l,middlewareData:d}=a,{element:c,padding:f=0}=Zt(e,a)||{};if(c==null)return{};let p=Pc(f),u={x:i,y:n},h=Ds(r),v=As(h),C=yield s.getDimensions(c),P=h==="y",w=P?"top":"left",b=P?"bottom":"right",m=P?"clientHeight":"clientWidth",S=o.reference[v]+o.reference[h]-u[h]-o.floating[v],x=u[h]-o.reference[h],O=yield s.getOffsetParent==null?void 0:s.getOffsetParent(c),V=O?O[m]:0;(!V||!(yield s.isElement==null?void 0:s.isElement(O)))&&(V=l.floating[m]||o.floating[v]);let k=S/2-x/2,D=V/2-C[v]/2-1,N=xa(p[w],D),U=xa(p[b],D),J=N,pe=V-C[v]-U,ie=V/2-C[v]/2+k,ye=Vs(J,ie,pe),Q=!d.arrow&&Oi(r)!=null&&ie!==ye&&o.reference[v]/2-(ie<J?N:U)-C[v]/2<0,Pe=Q?ie<J?ie-J:ie-pe:0;return{[h]:u[h]+Pe,data:g({[h]:ye,centerOffset:ie-ye-Pe},Q&&{alignmentOffset:Pe}),reset:Q}})}}),sE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(a){return Se(this,null,function*(){var i,n;let{placement:r,middlewareData:o,rects:s,initialPlacement:l,platform:d,elements:c}=a,ie=Zt(e,a),{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:u,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:C=!0}=ie,P=gt(ie,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=o.arrow)!=null&&i.alignmentOffset)return{};let w=Jt(r),b=Nt(l),m=Jt(l)===l,S=yield d.isRTL==null?void 0:d.isRTL(c.floating),x=u||(m||!C?[Fr(l)]:Jy(l)),O=v!=="none";!u&&O&&x.push(...aE(l,C,v,S));let V=[l,...x],k=yield d.detectOverflow(a,P),D=[],N=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&D.push(k[w]),p){let ye=Zy(r,s,S);D.push(k[ye[0]],k[ye[1]])}if(N=[...N,{placement:r,overflows:D}],!D.every(ye=>ye<=0)){var U,J;let ye=(((U=o.flip)==null?void 0:U.index)||0)+1,Q=V[ye];if(Q&&(!(p==="alignment"&&b!==Nt(Q))||N.every(Ee=>Nt(Ee.placement)===b?Ee.overflows[0]>0:!0)))return{data:{index:ye,overflows:N},reset:{placement:Q}};let Pe=(J=N.filter(Ee=>Ee.overflows[0]<=0).sort((Ee,Ve)=>Ee.overflows[1]-Ve.overflows[1])[0])==null?void 0:J.placement;if(!Pe)switch(h){case"bestFit":{var pe;let Ee=(pe=N.filter(Ve=>{if(O){let We=Nt(Ve.placement);return We===b||We==="y"}return!0}).map(Ve=>[Ve.placement,Ve.overflows.filter(We=>We>0).reduce((We,it)=>We+it,0)]).sort((Ve,We)=>Ve[1]-We[1])[0])==null?void 0:pe[0];Ee&&(Pe=Ee);break}case"initialPlacement":Pe=l;break}if(r!==Pe)return{reset:{placement:Pe}}}return{}})}}};lE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(a){return Se(this,null,function*(){let{rects:i,platform:n}=a,s=Zt(e,a),{strategy:r="referenceHidden"}=s,o=gt(s,["strategy"]);switch(r){case"referenceHidden":{let l=yield n.detectOverflow(a,y(g({},o),{elementContext:"reference"})),d=mc(l,i.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:vc(d)}}}case"escaped":{let l=yield n.detectOverflow(a,y(g({},o),{altBoundary:!0})),d=mc(l,i.floating);return{data:{escapedOffsets:d,escaped:vc(d)}}}default:return{}}})}}},Sc=new Set(["left","top"]);uE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(a){return Se(this,null,function*(){var i,n;let{x:r,y:o,placement:s,middlewareData:l}=a,d=yield dE(a,e);return s===((i=l.offset)==null?void 0:i.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:r+d.x,y:o+d.y,data:y(g({},d),{placement:s})}})}}},cE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(a){return Se(this,null,function*(){let{x:i,y:n,placement:r,platform:o}=a,w=Zt(e,a),{mainAxis:s=!0,crossAxis:l=!1,limiter:d={fn:b=>{let{x:m,y:S}=b;return{x:m,y:S}}}}=w,c=gt(w,["mainAxis","crossAxis","limiter"]),f={x:i,y:n},p=yield o.detectOverflow(a,c),u=Nt(Jt(r)),h=Rs(u),v=f[h],C=f[u];if(s){let b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",S=v+p[b],x=v-p[m];v=Vs(S,v,x)}if(l){let b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",S=C+p[b],x=C-p[m];C=Vs(S,C,x)}let P=d.fn(y(g({},a),{[h]:v,[u]:C}));return y(g({},P),{data:{x:P.x-i,y:P.y-n,enabled:{[h]:s,[u]:l}}})})}}},pE=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:a,y:i,placement:n,rects:r,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:d=!0}=Zt(e,t),c={x:a,y:i},f=Nt(n),p=Rs(f),u=c[p],h=c[f],v=Zt(s,t),C=typeof v=="number"?{mainAxis:v,crossAxis:0}:g({mainAxis:0,crossAxis:0},v);if(l){let b=p==="y"?"height":"width",m=r.reference[p]-r.floating[b]+C.mainAxis,S=r.reference[p]+r.reference[b]-C.mainAxis;u<m?u=m:u>S&&(u=S)}if(d){var P,w;let b=p==="y"?"width":"height",m=Sc.has(Jt(n)),S=r.reference[f]-r.floating[b]+(m&&((P=o.offset)==null?void 0:P[f])||0)+(m?0:C.crossAxis),x=r.reference[f]+r.reference[b]+(m?0:((w=o.offset)==null?void 0:w[f])||0)-(m?C.crossAxis:0);h<S?h=S:h>x&&(h=x)}return{[p]:u,[f]:h}}}},hE=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(a){return Se(this,null,function*(){var i,n;let{placement:r,rects:o,platform:s,elements:l}=a,N=Zt(e,a),{apply:d=()=>{}}=N,c=gt(N,["apply"]),f=yield s.detectOverflow(a,c),p=Jt(r),u=Oi(r),h=Nt(r)==="y",{width:v,height:C}=o.floating,P,w;p==="top"||p==="bottom"?(P=p,w=u===((yield s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(w=p,P=u==="end"?"top":"bottom");let b=C-f.top-f.bottom,m=v-f.left-f.right,S=xa(C-f[P],b),x=xa(v-f[w],m),O=!a.middlewareData.shift,V=S,k=x;if((i=a.middlewareData.shift)!=null&&i.enabled.x&&(k=m),(n=a.middlewareData.shift)!=null&&n.enabled.y&&(V=b),O&&!u){let U=Je(f.left,0),J=Je(f.right,0),pe=Je(f.top,0),ie=Je(f.bottom,0);h?k=v-2*(U!==0||J!==0?U+J:Je(f.left,f.right)):V=C-2*(pe!==0||ie!==0?pe+ie:Je(f.top,f.bottom))}yield d(y(g({},a),{availableWidth:k,availableHeight:V}));let D=yield s.getDimensions(l.floating);return v!==D.width||C!==D.height?{reset:{rects:!0}}:{}})}}};gE=new Set(["inline","contents"]);fE=new Set(["table","td","th"]);vE=[":popover-open",":modal"];bE=["transform","translate","scale","rotate","perspective"],yE=["transform","translate","scale","rotate","perspective","filter"],EE=["paint","layout","strict","content"];CE=new Set(["html","body","#document"]);TE=Rt(0);yc=25;VE=new Set(["absolute","fixed"]);LE=function(e){return Se(this,null,function*(){let t=this.getOffsetParent||Rc,a=this.getDimensions,i=yield a(e.floating);return{reference:DE(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};FE={convertOffsetParentRelativeRectToViewportRelativeRect:SE,getDocumentElement:Dt,getClippingRect:RE,getOffsetParent:Rc,getElementRects:LE,getClientRects:IE,getDimensions:AE,getScale:Si,isElement:bt,isRTL:ME};GE=uE,UE=cE,_E=sE,$E=hE,qE=lE,zE=oE,WE=pE,KE=(e,t,a)=>{let i=new Map,n=g({platform:FE},a),r=y(g({},n.platform),{_c:i});return rE(e,t,y(g({},n),{platform:r}))};mn=e=>({variable:e,reference:`var(${e})`}),Xt={arrowSize:mn("--arrow-size"),arrowSizeHalf:mn("--arrow-size-half"),arrowBg:mn("--arrow-background"),transformOrigin:mn("--transform-origin"),arrowOffset:mn("--arrow-offset")},XE=e=>e==="top"||e==="bottom"?"y":"x";JE={name:"rects",fn({rects:e}){return{data:e}}},QE=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:a}){if(!a.arrow)return{};let{x:i,y:n}=a.arrow,r=t.split("-")[0];return Object.assign(e.style,{left:i!=null?`${i}px`:"",top:n!=null?`${n}px`:"",[r]:`calc(100% + ${Xt.arrowOffset.reference})`}),{}}}};tx={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};ux={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"}});function cx(e){let t={each(a){var i;for(let n=0;n<((i=e.frames)==null?void 0:i.length);n+=1){let r=e.frames[n];r&&a(r)}},addEventListener(a,i,n){return t.each(r=>{try{r.document.addEventListener(a,i,n)}catch(o){}}),()=>{try{t.removeEventListener(a,i,n)}catch(r){}}},removeEventListener(a,i,n){t.each(r=>{try{r.document.removeEventListener(a,i,n)}catch(o){}})}};return t}function px(e){let t=e.frameElement!=null?e.parent:null;return{addEventListener:(a,i,n)=>{try{t==null||t.addEventListener(a,i,n)}catch(r){}return()=>{try{t==null||t.removeEventListener(a,i,n)}catch(r){}}},removeEventListener:(a,i,n)=>{try{t==null||t.removeEventListener(a,i,n)}catch(r){}}}}function hx(e){for(let t of e)if(re(t)&&Ke(t))return!0;return!1}function gx(e,t){if(!Bc(t)||!e)return!1;let a=e.getBoundingClientRect();return a.width===0||a.height===0?!1:a.top<=t.clientY&&t.clientY<=a.top+a.height&&a.left<=t.clientX&&t.clientX<=a.left+a.width}function fx(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function Fc(e,t){if(!t||!Bc(e))return!1;let a=t.scrollHeight>t.clientHeight,i=a&&e.clientX>t.offsetLeft+t.clientWidth,n=t.scrollWidth>t.clientWidth,r=n&&e.clientY>t.offsetTop+t.clientHeight,o={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(a?16:0),height:t.clientHeight+(n?16:0)},s={x:e.clientX,y:e.clientY};return fx(o,s)?i||r:!1}function mx(e,t){let{exclude:a,onFocusOutside:i,onPointerDownOutside:n,onInteractOutside:r,defer:o,followControlledElements:s=!0}=t;if(!e)return;let l=Re(e),d=se(e),c=cx(d),f=px(d);function p(b,m){if(!re(m)||!m.isConnected||oe(e,m)||gx(e,b)||s&&nr(e,m))return!1;let S=l.querySelector(`[aria-controls="${e.id}"]`);if(S){let O=cr(S);if(Fc(b,O))return!1}let x=cr(e);return Fc(b,x)?!1:!(a!=null&&a(m))}let u=new Set,h=Ra(e==null?void 0:e.getRootNode());function v(b){function m(S){var k,D;let x=o&&!Xo()?F:N=>N(),O=S!=null?S:b,V=(D=(k=O==null?void 0:O.composedPath)==null?void 0:k.call(O))!=null?D:[O==null?void 0:O.target];x(()=>{let N=h?V[0]:j(b);if(!(!e||!p(b,N))){if(n||r){let U=wt(n,r);e.addEventListener(Lc,U,{once:!0})}Hc(e,Lc,{bubbles:!1,cancelable:!0,detail:{originalEvent:O,contextmenu:di(O),focusable:hx(V),target:N}})}})}b.pointerType==="touch"?(u.forEach(S=>S()),u.add(Z(l,"click",m,{once:!0})),u.add(f.addEventListener("click",m,{once:!0})),u.add(c.addEventListener("click",m,{once:!0}))):m()}let C=new Set,P=setTimeout(()=>{C.add(Z(l,"pointerdown",v,!0)),C.add(f.addEventListener("pointerdown",v,!0)),C.add(c.addEventListener("pointerdown",v,!0))},0);function w(b){(o?F:m=>m())(()=>{var x,O;let m=(O=(x=b==null?void 0:b.composedPath)==null?void 0:x.call(b))!=null?O:[b==null?void 0:b.target],S=h?m[0]:j(b);if(!(!e||!p(b,S))){if(i||r){let V=wt(i,r);e.addEventListener(Mc,V,{once:!0})}Hc(e,Mc,{bubbles:!1,cancelable:!0,detail:{originalEvent:b,contextmenu:!1,focusable:Ke(S),target:S}})}})}return Xo()||(C.add(Z(l,"focusin",w,!0)),C.add(f.addEventListener("focusin",w,!0)),C.add(c.addEventListener("focusin",w,!0))),()=>{clearTimeout(P),u.forEach(b=>b()),C.forEach(b=>b())}}function $r(e,t){let{defer:a}=t,i=a?F:r=>r(),n=[];return n.push(i(()=>{let r=typeof e=="function"?e():e;n.push(mx(r,t))})),()=>{n.forEach(r=>r==null?void 0:r())}}function Hc(e,t,a){let i=e.ownerDocument.defaultView||window,n=new i.CustomEvent(t,a);return e.dispatchEvent(n)}var Lc,Mc,Bc,Qt=te(()=>{"use strict";ae();Lc="pointerdown.outside",Mc="focus.outside";Bc=e=>"clientY"in e});function vx(e,t){let a=i=>{i.key==="Escape"&&(i.isComposing||(t==null||t(i)))};return Z(Re(e),"keydown",a,{capture:!0})}function bx(e,t,a){let i=e.ownerDocument.defaultView||window,n=new i.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:a});return e.dispatchEvent(n)}function yx(e,t,a){e.addEventListener(t,a,{once:!0})}function _c(){qe.layers.forEach(({node:e})=>{e.style.pointerEvents=qe.isBelowPointerBlockingLayer(e)?"none":"auto"})}function Ex(e){e.style.pointerEvents=""}function xx(e,t){let a=Re(e),i=[];return qe.hasPointerBlockingLayer()&&!a.body.hasAttribute("data-inert")&&(Uc=document.body.style.pointerEvents,queueMicrotask(()=>{a.body.style.pointerEvents="none",a.body.setAttribute("data-inert","")})),t==null||t.forEach(n=>{let[r,o]=Fd(()=>{let s=n();return re(s)?s:null},{timeout:1e3});r.then(s=>i.push(Ma(s,{pointerEvents:"auto"}))),i.push(o)}),()=>{qe.hasPointerBlockingLayer()||(queueMicrotask(()=>{a.body.style.pointerEvents=Uc,a.body.removeAttribute("data-inert"),a.body.style.length===0&&a.body.removeAttribute("style")}),i.forEach(n=>n()))}}function Cx(e,t){let{warnOnMissingNode:a=!0}=t;if(a&&!e){zt("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;let{onDismiss:i,onRequestDismiss:n,pointerBlocking:r,exclude:o,debug:s,type:l="dialog"}=t,d={dismiss:i,node:e,type:l,pointerBlocking:r,requestDismiss:n};qe.add(d),_c();function c(v){var P,w;let C=j(v.detail.originalEvent);qe.isBelowPointerBlockingLayer(e)||qe.isInBranch(C)||((P=t.onPointerDownOutside)==null||P.call(t,v),(w=t.onInteractOutside)==null||w.call(t,v),!v.defaultPrevented&&(s&&console.log("onPointerDownOutside:",v.detail.originalEvent),i==null||i()))}function f(v){var P,w;let C=j(v.detail.originalEvent);qe.isInBranch(C)||((P=t.onFocusOutside)==null||P.call(t,v),(w=t.onInteractOutside)==null||w.call(t,v),!v.defaultPrevented&&(s&&console.log("onFocusOutside:",v.detail.originalEvent),i==null||i()))}function p(v){var C;qe.isTopMost(e)&&((C=t.onEscapeKeyDown)==null||C.call(t,v),!v.defaultPrevented&&i&&(v.preventDefault(),i()))}function u(v){var b;if(!e)return!1;let C=typeof o=="function"?o():o,P=Array.isArray(C)?C:[C],w=(b=t.persistentElements)==null?void 0:b.map(m=>m()).filter(re);return w&&P.push(...w),P.some(m=>oe(m,v))||qe.isInNestedLayer(e,v)}let h=[r?xx(e,t.persistentElements):void 0,vx(e,p),$r(e,{exclude:u,onFocusOutside:f,onPointerDownOutside:c,defer:t.defer})];return()=>{qe.remove(e),_c(),Ex(e),h.forEach(v=>v==null?void 0:v())}}function Lt(e,t){let{defer:a}=t,i=a?F:r=>r(),n=[];return n.push(i(()=>{let r=$t(e)?e():e;n.push(Cx(r,t))})),()=>{n.forEach(r=>r==null?void 0:r())}}function $c(e,t={}){let{defer:a}=t,i=a?F:r=>r(),n=[];return n.push(i(()=>{let r=$t(e)?e():e;if(!r){zt("[@zag-js/dismissable] branch node is `null` or `undefined`");return}qe.addBranch(r),n.push(()=>{qe.removeBranch(r)})})),()=>{n.forEach(r=>r==null?void 0:r())}}var Gc,qe,Uc,_a=te(()=>{"use strict";Qt();ae();Gc="layer:request-dismiss",qe={layers:[],branches:[],recentlyRemoved:new Set,count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var i;let t=this.indexOf(e),a=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return t<a},isTopMost(e){var t;return((t=this.layers[this.count()-1])==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){let a=this.indexOf(e);return a===-1?[]:this.layers.slice(a+1).filter(i=>i.type===t)},getParentLayerOfType(e,t){let a=this.indexOf(e);if(!(a<=0))return this.layers.slice(0,a).reverse().find(i=>i.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return!!(this.getNestedLayers(e).some(a=>oe(a.node,t))||this.recentlyRemoved.size>0)},isInBranch(e){return Array.from(this.branches).some(t=>oe(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){let t=this.indexOf(e);t<0||(this.recentlyRemoved.add(e),La(()=>this.recentlyRemoved.delete(e)),t<this.count()-1&&this.getNestedLayers(e).forEach(a=>qe.dismiss(a.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){let t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);let a=this.countNestedLayersOfType(e.node,e.type);a>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${a}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){let a=this.indexOf(e);if(a===-1)return;let i=this.layers[a];yx(e,Gc,n=>{var r;(r=i.requestDismiss)==null||r.call(i,n),n.defaultPrevented||(i==null||i.dismiss())}),bx(e,Gc,{originalLayer:e,targetLayer:t,originalIndex:a,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}}});var ep={};de(ep,{Combobox:()=>Gx});function wx(e,t){let{context:a,prop:i,state:n,send:r,scope:o,computed:s,event:l}=e,d=i("translations"),c=i("collection"),f=!!i("disabled"),p=s("isInteractive"),u=!!i("invalid"),h=!!i("required"),v=!!i("readOnly"),C=n.hasTag("open"),P=n.hasTag("focused"),w=i("composite"),b=a.get("highlightedValue"),m=Ta(y(g({},i("positioning")),{placement:a.get("currentPlacement")}));function S(x){let O=c.getItemDisabled(x.item),V=c.getItemValue(x.item);return ga(V,()=>`[zag-js] No value found for item ${JSON.stringify(x.item)}`),{value:V,disabled:!!(O||O),highlighted:b===V,selected:a.get("value").includes(V)}}return{focused:P,open:C,inputValue:a.get("inputValue"),highlightedValue:b,highlightedItem:a.get("highlightedItem"),value:a.get("value"),valueAsString:s("valueAsString"),hasSelectedItems:s("hasSelectedItems"),selectedItems:a.get("selectedItems"),collection:i("collection"),multiple:!!i("multiple"),disabled:!!f,syncSelectedItems(){r({type:"SELECTED_ITEMS.SYNC"})},reposition(x={}){r({type:"POSITIONING.SET",options:x})},setHighlightValue(x){r({type:"HIGHLIGHTED_VALUE.SET",value:x})},clearHighlightValue(){r({type:"HIGHLIGHTED_VALUE.CLEAR"})},selectValue(x){r({type:"ITEM.SELECT",value:x})},setValue(x){r({type:"VALUE.SET",value:x})},setInputValue(x,O="script"){r({type:"INPUT_VALUE.SET",value:x,src:O})},clearValue(x){x!=null?r({type:"ITEM.CLEAR",value:x}):r({type:"VALUE.CLEAR"})},focus(){var x;(x=qa(o))==null||x.focus()},setOpen(x,O="script"){n.hasTag("open")!==x&&r({type:x?"OPEN":"CLOSE",src:O})},getRootProps(){return t.element(y(g({},ze.root.attrs),{dir:i("dir"),id:Px(o),"data-invalid":E(u),"data-readonly":E(v)}))},getLabelProps(){return t.label(y(g({},ze.label.attrs),{dir:i("dir"),htmlFor:qr(o),id:Bs(o),"data-readonly":E(v),"data-disabled":E(f),"data-invalid":E(u),"data-required":E(h),"data-focus":E(P),onClick(x){var O;w||(x.preventDefault(),(O=En(o))==null||O.focus({preventScroll:!0}))}}))},getControlProps(){return t.element(y(g({},ze.control.attrs),{dir:i("dir"),id:Xc(o),"data-state":C?"open":"closed","data-focus":E(P),"data-disabled":E(f),"data-invalid":E(u)}))},getPositionerProps(){return t.element(y(g({},ze.positioner.attrs),{dir:i("dir"),id:Zc(o),style:m.floating}))},getInputProps(){return t.input(y(g({},ze.input.attrs),{dir:i("dir"),"aria-invalid":Y(u),"data-invalid":E(u),"data-autofocus":E(i("autoFocus")),name:i("name"),form:i("form"),disabled:f,required:i("required"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:v,placeholder:i("placeholder"),id:qr(o),type:"text",role:"combobox",defaultValue:a.get("inputValue"),"aria-autocomplete":s("autoComplete")?"both":"list","aria-controls":zr(o),"aria-expanded":C,"data-state":C?"open":"closed","aria-activedescendant":b?zc(o,b):void 0,onClick(x){x.defaultPrevented||i("openOnClick")&&p&&r({type:"INPUT.CLICK",src:"input-click"})},onFocus(){f||r({type:"INPUT.FOCUS"})},onBlur(){f||r({type:"INPUT.BLUR"})},onChange(x){r({type:"INPUT.CHANGE",value:x.currentTarget.value,src:"input-change"})},onKeyDown(x){if(x.defaultPrevented||!p||x.ctrlKey||x.shiftKey||ke(x))return;let O=i("openOnKeyPress"),V=x.ctrlKey||x.metaKey||x.shiftKey,k=!0,D={ArrowDown(J){!O&&!C||(r({type:J.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:k,src:"arrow-key"}),J.preventDefault())},ArrowUp(){!O&&!C||(r({type:x.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:k,src:"arrow-key"}),x.preventDefault())},Home(J){V||(r({type:"INPUT.HOME",keypress:k}),C&&J.preventDefault())},End(J){V||(r({type:"INPUT.END",keypress:k}),C&&J.preventDefault())},Enter(J){var Pe;r({type:"INPUT.ENTER",keypress:k,src:"item-select"});let pe=s("isCustomValue")&&i("allowCustomValue"),ie=b!=null,ye=i("alwaysSubmitOnEnter");if(C&&!pe&&!ye&&ie&&J.preventDefault(),b==null)return;let Q=Vi(o,b);nt(Q)&&((Pe=i("navigate"))==null||Pe({value:b,node:Q,href:Q.href}))},Escape(){r({type:"INPUT.ESCAPE",keypress:k,src:"escape-key"}),x.preventDefault()}},N=ue(x,{dir:i("dir")}),U=D[N];U==null||U(x)}}))},getTriggerProps(x={}){return t.button(y(g({},ze.trigger.attrs),{dir:i("dir"),id:Jc(o),"aria-haspopup":w?"listbox":"dialog",type:"button",tabIndex:x.focusable?void 0:-1,"aria-label":d.triggerLabel,"aria-expanded":C,"data-state":C?"open":"closed","aria-controls":C?zr(o):void 0,disabled:f,"data-invalid":E(u),"data-focusable":E(x.focusable),"data-readonly":E(v),"data-disabled":E(f),onFocus(){x.focusable&&r({type:"INPUT.FOCUS",src:"trigger"})},onClick(O){O.defaultPrevented||p&&he(O)&&r({type:"TRIGGER.CLICK",src:"trigger-click"})},onPointerDown(O){p&&O.pointerType!=="touch"&&he(O)&&(O.preventDefault(),queueMicrotask(()=>{var V;(V=qa(o))==null||V.focus({preventScroll:!0})}))},onKeyDown(O){if(O.defaultPrevented||w)return;let V={ArrowDown(){r({type:"INPUT.ARROW_DOWN",src:"arrow-key"})},ArrowUp(){r({type:"INPUT.ARROW_UP",src:"arrow-key"})}},k=ue(O,{dir:i("dir")}),D=V[k];D&&(D(O),O.preventDefault())}}))},getContentProps(){return t.element(y(g({},ze.content.attrs),{dir:i("dir"),id:zr(o),role:w?"listbox":"dialog",tabIndex:-1,hidden:!C,"data-state":C?"open":"closed","data-placement":a.get("currentPlacement"),"aria-labelledby":Bs(o),"aria-multiselectable":i("multiple")&&w?!0:void 0,"data-empty":E(c.size===0),onPointerDown(x){he(x)&&x.preventDefault()}}))},getListProps(){return t.element(y(g({},ze.list.attrs),{role:w?void 0:"listbox","data-empty":E(c.size===0),"aria-labelledby":Bs(o),"aria-multiselectable":i("multiple")&&!w?!0:void 0}))},getClearTriggerProps(){return t.button(y(g({},ze.clearTrigger.attrs),{dir:i("dir"),id:Qc(o),type:"button",tabIndex:-1,disabled:f,"data-invalid":E(u),"aria-label":d.clearTriggerLabel,"aria-controls":qr(o),hidden:!a.get("value").length,onPointerDown(x){he(x)&&x.preventDefault()},onClick(x){x.defaultPrevented||p&&r({type:"VALUE.CLEAR",src:"clear-trigger"})}}))},getItemState:S,getItemProps(x){let O=S(x),V=O.value;return t.element(y(g({},ze.item.attrs),{dir:i("dir"),id:zc(o,V),role:"option",tabIndex:-1,"data-highlighted":E(O.highlighted),"data-state":O.selected?"checked":"unchecked","aria-selected":Y(O.highlighted),"aria-disabled":Y(O.disabled),"data-disabled":E(O.disabled),"data-value":O.value,onPointerMove(){O.disabled||O.highlighted||r({type:"ITEM.POINTER_MOVE",value:V})},onPointerLeave(){var k;x.persistFocus||O.disabled||!((k=l.previous())!=null&&k.type.includes("POINTER"))||r({type:"ITEM.POINTER_LEAVE",value:V})},onClick(k){en(k)||Da(k)||di(k)||O.disabled||r({type:"ITEM.CLICK",src:"item-select",value:V})}}))},getItemTextProps(x){let O=S(x);return t.element(y(g({},ze.itemText.attrs),{dir:i("dir"),"data-state":O.selected?"checked":"unchecked","data-disabled":E(O.disabled),"data-highlighted":E(O.highlighted)}))},getItemIndicatorProps(x){let O=S(x);return t.element(y(g({"aria-hidden":!0},ze.itemIndicator.attrs),{dir:i("dir"),"data-state":O.selected?"checked":"unchecked",hidden:!O.selected}))},getItemGroupProps(x){let{id:O}=x;return t.element(y(g({},ze.itemGroup.attrs),{dir:i("dir"),id:Sx(o,O),"aria-labelledby":qc(o,O),"data-empty":E(c.size===0),role:"group"}))},getItemGroupLabelProps(x){let{htmlFor:O}=x;return t.element(y(g({},ze.itemGroupLabel.attrs),{dir:i("dir"),id:qc(o,O),role:"presentation"}))}}}function Yc(e){return(e.previousEvent||e).src}function Hx(e){return e.replace(/_([a-z])/g,(t,a)=>a.toUpperCase())}function Bx(e){let t={};for(let[a,i]of Object.entries(e)){let n=Hx(a);t[n]=i}return t}var Tx,ze,Wr,Px,Bs,Xc,qr,zr,Zc,Jc,Qc,Sx,qc,zc,$a,qa,Wc,Kc,En,Ix,Vi,jc,Ox,Vx,kx,Nx,Te,et,Rx,Ax,uV,Dx,cV,Lx,pV,Mx,hV,Fx,Gx,tp=te(()=>{"use strict";fn();yn();_a();Qt();ae();Tx=_("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),ze=Tx.build(),Wr=e=>new kt(e);Wr.empty=()=>new kt({items:[]});Px=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`combobox:${e.id}`},Bs=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`combobox:${e.id}:label`},Xc=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`combobox:${e.id}:control`},qr=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.input)!=null?a:`combobox:${e.id}:input`},zr=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`combobox:${e.id}:content`},Zc=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.positioner)!=null?a:`combobox:${e.id}:popper`},Jc=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`combobox:${e.id}:toggle-btn`},Qc=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.clearTrigger)!=null?a:`combobox:${e.id}:clear-btn`},Sx=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemGroup)==null?void 0:i.call(a,t))!=null?n:`combobox:${e.id}:optgroup:${t}`},qc=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemGroupLabel)==null?void 0:i.call(a,t))!=null?n:`combobox:${e.id}:optgroup-label:${t}`},zc=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`combobox:${e.id}:option:${t}`},$a=e=>e.getById(zr(e)),qa=e=>e.getById(qr(e)),Wc=e=>e.getById(Zc(e)),Kc=e=>e.getById(Xc(e)),En=e=>e.getById(Jc(e)),Ix=e=>e.getById(Qc(e)),Vi=(e,t)=>{if(t==null)return null;let a=`[role=option][data-value="${CSS.escape(t)}"]`;return gi($a(e),a)},jc=e=>{let t=qa(e);e.isActiveElement(t)||(t==null||t.focus({preventScroll:!0}))},Ox=e=>{let t=En(e);e.isActiveElement(t)||(t==null||t.focus({preventScroll:!0}))};({guards:Vx,createMachine:kx,choose:Nx}=dt()),{and:Te,not:et}=Vx,Rx=kx({props({props:e}){return y(g({loopFocus:!0,openOnClick:!1,defaultValue:[],defaultInputValue:"",closeOnSelect:!e.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:e.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:t}){hi(t)},collection:Wr.empty()},e),{positioning:g({placement:"bottom",sameWidth:!0},e.positioning),translations:g({triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value"},e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"suggesting":"idle"},context({prop:e,bindable:t,getContext:a,getEvent:i}){return{currentPlacement:t(()=>({defaultValue:void 0})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:ge,hash(n){return n.join(",")},onChange(n){var d;let r=a(),o=r.get("selectedItems"),s=e("collection"),l=n.map(c=>o.find(f=>s.getItemValue(f)===c)||s.find(c));r.set("selectedItems",l),(d=e("onValueChange"))==null||d({value:n,items:l})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var o;let r=e("collection").find(n);(o=e("onHighlightChange"))==null||o({highlightedValue:n,highlightedItem:r})}})),inputValue:t(()=>{let n=e("inputValue")||e("defaultInputValue"),r=e("value")||e("defaultValue");if(!n.trim()&&!e("multiple")){let o=e("collection").stringifyMany(r);n=xe(e("selectionBehavior"),{preserve:n||o,replace:o,clear:""})}return{defaultValue:n,value:e("inputValue"),onChange(o){var d;let s=i(),l=(s.previousEvent||s).src;(d=e("onInputValueChange"))==null||d({inputValue:o,reason:l})}}}),highlightedItem:t(()=>{let n=e("highlightedValue");return{defaultValue:e("collection").find(n)}}),selectedItems:t(()=>{let n=e("value")||e("defaultValue")||[];return{defaultValue:e("collection").findMany(n)}})}},computed:{isInputValueEmpty:({context:e})=>e.get("inputValue").length===0,isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),autoComplete:({prop:e})=>e("inputBehavior")==="autocomplete",autoHighlight:({prop:e})=>e("inputBehavior")==="autohighlight",hasSelectedItems:({context:e})=>e.get("value").length>0,valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems")),isCustomValue:({context:e,computed:t})=>e.get("inputValue")!==t("valueAsString")},watch({context:e,prop:t,track:a,action:i,send:n}){a([()=>e.hash("value")],()=>{i(["syncSelectedItems"])}),a([()=>e.get("inputValue")],()=>{i(["syncInputValue"])}),a([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem","autofillInputValue"])}),a([()=>t("open")],()=>{i(["toggleVisibility"])}),a([()=>t("collection").toString()],()=>{n({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:Nx([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:Te("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:Te("isCustomValue",et("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:Te("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:Te("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:Te("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:Te("isOpenControlled","isCustomValue",et("hasHighlightedItem"),et("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Te("isCustomValue",et("hasHighlightedItem"),et("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Te("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:Te("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:Te("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:Te("isOpenControlled","isCustomValue",et("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Te("isCustomValue",et("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:Te("isHighlightedItemRemoved","hasCollectionItems","autoHighlight"),actions:["clearHighlightedValue","highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{guard:"autoHighlight",actions:["highlightFirstItem"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:Te("isOpenControlled","isCustomValue",et("hasHighlightedItem"),et("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Te("isCustomValue",et("hasHighlightedItem"),et("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Te("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:Te("isOpenControlled","isCustomValue",et("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Te("isCustomValue",et("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:Te("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:e})=>e("isInputValueEmpty"),autoComplete:({computed:e,prop:t})=>e("autoComplete")&&!t("multiple"),autoHighlight:({computed:e})=>e("autoHighlight"),isFirstItemHighlighted:({prop:e,context:t})=>e("collection").firstValue===t.get("highlightedValue"),isLastItemHighlighted:({prop:e,context:t})=>e("collection").lastValue===t.get("highlightedValue"),isCustomValue:({computed:e})=>e("isCustomValue"),allowCustomValue:({prop:e})=>!!e("allowCustomValue"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null,openOnChange:({prop:e,context:t})=>{let a=e("openOnChange");return Ud(a)?a:!!(a!=null&&a({inputValue:t.get("inputValue")}))},restoreFocus:({event:e})=>{var a,i;let t=(i=e.restoreFocus)!=null?i:(a=e.previousEvent)==null?void 0:a.restoreFocus;return t==null?!0:!!t},isChangeEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INPUT.CHANGE"},autoFocus:({prop:e})=>!!e("autoFocus"),isHighlightedItemRemoved:({prop:e,context:t})=>!e("collection").has(t.get("highlightedValue")),hasCollectionItems:({prop:e})=>e("collection").size>0},effects:{trackDismissableLayer({send:e,prop:t,scope:a}){return t("disableLayer")?void 0:Lt(()=>$a(a),{type:"listbox",defer:!0,exclude:()=>[qa(a),En(a),Ix(a)],onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside:t("onInteractOutside"),onEscapeKeyDown(i){i.preventDefault(),i.stopPropagation(),e({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){e({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},trackPlacement({context:e,prop:t,scope:a}){let i=()=>Kc(a)||En(a),n=()=>Wc(a);return e.set("currentPlacement",t("positioning").placement),Et(i,n,y(g({},t("positioning")),{defer:!0,onComplete(r){e.set("currentPlacement",r.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:a,event:i}){let n=qa(a),r=[],o=d=>{let c=i.current().type.includes("POINTER"),f=e.get("highlightedValue");if(c||!f)return;let p=$a(a),u=t("scrollToIndexFn");if(u){let C=t("collection").indexOf(f);u({index:C,immediate:d,getElement:()=>Vi(a,f)});return}let h=Vi(a,f),v=F(()=>{jt(h,{rootEl:p,block:"nearest"})});r.push(v)},s=F(()=>o(!0));r.push(s);let l=ot(n,{attributes:["aria-activedescendant"],callback:()=>o(!1)});return r.push(l),()=>{r.forEach(d=>d())}}},actions:{reposition({context:e,prop:t,scope:a,event:i}){Et(()=>Kc(a),()=>Wc(a),y(g(g({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(n){e.set("currentPlacement",n.placement)}}))},setHighlightedValue({context:e,event:t}){t.value!=null&&e.set("highlightedValue",t.value)},clearHighlightedValue({context:e}){e.set("highlightedValue",null)},selectHighlightedItem(e){var s;let{context:t,prop:a}=e,i=a("collection"),n=t.get("highlightedValue");if(!n||!i.has(n))return;let r=a("multiple")?vt(t.get("value"),n):[n];(s=a("onSelect"))==null||s({value:r,itemValue:n}),t.set("value",r);let o=xe(a("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(r),clear:""});t.set("inputValue",o)},scrollToHighlightedItem({context:e,prop:t,scope:a}){La(()=>{let i=e.get("highlightedValue");if(i==null)return;let n=Vi(a,i),r=$a(a),o=t("scrollToIndexFn");if(o){let s=t("collection").indexOf(i);o({index:s,immediate:!0,getElement:()=>Vi(a,i)});return}jt(n,{rootEl:r,block:"nearest"})})},selectItem(e){let{context:t,event:a,flush:i,prop:n}=e;a.value!=null&&i(()=>{var s;let r=n("multiple")?vt(t.get("value"),a.value):[a.value];(s=n("onSelect"))==null||s({value:r,itemValue:a.value}),t.set("value",r);let o=xe(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:n("collection").stringifyMany(r),clear:""});t.set("inputValue",o)})},clearItem(e){let{context:t,event:a,flush:i,prop:n}=e;a.value!=null&&i(()=>{let r=lt(t.get("value"),a.value);t.set("value",r);let o=xe(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:n("collection").stringifyMany(r),clear:""});t.set("inputValue",o)})},setInitialFocus({scope:e}){F(()=>{jc(e)})},setFinalFocus({scope:e}){F(()=>{var t;((t=En(e))==null?void 0:t.dataset.focusable)==null?jc(e):Ox(e)})},syncInputValue({context:e,scope:t,event:a}){let i=qa(t);i&&(i.value=e.get("inputValue"),queueMicrotask(()=>{a.current().type!=="INPUT.CHANGE"&&Zi(i)}))},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearInputValue({context:e}){e.set("inputValue","")},revertInputValue({context:e,prop:t,computed:a}){let i=t("selectionBehavior"),n=xe(i,{replace:a("hasSelectedItems")?a("valueAsString"):"",preserve:e.get("inputValue"),clear:""});e.set("inputValue",n)},setValue(e){let{context:t,flush:a,event:i,prop:n}=e;a(()=>{t.set("value",i.value);let r=xe(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:n("collection").stringifyMany(i.value),clear:""});t.set("inputValue",r)})},clearSelectedItems(e){let{context:t,flush:a,prop:i}=e;a(()=>{t.set("value",[]);let n=xe(i("selectionBehavior"),{preserve:t.get("inputValue"),replace:i("collection").stringifyMany([]),clear:""});t.set("inputValue",n)})},scrollContentToTop({prop:e,scope:t}){let a=e("scrollToIndexFn");if(a){let i=e("collection").firstValue;a({index:0,immediate:!0,getElement:()=>Vi(t,i)})}else{let i=$a(t);if(!i)return;i.scrollTop=0}},invokeOnOpen({prop:e,event:t,context:a}){var n;let i=Yc(t);(n=e("onOpenChange"))==null||n({open:!0,reason:i,value:a.get("value")})},invokeOnClose({prop:e,event:t,context:a}){var n;let i=Yc(t);(n=e("onOpenChange"))==null||n({open:!1,reason:i,value:a.get("value")})},highlightFirstItem({context:e,prop:t,scope:a}){($a(a)?queueMicrotask:F)(()=>{let i=t("collection").firstValue;i&&e.set("highlightedValue",i)})},highlightFirstItemIfNeeded({computed:e,action:t}){e("autoHighlight")&&t(["highlightFirstItem"])},highlightLastItem({context:e,prop:t,scope:a}){($a(a)?queueMicrotask:F)(()=>{let i=t("collection").lastValue;i&&e.set("highlightedValue",i)})},highlightNextItem({context:e,prop:t}){let a=null,i=e.get("highlightedValue"),n=t("collection");i?(a=n.getNextValue(i),!a&&t("loopFocus")&&(a=n.firstValue)):a=n.firstValue,a&&e.set("highlightedValue",a)},highlightPrevItem({context:e,prop:t}){let a=null,i=e.get("highlightedValue"),n=t("collection");i?(a=n.getPreviousValue(i),!a&&t("loopFocus")&&(a=n.lastValue)):a=n.lastValue,a&&e.set("highlightedValue",a)},highlightFirstSelectedItem({context:e,prop:t}){F(()=>{let[a]=t("collection").sort(e.get("value"));a&&e.set("highlightedValue",a)})},highlightFirstOrSelectedItem({context:e,prop:t,computed:a}){F(()=>{let i=null;a("hasSelectedItems")?i=t("collection").sort(e.get("value"))[0]:i=t("collection").firstValue,i&&e.set("highlightedValue",i)})},highlightLastOrSelectedItem({context:e,prop:t,computed:a}){F(()=>{let i=t("collection"),n=null;a("hasSelectedItems")?n=i.sort(e.get("value"))[0]:n=i.lastValue,n&&e.set("highlightedValue",n)})},autofillInputValue({context:e,computed:t,prop:a,event:i,scope:n}){let r=qa(n),o=a("collection");if(!t("autoComplete")||!r||!i.keypress)return;let s=o.stringify(e.get("highlightedValue"));F(()=>{r.value=s||e.get("inputValue")})},syncSelectedItems(e){queueMicrotask(()=>{let{context:t,prop:a}=e,i=a("collection"),n=t.get("value"),r=n.map(s=>t.get("selectedItems").find(l=>i.getItemValue(l)===s)||i.find(s));t.set("selectedItems",r);let o=xe(a("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(n),clear:""});t.set("inputValue",o)})},syncHighlightedItem({context:e,prop:t}){let a=t("collection").find(e.get("highlightedValue"));e.set("highlightedItem",a)},toggleVisibility({event:e,send:t,prop:a}){t({type:a("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});Ax=B()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]),uV=H(Ax),Dx=B()(["htmlFor"]),cV=H(Dx),Lx=B()(["id"]),pV=H(Lx),Mx=B()(["item","persistFocus"]),hV=H(Mx),Fx=class extends z{constructor(){super(...arguments);K(this,"options",[]);K(this,"allOptions",[]);K(this,"hasGroups",!1)}setAllOptions(t){this.allOptions=t,this.options=t}getCollection(){let t=this.options||this.allOptions||[];return this.hasGroups?Wr({items:t,itemToValue:a=>{var i;return(i=a.id)!=null?i:""},itemToString:a=>a.label,isItemDisabled:a=>{var i;return(i=a.disabled)!=null?i:!1},groupBy:a=>a.group}):Wr({items:t,itemToValue:a=>{var i;return(i=a.id)!=null?i:""},itemToString:a=>a.label,isItemDisabled:a=>{var i;return(i=a.disabled)!=null?i:!1}})}initMachine(t){let a=this.getCollection.bind(this);return new q(Rx,y(g({},t),{get collection(){return a()},onOpenChange:i=>{i.open&&(this.options=this.allOptions),t.onOpenChange&&t.onOpenChange(i)},onInputValueChange:i=>{let n=this.allOptions.filter(r=>r.label.toLowerCase().includes(i.inputValue.toLowerCase()));this.options=n.length>0?n:this.allOptions,t.onInputValueChange&&t.onInputValueChange(i)}}))}initApi(){return wx(this.machine.service,$)}renderItems(){var r,o,s;let t=this.el.querySelector('[data-scope="combobox"][data-part="content"]');if(!t)return;let a=this.el.querySelector('[data-templates="combobox"]');if(!a)return;t.querySelectorAll('[data-scope="combobox"][data-part="item"]:not([data-template])').forEach(l=>l.remove()),t.querySelectorAll('[data-scope="combobox"][data-part="item-group"]:not([data-template])').forEach(l=>l.remove());let i=this.api.collection.items,n=(s=(o=(r=this.api.collection).group)==null?void 0:o.call(r))!=null?s:[];n.some(([l])=>l!=null)?this.renderGroupedItems(t,a,n):this.renderFlatItems(t,a,i)}renderGroupedItems(t,a,i){for(let[n,r]of i){if(n==null)continue;let o=a.querySelector(`[data-scope="combobox"][data-part="item-group"][data-id="${n}"][data-template]`);if(!o)continue;let s=o.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemGroupProps({id:n}));let l=s.querySelector('[data-scope="combobox"][data-part="item-group-label"]');l&&this.spreadProps(l,this.api.getItemGroupLabelProps({htmlFor:n}));let d=s.querySelector('[data-scope="combobox"][data-part="item-group-content"]');if(d){d.innerHTML="";for(let c of r){let f=this.cloneItem(a,c);f&&d.appendChild(f)}t.appendChild(s)}}}renderFlatItems(t,a,i){for(let n of i){let r=this.cloneItem(a,n);r&&t.appendChild(r)}}cloneItem(t,a){let i=this.api.collection.getItemValue(a),n=t.querySelector(`[data-scope="combobox"][data-part="item"][data-value="${i}"][data-template]`);if(!n)return null;let r=n.cloneNode(!0);r.removeAttribute("data-template"),this.spreadProps(r,this.api.getItemProps({item:a}));let o=r.querySelector('[data-scope="combobox"][data-part="item-text"]');o&&(this.spreadProps(o,this.api.getItemTextProps({item:a})),o.children.length===0&&(o.textContent=a.label||""));let s=r.querySelector('[data-scope="combobox"][data-part="item-indicator"]');return s&&this.spreadProps(s,this.api.getItemIndicatorProps({item:a})),r}render(){let t=this.el.querySelector('[data-scope="combobox"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps()),["label","control","input","trigger","clear-trigger","positioner"].forEach(i=>{let n=this.el.querySelector(`[data-scope="combobox"][data-part="${i}"]`);if(!n)return;let r="get"+i.split("-").map(o=>o[0].toUpperCase()+o.slice(1)).join("")+"Props";this.spreadProps(n,this.api[r]())});let a=this.el.querySelector('[data-scope="combobox"][data-part="content"]');a&&(this.spreadProps(a,this.api.getContentProps()),this.renderItems())}};Gx={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=JSON.parse(e.dataset.collection||"[]"),i=a.some(s=>s.group!==void 0),n=y(g({id:e.id},T(e,"controlled")?{value:X(e,"value")}:{defaultValue:X(e,"defaultValue")}),{disabled:T(e,"disabled"),placeholder:I(e,"placeholder"),alwaysSubmitOnEnter:T(e,"alwaysSubmitOnEnter"),autoFocus:T(e,"autoFocus"),closeOnSelect:T(e,"closeOnSelect"),dir:I(e,"dir",["ltr","rtl"]),inputBehavior:I(e,"inputBehavior",["autohighlight","autocomplete","none"]),loopFocus:T(e,"loopFocus"),multiple:T(e,"multiple"),invalid:T(e,"invalid"),allowCustomValue:!1,selectionBehavior:"replace",name:I(e,"name"),form:I(e,"form"),readOnly:T(e,"readOnly"),required:T(e,"required"),positioning:(()=>{let s=e.dataset.positioning;if(s)try{let l=JSON.parse(s);return Bx(l)}catch(l){return}})(),onOpenChange:s=>{let l=I(e,"onOpenChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{open:s.open,reason:s.reason,value:s.value,id:e.id});let d=I(e,"onOpenChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:T(e,"bubble"),detail:{open:s.open,reason:s.reason,value:s.value,id:e.id}}))},onInputValueChange:s=>{let l=I(e,"onInputValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{value:s.inputValue,reason:s.reason,id:e.id});let d=I(e,"onInputValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:T(e,"bubble"),detail:{value:s.inputValue,reason:s.reason,id:e.id}}))},onValueChange:s=>{let l=e.querySelector('[data-scope="combobox"][data-part="value-input"]');if(l){let f=s.value.length===0?"":s.value.length===1?String(s.value[0]):s.value.map(String).join(",");l.value=f;let p=l.getAttribute("form"),u=null;p?u=document.getElementById(p):u=l.closest("form");let h=new Event("change",{bubbles:!0,cancelable:!0});l.dispatchEvent(h);let v=new Event("input",{bubbles:!0,cancelable:!0});l.dispatchEvent(v),u&&u.hasAttribute("phx-change")&&requestAnimationFrame(()=>{let C=u.querySelector("input, select, textarea");if(C){let P=new Event("change",{bubbles:!0,cancelable:!0});C.dispatchEvent(P)}else{let P=new Event("change",{bubbles:!0,cancelable:!0});u.dispatchEvent(P)}})}let d=I(e,"onValueChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(d,{value:s.value,items:s.items,id:e.id});let c=I(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:T(e,"bubble"),detail:{value:s.value,items:s.items,id:e.id}}))}}),r=new Fx(e,n);r.hasGroups=i,r.setAllOptions(a),r.init();let o=T(e,"controlled")?X(e,"value"):X(e,"defaultValue");if(o&&o.length>0){let s=a.filter(l=>{var d;return o.includes((d=l.id)!=null?d:"")});if(s.length>0){let l=s.map(d=>{var c;return(c=d.label)!=null?c:""}).join(", ");if(r.api&&typeof r.api.setInputValue=="function")r.api.setInputValue(l);else{let d=e.querySelector('[data-scope="combobox"][data-part="input"]');d&&(d.value=l)}}}this.combobox=r,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(a=>a.group!==void 0);if(this.combobox){this.combobox.hasGroups=t,this.combobox.setAllOptions(e),this.combobox.updateProps(y(g({},T(this.el,"controlled")?{value:X(this.el,"value")}:{defaultValue:X(this.el,"defaultValue")}),{name:I(this.el,"name"),form:I(this.el,"form"),disabled:T(this.el,"disabled"),multiple:T(this.el,"multiple"),dir:I(this.el,"dir",["ltr","rtl"]),invalid:T(this.el,"invalid"),required:T(this.el,"required"),readOnly:T(this.el,"readOnly")}));let a=this.el.querySelector('[data-scope="combobox"][data-part="input"]');a&&(a.removeAttribute("name"),a.removeAttribute("form"),a.name="")}},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.combobox)==null||e.destroy()}}});var Jp={};de(Jp,{DatePicker:()=>NT});function Gs(e,t){return e-t*Math.floor(e/t)}function Kr(e,t,a,i){t=il(e,t);let n=t-1,r=-2;return a<=2?r=0:eo(t)&&(r=-1),vp-1+365*n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400)+Math.floor((367*a-362)/12+r+i)}function eo(e){return e%4===0&&(e%100!==0||e%400===0)}function il(e,t){return e==="BC"?1-t:t}function Ux(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}function ja(e,t){return t=at(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function qx(e,t){return t=at(t,e.calendar),e=ta(e),t=ta(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function zx(e,t){return t=at(t,e.calendar),e=Tn(e),t=Tn(t),e.era===t.era&&e.year===t.year}function Wx(e,t){return no(e.calendar,t.calendar)&&ja(e,t)}function Kx(e,t){return no(e.calendar,t.calendar)&&qx(e,t)}function jx(e,t){return no(e.calendar,t.calendar)&&zx(e,t)}function no(e,t){var a,i,n,r;return(r=(n=(a=e.isEqual)===null||a===void 0?void 0:a.call(e,t))!==null&&n!==void 0?n:(i=t.isEqual)===null||i===void 0?void 0:i.call(t,e))!==null&&r!==void 0?r:e.identifier===t.identifier}function Yx(e,t){return ja(e,ro(t))}function bp(e,t,a){let i=e.calendar.toJulianDay(e),n=a?Xx[a]:Qx(t),r=Math.ceil(i+1-n)%7;return r<0&&(r+=7),r}function yp(e){return aa(Date.now(),e)}function ro(e){return za(yp(e))}function Ep(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function Zx(e,t){return ap(e)-ap(t)}function ap(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}function nl(){return Us==null&&(Us=new Intl.DateTimeFormat().resolvedOptions().timeZone),Us}function ta(e){return e.subtract({days:e.day-1})}function js(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function Tn(e){return ta(e.subtract({months:e.month-1}))}function Jx(e){return js(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function Pn(e,t,a){let i=bp(e,t,a);return e.subtract({days:i})}function ip(e,t,a){return Pn(e,t,a).add({days:6})}function xp(e){if(Intl.Locale){let a=np.get(e);return a||(a=new Intl.Locale(e).maximize().region,a&&np.set(e,a)),a}let t=e.split("-")[1];return t==="u"?void 0:t}function Qx(e){let t=_s.get(e);if(!t){if(Intl.Locale){let i=new Intl.Locale(e);if("getWeekInfo"in i&&(t=i.getWeekInfo(),t))return _s.set(e,t),t.firstDay}let a=xp(e);if(e.includes("-fw-")){let i=e.split("-fw-")[1].split("-")[0];i==="mon"?t={firstDay:1}:i==="tue"?t={firstDay:2}:i==="wed"?t={firstDay:3}:i==="thu"?t={firstDay:4}:i==="fri"?t={firstDay:5}:i==="sat"?t={firstDay:6}:t={firstDay:0}}else e.includes("-ca-iso8601")?t={firstDay:1}:t={firstDay:a&&$x[a]||0};_s.set(e,t)}return t.firstDay}function eC(e,t,a){let i=e.calendar.getDaysInMonth(e);return Math.ceil((bp(ta(e),t,a)+i)/7)}function Cp(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function Tp(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function aC(e,t){let a=e.calendar.toJulianDay(e),i=Math.ceil(a+1)%7;i<0&&(i+=7);let n=xp(t),[r,o]=tC[n]||[6,0];return i===r||i===o}function Di(e){e=at(e,new Ai);let t=il(e.era,e.year);return Pp(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function Pp(e,t,a,i,n,r,o){let s=new Date;return s.setUTCHours(i,n,r,o),s.setUTCFullYear(e,t-1,a),s.getTime()}function Ys(e,t){if(t==="UTC")return 0;if(e>0&&t===nl())return new Date(e).getTimezoneOffset()*-6e4;let{year:a,month:i,day:n,hour:r,minute:o,second:s}=Sp(e,t);return Pp(a,i,n,r,o,s,0)-Math.floor(e/1e3)*1e3}function Sp(e,t){let a=rp.get(t);a||(a=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),rp.set(t,a));let i=a.formatToParts(new Date(e)),n={};for(let r of i)r.type!=="literal"&&(n[r.type]=r.value);return{year:n.era==="BC"||n.era==="B"?-n.year+1:+n.year,month:+n.month,day:+n.day,hour:n.hour==="24"?0:+n.hour,minute:+n.minute,second:+n.second}}function iC(e,t,a,i){return(a===i?[a]:[a,i]).filter(n=>nC(e,t,n))}function nC(e,t,a){let i=Sp(a,t);return e.year===i.year&&e.month===i.month&&e.day===i.day&&e.hour===i.hour&&e.minute===i.minute&&e.second===i.second}function ea(e,t,a="compatible"){let i=Wa(e);if(t==="UTC")return Di(i);if(t===nl()&&a==="compatible"){i=at(i,new Ai);let l=new Date,d=il(i.era,i.year);return l.setFullYear(d,i.month-1,i.day),l.setHours(i.hour,i.minute,i.second,i.millisecond),l.getTime()}let n=Di(i),r=Ys(n-op,t),o=Ys(n+op,t),s=iC(i,t,n-r,n-o);if(s.length===1)return s[0];if(s.length>1)switch(a){case"compatible":case"earlier":return s[0];case"later":return s[s.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(a){case"earlier":return Math.min(n-r,n-o);case"compatible":case"later":return Math.max(n-r,n-o);case"reject":throw new RangeError("No such absolute time found")}}function Ip(e,t,a="compatible"){return new Date(ea(e,t,a))}function aa(e,t){let a=Ys(e,t),i=new Date(e+a),n=i.getUTCFullYear(),r=i.getUTCMonth()+1,o=i.getUTCDate(),s=i.getUTCHours(),l=i.getUTCMinutes(),d=i.getUTCSeconds(),c=i.getUTCMilliseconds();return new Dp(n<1?"BC":"AD",n<1?-n+1:n,r,o,t,a,s,l,d,c)}function za(e){return new Li(e.calendar,e.era,e.year,e.month,e.day)}function Wa(e,t){let a=0,i=0,n=0,r=0;if("timeZone"in e)({hour:a,minute:i,second:n,millisecond:r}=e);else if("hour"in e&&!t)return e;return t&&({hour:a,minute:i,second:n,millisecond:r}=t),new SC(e.calendar,e.era,e.year,e.month,e.day,a,i,n,r)}function at(e,t){if(no(e.calendar,t))return e;let a=t.fromJulianDay(e.calendar.toJulianDay(e)),i=e.copy();return i.calendar=t,i.era=a.era,i.year=a.year,i.month=a.month,i.day=a.day,Ka(i),i}function rC(e,t,a){if(e instanceof Dp)return e.timeZone===t?e:sC(e,t);let i=ea(e,t,a);return aa(i,t)}function oC(e){let t=Di(e)-e.offset;return new Date(t)}function sC(e,t){let a=Di(e)-e.offset;return at(aa(a,t),e.calendar)}function oo(e,t){let a=e.copy(),i="hour"in a?cC(a,t):0;Xs(a,t.years||0),a.calendar.balanceYearMonth&&a.calendar.balanceYearMonth(a,e),a.month+=t.months||0,Zs(a),Op(a),a.day+=(t.weeks||0)*7,a.day+=t.days||0,a.day+=i,lC(a),a.calendar.balanceDate&&a.calendar.balanceDate(a),a.year<1&&(a.year=1,a.month=1,a.day=1);let n=a.calendar.getYearsInEra(a);if(a.year>n){var r,o;let l=(r=(o=a.calendar).isInverseEra)===null||r===void 0?void 0:r.call(o,a);a.year=n,a.month=l?1:a.calendar.getMonthsInYear(a),a.day=l?1:a.calendar.getDaysInMonth(a)}a.month<1&&(a.month=1,a.day=1);let s=a.calendar.getMonthsInYear(a);return a.month>s&&(a.month=s,a.day=a.calendar.getDaysInMonth(a)),a.day=Math.max(1,Math.min(a.calendar.getDaysInMonth(a),a.day)),a}function Xs(e,t){var a,i;!((a=(i=e.calendar).isInverseEra)===null||a===void 0)&&a.call(i,e)&&(t=-t),e.year+=t}function Zs(e){for(;e.month<1;)Xs(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,Xs(e,1)}function lC(e){for(;e.day<1;)e.month--,Zs(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Zs(e)}function Op(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function Ka(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),Op(e)}function wp(e){let t={};for(let a in e)typeof e[a]=="number"&&(t[a]=-e[a]);return t}function Vp(e,t){return oo(e,wp(t))}function rl(e,t){let a=e.copy();return t.era!=null&&(a.era=t.era),t.year!=null&&(a.year=t.year),t.month!=null&&(a.month=t.month),t.day!=null&&(a.day=t.day),Ka(a),a}function io(e,t){let a=e.copy();return t.hour!=null&&(a.hour=t.hour),t.minute!=null&&(a.minute=t.minute),t.second!=null&&(a.second=t.second),t.millisecond!=null&&(a.millisecond=t.millisecond),uC(a),a}function dC(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=jr(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=jr(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=jr(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=jr(e.hour,24),t}function uC(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function jr(e,t){let a=e%t;return a<0&&(a+=t),a}function cC(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,dC(e)}function ol(e,t,a,i){let n=e.copy();switch(t){case"era":{let s=e.calendar.getEras(),l=s.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=ia(l,a,0,s.length-1,i==null?void 0:i.round),n.era=s[l],Ka(n);break}case"year":var r,o;!((r=(o=n.calendar).isInverseEra)===null||r===void 0)&&r.call(o,n)&&(a=-a),n.year=ia(e.year,a,-1/0,9999,i==null?void 0:i.round),n.year===-1/0&&(n.year=1),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e);break;case"month":n.month=ia(e.month,a,1,e.calendar.getMonthsInYear(e),i==null?void 0:i.round);break;case"day":n.day=ia(e.day,a,1,e.calendar.getDaysInMonth(e),i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(n),Ka(n),n}function kp(e,t,a,i){let n=e.copy();switch(t){case"hour":{let r=e.hour,o=0,s=23;if((i==null?void 0:i.hourCycle)===12){let l=r>=12;o=l?12:0,s=l?23:11}n.hour=ia(r,a,o,s,i==null?void 0:i.round);break}case"minute":n.minute=ia(e.minute,a,0,59,i==null?void 0:i.round);break;case"second":n.second=ia(e.second,a,0,59,i==null?void 0:i.round);break;case"millisecond":n.millisecond=ia(e.millisecond,a,0,999,i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return n}function ia(e,t,a,i,n=!1){if(n){e+=Math.sign(t),e<a&&(e=i);let r=Math.abs(t);t>0?e=Math.ceil(e/r)*r:e=Math.floor(e/r)*r,e>i&&(e=a)}else e+=t,e<a?e=i-(a-e-1):e>i&&(e=a+(e-i-1));return e}function Np(e,t){let a;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let n=oo(Wa(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});a=ea(n,e.timeZone)}else a=Di(e)-e.offset;a+=t.milliseconds||0,a+=(t.seconds||0)*1e3,a+=(t.minutes||0)*6e4,a+=(t.hours||0)*36e5;let i=aa(a,e.timeZone);return at(i,e.calendar)}function pC(e,t){return Np(e,wp(t))}function hC(e,t,a,i){switch(t){case"hour":{let n=0,r=23;if((i==null?void 0:i.hourCycle)===12){let h=e.hour>=12;n=h?12:0,r=h?23:11}let o=Wa(e),s=at(io(o,{hour:n}),new Ai),l=[ea(s,e.timeZone,"earlier"),ea(s,e.timeZone,"later")].filter(h=>aa(h,e.timeZone).day===s.day)[0],d=at(io(o,{hour:r}),new Ai),c=[ea(d,e.timeZone,"earlier"),ea(d,e.timeZone,"later")].filter(h=>aa(h,e.timeZone).day===d.day).pop(),f=Di(e)-e.offset,p=Math.floor(f/xn),u=f%xn;return f=ia(p,a,Math.floor(l/xn),Math.floor(c/xn),i==null?void 0:i.round)*xn+u,at(aa(f,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return kp(e,t,a,i);case"era":case"year":case"month":case"day":{let n=ol(Wa(e),t,a,i),r=ea(n,e.timeZone);return at(aa(r,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function gC(e,t,a){let i=Wa(e),n=io(rl(i,t),t);if(n.compare(i)===0)return e;let r=ea(n,e.timeZone,a);return at(aa(r,e.timeZone),e.calendar)}function bC(e){let t=e.match(fC);if(!t)throw mC.test(e)?new Error(`Invalid ISO 8601 date string: ${e}. Use parseAbsolute() instead.`):new Error("Invalid ISO 8601 date string: "+e);let a=new Li($s(t[1],0,9999),$s(t[2],1,12),1);return a.day=$s(t[3],1,a.calendar.getDaysInMonth(a)),a}function $s(e,t,a){let i=Number(e);if(i<t||i>a)throw new RangeError(`Value out of range: ${t} <= ${i} <= ${a}`);return i}function yC(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function Rp(e){let t=at(e,new Ai),a;return t.era==="BC"?a=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):a=String(t.year).padStart(4,"0"),`${a}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function Ap(e){return`${Rp(e)}T${yC(e)}`}function EC(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let a=Math.floor(e/36e5),i=Math.floor(e%36e5/6e4),n=Math.floor(e%36e5%6e4/1e3),r=`${t}${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`;return n!==0&&(r+=`:${String(n).padStart(2,"0")}`),r}function xC(e){return`${Ap(e)}${EC(e.offset)}[${e.timeZone}]`}function CC(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sl(e,t,a){CC(e,t),t.set(e,a)}function ll(e){let t=typeof e[0]=="object"?e.shift():new Ai,a;if(typeof e[0]=="string")a=e.shift();else{let o=t.getEras();a=o[o.length-1]}let i=e.shift(),n=e.shift(),r=e.shift();return[t,a,i,n,r]}function Lp(e,t={}){if(typeof t.hour12=="boolean"&&wC()){t=g({},t);let n=OC[String(t.hour12)][e.split("-")[0]],r=t.hour12?"h12":"h23";t.hourCycle=n!=null?n:r,delete t.hour12}let a=e+(t?Object.entries(t).sort((n,r)=>n[0]<r[0]?-1:1).join():"");if(qs.has(a))return qs.get(a);let i=new Intl.DateTimeFormat(e,t);return qs.set(a,i),i}function wC(){return zs==null&&(zs=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),zs}function VC(){return Ws==null&&(Ws=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Ws}function kC(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let a=Lp(e,y(g({},t),{timeZone:void 0})),i=parseInt(a.formatToParts(new Date(2020,2,3,0)).find(r=>r.type==="hour").value,10),n=parseInt(a.formatToParts(new Date(2020,2,3,23)).find(r=>r.type==="hour").value,10);if(i===0&&n===23)return"h23";if(i===24&&n===23)return"h24";if(i===0&&n===11)return"h11";if(i===12&&n===11)return"h12";throw new Error("Unexpected hour cycle result")}function NC(e,t,a,i,n){let r={};for(let s in t){let l=s,d=t[l];d!=null&&(r[l]=Math.floor(d/2),r[l]>0&&d%2===0&&r[l]--)}let o=Ya(e,t,a).subtract(r);return Sn(e,o,t,a,i,n)}function Ya(e,t,a,i,n){let r=e;return t.years?r=Tn(e):t.months?r=ta(e):t.weeks&&(r=Pn(e,a)),Sn(e,r,t,a,i,n)}function dl(e,t,a,i,n){let r=g({},t);r.days?r.days--:r.weeks?r.weeks--:r.months?r.months--:r.years&&r.years--;let o=Ya(e,t,a).subtract(r);return Sn(e,o,t,a,i,n)}function Sn(e,t,a,i,n,r){return n&&e.compare(n)>=0&&(t=Tp(t,Ya(za(n),a,i))),r&&e.compare(r)<=0&&(t=Cp(t,dl(za(r),a,i))),t}function xt(e,t,a){let i=za(e);return t&&(i=Tp(i,za(t))),a&&(i=Cp(i,za(a))),i}function sp(e,t,a,i,n,r){switch(t){case"start":return Ya(e,a,i,n,r);case"end":return dl(e,a,i,n,r);case"center":default:return NC(e,a,i,n,r)}}function tt(e,t){return e==null||t==null?e===t:ja(e,t)}function lp(e,t,a,i,n){return e?t!=null&&t(e,a)?!0:Mt(e,i,n):!1}function Mt(e,t,a){return t!=null&&e.compare(t)<0||a!=null&&e.compare(a)>0}function RC(e,t,a){let i=e.subtract({days:1});return ja(i,e)||Mt(i,t,a)}function AC(e,t,a){let i=e.add({days:1});return ja(i,e)||Mt(i,t,a)}function ul(e){let t=g({},e);for(let a in t)t[a]=1;return t}function Mp(e,t){let a=g({},t);return a.days?a.days--:a.days=-1,e.add(a)}function Fp(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function Hp(e,t){let a=Wa(ro(t));return new Ct(e,{weekday:"long",month:"long",year:"numeric",day:"numeric",era:Fp(a),timeZone:t})}function dp(e,t){let a=ro(t);return new Ct(e,{month:"long",year:"numeric",era:Fp(a),calendar:a==null?void 0:a.calendar.identifier,timeZone:t})}function DC(e,t,a,i,n){let r=a.formatRangeToParts(e.toDate(n),t.toDate(n)),o=-1;for(let d=0;d<r.length;d++){let c=r[d];if(c.source==="shared"&&c.type==="literal")o=d;else if(c.source==="endRange")break}let s="",l="";for(let d=0;d<r.length;d++)d<o?s+=r[d].value:d>o&&(l+=r[d].value);return i(s,l)}function Yr(e,t,a,i){if(!e)return"";let n=e,r=t!=null?t:e,o=Hp(a,i);return ja(n,r)?o.format(n.toDate(i)):DC(n,r,o,(s,l)=>`${s} \u2013 ${l}`,i)}function Bp(e){return e!=null?LC[e]:void 0}function Gp(e,t,a){let i=Bp(a);return Pn(e,t,i)}function Up(e,t,a,i){let n=t.add({weeks:e}),r=[],o=Gp(n,a,i);for(;r.length<7;){r.push(o);let s=o.add({days:1});if(ja(o,s))break;o=s}return r}function MC(e,t,a,i){let n=Bp(i),r=a!=null?a:eC(e,t,n);return[...new Array(r).keys()].map(o=>Up(o,e,t,i))}function FC(e,t){let a=new Ct(e,{weekday:"long",timeZone:t}),i=new Ct(e,{weekday:"short",timeZone:t}),n=new Ct(e,{weekday:"narrow",timeZone:t});return r=>{let o=r instanceof Date?r:r.toDate(t);return{value:r,short:i.format(o),long:a.format(o),narrow:n.format(o)}}}function HC(e,t,a,i){let n=Gp(e,i,t),r=[...new Array(7).keys()],o=FC(i,a);return r.map(s=>o(n.add({days:s})))}function BC(e,t="long"){let a=new Date(2021,0,1),i=[];for(let n=0;n<12;n++)i.push(a.toLocaleString(e,{month:t})),a.setMonth(a.getMonth()+1);return i}function GC(e){let t=[];for(let a=e.from;a<=e.to;a+=1)t.push(a);return t}function _C(e){if(e){if(e.length===3)return e.padEnd(4,"0");if(e.length===2){let t=new Date().getFullYear(),a=Math.floor(t/100)*100,i=parseInt(e.slice(-2),10),n=a+i;return n>t+UC?(n-100).toString():n.toString()}return e}}function Ri(e,t){let a=t!=null&&t.strict?10:12,i=e-e%10,n=[];for(let r=0;r<a;r+=1){let o=i+r;n.push(o)}return n}function Ni(e){return ro(e!=null?e:nl())}function In(e,t,a,i){return function(n){let{startDate:r,focusedDate:o}=n,s=Mp(r,e);return Mt(o,a,i)?{startDate:r,focusedDate:xt(o,a,i),endDate:s}:o.compare(r)<0?{startDate:dl(o,e,t,a,i),focusedDate:xt(o,a,i),endDate:s}:o.compare(s)>0?{startDate:Ya(o,e,t,a,i),endDate:s,focusedDate:xt(o,a,i)}:{startDate:r,endDate:s,focusedDate:xt(o,a,i)}}}function _p(e,t,a,i,n,r){let o=In(a,i,n,r),s=t.add(a);return o({focusedDate:e.add(a),startDate:Ya(Sn(e,s,a,i,n,r),a,i)})}function $p(e,t,a,i,n,r){let o=In(a,i,n,r),s=t.subtract(a);return o({focusedDate:e.subtract(a),startDate:Ya(Sn(e,s,a,i,n,r),a,i)})}function $C(e,t,a,i,n,r,o){let s=In(i,n,r,o);if(!a&&!i.days)return s({focusedDate:e.add(ul(i)),startDate:t});if(i.days)return _p(e,t,i,n,r,o);if(i.weeks)return s({focusedDate:e.add({months:1}),startDate:t});if(i.months||i.years)return s({focusedDate:e.add({years:1}),startDate:t})}function qC(e,t,a,i,n,r,o){let s=In(i,n,r,o);if(!a&&!i.days)return s({focusedDate:e.subtract(ul(i)),startDate:t});if(i.days)return $p(e,t,i,n,r,o);if(i.weeks)return s({focusedDate:e.subtract({months:1}),startDate:t});if(i.months||i.years)return s({focusedDate:e.subtract({years:1}),startDate:t})}function KC(e,t,a){var l;let i=jC(t,a),{year:n,month:r,day:o}=(l=YC(i,e))!=null?l:{};if(n!=null||r!=null||o!=null){let d=new Date;n||(n=d.getFullYear().toString()),r||(r=(d.getMonth()+1).toString()),o||(o=d.getDate().toString())}if(up(n)||(n=_C(n)),up(n)&&zC(r)&&WC(o))return new Li(+n,+r,+o);let s=Date.parse(e);if(!isNaN(s)){let d=new Date(s);return new Li(d.getFullYear(),d.getMonth()+1,d.getDate())}}function jC(e,t){return new Ct(e,{day:"numeric",month:"numeric",year:"numeric",timeZone:t}).formatToParts(new Date(2e3,11,25)).map(({type:a,value:i})=>a==="literal"?`${i}?`:`((?!=<${a}>)\\d+)?`).join("")}function YC(e,t){var i;let a=t.match(e);return(i=e.toString().match(/<(.+?)>/g))==null?void 0:i.map(n=>{var o;let r=n.match(/<(.+)>/);return!r||r.length<=0?null:(o=n.match(/<(.+)>/))==null?void 0:o[1]}).reduce((n,r,o)=>(r&&(a&&a.length>o?n[r]=a[o+1]:n[r]=null),n),{})}function cp(e,t,a){let i=za(yp(a));switch(e){case"thisWeek":return[Pn(i,t),ip(i,t)];case"thisMonth":return[ta(i),i];case"thisQuarter":return[ta(i).add({months:-((i.month-1)%3)}),i];case"thisYear":return[Tn(i),i];case"last3Days":return[i.add({days:-2}),i];case"last7Days":return[i.add({days:-6}),i];case"last14Days":return[i.add({days:-13}),i];case"last30Days":return[i.add({days:-29}),i];case"last90Days":return[i.add({days:-89}),i];case"lastMonth":return[ta(i.add({months:-1})),js(i.add({months:-1}))];case"lastQuarter":return[ta(i.add({months:-((i.month-1)%3)-3})),js(i.add({months:-((i.month-1)%3)-1}))];case"lastWeek":return[Pn(i,t).add({weeks:-1}),ip(i,t).add({weeks:-1})];case"lastYear":return[Tn(i.add({years:-1})),Jx(i.add({years:-1}))];default:throw new Error(`Invalid date range preset: ${e}`)}}function XC(e={}){var d;let{level:t="polite",document:a=document,root:i,delay:n=0}=e,r=(d=a.defaultView)!=null?d:window,o=i!=null?i:a.body;function s(c,f){var h;(h=a.getElementById(Xr))==null||h.remove(),f=f!=null?f:n;let p=a.createElement("span");p.id=Xr,p.dataset.liveAnnouncer="true";let u=t!=="assertive"?"status":"alert";p.setAttribute("aria-live",t),p.setAttribute("role",u),Object.assign(p.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),o.appendChild(p),r.setTimeout(()=>{p.textContent=c},f)}function l(){var c;(c=a.getElementById(Xr))==null||c.remove()}return{announce:s,destroy:l,toJSON(){return Xr}}}function al(e){let[t,a]=e,i;return!t||!a?i=e:i=t.compare(a)<=0?e:[a,t],i}function ki(e,t){let[a,i]=t;return!a||!i?!1:a.compare(e)<=0&&i.compare(e)>=0}function Zr(e){return e.slice().filter(t=>t!=null).sort((t,a)=>t.compare(a))}function lT(e){return xe(e,{year:"calendar decade",month:"calendar year",day:"calendar month"})}function uT(e){return new Ct(e).formatToParts(new Date).map(t=>{var a;return(a=dT[t.type])!=null?a:t.value}).join("")}function pT(e){let t=new Intl.DateTimeFormat(e).formatToParts(new Date).find(a=>a.type==="literal");return t?t.value:"/"}function na(e,t){return e?e==="day"?0:e==="month"?1:2:t||0}function cl(e){return e===0?"day":e===1?"month":"year"}function pl(e,t,a){return cl(He(na(e,0),na(t,0),na(a,2)))}function gT(e,t){return na(e,0)>na(t,0)}function fT(e,t){return na(e,0)<na(t,0)}function mT(e,t,a){let i=na(e,0)+1;return pl(cl(i),t,a)}function vT(e,t,a){let i=na(e,0)-1;return pl(cl(i),t,a)}function yT(e){bT.forEach(t=>e(t))}function xT(e,t){let{state:a,context:i,prop:n,send:r,computed:o,scope:s}=e,l=i.get("startValue"),d=o("endValue"),c=i.get("value"),f=i.get("focusedValue"),p=i.get("hoveredValue"),u=p?al([c[0],p]):[],h=!!n("disabled"),v=!!n("readOnly"),C=!!n("invalid"),P=o("isInteractive"),w=c.length===0,b=n("min"),m=n("max"),S=n("locale"),x=n("timeZone"),O=n("startOfWeek"),V=a.matches("focused"),k=a.matches("open"),D=n("selectionMode")==="range",N=n("isDateUnavailable"),U=i.get("currentPlacement"),J=Ta(y(g({},n("positioning")),{placement:U})),pe=pT(S),ie=g(g({},hT),n("translations"));function ye(L=l){let R=n("fixedWeeks")?6:void 0;return MC(L,S,R,O)}function Q(L={}){let{format:R}=L;return BC(S,R).map((M,G)=>{let ee=G+1,Le=f.set({month:ee}),Me=Mt(Le,b,m);return{label:M,value:ee,disabled:Me}})}function Pe(){var L,R;return GC({from:(L=b==null?void 0:b.year)!=null?L:1900,to:(R=m==null?void 0:m.year)!=null?R:2100}).map(M=>({label:M.toString(),value:M,disabled:!yi(M,b==null?void 0:b.year,m==null?void 0:m.year)}))}function Ee(L){return lp(L,N,S,b,m)}function Ve(L){let R=l!=null?l:Ni(x);r({type:"FOCUS.SET",value:R.set({month:L})})}function We(L){let R=l!=null?l:Ni(x);r({type:"FOCUS.SET",value:R.set({year:L})})}function it(L){let{value:R,disabled:M}=L,G=f.set({year:R}),ee=!Ri(l.year,{strict:!0}).includes(R),Le=yi(R,b==null?void 0:b.year,m==null?void 0:m.year),Me={focused:f.year===L.value,selectable:ee||Le,outsideRange:ee,selected:!!c.find(_n=>_n&&_n.year===R),valueText:R.toString(),inRange:D&&(ki(G,c)||ki(G,u)),value:G,get disabled(){return M||!Me.selectable}};return Me}function Ut(L){let{value:R,disabled:M}=L,G=f.set({month:R}),ee=dp(S,x),Le={focused:f.month===L.value,selectable:!Mt(G,b,m),selected:!!c.find(Me=>Me&&Me.month===R&&Me.year===f.year),valueText:ee.format(G.toDate(x)),inRange:D&&(ki(G,c)||ki(G,u)),value:G,get disabled(){return M||!Le.selectable}};return Le}function Ki(L){let{value:R,disabled:M,visibleRange:G=o("visibleRange")}=L,ee=Hp(S,x),Le=ul(o("visibleDuration")),Me=n("outsideDaySelectable"),_n=G.start.add(Le).subtract({days:1}),ed=Mt(R,G.start,_n),Nf=D&&ki(R,c),Rf=D&&tt(R,c[0]),Af=D&&tt(R,c[1]),Do=D&&u.length>0,td=Do&&ki(R,u),Df=Do&&tt(R,u[0]),Lf=Do&&tt(R,u[1]),ji={invalid:Mt(R,b,m),disabled:M||!Me&&ed||Mt(R,b,m),selected:c.some(Mf=>tt(R,Mf)),unavailable:lp(R,N,S,b,m)&&!M,outsideRange:ed,today:Yx(R,x),weekend:aC(R,S),formattedDate:ee.format(R.toDate(x)),get focused(){return tt(R,f)&&(!ji.outsideRange||Me)},get ariaLabel(){return ie.dayCell(ji)},get selectable(){return!ji.disabled&&!ji.unavailable},inRange:Nf||td,firstInRange:Rf,lastInRange:Af,inHoveredRange:td,firstInHoveredRange:Df,lastInHoveredRange:Lf};return ji}function Ao(L){let{view:R="day",id:M}=L;return[R,M].filter(Boolean).join(" ")}return{focused:V,open:k,disabled:h,invalid:C,readOnly:v,inline:!!n("inline"),numOfMonths:n("numOfMonths"),selectionMode:n("selectionMode"),view:i.get("view"),getRangePresetValue(L){return cp(L,S,x)},getDaysInWeek(L,R=l){return Up(L,R,S,O)},getOffset(L){let R=l.add(L),M=d.add(L),G=dp(S,x);return{visibleRange:{start:R,end:M},weeks:ye(R),visibleRangeText:{start:G.format(R.toDate(x)),end:G.format(M.toDate(x))}}},getMonthWeeks:ye,isUnavailable:Ee,weeks:ye(),weekDays:HC(Ni(x),O,x,S),visibleRangeText:o("visibleRangeText"),value:c,valueAsDate:c.filter(L=>L!=null).map(L=>L.toDate(x)),valueAsString:o("valueAsString"),focusedValue:f,focusedValueAsDate:f==null?void 0:f.toDate(x),focusedValueAsString:n("format")(f,{locale:S,timeZone:x}),visibleRange:o("visibleRange"),selectToday(){let L=xt(Ni(x),b,m);r({type:"VALUE.SET",value:L})},setValue(L){let R=L.map(M=>xt(M,b,m));r({type:"VALUE.SET",value:R})},clearValue(){r({type:"VALUE.CLEAR"})},setFocusedValue(L){r({type:"FOCUS.SET",value:L})},setOpen(L){n("inline")||a.matches("open")===L||r({type:L?"OPEN":"CLOSE"})},focusMonth:Ve,focusYear:We,getYears:Pe,getMonths:Q,getYearsGrid(L={}){let{columns:R=1}=L,M=Ri(l.year,{strict:!0}).map(G=>({label:G.toString(),value:G,disabled:!yi(G,b==null?void 0:b.year,m==null?void 0:m.year)}));return on(M,R)},getDecade(){let L=Ri(l.year,{strict:!0});return{start:L.at(0),end:L.at(-1)}},getMonthsGrid(L={}){let{columns:R=1,format:M}=L;return on(Q({format:M}),R)},format(L,R={month:"long",year:"numeric"}){return new Ct(S,R).format(L.toDate(x))},setView(L){r({type:"VIEW.SET",view:L})},goToNext(){r({type:"GOTO.NEXT",view:i.get("view")})},goToPrev(){r({type:"GOTO.PREV",view:i.get("view")})},getRootProps(){return t.element(y(g({},le.root.attrs),{dir:n("dir"),id:QC(s),"data-state":k?"open":"closed","data-disabled":E(h),"data-readonly":E(v),"data-empty":E(w)}))},getLabelProps(L={}){let{index:R=0}=L;return t.label(y(g({},le.label.attrs),{id:JC(s,R),dir:n("dir"),htmlFor:pp(s,R),"data-state":k?"open":"closed","data-index":R,"data-disabled":E(h),"data-readonly":E(v)}))},getControlProps(){return t.element(y(g({},le.control.attrs),{dir:n("dir"),id:zp(s),"data-disabled":E(h),"data-placeholder-shown":E(w)}))},getRangeTextProps(){return t.element(y(g({},le.rangeText.attrs),{dir:n("dir")}))},getContentProps(){return t.element(y(g({},le.content.attrs),{hidden:!k,dir:n("dir"),"data-state":k?"open":"closed","data-placement":U,"data-inline":E(n("inline")),id:tl(s),tabIndex:-1,role:"application","aria-roledescription":"datepicker","aria-label":ie.content}))},getTableProps(L={}){let{view:R="day",columns:M=R==="day"?7:4}=L,G=Ao(L);return t.element(y(g({},le.table.attrs),{role:"grid","data-columns":M,"aria-roledescription":lT(R),id:eT(s,G),"aria-readonly":Y(v),"aria-disabled":Y(h),"aria-multiselectable":Y(n("selectionMode")!=="single"),"data-view":R,dir:n("dir"),tabIndex:-1,onKeyDown(ee){if(ee.defaultPrevented)return;let Le={Enter(){R==="day"&&Ee(f)||R==="month"&&!Ut({value:f.month}).selectable||R==="year"&&!it({value:f.year}).selectable||r({type:"TABLE.ENTER",view:R,columns:M,focus:!0})},ArrowLeft(){r({type:"TABLE.ARROW_LEFT",view:R,columns:M,focus:!0})},ArrowRight(){r({type:"TABLE.ARROW_RIGHT",view:R,columns:M,focus:!0})},ArrowUp(){r({type:"TABLE.ARROW_UP",view:R,columns:M,focus:!0})},ArrowDown(){r({type:"TABLE.ARROW_DOWN",view:R,columns:M,focus:!0})},PageUp(Me){r({type:"TABLE.PAGE_UP",larger:Me.shiftKey,view:R,columns:M,focus:!0})},PageDown(Me){r({type:"TABLE.PAGE_DOWN",larger:Me.shiftKey,view:R,columns:M,focus:!0})},Home(){r({type:"TABLE.HOME",view:R,columns:M,focus:!0})},End(){r({type:"TABLE.END",view:R,columns:M,focus:!0})}}[ue(ee,{dir:n("dir")})];Le&&(Le(ee),ee.preventDefault(),ee.stopPropagation())},onPointerLeave(){r({type:"TABLE.POINTER_LEAVE"})},onPointerDown(){r({type:"TABLE.POINTER_DOWN",view:R})},onPointerUp(){r({type:"TABLE.POINTER_UP",view:R})}}))},getTableHeadProps(L={}){let{view:R="day"}=L;return t.element(y(g({},le.tableHead.attrs),{"aria-hidden":!0,dir:n("dir"),"data-view":R,"data-disabled":E(h)}))},getTableHeaderProps(L={}){let{view:R="day"}=L;return t.element(y(g({},le.tableHeader.attrs),{dir:n("dir"),"data-view":R,"data-disabled":E(h)}))},getTableBodyProps(L={}){let{view:R="day"}=L;return t.element(y(g({},le.tableBody.attrs),{"data-view":R,"data-disabled":E(h)}))},getTableRowProps(L={}){let{view:R="day"}=L;return t.element(y(g({},le.tableRow.attrs),{"aria-disabled":Y(h),"data-disabled":E(h),"data-view":R}))},getDayTableCellState:Ki,getDayTableCellProps(L){let{value:R}=L,M=Ki(L);return t.element(y(g({},le.tableCell.attrs),{role:"gridcell","aria-disabled":Y(!M.selectable),"aria-selected":M.selected||M.inRange,"aria-invalid":Y(M.invalid),"aria-current":M.today?"date":void 0,"data-value":R.toString()}))},getDayTableCellTriggerProps(L){let{value:R}=L,M=Ki(L);return t.element(y(g({},le.tableCellTrigger.attrs),{id:Ks(s,R.toString()),role:"button",dir:n("dir"),tabIndex:M.focused?0:-1,"aria-label":M.ariaLabel,"aria-disabled":Y(!M.selectable),"aria-invalid":Y(M.invalid),"data-disabled":E(!M.selectable),"data-selected":E(M.selected),"data-value":R.toString(),"data-view":"day","data-today":E(M.today),"data-focus":E(M.focused),"data-unavailable":E(M.unavailable),"data-range-start":E(M.firstInRange),"data-range-end":E(M.lastInRange),"data-in-range":E(M.inRange),"data-outside-range":E(M.outsideRange),"data-weekend":E(M.weekend),"data-in-hover-range":E(M.inHoveredRange),"data-hover-range-start":E(M.firstInHoveredRange),"data-hover-range-end":E(M.lastInHoveredRange),onClick(G){G.defaultPrevented||M.selectable&&r({type:"CELL.CLICK",cell:"day",value:R})},onPointerMove:D?G=>{if(G.pointerType==="touch"||!M.selectable)return;let ee=!s.isActiveElement(G.currentTarget);p&&Wx(R,p)||r({type:"CELL.POINTER_MOVE",cell:"day",value:R,focus:ee})}:void 0}))},getMonthTableCellState:Ut,getMonthTableCellProps(L){let{value:R,columns:M}=L,G=Ut(L);return t.element(y(g({},le.tableCell.attrs),{dir:n("dir"),colSpan:M,role:"gridcell","aria-selected":Y(G.selected||G.inRange),"data-selected":E(G.selected),"aria-disabled":Y(!G.selectable),"data-value":R}))},getMonthTableCellTriggerProps(L){let{value:R}=L,M=Ut(L);return t.element(y(g({},le.tableCellTrigger.attrs),{dir:n("dir"),role:"button",id:Ks(s,R.toString()),"data-selected":E(M.selected),"aria-disabled":Y(!M.selectable),"data-disabled":E(!M.selectable),"data-focus":E(M.focused),"data-in-range":E(M.inRange),"data-outside-range":E(M.outsideRange),"aria-label":M.valueText,"data-view":"month","data-value":R,tabIndex:M.focused?0:-1,onClick(G){G.defaultPrevented||M.selectable&&r({type:"CELL.CLICK",cell:"month",value:R})},onPointerMove:D?G=>{if(G.pointerType==="touch"||!M.selectable)return;let ee=!s.isActiveElement(G.currentTarget);p&&M.value&&Kx(M.value,p)||r({type:"CELL.POINTER_MOVE",cell:"month",value:M.value,focus:ee})}:void 0}))},getYearTableCellState:it,getYearTableCellProps(L){let{value:R,columns:M}=L,G=it(L);return t.element(y(g({},le.tableCell.attrs),{dir:n("dir"),colSpan:M,role:"gridcell","aria-selected":Y(G.selected),"data-selected":E(G.selected),"aria-disabled":Y(!G.selectable),"data-value":R}))},getYearTableCellTriggerProps(L){let{value:R}=L,M=it(L);return t.element(y(g({},le.tableCellTrigger.attrs),{dir:n("dir"),role:"button",id:Ks(s,R.toString()),"data-selected":E(M.selected),"data-focus":E(M.focused),"data-in-range":E(M.inRange),"aria-disabled":Y(!M.selectable),"data-disabled":E(!M.selectable),"aria-label":M.valueText,"data-outside-range":E(M.outsideRange),"data-value":R,"data-view":"year",tabIndex:M.focused?0:-1,onClick(G){G.defaultPrevented||M.selectable&&r({type:"CELL.CLICK",cell:"year",value:R})},onPointerMove:D?G=>{if(G.pointerType==="touch"||!M.selectable)return;let ee=!s.isActiveElement(G.currentTarget);p&&M.value&&jx(M.value,p)||r({type:"CELL.POINTER_MOVE",cell:"year",value:M.value,focus:ee})}:void 0}))},getNextTriggerProps(L={}){let{view:R="day"}=L,M=h||!o("isNextVisibleRangeValid");return t.button(y(g({},le.nextTrigger.attrs),{dir:n("dir"),id:aT(s,R),type:"button","aria-label":ie.nextTrigger(R),disabled:M,"data-disabled":E(M),onClick(G){G.defaultPrevented||r({type:"GOTO.NEXT",view:R})}}))},getPrevTriggerProps(L={}){let{view:R="day"}=L,M=h||!o("isPrevVisibleRangeValid");return t.button(y(g({},le.prevTrigger.attrs),{dir:n("dir"),id:tT(s,R),type:"button","aria-label":ie.prevTrigger(R),disabled:M,"data-disabled":E(M),onClick(G){G.defaultPrevented||r({type:"GOTO.PREV",view:R})}}))},getClearTriggerProps(){return t.button(y(g({},le.clearTrigger.attrs),{id:qp(s),dir:n("dir"),type:"button","aria-label":ie.clearTrigger,hidden:!c.length,onClick(L){L.defaultPrevented||r({type:"VALUE.CLEAR"})}}))},getTriggerProps(){return t.button(y(g({},le.trigger.attrs),{id:Wp(s),dir:n("dir"),type:"button","data-placement":U,"aria-label":ie.trigger(k),"aria-controls":tl(s),"data-state":k?"open":"closed","data-placeholder-shown":E(w),"aria-haspopup":"grid",disabled:h,onClick(L){L.defaultPrevented||P&&r({type:"TRIGGER.CLICK"})}}))},getViewProps(L={}){let{view:R="day"}=L;return t.element(y(g({},le.view.attrs),{"data-view":R,hidden:i.get("view")!==R}))},getViewTriggerProps(L={}){let{view:R="day"}=L;return t.button(y(g({},le.viewTrigger.attrs),{"data-view":R,dir:n("dir"),id:iT(s,R),type:"button",disabled:h,"aria-label":ie.viewTrigger(R),onClick(M){M.defaultPrevented||P&&r({type:"VIEW.TOGGLE",src:"viewTrigger"})}}))},getViewControlProps(L={}){let{view:R="day"}=L;return t.element(y(g({},le.viewControl.attrs),{"data-view":R,dir:n("dir")}))},getInputProps(L={}){let{index:R=0,fixOnBlur:M=!0}=L;return t.input(y(g({},le.input.attrs),{id:pp(s,R),autoComplete:"off",autoCorrect:"off",spellCheck:"false",dir:n("dir"),name:n("name"),"data-index":R,"data-state":k?"open":"closed","data-placeholder-shown":E(w),readOnly:v,disabled:h,required:n("required"),"aria-invalid":Y(C),"data-invalid":E(C),placeholder:n("placeholder")||uT(S),defaultValue:o("valueAsString")[R],onBeforeInput(G){let{data:ee}=Wt(G);Zp(ee,pe)||G.preventDefault()},onFocus(){r({type:"INPUT.FOCUS",index:R})},onBlur(G){let ee=G.currentTarget.value.trim();r({type:"INPUT.BLUR",value:ee,index:R,fixOnBlur:M})},onKeyDown(G){if(G.defaultPrevented||!P)return;let ee={Enter(Le){ke(Le)||Ee(f)||Le.currentTarget.value.trim()!==""&&r({type:"INPUT.ENTER",value:Le.currentTarget.value,index:R})}}[G.key];ee&&(ee(G),G.preventDefault())},onInput(G){let ee=G.currentTarget.value;r({type:"INPUT.CHANGE",value:cT(ee,pe),index:R})}}))},getMonthSelectProps(){return t.select(y(g({},le.monthSelect.attrs),{id:jp(s),"aria-label":ie.monthSelect,disabled:h,dir:n("dir"),defaultValue:l.month,onChange(L){Ve(Number(L.currentTarget.value))}}))},getYearSelectProps(){return t.select(y(g({},le.yearSelect.attrs),{id:Yp(s),disabled:h,"aria-label":ie.yearSelect,dir:n("dir"),defaultValue:l.year,onChange(L){We(Number(L.currentTarget.value))}}))},getPositionerProps(){return t.element(y(g({id:Kp(s)},le.positioner.attrs),{dir:n("dir"),style:J.floating}))},getPresetTriggerProps(L){let R=Array.isArray(L.value)?L.value:cp(L.value,S,x),M=R.filter(G=>G!=null).map(G=>G.toDate(x).toDateString());return t.button(y(g({},le.presetTrigger.attrs),{"aria-label":ie.presetTrigger(M),type:"button",onClick(G){G.defaultPrevented||r({type:"PRESET.CLICK",value:R})}}))}}}function CT(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!1;let a=Math.max(e.length,t.length);for(let i=0;i<a;i++)if(!tt(e[i],t[i]))return!1;return!0}function Jr(e,t){return e.map(a=>a==null?"":t("format")(a,{locale:t("locale"),timeZone:t("timeZone")}))}function fe(e,t){let{context:a,prop:i,computed:n}=e;if(!t)return;let r=ao(e,t);if(tt(a.get("focusedValue"),r))return;let o=In(n("visibleDuration"),i("locale"),i("min"),i("max"))({focusedDate:r,startDate:a.get("startValue")});a.set("startValue",o.startDate),a.set("focusedValue",o.focusedDate)}function Qr(e,t){let{context:a}=e;a.set("startValue",t.startDate);let i=a.get("focusedValue");tt(i,t.focusedDate)||a.set("focusedValue",t.focusedDate)}function pt(e){return Array.isArray(e)?e.map(t=>pt(t)):e instanceof Date?new Li(e.getFullYear(),e.getMonth()+1,e.getDate()):bC(e)}function mp(e){let t=a=>String(a).padStart(2,"0");return`${e.year}-${t(e.month)}-${t(e.day)}`}var vp,_x,Ai,$x,Xx,Us,np,_s,tC,rp,op,xn,fC,mC,vC,EV,TC,Li,PC,SC,IC,Dp,qs,Ct,OC,zs,Ws,LC,UC,up,zC,WC,Xr,ZC,le,JC,QC,eT,tl,Ks,tT,aT,iT,qp,zp,pp,Wp,Kp,jp,Yp,hp,gp,to,Cn,nT,rT,oT,sT,Xp,dT,Zp,fp,cT,hT,bT,ET,ct,TT,ao,PT,xV,ST,CV,IT,TV,OT,PV,wT,SV,VT,IV,kT,NT,Qp=te(()=>{"use strict";yn();_a();Qt();ae();vp=1721426;_x={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]},Ai=class{fromJulianDay(e){let t=e,a=t-vp,i=Math.floor(a/146097),n=Gs(a,146097),r=Math.floor(n/36524),o=Gs(n,36524),s=Math.floor(o/1461),l=Gs(o,1461),d=Math.floor(l/365),c=i*400+r*100+s*4+d+(r!==4&&d!==4?1:0),[f,p]=Ux(c),u=t-Kr(f,p,1,1),h=2;t<Kr(f,p,3,1)?h=0:eo(p)&&(h=1);let v=Math.floor(((u+h)*12+373)/367),C=t-Kr(f,p,v,1)+1;return new Li(f,p,v,C)}toJulianDay(e){return Kr(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return _x[eo(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return eo(e.year)?366:365}getMaximumMonthsInYear(){return 12}getMaximumDaysInMonth(){return 31}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}},$x={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};Xx={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};Us=null;np=new Map,_s=new Map;tC={AF:[4,5],AE:[5,6],BH:[5,6],DZ:[5,6],EG:[5,6],IL:[5,6],IQ:[5,6],IR:[5,5],JO:[5,6],KW:[5,6],LY:[5,6],OM:[5,6],QA:[5,6],SA:[5,6],SD:[5,6],SY:[5,6],YE:[5,6]};rp=new Map;op=864e5;xn=36e5;fC=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,mC=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/,vC=["hours","minutes","seconds"],EV=["years","months","weeks","days",...vC];TC=new WeakMap,Li=class Js{copy(){return this.era?new Js(this.calendar,this.era,this.year,this.month,this.day):new Js(this.calendar,this.year,this.month,this.day)}add(t){return oo(this,t)}subtract(t){return Vp(this,t)}set(t){return rl(this,t)}cycle(t,a,i){return ol(this,t,a,i)}toDate(t){return Ip(this,t)}toString(){return Rp(this)}compare(t){return Ep(this,t)}constructor(...t){sl(this,TC,{writable:!0,value:void 0});let[a,i,n,r,o]=ll(t);this.calendar=a,this.era=i,this.year=n,this.month=r,this.day=o,Ka(this)}},PC=new WeakMap,SC=class Qs{copy(){return this.era?new Qs(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Qs(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return oo(this,t)}subtract(t){return Vp(this,t)}set(t){return rl(io(this,t),t)}cycle(t,a,i){switch(t){case"era":case"year":case"month":case"day":return ol(this,t,a,i);default:return kp(this,t,a,i)}}toDate(t,a){return Ip(this,t,a)}toString(){return Ap(this)}compare(t){let a=Ep(this,t);return a===0?Zx(this,Wa(t)):a}constructor(...t){sl(this,PC,{writable:!0,value:void 0});let[a,i,n,r,o]=ll(t);this.calendar=a,this.era=i,this.year=n,this.month=r,this.day=o,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Ka(this)}},IC=new WeakMap,Dp=class el{copy(){return this.era?new el(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new el(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return Np(this,t)}subtract(t){return pC(this,t)}set(t,a){return gC(this,t,a)}cycle(t,a,i){return hC(this,t,a,i)}toDate(){return oC(this)}toString(){return xC(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-rC(t,this.timeZone).toDate().getTime()}constructor(...t){sl(this,IC,{writable:!0,value:void 0});let[a,i,n,r,o]=ll(t),s=t.shift(),l=t.shift();this.calendar=a,this.era=i,this.year=n,this.month=r,this.day=o,this.timeZone=s,this.offset=l,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Ka(this)}},qs=new Map,Ct=class{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} \u2013 ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let a=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...a.map(n=>y(g({},n),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(n=>y(g({},n),{source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return VC()&&(this.resolvedHourCycle||(this.resolvedHourCycle=kC(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=Lp(e,t),this.options=t}},OC={true:{ja:"h11"},false:{}};zs=null;Ws=null;LC=["sun","mon","tue","wed","thu","fri","sat"];UC=10;up=e=>e!=null&&e.length===4,zC=e=>e!=null&&parseFloat(e)<=12,WC=e=>e!=null&&parseFloat(e)<=31;Xr="__live-region__";ZC=_("date-picker").parts("clearTrigger","content","control","input","label","monthSelect","nextTrigger","positioner","presetTrigger","prevTrigger","rangeText","root","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","view","viewControl","viewTrigger","yearSelect"),le=ZC.build(),JC=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.label)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:label:${t}`},QC=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`datepicker:${e.id}`},eT=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.table)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:table:${t}`},tl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`datepicker:${e.id}:content`},Ks=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.cellTrigger)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:cell-trigger:${t}`},tT=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.prevTrigger)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:prev:${t}`},aT=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.nextTrigger)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:next:${t}`},iT=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.viewTrigger)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:view:${t}`},qp=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.clearTrigger)!=null?a:`datepicker:${e.id}:clear`},zp=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`datepicker:${e.id}:control`},pp=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.input)==null?void 0:i.call(a,t))!=null?n:`datepicker:${e.id}:input:${t}`},Wp=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`datepicker:${e.id}:trigger`},Kp=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.positioner)!=null?a:`datepicker:${e.id}:positioner`},jp=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.monthSelect)!=null?a:`datepicker:${e.id}:month-select`},Yp=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.yearSelect)!=null?a:`datepicker:${e.id}:year-select`},hp=(e,t)=>gi(to(e),`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`),gp=e=>e.getById(Wp(e)),to=e=>e.getById(tl(e)),Cn=e=>De(Xp(e),"[data-part=input]"),nT=e=>e.getById(Yp(e)),rT=e=>e.getById(jp(e)),oT=e=>e.getById(qp(e)),sT=e=>e.getById(Kp(e)),Xp=e=>e.getById(zp(e));dT={day:"dd",month:"mm",year:"yyyy"};Zp=(e,t)=>e?/\d/.test(e)||e===t||e.length!==1:!0,fp=e=>!Number.isNaN(e.day)&&!Number.isNaN(e.month)&&!Number.isNaN(e.year),cT=(e,t)=>e.split("").filter(a=>Zp(a,t)).join("");hT={dayCell(e){return e.unavailable?`Not available. ${e.formattedDate}`:e.selected?`Selected date. ${e.formattedDate}`:`Choose ${e.formattedDate}`},trigger(e){return e?"Close calendar":"Open calendar"},viewTrigger(e){return xe(e,{year:"Switch to month view",month:"Switch to day view",day:"Switch to year view"})},presetTrigger(e){let[t="",a=""]=e;return`select ${t} to ${a}`},prevTrigger(e){return xe(e,{year:"Switch to previous decade",month:"Switch to previous year",day:"Switch to previous month"})},nextTrigger(e){return xe(e,{year:"Switch to next decade",month:"Switch to next year",day:"Switch to next month"})},placeholder(){return{day:"dd",month:"mm",year:"yyyy"}},content:"calendar",monthSelect:"Select month",yearSelect:"Select year",clearTrigger:"Clear selected dates"};bT=["day","month","year"];ET=Fa(e=>[e.view,e.startValue.toString(),e.endValue.toString(),e.locale],([e],t)=>{let{startValue:a,endValue:i,locale:n,timeZone:r,selectionMode:o}=t;if(e==="year"){let f=Ri(a.year,{strict:!0}),p=f.at(0).toString(),u=f.at(-1).toString();return{start:p,end:u,formatted:`${p} - ${u}`}}if(e==="month"){let f=new Ct(n,{year:"numeric",timeZone:r}),p=f.format(a.toDate(r)),u=f.format(i.toDate(r)),h=o==="range"?`${p} - ${u}`:p;return{start:p,end:u,formatted:h}}let s=new Ct(n,{month:"long",year:"numeric",timeZone:r}),l=s.format(a.toDate(r)),d=s.format(i.toDate(r)),c=o==="range"?`${l} - ${d}`:l;return{start:l,end:d,formatted:c}});({and:ct}=be());TT={props({props:e}){let t=e.locale||"en-US",a=e.timeZone||"UTC",i=e.selectionMode||"single",n=e.numOfMonths||1,r=e.defaultValue?Zr(e.defaultValue).map(f=>xt(f,e.min,e.max)):void 0,o=e.value?Zr(e.value).map(f=>xt(f,e.min,e.max)):void 0,s=e.focusedValue||e.defaultFocusedValue||(o==null?void 0:o[0])||(r==null?void 0:r[0])||Ni(a);s=xt(s,e.min,e.max);let l="day",d="year",c=pl(e.view||l,l,d);return y(g({locale:t,numOfMonths:n,timeZone:a,selectionMode:i,defaultView:c,minView:l,maxView:d,outsideDaySelectable:!1,closeOnSelect:!0,format(f,{locale:p,timeZone:u}){return new Ct(p,{timeZone:u,day:"2-digit",month:"2-digit",year:"numeric"}).format(f.toDate(u))},parse(f,{locale:p,timeZone:u}){return KC(f,p,u)}},e),{focusedValue:typeof e.focusedValue>"u"?void 0:s,defaultFocusedValue:s,value:o,defaultValue:r!=null?r:[],positioning:g({placement:"bottom"},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},refs(){return{announcer:void 0}},context({prop:e,bindable:t,getContext:a}){return{focusedValue:t(()=>({defaultValue:e("defaultFocusedValue"),value:e("focusedValue"),isEqual:tt,hash:i=>i.toString(),sync:!0,onChange(i){var l;let n=a(),r=n.get("view"),o=n.get("value"),s=Jr(o,e);(l=e("onFocusChange"))==null||l({value:o,valueAsString:s,view:r,focusedValue:i})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:CT,hash:i=>i.map(n=>{var r;return(r=n==null?void 0:n.toString())!=null?r:""}).join(","),onChange(i){var o;let n=a(),r=Jr(i,e);(o=e("onValueChange"))==null||o({value:i,valueAsString:r,view:n.get("view")})}})),inputValue:t(()=>({defaultValue:""})),activeIndex:t(()=>({defaultValue:0,sync:!0})),hoveredValue:t(()=>({defaultValue:null,isEqual:tt})),view:t(()=>({defaultValue:e("defaultView"),value:e("view"),onChange(i){var n;(n=e("onViewChange"))==null||n({view:i})}})),startValue:t(()=>{let i=e("focusedValue")||e("defaultFocusedValue");return{defaultValue:sp(i,"start",{months:e("numOfMonths")},e("locale")),isEqual:tt,hash:n=>n.toString()}}),currentPlacement:t(()=>({defaultValue:void 0})),restoreFocus:t(()=>({defaultValue:!1}))}},computed:{isInteractive:({prop:e})=>!e("disabled")&&!e("readOnly"),visibleDuration:({prop:e})=>({months:e("numOfMonths")}),endValue:({context:e,computed:t})=>Mp(e.get("startValue"),t("visibleDuration")),visibleRange:({context:e,computed:t})=>({start:e.get("startValue"),end:t("endValue")}),visibleRangeText:({context:e,prop:t,computed:a})=>ET({view:e.get("view"),startValue:e.get("startValue"),endValue:a("endValue"),locale:t("locale"),timeZone:t("timeZone"),selectionMode:t("selectionMode")}),isPrevVisibleRangeValid:({context:e,prop:t})=>!RC(e.get("startValue"),t("min"),t("max")),isNextVisibleRangeValid:({prop:e,computed:t})=>!AC(t("endValue"),e("min"),e("max")),valueAsString:({context:e,prop:t})=>Jr(e.get("value"),t)},effects:["setupLiveRegion"],watch({track:e,prop:t,context:a,action:i,computed:n}){e([()=>t("locale")],()=>{i(["setStartValue","syncInputElement"])}),e([()=>a.hash("focusedValue")],()=>{i(["setStartValue","focusActiveCellIfNeeded","setHoveredValueIfKeyboard"])}),e([()=>a.hash("startValue")],()=>{i(["syncMonthSelectElement","syncYearSelectElement","invokeOnVisibleRangeChange"])}),e([()=>a.get("inputValue")],()=>{i(["syncInputValue"])}),e([()=>a.hash("value")],()=>{i(["syncInputElement"])}),e([()=>n("valueAsString").toString()],()=>{i(["announceValueText"])}),e([()=>a.get("view")],()=>{i(["focusActiveCell"])}),e([()=>t("open")],()=>{i(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setDateValue","setFocusedDate"]},"VIEW.SET":{actions:["setView"]},"FOCUS.SET":{actions:["setFocusedDate"]},"VALUE.CLEAR":{actions:["clearDateValue","clearFocusedDate","focusFirstInputElement"]},"INPUT.CHANGE":[{guard:"isInputValueEmpty",actions:["setInputValue","clearDateValue","clearFocusedDate"]},{actions:["setInputValue","focusParsedDate"]}],"INPUT.ENTER":{actions:["focusParsedDate","selectFocusedDate"]},"INPUT.FOCUS":{actions:["setActiveIndex"]},"INPUT.BLUR":[{guard:"shouldFixOnBlur",actions:["setActiveIndexToStart","selectParsedDate"]},{actions:["setActiveIndexToStart"]}],"PRESET.CLICK":[{guard:"isOpenControlled",actions:["setDateValue","setFocusedDate","invokeOnClose"]},{target:"focused",actions:["setDateValue","setFocusedDate","focusInputElement"]}],"GOTO.NEXT":[{guard:"isYearView",actions:["focusNextDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusNextYear","announceVisibleRange"]},{actions:["focusNextPage"]}],"GOTO.PREV":[{guard:"isYearView",actions:["focusPreviousDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusPreviousYear","announceVisibleRange"]},{actions:["focusPreviousPage"]}]},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],exit:["clearHoveredDate","resetView"],on:{"CONTROLLED.CLOSE":[{guard:ct("shouldRestoreFocus","isInteractOutsideEvent"),target:"focused",actions:["focusTriggerElement"]},{guard:"shouldRestoreFocus",target:"focused",actions:["focusInputElement"]},{target:"idle"}],"CELL.CLICK":[{guard:"isAboveMinView",actions:["setFocusedValueForView","setPreviousView"]},{guard:ct("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","resetSelection","setActiveIndexToEnd"]},{guard:ct("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","setRestoreFocus"]},{guard:ct("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:ct("isRangePicker","isSelectingEndDate"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setFocusedDate","setSelectedDate","setActiveIndexToEnd"]},{guard:"isMultiPicker",actions:["setFocusedDate","toggleSelectedDate"]},{guard:ct("closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setFocusedDate","setSelectedDate","invokeOnClose","focusInputElement"]},{actions:["setFocusedDate","setSelectedDate"]}],"CELL.POINTER_MOVE":{guard:ct("isRangePicker","isSelectingEndDate"),actions:["setHoveredDate","setFocusedDate"]},"TABLE.POINTER_LEAVE":{guard:"isRangePicker",actions:["clearHoveredDate"]},"TABLE.POINTER_DOWN":{actions:["disableTextSelection"]},"TABLE.POINTER_UP":{actions:["enableTextSelection"]},"TABLE.ESCAPE":[{guard:"isOpenControlled",actions:["focusFirstSelectedDate","invokeOnClose"]},{target:"focused",actions:["focusFirstSelectedDate","invokeOnClose","focusTriggerElement"]}],"TABLE.ENTER":[{guard:"isAboveMinView",actions:["setPreviousView"]},{guard:ct("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","clearDateValue","setSelectedDate","setActiveIndexToEnd"]},{guard:ct("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose"]},{guard:ct("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:ct("isRangePicker","isSelectingEndDate"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setSelectedDate","setActiveIndexToEnd","focusNextDay"]},{guard:"isMultiPicker",actions:["toggleSelectedDate"]},{guard:ct("closeOnSelect","isOpenControlled"),actions:["selectFocusedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectFocusedDate","invokeOnClose","focusInputElement"]},{actions:["selectFocusedDate"]}],"TABLE.ARROW_RIGHT":[{guard:"isMonthView",actions:["focusNextMonth"]},{guard:"isYearView",actions:["focusNextYear"]},{actions:["focusNextDay","setHoveredDate"]}],"TABLE.ARROW_LEFT":[{guard:"isMonthView",actions:["focusPreviousMonth"]},{guard:"isYearView",actions:["focusPreviousYear"]},{actions:["focusPreviousDay"]}],"TABLE.ARROW_UP":[{guard:"isMonthView",actions:["focusPreviousMonthColumn"]},{guard:"isYearView",actions:["focusPreviousYearColumn"]},{actions:["focusPreviousWeek"]}],"TABLE.ARROW_DOWN":[{guard:"isMonthView",actions:["focusNextMonthColumn"]},{guard:"isYearView",actions:["focusNextYearColumn"]},{actions:["focusNextWeek"]}],"TABLE.PAGE_UP":{actions:["focusPreviousSection"]},"TABLE.PAGE_DOWN":{actions:["focusNextSection"]},"TABLE.HOME":[{guard:"isMonthView",actions:["focusFirstMonth"]},{guard:"isYearView",actions:["focusFirstYear"]},{actions:["focusSectionStart"]}],"TABLE.END":[{guard:"isMonthView",actions:["focusLastMonth"]},{guard:"isYearView",actions:["focusLastYear"]},{actions:["focusSectionEnd"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"VIEW.TOGGLE":{actions:["setNextView"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["setActiveIndexToStart","invokeOnClose","focusTriggerElement"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}]}}},implementations:{guards:{isAboveMinView:({context:e,prop:t})=>gT(e.get("view"),t("minView")),isDayView:({context:e,event:t})=>(t.view||e.get("view"))==="day",isMonthView:({context:e,event:t})=>(t.view||e.get("view"))==="month",isYearView:({context:e,event:t})=>(t.view||e.get("view"))==="year",isRangePicker:({prop:e})=>e("selectionMode")==="range",hasSelectedRange:({context:e})=>e.get("value").length===2,isMultiPicker:({prop:e})=>e("selectionMode")==="multiple",shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus"),isSelectingEndDate:({context:e})=>e.get("activeIndex")===1,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),isInteractOutsideEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INTERACT_OUTSIDE"},isInputValueEmpty:({event:e})=>e.value.trim()==="",shouldFixOnBlur:({event:e})=>!!e.fixOnBlur},effects:{trackPositioning({context:e,prop:t,scope:a}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);let i=Xp(a);return Et(i,()=>sT(a),y(g({},t("positioning")),{defer:!0,onComplete(n){e.set("currentPlacement",n.placement)}}))},setupLiveRegion({scope:e,refs:t}){let a=e.getDoc();return t.set("announcer",XC({level:"assertive",document:a})),()=>{var i,n;return(n=(i=t.get("announcer"))==null?void 0:i.destroy)==null?void 0:n.call(i)}},trackDismissableElement({scope:e,send:t,context:a,prop:i}){return i("inline")?void 0:Lt(()=>to(e),{type:"popover",defer:!0,exclude:[...Cn(e),gp(e),oT(e)],onInteractOutside(n){a.set("restoreFocus",!n.detail.focusable)},onDismiss(){t({type:"INTERACT_OUTSIDE"})},onEscapeKeyDown(n){n.preventDefault(),t({type:"TABLE.ESCAPE",src:"dismissable"})}})}},actions:{setNextView({context:e,prop:t}){let a=mT(e.get("view"),t("minView"),t("maxView"));e.set("view",a)},setPreviousView({context:e,prop:t}){let a=vT(e.get("view"),t("minView"),t("maxView"));e.set("view",a)},setView({context:e,event:t}){e.set("view",t.view)},setRestoreFocus({context:e}){e.set("restoreFocus",!0)},announceValueText({context:e,prop:t,refs:a}){var s;let i=e.get("value"),n=t("locale"),r=t("timeZone"),o;if(t("selectionMode")==="range"){let[l,d]=i;l&&d?o=Yr(l,d,n,r):l?o=Yr(l,null,n,r):d?o=Yr(d,null,n,r):o=""}else o=i.map(l=>Yr(l,null,n,r)).filter(Boolean).join(",");(s=a.get("announcer"))==null||s.announce(o,3e3)},announceVisibleRange({computed:e,refs:t}){var i;let{formatted:a}=e("visibleRangeText");(i=t.get("announcer"))==null||i.announce(a)},disableTextSelection({scope:e}){ts({target:to(e),doc:e.getDoc()})},enableTextSelection({scope:e}){es({doc:e.getDoc(),target:to(e)})},focusFirstSelectedDate(e){let{context:t}=e;t.get("value").length&&fe(e,t.get("value")[0])},syncInputElement({scope:e,computed:t}){F(()=>{Cn(e).forEach((a,i)=>{Ae(a,t("valueAsString")[i]||"")})})},setFocusedDate(e){let{event:t}=e,a=Array.isArray(t.value)?t.value[0]:t.value;fe(e,a)},setFocusedValueForView(e){let{context:t,event:a}=e;fe(e,t.get("focusedValue").set({[t.get("view")]:a.value}))},focusNextMonth(e){let{context:t}=e;fe(e,t.get("focusedValue").add({months:1}))},focusPreviousMonth(e){let{context:t}=e;fe(e,t.get("focusedValue").subtract({months:1}))},setDateValue({context:e,event:t,prop:a}){if(!Array.isArray(t.value))return;let i=t.value.map(n=>xt(n,a("min"),a("max")));e.set("value",i)},clearDateValue({context:e}){e.set("value",[])},setSelectedDate(e){var n;let{context:t,event:a}=e,i=Array.from(t.get("value"));i[t.get("activeIndex")]=ao(e,(n=a.value)!=null?n:t.get("focusedValue")),t.set("value",al(i))},resetSelection(e){var n;let{context:t,event:a}=e,i=ao(e,(n=a.value)!=null?n:t.get("focusedValue"));t.set("value",[i])},toggleSelectedDate(e){var r;let{context:t,event:a}=e,i=ao(e,(r=a.value)!=null?r:t.get("focusedValue")),n=t.get("value").findIndex(o=>tt(o,i));if(n===-1){let o=[...t.get("value"),i];t.set("value",Zr(o))}else{let o=Array.from(t.get("value"));o.splice(n,1),t.set("value",Zr(o))}},setHoveredDate({context:e,event:t}){e.set("hoveredValue",t.value)},clearHoveredDate({context:e}){e.set("hoveredValue",null)},selectFocusedDate({context:e,computed:t}){let a=Array.from(e.get("value")),i=e.get("activeIndex");a[i]=e.get("focusedValue").copy(),e.set("value",al(a));let n=t("valueAsString");e.set("inputValue",n[i])},focusPreviousDay(e){let{context:t}=e,a=t.get("focusedValue").subtract({days:1});fe(e,a)},focusNextDay(e){let{context:t}=e,a=t.get("focusedValue").add({days:1});fe(e,a)},focusPreviousWeek(e){let{context:t}=e,a=t.get("focusedValue").subtract({weeks:1});fe(e,a)},focusNextWeek(e){let{context:t}=e,a=t.get("focusedValue").add({weeks:1});fe(e,a)},focusNextPage(e){let{context:t,computed:a,prop:i}=e,n=_p(t.get("focusedValue"),t.get("startValue"),a("visibleDuration"),i("locale"),i("min"),i("max"));Qr(e,n)},focusPreviousPage(e){let{context:t,computed:a,prop:i}=e,n=$p(t.get("focusedValue"),t.get("startValue"),a("visibleDuration"),i("locale"),i("min"),i("max"));Qr(e,n)},focusSectionStart(e){let{context:t}=e;fe(e,t.get("startValue").copy())},focusSectionEnd(e){let{computed:t}=e;fe(e,t("endValue").copy())},focusNextSection(e){let{context:t,event:a,computed:i,prop:n}=e,r=$C(t.get("focusedValue"),t.get("startValue"),a.larger,i("visibleDuration"),n("locale"),n("min"),n("max"));r&&Qr(e,r)},focusPreviousSection(e){let{context:t,event:a,computed:i,prop:n}=e,r=qC(t.get("focusedValue"),t.get("startValue"),a.larger,i("visibleDuration"),n("locale"),n("min"),n("max"));r&&Qr(e,r)},focusNextYear(e){let{context:t}=e,a=t.get("focusedValue").add({years:1});fe(e,a)},focusPreviousYear(e){let{context:t}=e,a=t.get("focusedValue").subtract({years:1});fe(e,a)},focusNextDecade(e){let{context:t}=e,a=t.get("focusedValue").add({years:10});fe(e,a)},focusPreviousDecade(e){let{context:t}=e,a=t.get("focusedValue").subtract({years:10});fe(e,a)},clearFocusedDate(e){let{prop:t}=e;fe(e,Ni(t("timeZone")))},focusPreviousMonthColumn(e){let{context:t,event:a}=e,i=t.get("focusedValue").subtract({months:a.columns});fe(e,i)},focusNextMonthColumn(e){let{context:t,event:a}=e,i=t.get("focusedValue").add({months:a.columns});fe(e,i)},focusPreviousYearColumn(e){let{context:t,event:a}=e,i=t.get("focusedValue").subtract({years:a.columns});fe(e,i)},focusNextYearColumn(e){let{context:t,event:a}=e,i=t.get("focusedValue").add({years:a.columns});fe(e,i)},focusFirstMonth(e){let{context:t}=e,a=t.get("focusedValue").set({month:1});fe(e,a)},focusLastMonth(e){let{context:t}=e,a=t.get("focusedValue").set({month:12});fe(e,a)},focusFirstYear(e){let{context:t}=e,a=Ri(t.get("focusedValue").year),i=t.get("focusedValue").set({year:a[0]});fe(e,i)},focusLastYear(e){let{context:t}=e,a=Ri(t.get("focusedValue").year),i=t.get("focusedValue").set({year:a[a.length-1]});fe(e,i)},setActiveIndex({context:e,event:t}){e.set("activeIndex",t.index)},setActiveIndexToEnd({context:e}){e.set("activeIndex",1)},setActiveIndexToStart({context:e}){e.set("activeIndex",0)},focusActiveCell({scope:e,context:t}){F(()=>{var i;let a=t.get("view");(i=hp(e,a))==null||i.focus({preventScroll:!0})})},focusActiveCellIfNeeded({scope:e,context:t,event:a}){a.focus&&F(()=>{var n;let i=t.get("view");(n=hp(e,i))==null||n.focus({preventScroll:!0})})},setHoveredValueIfKeyboard({context:e,event:t,prop:a}){!t.type.startsWith("TABLE.ARROW")||a("selectionMode")!=="range"||e.get("activeIndex")===0||e.set("hoveredValue",e.get("focusedValue").copy())},focusTriggerElement({scope:e}){F(()=>{var t;(t=gp(e))==null||t.focus({preventScroll:!0})})},focusFirstInputElement({scope:e}){F(()=>{let[t]=Cn(e);t==null||t.focus({preventScroll:!0})})},focusInputElement({scope:e}){F(()=>{let t=Cn(e),a=t.findLastIndex(r=>r.value!==""),i=Math.max(a,0),n=t[i];n==null||n.focus({preventScroll:!0}),n==null||n.setSelectionRange(n.value.length,n.value.length)})},syncMonthSelectElement({scope:e,context:t}){let a=rT(e);Ae(a,t.get("startValue").month.toString())},syncYearSelectElement({scope:e,context:t}){let a=nT(e);Ae(a,t.get("startValue").year.toString())},setInputValue({context:e,event:t}){e.get("activeIndex")===t.index&&e.set("inputValue",t.value)},syncInputValue({scope:e,context:t,event:a}){queueMicrotask(()=>{var r;let i=Cn(e),n=(r=a.index)!=null?r:t.get("activeIndex");Ae(i[n],t.get("inputValue"))})},focusParsedDate(e){let{event:t,prop:a}=e;if(t.index==null)return;let i=a("parse")(t.value,{locale:a("locale"),timeZone:a("timeZone")});!i||!fp(i)||fe(e,i)},selectParsedDate({context:e,event:t,prop:a}){if(t.index==null)return;let i=a("parse")(t.value,{locale:a("locale"),timeZone:a("timeZone")});if((!i||!fp(i))&&t.value&&(i=e.get("focusedValue").copy()),!i)return;i=xt(i,a("min"),a("max"));let n=Array.from(e.get("value"));n[t.index]=i,e.set("value",n);let r=Jr(n,a);e.set("inputValue",r[t.index])},resetView({context:e}){e.set("view",e.initial("view"))},setStartValue({context:e,computed:t,prop:a}){let i=e.get("focusedValue");if(!Mt(i,e.get("startValue"),t("endValue")))return;let n=sp(i,"start",{months:a("numOfMonths")},a("locale"));e.set("startValue",n)},invokeOnOpen({prop:e,context:t}){var a;e("inline")||((a=e("onOpenChange"))==null||a({open:!0,value:t.get("value")}))},invokeOnClose({prop:e,context:t}){var a;e("inline")||((a=e("onOpenChange"))==null||a({open:!1,value:t.get("value")}))},invokeOnVisibleRangeChange({prop:e,context:t,computed:a}){var i;(i=e("onVisibleRangeChange"))==null||i({view:t.get("view"),visibleRange:a("visibleRange")})},toggleVisibility({event:e,send:t,prop:a}){t({type:a("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}},ao=(e,t)=>{let{context:a,prop:i}=e,n=a.get("view"),r=typeof t=="number"?a.get("focusedValue").set({[n]:t}):t;return yT(o=>{fT(o,i("minView"))&&(r=r.set({[o]:o==="day"?1:0}))}),r};PT=B()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","parse","placeholder","getRootNode","id","ids","inline","invalid","isDateUnavailable","locale","max","min","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","onVisibleRangeChange","open","defaultOpen","positioning","readOnly","required","selectionMode","startOfWeek","timeZone","translations","value","defaultView","defaultValue","view","defaultFocusedValue","outsideDaySelectable","minView","maxView"]),xV=H(PT),ST=B()(["index","fixOnBlur"]),CV=H(ST),IT=B()(["value"]),TV=H(IT),OT=B()(["columns","id","view"]),PV=H(OT),wT=B()(["disabled","value","columns"]),SV=H(wT),VT=B()(["view"]),IV=H(VT),kT=class extends z{constructor(){super(...arguments);K(this,"getDayView",()=>this.el.querySelector('[data-part="day-view"]'));K(this,"getMonthView",()=>this.el.querySelector('[data-part="month-view"]'));K(this,"getYearView",()=>this.el.querySelector('[data-part="year-view"]'));K(this,"renderDayTableHeader",()=>{var i;let t=(i=this.getDayView())==null?void 0:i.querySelector("thead");if(!t||!this.api.weekDays)return;let a=this.doc.createElement("tr");this.spreadProps(a,this.api.getTableRowProps({view:"day"})),this.api.weekDays.forEach(n=>{let r=this.doc.createElement("th");r.scope="col",r.setAttribute("aria-label",n.long),r.textContent=n.narrow,a.appendChild(r)}),t.innerHTML="",t.appendChild(a)});K(this,"renderDayTableBody",()=>{var a;let t=(a=this.getDayView())==null?void 0:a.querySelector("tbody");t&&(this.spreadProps(t,this.api.getTableBodyProps({view:"day"})),this.api.weeks&&(t.innerHTML="",this.api.weeks.forEach(i=>{let n=this.doc.createElement("tr");this.spreadProps(n,this.api.getTableRowProps({view:"day"})),i.forEach(r=>{let o=this.doc.createElement("td");this.spreadProps(o,this.api.getDayTableCellProps({value:r}));let s=this.doc.createElement("div");this.spreadProps(s,this.api.getDayTableCellTriggerProps({value:r})),s.textContent=String(r.day),o.appendChild(s),n.appendChild(o)}),t.appendChild(n)})))});K(this,"renderMonthTableBody",()=>{var i;let t=(i=this.getMonthView())==null?void 0:i.querySelector("tbody");if(!t)return;this.spreadProps(t,this.api.getTableBodyProps({view:"month"}));let a=this.api.getMonthsGrid({columns:4,format:"short"});t.innerHTML="",a.forEach(n=>{let r=this.doc.createElement("tr");this.spreadProps(r,this.api.getTableRowProps()),n.forEach(o=>{let s=this.doc.createElement("td");this.spreadProps(s,this.api.getMonthTableCellProps(y(g({},o),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getMonthTableCellTriggerProps(y(g({},o),{columns:4}))),l.textContent=o.label,s.appendChild(l),r.appendChild(s)}),t.appendChild(r)})});K(this,"renderYearTableBody",()=>{var i;let t=(i=this.getYearView())==null?void 0:i.querySelector("tbody");if(!t)return;this.spreadProps(t,this.api.getTableBodyProps());let a=this.api.getYearsGrid({columns:4});t.innerHTML="",a.forEach(n=>{let r=this.doc.createElement("tr");this.spreadProps(r,this.api.getTableRowProps({view:"year"})),n.forEach(o=>{let s=this.doc.createElement("td");this.spreadProps(s,this.api.getYearTableCellProps(y(g({},o),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getYearTableCellTriggerProps(y(g({},o),{columns:4}))),l.textContent=o.label,s.appendChild(l),r.appendChild(s)}),t.appendChild(r)})})}initMachine(t){return new q(TT,t)}initApi(){return xT(this.machine.service,$)}render(){let t=this.el.querySelector('[data-scope="date-picker"][data-part="root"]');t&&this.spreadProps(t,this.api.getRootProps());let a=this.el.querySelector('[data-scope="date-picker"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="date-picker"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let n=this.el.querySelector('[data-scope="date-picker"][data-part="input"]');n&&this.spreadProps(n,this.api.getInputProps());let r=this.el.querySelector('[data-scope="date-picker"][data-part="trigger"]');r&&this.spreadProps(r,this.api.getTriggerProps());let o=this.el.querySelector('[data-scope="date-picker"][data-part="positioner"]');o&&this.spreadProps(o,this.api.getPositionerProps());let s=this.el.querySelector('[data-scope="date-picker"][data-part="content"]');if(s&&this.spreadProps(s,this.api.getContentProps()),this.api.open){let l=this.getDayView(),d=this.getMonthView(),c=this.getYearView();if(l&&(l.hidden=this.api.view!=="day"),d&&(d.hidden=this.api.view!=="month"),c&&(c.hidden=this.api.view!=="year"),this.api.view==="day"&&l){let f=l.querySelector('[data-part="view-control"]');f&&this.spreadProps(f,this.api.getViewControlProps({view:"year"}));let p=l.querySelector('[data-part="prev-trigger"]');p&&this.spreadProps(p,this.api.getPrevTriggerProps());let u=l.querySelector('[data-part="view-trigger"]');u&&(this.spreadProps(u,this.api.getViewTriggerProps()),u.textContent=this.api.visibleRangeText.start);let h=l.querySelector('[data-part="next-trigger"]');h&&this.spreadProps(h,this.api.getNextTriggerProps());let v=l.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"day"}));let C=l.querySelector("thead");C&&this.spreadProps(C,this.api.getTableHeaderProps({view:"day"})),this.renderDayTableHeader(),this.renderDayTableBody()}else if(this.api.view==="month"&&d){let f=d.querySelector('[data-part="view-control"]');f&&this.spreadProps(f,this.api.getViewControlProps({view:"month"}));let p=d.querySelector('[data-part="prev-trigger"]');p&&this.spreadProps(p,this.api.getPrevTriggerProps({view:"month"}));let u=d.querySelector('[data-part="view-trigger"]');u&&(this.spreadProps(u,this.api.getViewTriggerProps({view:"month"})),u.textContent=String(this.api.visibleRange.start.year));let h=d.querySelector('[data-part="next-trigger"]');h&&this.spreadProps(h,this.api.getNextTriggerProps({view:"month"}));let v=d.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"month",columns:4})),this.renderMonthTableBody()}else if(this.api.view==="year"&&c){let f=c.querySelector('[data-part="view-control"]');f&&this.spreadProps(f,this.api.getViewControlProps({view:"year"}));let p=c.querySelector('[data-part="prev-trigger"]');p&&this.spreadProps(p,this.api.getPrevTriggerProps({view:"year"}));let u=c.querySelector('[data-part="decade"]');if(u){let C=this.api.getDecade();u.textContent=`${C.start} - ${C.end}`}let h=c.querySelector('[data-part="next-trigger"]');h&&this.spreadProps(h,this.api.getNextTriggerProps({view:"year"}));let v=c.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"year",columns:4})),this.renderYearTableBody()}}}};NT={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=this.liveSocket,i=I(e,"min"),n=I(e,"max"),r=I(e,"positioning"),o=c=>c?c.map(f=>pt(f)):void 0,s=c=>c?pt(c):void 0,l=new kT(e,y(g({id:e.id},T(e,"controlled")?{value:o(X(e,"value"))}:{defaultValue:o(X(e,"defaultValue"))}),{defaultFocusedValue:s(I(e,"focusedValue")),defaultView:I(e,"defaultView",["day","month","year"]),dir:I(e,"dir",["ltr","rtl"]),locale:I(e,"locale"),timeZone:I(e,"timeZone"),disabled:T(e,"disabled"),readOnly:T(e,"readOnly"),required:T(e,"required"),invalid:T(e,"invalid"),outsideDaySelectable:T(e,"outsideDaySelectable"),closeOnSelect:T(e,"closeOnSelect"),min:i?pt(i):void 0,max:n?pt(n):void 0,numOfMonths:W(e,"numOfMonths"),startOfWeek:W(e,"startOfWeek"),fixedWeeks:T(e,"fixedWeeks"),selectionMode:I(e,"selectionMode",["single","multiple","range"]),placeholder:I(e,"placeholder"),minView:I(e,"minView",["day","month","year"]),maxView:I(e,"maxView",["day","month","year"]),inline:T(e,"inline"),positioning:r?JSON.parse(r):void 0,onValueChange:c=>{var h;let f=(h=c.value)!=null&&h.length?c.value.map(v=>mp(v)).join(","):"",p=e.querySelector(`#${e.id}-value`);p&&p.value!==f&&(p.value=f,p.dispatchEvent(new Event("input",{bubbles:!0})),p.dispatchEvent(new Event("change",{bubbles:!0})));let u=I(e,"onValueChange");u&&a.main.isConnected()&&t(u,{id:e.id,value:f||null})},onFocusChange:c=>{var p;let f=I(e,"onFocusChange");f&&a.main.isConnected()&&t(f,{id:e.id,focused:(p=c.focused)!=null?p:!1})},onViewChange:c=>{let f=I(e,"onViewChange");f&&a.main.isConnected()&&t(f,{id:e.id,view:c.view})},onVisibleRangeChange:c=>{let f=I(e,"onVisibleRangeChange");f&&a.main.isConnected()&&t(f,{id:e.id,start:c.start,end:c.end})},onOpenChange:c=>{let f=I(e,"onOpenChange");f&&a.main.isConnected()&&t(f,{id:e.id,open:c.open})}}));l.init(),this.datePicker=l;let d=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');d&&d.removeAttribute("data-loading"),this.handlers=[],this.handlers.push(this.handleEvent("date_picker_set_value",c=>{let f=c.date_picker_id;f&&f!==e.id||l.api.setValue([pt(c.value)])})),this.onSetValue=c=>{var p;let f=(p=c.detail)==null?void 0:p.value;typeof f=="string"&&l.api.setValue([pt(f)])},e.addEventListener("phx:date-picker:set-value",this.onSetValue)},updated(){var l,d;let e=this.el,t=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');t&&t.removeAttribute("data-loading");let a=c=>c?c.map(f=>pt(f)):void 0,i=I(e,"min"),n=I(e,"max"),r=I(e,"positioning"),o=T(e,"controlled"),s=I(e,"focusedValue");if((l=this.datePicker)==null||l.updateProps(y(g({},T(e,"controlled")?{value:a(X(e,"value"))}:{defaultValue:a(X(e,"defaultValue"))}),{defaultFocusedValue:s?pt(s):void 0,defaultView:I(e,"defaultView",["day","month","year"]),dir:I(this.el,"dir",["ltr","rtl"]),locale:I(this.el,"locale"),timeZone:I(this.el,"timeZone"),disabled:T(this.el,"disabled"),readOnly:T(this.el,"readOnly"),required:T(this.el,"required"),invalid:T(this.el,"invalid"),outsideDaySelectable:T(this.el,"outsideDaySelectable"),closeOnSelect:T(this.el,"closeOnSelect"),min:i?pt(i):void 0,max:n?pt(n):void 0,numOfMonths:W(this.el,"numOfMonths"),startOfWeek:W(this.el,"startOfWeek"),fixedWeeks:T(this.el,"fixedWeeks"),selectionMode:I(this.el,"selectionMode",["single","multiple","range"]),placeholder:I(this.el,"placeholder"),minView:I(this.el,"minView",["day","month","year"]),maxView:I(this.el,"maxView",["day","month","year"]),inline:T(this.el,"inline"),positioning:r?JSON.parse(r):void 0})),o&&this.datePicker){let c=X(e,"value"),f=(d=c==null?void 0:c.join(","))!=null?d:"",p=this.datePicker.api.value,u=p!=null&&p.length?p.map(h=>mp(h)).join(","):"";if(f!==u){let h=c!=null&&c.length?c.map(v=>pt(v)):[];this.datePicker.api.setValue(h)}}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:date-picker:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.datePicker)==null||e.destroy()}}});var lh={};de(lh,{Dialog:()=>lP});function BT(e,t={}){let{defer:a=!0}=t,i=a?HT:r=>r(),n=[];return n.push(i(()=>{let r=(typeof e=="function"?e():e).filter(Boolean);r.length!==0&&n.push(FT(r))})),()=>{n.forEach(r=>r==null?void 0:r())}}function jT(e,t={}){let a,i=F(()=>{let n=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o():o).filter(o=>o!=null);if(n.length===0)return;let r=n[0];a=new $T(n,y(g({escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:r},t),{document:Re(r)}));try{a.activate()}catch(o){}});return function(){a==null||a.deactivate(),i()}}function YT(e){let t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function ah(e){var a;let t=(a=rt(e))==null?void 0:a.scrollbarGutter;return t==="stable"||(t==null?void 0:t.startsWith("stable "))===!0}function XT(e){var p;let t=e!=null?e:document,a=(p=t.defaultView)!=null?p:window,{documentElement:i,body:n}=t;if(n.hasAttribute(fl))return;let r=ah(i)||ah(n),o=a.innerWidth-i.clientWidth;n.setAttribute(fl,"");let s=()=>Md(i,"--scrollbar-width",`${o}px`),l=YT(i),d=()=>{let u={overflow:"hidden"};return!r&&o>0&&(u[l]=`${o}px`),Ma(n,u)},c=()=>{var m,S;let{scrollX:u,scrollY:h,visualViewport:v}=a,C=(m=v==null?void 0:v.offsetLeft)!=null?m:0,P=(S=v==null?void 0:v.offsetTop)!=null?S:0,w={position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(P))}px`,left:`${-(u-Math.floor(C))}px`,right:"0"};!r&&o>0&&(w[l]=`${o}px`);let b=Ma(n,w);return()=>{b==null||b(),a.scrollTo({left:u,top:h,behavior:"instant"})}},f=[s(),Qi()?c():d()];return()=>{f.forEach(u=>u==null?void 0:u()),n.removeAttribute(fl)}}function nP(e,t){let{state:a,send:i,context:n,prop:r,scope:o}=e,s=r("aria-label"),l=a.matches("open");return{open:l,setOpen(d){a.matches("open")!==d&&i({type:d?"OPEN":"CLOSE"})},getTriggerProps(){return t.button(y(g({},Xa.trigger.attrs),{dir:r("dir"),id:oh(o),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":ml(o),onClick(d){d.defaultPrevented||i({type:"TOGGLE"})}}))},getBackdropProps(){return t.element(y(g({},Xa.backdrop.attrs),{dir:r("dir"),hidden:!l,id:rh(o),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(g({},Xa.positioner.attrs),{dir:r("dir"),id:nh(o),style:{pointerEvents:l?void 0:"none"}}))},getContentProps(){let d=n.get("rendered");return t.element(y(g({},Xa.content.attrs),{dir:r("dir"),role:r("role"),hidden:!l,id:ml(o),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":s||void 0,"aria-labelledby":s||!d.title?void 0:vl(o),"aria-describedby":d.description?bl(o):void 0}))},getTitleProps(){return t.element(y(g({},Xa.title.attrs),{dir:r("dir"),id:vl(o)}))},getDescriptionProps(){return t.element(y(g({},Xa.description.attrs),{dir:r("dir"),id:bl(o)}))},getCloseTriggerProps(){return t.button(y(g({},Xa.closeTrigger.attrs),{dir:r("dir"),id:sh(o),type:"button",onClick(d){d.defaultPrevented||(d.stopPropagation(),i({type:"CLOSE"}))}}))}}}var Mi,so,lo,hl,ih,RT,AT,DT,LT,MT,FT,HT,GT,UT,ve,eh,_T,$T,yl,gl,qT,zT,On,WT,th,KT,fl,ZT,Xa,nh,rh,ml,oh,vl,bl,sh,uo,JT,QT,eP,tP,aP,iP,rP,oP,DV,sP,lP,dh=te(()=>{"use strict";_a();Qt();ae();Mi=new WeakMap,so=new WeakMap,lo={},hl=0,ih=e=>e&&(e.host||ih(e.parentNode)),RT=(e,t)=>t.map(a=>{if(e.contains(a))return a;let i=ih(a);return i&&e.contains(i)?i:(console.error("[zag-js > ariaHidden] target",a,"in not contained inside",e,". Doing nothing"),null)}).filter(a=>!!a),AT=new Set(["script","output","status","next-route-announcer"]),DT=e=>AT.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),LT=(e,t)=>{let{parentNode:a,markerName:i,controlAttribute:n,followControlledElements:r=!0}=t,o=RT(a,Array.isArray(e)?e:[e]);lo[i]||(lo[i]=new WeakMap);let s=lo[i],l=[],d=new Set,c=new Set(o),f=u=>{!u||d.has(u)||(d.add(u),f(u.parentNode))};o.forEach(u=>{f(u),r&&re(u)&&jo(u,h=>{f(h)})});let p=u=>{!u||c.has(u)||Array.prototype.forEach.call(u.children,h=>{if(d.has(h))p(h);else try{if(DT(h))return;let v=h.getAttribute(n)==="true",C=(Mi.get(h)||0)+1,P=(s.get(h)||0)+1;Mi.set(h,C),s.set(h,P),l.push(h),C===1&&v&&so.set(h,!0),P===1&&h.setAttribute(i,""),v||h.setAttribute(n,"true")}catch(v){console.error("[zag-js > ariaHidden] cannot operate on ",h,v)}})};return p(a),d.clear(),hl++,()=>{l.forEach(u=>{let h=Mi.get(u)-1,v=s.get(u)-1;Mi.set(u,h),s.set(u,v),h||(so.has(u)||u.removeAttribute(n),so.delete(u)),v||u.removeAttribute(i)}),hl--,hl||(Mi=new WeakMap,Mi=new WeakMap,so=new WeakMap,lo={})}},MT=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,FT=(e,t=MT(e),a="data-aria-hidden",i=!0)=>{if(t)return LT(e,{parentNode:t,markerName:a,controlAttribute:"aria-hidden",followControlledElements:i})},HT=e=>{let t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};GT=Object.defineProperty,UT=(e,t,a)=>t in e?GT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ve=(e,t,a)=>UT(e,typeof t!="symbol"?t+"":t,a),eh={activateTrap(e,t){if(e.length>0){let i=e[e.length-1];i!==t&&i.pause()}let a=e.indexOf(t);a===-1||e.splice(a,1),e.push(t)},deactivateTrap(e,t){let a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},_T=[],$T=class{constructor(e,t){ve(this,"trapStack"),ve(this,"config"),ve(this,"doc"),ve(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),ve(this,"portalContainers",new Set),ve(this,"listenerCleanups",[]),ve(this,"handleFocus",i=>{let n=j(i),r=this.findContainerIndex(n,i)>=0;if(r||Ji(n))r&&(this.state.mostRecentlyFocusedNode=n);else{i.stopImmediatePropagation();let o,s=!0;if(this.state.mostRecentlyFocusedNode)if(pi(this.state.mostRecentlyFocusedNode)>0){let l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:d}=this.state.containerGroups[l];if(d.length>0){let c=d.findIndex(f=>f===this.state.mostRecentlyFocusedNode);c>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?c+1<d.length&&(o=d[c+1],s=!1):c-1>=0&&(o=d[c-1],s=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(d=>pi(d)>0))||(s=!1);else s=!1;s&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),ve(this,"handlePointerDown",i=>{let n=j(i);if(!(this.findContainerIndex(n,i)>=0)){if(On(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}On(this.config.allowOutsideClick,i)||i.preventDefault()}}),ve(this,"handleClick",i=>{let n=j(i);this.findContainerIndex(n,i)>=0||On(this.config.clickOutsideDeactivates,i)||On(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),ve(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;let n=this.config.isKeyBackward(i),r=this.findNextNavNode({event:i,isBackward:n});if(!r)return;gl(i)&&i.preventDefault(),this.tryFocus(r)}}),ve(this,"handleEscapeKey",i=>{WT(i)&&On(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),ve(this,"_mutationObserver"),ve(this,"setupMutationObserver",()=>{let i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(n=>{n.some(r=>Array.from(r.removedNodes).some(o=>o===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),n.some(r=>r.type==="attributes"&&(r.attributeName==="aria-controls"||r.attributeName==="aria-expanded")?!0:r.type==="childList"&&r.addedNodes.length>0?Array.from(r.addedNodes).some(o=>{if(o.nodeType!==Node.ELEMENT_NODE)return!1;let s=o;return Ed(s)?!0:s.id&&!this.state.containers.some(l=>l.contains(s))?xd(s):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),ve(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(n=>{var r;(r=this._mutationObserver)==null||r.observe(n,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(n=>{this.observePortalContainer(n)}))}),ve(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Ke(i)){let n=si(this.doc);if(n&&this.findContainerIndex(n)>=0)i=n;else{let r=this.state.tabbableGroups[0];i=r&&r.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),ve(this,"tryFocus",i=>{if(i!==!1&&i!==si(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,KT(i)&&i.select()}}),ve(this,"deactivate",i=>{if(!this.state.active)return this;let n=g({onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus},i);clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),eh.deactivateTrap(this.trapStack,this),this.portalContainers.clear();let r=this.getOption(n,"onDeactivate"),o=this.getOption(n,"onPostDeactivate"),s=this.getOption(n,"checkCanReturnFocus"),l=this.getOption(n,"returnFocus","returnFocusOnDeactivate");r==null||r();let d=()=>{th(()=>{if(l){let c=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(c)}o==null||o()})};if(l&&s){let c=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return s(c).then(d,d),this}return d(),this}),ve(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;let n=this.getOption(i,"onPause"),r=this.getOption(i,"onPostPause");return this.state.paused=!0,n==null||n(),this.removeListeners(),this.updateObservedNodes(),r==null||r(),this}),ve(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;let n=this.getOption(i,"onUnpause"),r=this.getOption(i,"onPostUnpause");return this.state.paused=!1,n==null||n(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),r==null||r(),this}),ve(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),ve(this,"getReturnFocusNode",i=>{let n=this.getNodeForOption("setReturnFocus",{params:[i]});return n||(n===!1?!1:i)}),ve(this,"getOption",(i,n,r)=>i&&i[n]!==void 0?i[n]:this.config[r||n]),ve(this,"getNodeForOption",(i,{hasFallback:n=!1,params:r=[]}={})=>{let o=this.config[i];if(typeof o=="function"&&(o=o(...r)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let s=o;if(typeof o=="string"){try{s=this.doc.querySelector(o)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!s&&!n)throw new Error(`\`${i}\` as selector refers to no known node`)}return s}),ve(this,"findNextNavNode",i=>{let{event:n,isBackward:r=!1}=i,o=i.target||j(n);this.updateTabbableNodes();let s=null;if(this.state.tabbableGroups.length>0){let l=this.findContainerIndex(o,n),d=l>=0?this.state.containerGroups[l]:void 0;if(l<0)r?s=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:s=this.state.tabbableGroups[0].firstTabbableNode;else if(r){let c=this.state.tabbableGroups.findIndex(({firstTabbableNode:f})=>o===f);if(c<0&&((d==null?void 0:d.container)===o||Ke(o)&&!la(o)&&!(d!=null&&d.nextTabbableNode(o,!1)))&&(c=l),c>=0){let f=c===0?this.state.tabbableGroups.length-1:c-1,p=this.state.tabbableGroups[f];s=pi(o)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else gl(n)||(s=d==null?void 0:d.nextTabbableNode(o,!1))}else{let c=this.state.tabbableGroups.findIndex(({lastTabbableNode:f})=>o===f);if(c<0&&((d==null?void 0:d.container)===o||Ke(o)&&!la(o)&&!(d!=null&&d.nextTabbableNode(o)))&&(c=l),c>=0){let f=c===this.state.tabbableGroups.length-1?0:c+1,p=this.state.tabbableGroups[f];s=pi(o)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else gl(n)||(s=d==null?void 0:d.nextTabbableNode(o))}}else s=this.getNodeForOption("fallbackFocus");return s}),this.trapStack=t.trapStack||_T;let a=g({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:qT,isKeyBackward:zT},t);this.doc=a.document||Re(Array.isArray(e)?e[0]:e),this.config=a,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){let t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{yd(e).forEach(t=>{this.addPortalContainer(t)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){let a=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:n})=>i.contains(e)||(a==null?void 0:a.includes(i))||n.find(r=>r===e)||this.isControlledElement(i,e))}isControlledElement(e,t){return this.config.followControlledElements?nr(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let t=Kt(e,{getShadowRoot:this.config.getShadowRoot}),a=an(e,{getShadowRoot:this.config.getShadowRoot}),i=t[0],n=t[t.length-1],r=i,o=n,s=!1;for(let d=0;d<t.length;d++)if(pi(t[d])>0){s=!0;break}function l(d,c=!0){let f=t.indexOf(d);if(f>=0)return t[f+(c?1:-1)];let p=a.indexOf(d);if(!(p<0)){if(c){for(let u=p+1;u<a.length;u++)if(la(a[u]))return a[u]}else for(let u=p-1;u>=0;u--)if(la(a[u]))return a[u]}}return{container:e,tabbableNodes:t,focusableNodes:a,posTabIndexesFound:s,firstTabbableNode:i,lastTabbableNode:n,firstDomTabbableNode:r,lastDomTabbableNode:o,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return eh.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?th(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Z(this.doc,"focusin",this.handleFocus,!0),Z(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Z(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Z(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Z(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Z(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let t=this.getOption(e,"onActivate"),a=this.getOption(e,"onPostActivate"),i=this.getOption(e,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=si(this.doc),t==null||t();let n=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),a==null||a()};return i?(i(this.state.containers.concat()).then(n,n),this):(n(),this)}},yl=e=>e.type==="keydown",gl=e=>yl(e)&&(e==null?void 0:e.key)==="Tab",qT=e=>yl(e)&&e.key==="Tab"&&!(e!=null&&e.shiftKey),zT=e=>yl(e)&&e.key==="Tab"&&(e==null?void 0:e.shiftKey),On=(e,...t)=>typeof e=="function"?e(...t):e,WT=e=>!e.isComposing&&e.key==="Escape",th=e=>setTimeout(e,0),KT=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";fl="data-scroll-lock";ZT=_("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Xa=ZT.build(),nh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.positioner)!=null?a:`dialog:${e.id}:positioner`},rh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.backdrop)!=null?a:`dialog:${e.id}:backdrop`},ml=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`dialog:${e.id}:content`},oh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`dialog:${e.id}:trigger`},vl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.title)!=null?a:`dialog:${e.id}:title`},bl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.description)!=null?a:`dialog:${e.id}:description`},sh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.closeTrigger)!=null?a:`dialog:${e.id}:close`},uo=e=>e.getById(ml(e)),JT=e=>e.getById(nh(e)),QT=e=>e.getById(rh(e)),eP=e=>e.getById(oh(e)),tP=e=>e.getById(vl(e)),aP=e=>e.getById(bl(e)),iP=e=>e.getById(sh(e));rP={props({props:e,scope:t}){let a=e.role==="alertdialog",i=a?()=>iP(t):void 0,n=typeof e.modal=="boolean"?e.modal:!0;return g({role:"dialog",modal:n,trapFocus:n,preventScroll:n,closeOnInteractOutside:!a,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:i},e)},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:a}){e([()=>a("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:a}){return Lt(()=>uo(e),{type:"dialog",defer:!0,pointerBlocking:a("modal"),exclude:[eP(e)],onInteractOutside(i){var n;(n=a("onInteractOutside"))==null||n(i),a("closeOnInteractOutside")||i.preventDefault()},persistentElements:a("persistentElements"),onFocusOutside:a("onFocusOutside"),onPointerDownOutside:a("onPointerDownOutside"),onRequestDismiss:a("onRequestDismiss"),onEscapeKeyDown(i){var n;(n=a("onEscapeKeyDown"))==null||n(i),a("closeOnEscape")||i.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return XT(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?jT(()=>uo(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:a=>{var i,n;return(n=(i=t("finalFocusEl"))==null?void 0:i())!=null?n:a},getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?BT(()=>[uo(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){F(()=>{e.set("rendered",{title:!!tP(t),description:!!aP(t)})})},syncZIndex({scope:e}){F(()=>{let t=uo(e);if(!t)return;let a=rt(t);[JT(e),QT(e)].forEach(i=>{i==null||i.style.setProperty("--z-index",a.zIndex),i==null||i.style.setProperty("--layer-index",a.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},toggleVisibility({prop:e,send:t,event:a}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:a})}}}},oP=B()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),DV=H(oP),sP=class extends z{initMachine(e){return new q(rP,e)}initApi(){return nP(this.machine.service,$)}render(){let e=this.el,t=e.querySelector('[data-scope="dialog"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let a=e.querySelector('[data-scope="dialog"][data-part="backdrop"]');a&&this.spreadProps(a,this.api.getBackdropProps());let i=e.querySelector('[data-scope="dialog"][data-part="positioner"]');i&&this.spreadProps(i,this.api.getPositionerProps());let n=e.querySelector('[data-scope="dialog"][data-part="content"]');n&&this.spreadProps(n,this.api.getContentProps());let r=e.querySelector('[data-scope="dialog"][data-part="title"]');r&&this.spreadProps(r,this.api.getTitleProps());let o=e.querySelector('[data-scope="dialog"][data-part="description"]');o&&this.spreadProps(o,this.api.getDescriptionProps());let s=e.querySelector('[data-scope="dialog"][data-part="close-trigger"]');s&&this.spreadProps(s,this.api.getCloseTriggerProps())}},lP={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=new sP(e,y(g({id:e.id},T(e,"controlled")?{open:T(e,"open")}:{defaultOpen:T(e,"defaultOpen")}),{modal:T(e,"modal"),closeOnInteractOutside:T(e,"closeOnInteractOutside"),closeOnEscape:T(e,"closeOnEscapeKeyDown"),preventScroll:T(e,"preventScroll"),restoreFocus:T(e,"restoreFocus"),dir:I(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let n=I(e,"onOpenChange");n&&this.liveSocket.main.isConnected()&&t(n,{id:e.id,open:i.open});let r=I(e,"onOpenChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));a.init(),this.dialog=a,this.onSetOpen=i=>{let{open:n}=i.detail;a.api.setOpen(n)},e.addEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("dialog_set_open",i=>{let n=i.dialog_id;n&&n!==e.id||a.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("dialog_open",()=>{this.pushEvent("dialog_open_response",{value:a.api.open})}))},updated(){var e;(e=this.dialog)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlled")?{open:T(this.el,"open")}:{defaultOpen:T(this.el,"defaultOpen")}),{modal:T(this.el,"modal"),closeOnInteractOutside:T(this.el,"closeOnInteractOutside"),closeOnEscape:T(this.el,"closeOnEscapeKeyDown"),preventScroll:T(this.el,"preventScroll"),restoreFocus:T(this.el,"restoreFocus"),dir:I(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.dialog)==null||e.destroy()}}});var fh={};de(fh,{Editable:()=>TP});function bP(e,t){var S;let{state:a,context:i,send:n,prop:r,scope:o,computed:s}=e,l=!!r("disabled"),d=s("isInteractive"),c=!!r("readOnly"),f=!!r("required"),p=!!r("invalid"),u=!!r("autoResize"),h=r("translations"),v=a.matches("edit"),C=r("placeholder"),P=typeof C=="string"?{edit:C,preview:C}:C,w=i.get("value"),b=w.trim()==="",m=b?(S=P==null?void 0:P.preview)!=null?S:"":w;return{editing:v,empty:b,value:w,valueText:m,setValue(x){n({type:"VALUE.SET",value:x,src:"setValue"})},clearValue(){n({type:"VALUE.SET",value:"",src:"clearValue"})},edit(){d&&n({type:"EDIT"})},cancel(){d&&n({type:"CANCEL"})},submit(){d&&n({type:"SUBMIT"})},getRootProps(){return t.element(y(g({},ra.root.attrs),{id:uP(o),dir:r("dir")}))},getAreaProps(){return t.element(y(g({},ra.area.attrs),{id:cP(o),dir:r("dir"),style:u?{display:"inline-grid"}:void 0,"data-focus":E(v),"data-disabled":E(l),"data-placeholder-shown":E(b)}))},getLabelProps(){return t.label(y(g({},ra.label.attrs),{id:pP(o),dir:r("dir"),htmlFor:El(o),"data-focus":E(v),"data-invalid":E(p),"data-required":E(f),onClick(){var x;v||(x=gP(o))==null||x.focus({preventScroll:!0})}}))},getInputProps(){return t.input(y(g({},ra.input.attrs),{dir:r("dir"),"aria-label":h==null?void 0:h.input,name:r("name"),form:r("form"),id:El(o),hidden:u?void 0:!v,placeholder:P==null?void 0:P.edit,maxLength:r("maxLength"),required:r("required"),disabled:l,"data-disabled":E(l),readOnly:c,"data-readonly":E(c),"aria-invalid":Y(p),"data-invalid":E(p),"data-autoresize":E(u),defaultValue:w,size:u?1:void 0,onChange(x){n({type:"VALUE.SET",src:"input.change",value:x.currentTarget.value})},onKeyDown(x){if(x.defaultPrevented||ke(x))return;let O={Escape(){n({type:"CANCEL"}),x.preventDefault()},Enter(V){if(!s("submitOnEnter"))return;let{localName:k}=V.currentTarget;if(k==="textarea"){if(!(Zo()?V.metaKey:V.ctrlKey))return;n({type:"SUBMIT",src:"keydown.enter"});return}k==="input"&&!V.shiftKey&&!V.metaKey&&(n({type:"SUBMIT",src:"keydown.enter"}),V.preventDefault())}}[x.key];O&&O(x)},style:u?{gridArea:"1 / 1 / auto / auto",visibility:v?void 0:"hidden"}:void 0}))},getPreviewProps(){return t.element(y(g({id:ch(o)},ra.preview.attrs),{dir:r("dir"),"data-placeholder-shown":E(b),"aria-readonly":Y(c),"data-readonly":E(l),"data-disabled":E(l),"aria-disabled":Y(l),"aria-invalid":Y(p),"data-invalid":E(p),"aria-label":h==null?void 0:h.edit,"data-autoresize":E(u),children:m,hidden:u?void 0:v,tabIndex:d?0:void 0,onClick(){d&&r("activationMode")==="click"&&n({type:"EDIT",src:"click"})},onFocus(){d&&r("activationMode")==="focus"&&n({type:"EDIT",src:"focus"})},onDoubleClick(x){x.defaultPrevented||d&&r("activationMode")==="dblclick"&&n({type:"EDIT",src:"dblclick"})},style:u?{whiteSpace:"pre",gridArea:"1 / 1 / auto / auto",visibility:v?"hidden":void 0,overflow:"hidden",textOverflow:"ellipsis"}:void 0}))},getEditTriggerProps(){return t.button(y(g({},ra.editTrigger.attrs),{id:gh(o),dir:r("dir"),"aria-label":h==null?void 0:h.edit,hidden:v,type:"button",disabled:l,onClick(x){x.defaultPrevented||d&&n({type:"EDIT",src:"edit.click"})}}))},getControlProps(){return t.element(y(g({id:hP(o)},ra.control.attrs),{dir:r("dir")}))},getSubmitTriggerProps(){return t.button(y(g({},ra.submitTrigger.attrs),{dir:r("dir"),id:ph(o),"aria-label":h==null?void 0:h.submit,hidden:!v,disabled:l,type:"button",onClick(x){x.defaultPrevented||d&&n({type:"SUBMIT",src:"submit.click"})}}))},getCancelTriggerProps(){return t.button(y(g({},ra.cancelTrigger.attrs),{dir:r("dir"),"aria-label":h==null?void 0:h.cancel,id:hh(o),hidden:!v,type:"button",disabled:l,onClick(x){x.defaultPrevented||d&&n({type:"CANCEL",src:"cancel.click"})}}))}}}var dP,ra,uP,cP,pP,ch,El,hP,ph,hh,gh,co,gP,fP,mP,vP,yP,EP,GV,xP,uh,CP,TP,mh=te(()=>{"use strict";Qt();ae();dP=_("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control"),ra=dP.build(),uP=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`editable:${e.id}`},cP=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.area)!=null?a:`editable:${e.id}:area`},pP=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`editable:${e.id}:label`},ch=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.preview)!=null?a:`editable:${e.id}:preview`},El=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.input)!=null?a:`editable:${e.id}:input`},hP=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`editable:${e.id}:control`},ph=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.submitTrigger)!=null?a:`editable:${e.id}:submit`},hh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.cancelTrigger)!=null?a:`editable:${e.id}:cancel`},gh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.editTrigger)!=null?a:`editable:${e.id}:edit`},co=e=>e.getById(El(e)),gP=e=>e.getById(ch(e)),fP=e=>e.getById(ph(e)),mP=e=>e.getById(hh(e)),vP=e=>e.getById(gh(e));yP={props({props:e}){return y(g({activationMode:"focus",submitMode:"both",defaultValue:"",selectOnFocus:!0},e),{translations:g({input:"editable input",edit:"edit",submit:"submit",cancel:"cancel"},e.translations)})},initialState({prop:e}){return e("edit")||e("defaultEdit")?"edit":"preview"},entry:["focusInputIfNeeded"],context:({bindable:e,prop:t})=>({value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(a){var i;return(i=t("onValueChange"))==null?void 0:i({value:a})}})),previousValue:e(()=>({defaultValue:""}))}),watch({track:e,action:t,context:a,prop:i}){e([()=>a.get("value")],()=>{t(["syncInputValue"])}),e([()=>i("edit")],()=>{t(["toggleEditing"])})},computed:{submitOnEnter({prop:e}){let t=e("submitMode");return t==="both"||t==="enter"},submitOnBlur({prop:e}){let t=e("submitMode");return t==="both"||t==="blur"},isInteractive({prop:e}){return!(e("disabled")||e("readOnly"))}},on:{"VALUE.SET":{actions:["setValue"]}},states:{preview:{entry:["blurInput"],on:{"CONTROLLED.EDIT":{target:"edit",actions:["setPreviousValue","focusInput"]},EDIT:[{guard:"isEditControlled",actions:["invokeOnEdit"]},{target:"edit",actions:["setPreviousValue","focusInput","invokeOnEdit"]}]}},edit:{effects:["trackInteractOutside"],entry:["syncInputValue"],on:{"CONTROLLED.PREVIEW":[{guard:"isSubmitEvent",target:"preview",actions:["setPreviousValue","restoreFocus","invokeOnSubmit"]},{target:"preview",actions:["revertValue","restoreFocus","invokeOnCancel"]}],CANCEL:[{guard:"isEditControlled",actions:["invokeOnPreview"]},{target:"preview",actions:["revertValue","restoreFocus","invokeOnCancel","invokeOnPreview"]}],SUBMIT:[{guard:"isEditControlled",actions:["invokeOnPreview"]},{target:"preview",actions:["setPreviousValue","restoreFocus","invokeOnSubmit","invokeOnPreview"]}]}}},implementations:{guards:{isEditControlled:({prop:e})=>e("edit")!=null,isSubmitEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="SUBMIT"}},effects:{trackInteractOutside({send:e,scope:t,prop:a,computed:i}){return $r(co(t),{exclude(n){return[mP(t),fP(t)].some(r=>oe(r,n))},onFocusOutside:a("onFocusOutside"),onPointerDownOutside:a("onPointerDownOutside"),onInteractOutside(n){var o;if((o=a("onInteractOutside"))==null||o(n),n.defaultPrevented)return;let{focusable:r}=n.detail;e({type:i("submitOnBlur")?"SUBMIT":"CANCEL",src:"interact-outside",focusable:r})}})}},actions:{restoreFocus({event:e,scope:t,prop:a}){e.focusable||F(()=>{var i,n,r;(r=(n=(i=a("finalFocusEl"))==null?void 0:i())!=null?n:vP(t))==null||r.focus({preventScroll:!0})})},clearValue({context:e}){e.set("value","")},focusInputIfNeeded({action:e,prop:t}){(t("edit")||t("defaultEdit"))&&e(["focusInput"])},focusInput({scope:e,prop:t}){F(()=>{let a=co(e);a&&(t("selectOnFocus")?a.select():a.focus({preventScroll:!0}))})},invokeOnCancel({prop:e,context:t}){var i;let a=t.get("previousValue");(i=e("onValueRevert"))==null||i({value:a})},invokeOnSubmit({prop:e,context:t}){var i;let a=t.get("value");(i=e("onValueCommit"))==null||i({value:a})},invokeOnEdit({prop:e}){var t;(t=e("onEditChange"))==null||t({edit:!0})},invokeOnPreview({prop:e}){var t;(t=e("onEditChange"))==null||t({edit:!1})},toggleEditing({prop:e,send:t,event:a}){t({type:e("edit")?"CONTROLLED.EDIT":"CONTROLLED.PREVIEW",previousEvent:a})},syncInputValue({context:e,scope:t}){let a=co(t);a&&Ae(a,e.get("value"))},setValue({context:e,prop:t,event:a}){let i=t("maxLength"),n=i!=null?a.value.slice(0,i):a.value;e.set("value",n)},setPreviousValue({context:e}){e.set("previousValue",e.get("value"))},revertValue({context:e}){let t=e.get("previousValue");t&&e.set("value",t)},blurInput({scope:e}){var t;(t=co(e))==null||t.blur()}}}},EP=B()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]),GV=H(EP),xP=["root","area","label","input","preview","edit-trigger","submit-trigger","cancel-trigger"],uh='[data-scope="editable"][data-part]',CP=class extends z{initMachine(e){return new q(yP,e)}initApi(){return bP(this.machine.service,$)}render(){var e;for(let t of xP){let a=t==="root"?(e=this.el.querySelector(`${uh}[data-part="root"]`))!=null?e:this.el:this.el.querySelector(`${uh}[data-part="${t}"]`);if(!a)continue;let i=this.getPartProps(t);i&&this.spreadProps(a,i)}}getPartProps(e){switch(e){case"root":return this.api.getRootProps();case"area":return this.api.getAreaProps();case"label":return this.api.getLabelProps();case"input":return this.api.getInputProps();case"preview":return this.api.getPreviewProps();case"edit-trigger":return this.api.getEditTriggerProps();case"submit-trigger":return this.api.getSubmitTriggerProps();case"cancel-trigger":return this.api.getCancelTriggerProps();default:return null}}},TP={mounted(){let e=this.el,t=I(e,"value"),a=I(e,"defaultValue"),i=T(e,"controlled"),n=I(e,"placeholder"),r=I(e,"activationMode"),o=T(e,"selectOnFocus"),s=new CP(e,y(g(g(g(g(y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:a!=null?a:""}),{disabled:T(e,"disabled"),readOnly:T(e,"readOnly"),required:T(e,"required"),invalid:T(e,"invalid"),name:I(e,"name"),form:I(e,"form"),dir:Ce(e)}),n!==void 0?{placeholder:n}:{}),r!==void 0?{activationMode:r}:{}),o!==void 0?{selectOnFocus:o}:{}),T(e,"controlledEdit")?{edit:T(e,"edit")}:{defaultEdit:T(e,"defaultEdit")}),{onValueChange:l=>{let d=e.querySelector('[data-scope="editable"][data-part="input"]');d&&(d.value=l.value,d.dispatchEvent(new Event("input",{bubbles:!0})),d.dispatchEvent(new Event("change",{bubbles:!0})));let c=I(e,"onValueChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{value:l.value,id:e.id});let f=I(e,"onValueChangeClient");f&&e.dispatchEvent(new CustomEvent(f,{bubbles:!0,detail:{value:l,id:e.id}}))}}));s.init(),this.editable=s,this.handlers=[]},updated(){var a;let e=I(this.el,"value"),t=T(this.el,"controlled");(a=this.editable)==null||a.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{disabled:T(this.el,"disabled"),readOnly:T(this.el,"readOnly"),required:T(this.el,"required"),invalid:T(this.el,"invalid"),name:I(this.el,"name"),form:I(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.editable)==null||e.destroy()}}});var Oh={};de(Oh,{FloatingPanel:()=>DP});function IP(e){switch(e){case"n":return{cursor:"n-resize",width:"100%",top:0,left:"50%",translate:"-50%"};case"e":return{cursor:"e-resize",height:"100%",right:0,top:"50%",translate:"0 -50%"};case"s":return{cursor:"s-resize",width:"100%",bottom:0,left:"50%",translate:"-50%"};case"w":return{cursor:"w-resize",height:"100%",left:0,top:"50%",translate:"0 -50%"};case"se":return{cursor:"se-resize",bottom:0,right:0};case"sw":return{cursor:"sw-resize",bottom:0,left:0};case"ne":return{cursor:"ne-resize",top:0,right:0};case"nw":return{cursor:"nw-resize",top:0,left:0};default:throw new Error(`Invalid axis: ${e}`)}}function OP(e,t){let{state:a,send:i,scope:n,prop:r,computed:o,context:s}=e,l=a.hasTag("open"),d=a.matches("open.dragging"),c=a.matches("open.resizing"),f=s.get("isTopmost"),p=s.get("size"),u=s.get("position"),h=o("isMaximized"),v=o("isMinimized"),C=o("isStaged"),P=o("canResize"),w=o("canDrag");return{open:l,resizable:r("resizable"),draggable:r("draggable"),setOpen(b){a.hasTag("open")!==b&&i({type:b?"OPEN":"CLOSE"})},dragging:d,resizing:c,position:u,size:p,setPosition(b){i({type:"SET_POSITION",position:b})},setSize(b){i({type:"SET_SIZE",size:b})},minimize(){i({type:"MINIMIZE"})},maximize(){i({type:"MAXIMIZE"})},restore(){i({type:"RESTORE"})},getTriggerProps(){return t.button(y(g({},Tt.trigger.attrs),{dir:r("dir"),type:"button",disabled:r("disabled"),id:Ph(n),"data-state":l?"open":"closed","data-dragging":E(d),"aria-controls":xl(n),onClick(b){if(b.defaultPrevented||r("disabled"))return;let m=a.hasTag("open");i({type:m?"CLOSE":"OPEN",src:"trigger"})}}))},getPositionerProps(){return t.element(y(g({},Tt.positioner.attrs),{dir:r("dir"),id:Sh(n),style:{"--width":me(p==null?void 0:p.width),"--height":me(p==null?void 0:p.height),"--x":me(u==null?void 0:u.x),"--y":me(u==null?void 0:u.y),position:r("strategy"),top:"var(--y)",left:"var(--x)"}}))},getContentProps(){return t.element(y(g({},Tt.content.attrs),{dir:r("dir"),role:"dialog",tabIndex:0,hidden:!l,id:xl(n),"aria-labelledby":vh(n),"data-state":l?"open":"closed","data-dragging":E(d),"data-topmost":E(f),"data-behind":E(!f),"data-minimized":E(v),"data-maximized":E(h),"data-staged":E(C),style:{width:"var(--width)",height:"var(--height)",overflow:v?"hidden":void 0},onFocus(){i({type:"CONTENT_FOCUS"})},onKeyDown(b){if(b.defaultPrevented||b.currentTarget!==j(b))return;let m=ui(b)*r("gridSize"),S={Escape(){f&&i({type:"ESCAPE"})},ArrowLeft(){i({type:"MOVE",direction:"left",step:m})},ArrowRight(){i({type:"MOVE",direction:"right",step:m})},ArrowUp(){i({type:"MOVE",direction:"up",step:m})},ArrowDown(){i({type:"MOVE",direction:"down",step:m})}}[ue(b,{dir:r("dir")})];S&&(b.preventDefault(),S(b))}}))},getCloseTriggerProps(){return t.button(y(g({},Tt.closeTrigger.attrs),{dir:r("dir"),disabled:r("disabled"),"aria-label":"Close Window",type:"button",onClick(b){b.defaultPrevented||i({type:"CLOSE"})}}))},getStageTriggerProps(b){if(!xh.has(b.stage))throw new Error(`[zag-js] Invalid stage: ${b.stage}. Must be one of: ${Array.from(xh).join(", ")}`);let m=r("translations"),S=xe(b.stage,{minimized:()=>({"aria-label":m.minimize,hidden:C}),maximized:()=>({"aria-label":m.maximize,hidden:C}),default:()=>({"aria-label":m.restore,hidden:!C})});return t.button(y(g(y(g({},Tt.stageTrigger.attrs),{dir:r("dir"),disabled:r("disabled"),"data-stage":b.stage}),S),{type:"button",onClick(x){if(x.defaultPrevented||!r("resizable"))return;let O=xe(b.stage,{minimized:()=>"MINIMIZE",maximized:()=>"MAXIMIZE",default:()=>"RESTORE"});i({type:O.toUpperCase()})}}))},getResizeTriggerProps(b){return t.element(y(g({},Tt.resizeTrigger.attrs),{dir:r("dir"),"data-disabled":E(!P),"data-axis":b.axis,onPointerDown(m){P&&he(m)&&(m.currentTarget.setPointerCapture(m.pointerId),m.stopPropagation(),i({type:"RESIZE_START",axis:b.axis,position:{x:m.clientX,y:m.clientY}}))},onPointerUp(m){if(!P)return;let S=m.currentTarget;S.hasPointerCapture(m.pointerId)&&S.releasePointerCapture(m.pointerId)},style:g({position:"absolute",touchAction:"none"},IP(b.axis))}))},getDragTriggerProps(){return t.element(y(g({},Tt.dragTrigger.attrs),{dir:r("dir"),"data-disabled":E(!w),onPointerDown(b){if(!w||!he(b))return;let m=j(b);m!=null&&m.closest("button")||m!=null&&m.closest("[data-no-drag]")||(b.currentTarget.setPointerCapture(b.pointerId),b.stopPropagation(),i({type:"DRAG_START",pointerId:b.pointerId,position:{x:b.clientX,y:b.clientY}}))},onPointerUp(b){if(!w)return;let m=b.currentTarget;m.hasPointerCapture(b.pointerId)&&m.releasePointerCapture(b.pointerId)},onDoubleClick(b){b.defaultPrevented||r("resizable")&&i({type:C?"RESTORE":"MAXIMIZE"})},style:{WebkitUserSelect:"none",userSelect:"none",touchAction:"none",cursor:"move"}}))},getControlProps(){return t.element(y(g({},Tt.control.attrs),{dir:r("dir"),"data-disabled":E(r("disabled")),"data-stage":s.get("stage"),"data-minimized":E(v),"data-maximized":E(h),"data-staged":E(C)}))},getTitleProps(){return t.element(y(g({},Tt.title.attrs),{dir:r("dir"),id:vh(n)}))},getHeaderProps(){return t.element(y(g({},Tt.header.attrs),{dir:r("dir"),id:Ih(n),"data-dragging":E(d),"data-topmost":E(f),"data-behind":E(!f),"data-minimized":E(v),"data-maximized":E(h),"data-staged":E(C)}))},getBodyProps(){return t.element(y(g({},Tt.body.attrs),{dir:r("dir"),"data-dragging":E(d),"data-minimized":E(v),"data-maximized":E(h),"data-staged":E(C),hidden:v}))}}}function po(e){if(e)try{let t=JSON.parse(e);if(typeof t.width=="number"&&typeof t.height=="number")return{width:t.width,height:t.height}}catch(t){}}function Th(e){if(e)try{let t=JSON.parse(e);if(typeof t.x=="number"&&typeof t.y=="number")return{x:t.x,y:t.y}}catch(t){}}var PP,Tt,Ph,Sh,xl,vh,Ih,bh,yh,Eh,SP,Pa,xh,wn,Ch,wP,VP,kP,NP,zV,RP,WV,AP,DP,wh=te(()=>{"use strict";xr();ae();PP=_("floating-panel").parts("trigger","positioner","content","header","body","title","resizeTrigger","dragTrigger","stageTrigger","closeTrigger","control"),Tt=PP.build(),Ph=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`float:${e.id}:trigger`},Sh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.positioner)!=null?a:`float:${e.id}:positioner`},xl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`float:${e.id}:content`},vh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.title)!=null?a:`float:${e.id}:title`},Ih=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.header)!=null?a:`float:${e.id}:header`},bh=e=>e.getById(Ph(e)),yh=e=>e.getById(Sh(e)),Eh=e=>e.getById(xl(e)),SP=e=>e.getById(Ih(e)),Pa=(e,t,a)=>{let i;return re(t)?i=cs(t):i=xu(e.getWin()),a&&(i=ma({x:-i.width,y:i.minY,width:i.width*3,height:i.height*2})),pa(i,["x","y","width","height"])};xh=new Set(["minimized","maximized","default"]);wn=mr({stack:[],count(){return this.stack.length},add(e){this.stack.includes(e)||this.stack.push(e)},remove(e){let t=this.stack.indexOf(e);t<0||this.stack.splice(t,1)},bringToFront(e){this.remove(e),this.add(e)},isTopmost(e){return this.stack[this.stack.length-1]===e},indexOf(e){return this.stack.indexOf(e)}}),{not:Ch,and:wP}=be(),VP={minimize:"Minimize window",maximize:"Maximize window",restore:"Restore window"},kP={props({props:e}){return fa(e,["id"],"floating-panel"),y(g({strategy:"fixed",gridSize:1,defaultSize:{width:320,height:240},defaultPosition:{x:300,y:100},allowOverflow:!0,resizable:!0,draggable:!0},e),{hasSpecifiedPosition:!!e.defaultPosition||!!e.position,translations:g(g({},VP),e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({prop:e,bindable:t}){return{size:t(()=>({defaultValue:e("defaultSize"),value:e("size"),isEqual:yu,sync:!0,hash(a){return`W:${a.width} H:${a.height}`},onChange(a){var i;(i=e("onSizeChange"))==null||i({size:a})}})),position:t(()=>({defaultValue:e("defaultPosition"),value:e("position"),isEqual:Eu,sync:!0,hash(a){return`X:${a.x} Y:${a.y}`},onChange(a){var i;(i=e("onPositionChange"))==null||i({position:a})}})),stage:t(()=>({defaultValue:"default",onChange(a){var i;(i=e("onStageChange"))==null||i({stage:a})}})),lastEventPosition:t(()=>({defaultValue:null})),prevPosition:t(()=>({defaultValue:null})),prevSize:t(()=>({defaultValue:null})),isTopmost:t(()=>({defaultValue:void 0}))}},computed:{isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isStaged:({context:e})=>e.get("stage")!=="default",canResize:({context:e,prop:t})=>t("resizable")&&!t("disabled")&&e.get("stage")==="default",canDrag:({prop:e,computed:t})=>e("draggable")&&!e("disabled")&&!t("isMaximized")},watch({track:e,context:t,action:a,prop:i}){e([()=>t.hash("position")],()=>{a(["setPositionStyle"])}),e([()=>t.hash("size")],()=>{a(["setSizeStyle"])}),e([()=>i("open")],()=>{a(["toggleVisibility"])})},effects:["trackPanelStack"],on:{CONTENT_FOCUS:{actions:["bringToFrontOfPanelStack"]},SET_POSITION:{actions:["setPosition"]},SET_SIZE:{actions:["setSize"]}},states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]}]}},open:{tags:["open"],entry:["bringToFrontOfPanelStack"],effects:["trackBoundaryRect"],on:{DRAG_START:{guard:Ch("isMaximized"),target:"open.dragging",actions:["setPrevPosition"]},RESIZE_START:{guard:Ch("isMinimized"),target:"open.resizing",actions:["setPrevSize"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect","focusTriggerEl"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],ESCAPE:[{guard:wP("isOpenControlled","closeOnEsc"),actions:["invokeOnClose"]},{guard:"closeOnEsc",target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],MINIMIZE:{actions:["setMinimized"]},MAXIMIZE:{actions:["setMaximized"]},RESTORE:{actions:["setRestored"]},MOVE:{actions:["setPositionFromKeyboard"]}}},"open.dragging":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevPosition"],on:{DRAG:{actions:["setPosition"]},DRAG_END:{target:"open",actions:["invokeOnDragEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}},"open.resizing":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevSize"],on:{DRAG:{actions:["setSize"]},DRAG_END:{target:"open",actions:["invokeOnResizeEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}}},implementations:{guards:{closeOnEsc:({prop:e})=>!!e("closeOnEscape"),isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPointerMove({scope:e,send:t,event:a,prop:i}){var s;let n=e.getDoc(),r=(s=i("getBoundaryEl"))==null?void 0:s(),o=Pa(e,r,!1);return da(n,{onPointerMove({point:l,event:d}){let{altKey:c,shiftKey:f}=d,p=He(l.x,o.x,o.x+o.width),u=He(l.y,o.y,o.y+o.height);t({type:"DRAG",position:{x:p,y:u},axis:a.axis,altKey:c,shiftKey:f})},onPointerUp(){t({type:"DRAG_END"})}})},trackBoundaryRect({context:e,scope:t,prop:a,computed:i}){var l;let n=t.getWin(),r=!0,o=()=>{var f;if(r){r=!1;return}let d=(f=a("getBoundaryEl"))==null?void 0:f(),c=Pa(t,d,!1);if(!i("isMaximized")){let p=g(g({},e.get("position")),e.get("size"));c=bu(p,c)}e.set("size",pa(c,["width","height"])),e.set("position",pa(c,["x","y"]))},s=(l=a("getBoundaryEl"))==null?void 0:l();return re(s)?ua.observe(s,o):Z(n,"resize",o)},trackPanelStack({context:e,scope:t}){let a=er(wn,()=>{e.set("isTopmost",wn.isTopmost(t.id));let i=Eh(t);if(!i)return;let n=wn.indexOf(t.id);n!==-1&&i.style.setProperty("--z-index",`${n+1}`)});return()=>{wn.remove(t.id),a()}}},actions:{setAnchorPosition({context:e,prop:t,scope:a}){if(t("hasSpecifiedPosition"))return;let i=e.get("prevPosition")||e.get("prevSize");t("persistRect")&&i||F(()=>{var s,l;let n=bh(a),r=Pa(a,(s=t("getBoundaryEl"))==null?void 0:s(),!1),o=(l=t("getAnchorPosition"))==null?void 0:l({triggerRect:n?DOMRect.fromRect(cs(n)):null,boundaryRect:DOMRect.fromRect(r)});if(!o){let d=e.get("size");o={x:r.x+(r.width-d.width)/2,y:r.y+(r.height-d.height)/2}}o&&e.set("position",o)})},setPrevPosition({context:e,event:t}){e.set("prevPosition",g({},e.get("position"))),e.set("lastEventPosition",t.position)},clearPrevPosition({context:e,prop:t}){t("persistRect")||e.set("prevPosition",null),e.set("lastEventPosition",null)},setPosition({context:e,event:t,prop:a,scope:i}){var d;let n=us(t.position,e.get("lastEventPosition"));n.x=Math.round(n.x/a("gridSize"))*a("gridSize"),n.y=Math.round(n.y/a("gridSize"))*a("gridSize");let r=e.get("prevPosition");if(!r)return;let o=vu(r,n),s=(d=a("getBoundaryEl"))==null?void 0:d(),l=Pa(i,s,a("allowOverflow"));o=dn(o,e.get("size"),l),e.set("position",o)},setPositionStyle({scope:e,context:t}){let a=yh(e),i=t.get("position");a==null||a.style.setProperty("--x",`${i.x}px`),a==null||a.style.setProperty("--y",`${i.y}px`)},resetRect({context:e,prop:t}){e.set("stage","default"),t("persistRect")||(e.set("position",e.initial("position")),e.set("size",e.initial("size")))},setPrevSize({context:e,event:t}){e.set("prevSize",g({},e.get("size"))),e.set("prevPosition",g({},e.get("position"))),e.set("lastEventPosition",t.position)},clearPrevSize({context:e}){e.set("prevSize",null),e.set("prevPosition",null),e.set("lastEventPosition",null)},setSize({context:e,event:t,scope:a,prop:i}){var h;let n=e.get("prevSize"),r=e.get("prevPosition"),o=e.get("lastEventPosition");if(!n||!r||!o)return;let s=ma(g(g({},r),n)),l=us(t.position,o),d=Tu(s,l,t.axis,{scalingOriginMode:t.altKey?"center":"extent",lockAspectRatio:!!i("lockAspectRatio")||t.shiftKey}),c=pa(d,["width","height"]),f=pa(d,["x","y"]),p=(h=i("getBoundaryEl"))==null?void 0:h(),u=Pa(a,p,!1);if(c=un(c,i("minSize"),i("maxSize")),c=un(c,i("minSize"),u),e.set("size",c),f){let v=dn(f,c,u);e.set("position",v)}},setSizeStyle({scope:e,context:t}){queueMicrotask(()=>{let a=yh(e),i=t.get("size");a==null||a.style.setProperty("--width",`${i.width}px`),a==null||a.style.setProperty("--height",`${i.height}px`)})},setMaximized({context:e,prop:t,scope:a}){var r;e.set("stage","maximized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));let i=(r=t("getBoundaryEl"))==null?void 0:r(),n=Pa(a,i,!1);e.set("position",pa(n,["x","y"])),e.set("size",pa(n,["height","width"]))},setMinimized({context:e,scope:t}){e.set("stage","minimized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));let a=SP(t);if(!a)return;let i=y(g({},e.get("size")),{height:a==null?void 0:a.offsetHeight});e.set("size",i)},setRestored({context:e,prop:t,scope:a}){var r;let i=Pa(a,(r=t("getBoundaryEl"))==null?void 0:r(),!1);e.set("stage","default");let n=e.get("prevSize");if(n){let o=n;o=un(o,t("minSize"),t("maxSize")),o=un(o,t("minSize"),i),e.set("size",o),e.set("prevSize",null)}if(e.get("prevPosition")){let o=e.get("prevPosition");o=dn(o,e.get("size"),i),e.set("position",o),e.set("prevPosition",null)}},setPositionFromKeyboard({context:e,event:t,prop:a,scope:i}){var d;fr(t.step==null,"step is required");let n=e.get("position"),r=t.step,o=xe(t.direction,{left:{x:n.x-r,y:n.y},right:{x:n.x+r,y:n.y},up:{x:n.x,y:n.y-r},down:{x:n.x,y:n.y+r}}),s=(d=a("getBoundaryEl"))==null?void 0:d(),l=Pa(i,s,!1);o=dn(o,e.get("size"),l),e.set("position",o)},bringToFrontOfPanelStack({prop:e}){wn.bringToFront(e("id"))},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnDragEnd({context:e,prop:t}){var a;(a=t("onPositionChangeEnd"))==null||a({position:e.get("position")})},invokeOnResizeEnd({context:e,prop:t}){var a;(a=t("onSizeChangeEnd"))==null||a({size:e.get("size")})},focusTriggerEl({scope:e}){F(()=>{var t;(t=bh(e))==null||t.focus()})},focusContentEl({scope:e}){F(()=>{var t;(t=Eh(e))==null||t.focus()})},toggleVisibility({send:e,prop:t,event:a}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:a})}}}},NP=B()(["allowOverflow","closeOnEscape","defaultOpen","defaultPosition","defaultSize","dir","disabled","draggable","getAnchorPosition","getBoundaryEl","getRootNode","gridSize","id","ids","lockAspectRatio","maxSize","minSize","onOpenChange","onPositionChange","onPositionChangeEnd","onSizeChange","onSizeChangeEnd","onStageChange","open","persistRect","position","resizable","size","strategy","translations"]),zV=H(NP),RP=B()(["axis"]),WV=H(RP),AP=class extends z{initMachine(e){return new q(kP,e)}initApi(){return OP(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="floating-panel"][data-part="trigger"]');e&&this.spreadProps(e,this.api.getTriggerProps());let t=this.el.querySelector('[data-scope="floating-panel"][data-part="positioner"]');t&&this.spreadProps(t,this.api.getPositionerProps());let a=this.el.querySelector('[data-scope="floating-panel"][data-part="content"]');a&&this.spreadProps(a,this.api.getContentProps());let i=this.el.querySelector('[data-scope="floating-panel"][data-part="title"]');i&&this.spreadProps(i,this.api.getTitleProps());let n=this.el.querySelector('[data-scope="floating-panel"][data-part="header"]');n&&this.spreadProps(n,this.api.getHeaderProps());let r=this.el.querySelector('[data-scope="floating-panel"][data-part="body"]');r&&this.spreadProps(r,this.api.getBodyProps());let o=this.el.querySelector('[data-scope="floating-panel"][data-part="drag-trigger"]');o&&this.spreadProps(o,this.api.getDragTriggerProps()),["s","w","e","n","sw","nw","se","ne"].forEach(d=>{let c=this.el.querySelector(`[data-scope="floating-panel"][data-part="resize-trigger"][data-axis="${d}"]`);c&&this.spreadProps(c,this.api.getResizeTriggerProps({axis:d}))});let s=this.el.querySelector('[data-scope="floating-panel"][data-part="close-trigger"]');s&&this.spreadProps(s,this.api.getCloseTriggerProps());let l=this.el.querySelector('[data-scope="floating-panel"][data-part="control"]');l&&this.spreadProps(l,this.api.getControlProps()),["minimized","maximized","default"].forEach(d=>{let c=this.el.querySelector(`[data-scope="floating-panel"][data-part="stage-trigger"][data-stage="${d}"]`);c&&this.spreadProps(c,this.api.getStageTriggerProps({stage:d}))})}};DP={mounted(){let e=this.el,t=T(e,"open"),a=T(e,"defaultOpen"),i=T(e,"controlled"),n=po(e.dataset.size),r=po(e.dataset.defaultSize),o=Th(e.dataset.position),s=Th(e.dataset.defaultPosition),l=new AP(e,y(g({id:e.id},i?{open:t}:{defaultOpen:a}),{draggable:T(e,"draggable")!==!1,resizable:T(e,"resizable")!==!1,allowOverflow:T(e,"allowOverflow")!==!1,closeOnEscape:T(e,"closeOnEscape")!==!1,disabled:T(e,"disabled"),dir:Ce(e),size:n,defaultSize:r,position:o,defaultPosition:s,minSize:po(e.dataset.minSize),maxSize:po(e.dataset.maxSize),persistRect:T(e,"persistRect"),gridSize:Number(e.dataset.gridSize)||1,onOpenChange:d=>{let c=I(e,"onOpenChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{open:d.open,id:e.id});let f=I(e,"onOpenChangeClient");f&&e.dispatchEvent(new CustomEvent(f,{bubbles:!0,detail:{value:d,id:e.id}}))},onPositionChange:d=>{let c=I(e,"onPositionChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{position:d.position,id:e.id})},onSizeChange:d=>{let c=I(e,"onSizeChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{size:d.size,id:e.id})},onStageChange:d=>{let c=I(e,"onStageChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{stage:d.stage,id:e.id})}}));l.init(),this.floatingPanel=l,this.handlers=[]},updated(){var a;let e=T(this.el,"open"),t=T(this.el,"controlled");(a=this.floatingPanel)==null||a.updateProps(y(g({id:this.el.id},t?{open:e}:{}),{disabled:T(this.el,"disabled"),dir:Ce(this.el)}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.floatingPanel)==null||e.destroy()}}});var Ah={};de(Ah,{Listbox:()=>XP});function BP(e,t){let{context:a,prop:i,scope:n,computed:r,send:o,refs:s}=e,l=i("disabled"),d=i("collection"),c=Ea(d)?"grid":"list",f=a.get("focused"),p=s.get("focusVisible")&&f,u=s.get("inputState"),h=a.get("value"),v=a.get("selectedItems"),C=a.get("highlightedValue"),P=a.get("highlightedItem"),w=r("isTypingAhead"),b=r("isInteractive"),m=C?Tl(n,C):void 0;function S(x){let O=d.getItemDisabled(x.item),V=d.getItemValue(x.item);ga(V,()=>`[zag-js] No value found for item ${JSON.stringify(x.item)}`);let k=C===V;return{value:V,disabled:!!(l||O),focused:k&&f,focusVisible:k&&p,highlighted:k&&(u.focused?f:p),selected:a.get("value").includes(V)}}return{empty:h.length===0,highlightedItem:P,highlightedValue:C,clearHighlightedValue(){o({type:"HIGHLIGHTED_VALUE.SET",value:null})},selectedItems:v,hasSelectedItems:r("hasSelectedItems"),value:h,valueAsString:r("valueAsString"),collection:d,disabled:!!l,selectValue(x){o({type:"ITEM.SELECT",value:x})},setValue(x){o({type:"VALUE.SET",value:x})},selectAll(){if(!r("multiple"))throw new Error("[zag-js] Cannot select all items in a single-select listbox");o({type:"VALUE.SET",value:d.getValues()})},highlightValue(x){o({type:"HIGHLIGHTED_VALUE.SET",value:x})},clearValue(x){o(x?{type:"ITEM.CLEAR",value:x}:{type:"VALUE.CLEAR"})},getItemState:S,getRootProps(){return t.element(y(g({},Ft.root.attrs),{dir:i("dir"),id:FP(n),"data-orientation":i("orientation"),"data-disabled":E(l)}))},getInputProps(x={}){return t.input(y(g({},Ft.input.attrs),{dir:i("dir"),disabled:l,"data-disabled":E(l),autoComplete:"off",autoCorrect:"off","aria-haspopup":"listbox","aria-controls":Cl(n),"aria-autocomplete":"list","aria-activedescendant":m,spellCheck:!1,enterKeyHint:"go",onFocus(){queueMicrotask(()=>{o({type:"INPUT.FOCUS",autoHighlight:!!(x!=null&&x.autoHighlight)})})},onBlur(){o({type:"CONTENT.BLUR",src:"input"})},onInput(O){x!=null&&x.autoHighlight&&(O.currentTarget.value.trim()||queueMicrotask(()=>{o({type:"HIGHLIGHTED_VALUE.SET",value:null})}))},onKeyDown(O){if(O.defaultPrevented||ke(O))return;let V=Wt(O),k=()=>{var U;O.preventDefault();let D=n.getWin(),N=new D.KeyboardEvent(V.type,V);(U=ho(n))==null||U.dispatchEvent(N)};switch(V.key){case"ArrowLeft":case"ArrowRight":{if(!Ea(d)||O.ctrlKey)return;k()}case"Home":case"End":{if(C==null&&O.shiftKey)return;k()}case"ArrowDown":case"ArrowUp":{k();break}case"Enter":C!=null&&(O.preventDefault(),o({type:"ITEM.CLICK",value:C}));break}}}))},getLabelProps(){return t.element(y(g({dir:i("dir"),id:Vh(n)},Ft.label.attrs),{"data-disabled":E(l)}))},getValueTextProps(){return t.element(y(g({},Ft.valueText.attrs),{dir:i("dir"),"data-disabled":E(l)}))},getItemProps(x){let O=S(x);return t.element(y(g({id:Tl(n,O.value),role:"option"},Ft.item.attrs),{dir:i("dir"),"data-value":O.value,"aria-selected":O.selected,"data-selected":E(O.selected),"data-layout":c,"data-state":O.selected?"checked":"unchecked","data-orientation":i("orientation"),"data-highlighted":E(O.highlighted),"data-disabled":E(O.disabled),"aria-disabled":Y(O.disabled),onPointerMove(V){x.highlightOnHover&&(O.disabled||V.pointerType!=="mouse"||O.highlighted||o({type:"ITEM.POINTER_MOVE",value:O.value}))},onMouseDown(V){var k;V.preventDefault(),(k=ho(n))==null||k.focus()},onClick(V){V.defaultPrevented||O.disabled||o({type:"ITEM.CLICK",value:O.value,shiftKey:V.shiftKey,anchorValue:C,metaKey:or(V)})}}))},getItemTextProps(x){let O=S(x);return t.element(y(g({},Ft.itemText.attrs),{"data-state":O.selected?"checked":"unchecked","data-disabled":E(O.disabled),"data-highlighted":E(O.highlighted)}))},getItemIndicatorProps(x){let O=S(x);return t.element(y(g({},Ft.itemIndicator.attrs),{"aria-hidden":!0,"data-state":O.selected?"checked":"unchecked",hidden:!O.selected}))},getItemGroupLabelProps(x){let{htmlFor:O}=x;return t.element(y(g({},Ft.itemGroupLabel.attrs),{id:kh(n,O),dir:i("dir"),role:"presentation"}))},getItemGroupProps(x){let{id:O}=x;return t.element(y(g({},Ft.itemGroup.attrs),{"data-disabled":E(l),"data-orientation":i("orientation"),"data-empty":E(d.size===0),id:HP(n,O),"aria-labelledby":kh(n,O),role:"group",dir:i("dir")}))},getContentProps(){return t.element(y(g({dir:i("dir"),id:Cl(n),role:"listbox"},Ft.content.attrs),{"data-activedescendant":m,"aria-activedescendant":m,"data-orientation":i("orientation"),"aria-multiselectable":r("multiple")?!0:void 0,"aria-labelledby":Vh(n),tabIndex:0,"data-layout":c,"data-empty":E(d.size===0),style:{"--column-count":Ea(d)?d.columnCount:1},onFocus(){o({type:"CONTENT.FOCUS"})},onBlur(){o({type:"CONTENT.BLUR"})},onKeyDown(x){if(!b||!oe(x.currentTarget,j(x)))return;let O=x.shiftKey,V={ArrowUp(N){let U=null;Ea(d)&&C?U=d.getPreviousRowValue(C):C&&(U=d.getPreviousValue(C)),!U&&(i("loopFocus")||!C)&&(U=d.lastValue),U&&(N.preventDefault(),o({type:"NAVIGATE",value:U,shiftKey:O,anchorValue:C}))},ArrowDown(N){let U=null;Ea(d)&&C?U=d.getNextRowValue(C):C&&(U=d.getNextValue(C)),!U&&(i("loopFocus")||!C)&&(U=d.firstValue),U&&(N.preventDefault(),o({type:"NAVIGATE",value:U,shiftKey:O,anchorValue:C}))},ArrowLeft(){if(!Ea(d)&&i("orientation")==="vertical")return;let N=C?d.getPreviousValue(C):null;!N&&i("loopFocus")&&(N=d.lastValue),N&&(x.preventDefault(),o({type:"NAVIGATE",value:N,shiftKey:O,anchorValue:C}))},ArrowRight(){if(!Ea(d)&&i("orientation")==="vertical")return;let N=C?d.getNextValue(C):null;!N&&i("loopFocus")&&(N=d.firstValue),N&&(x.preventDefault(),o({type:"NAVIGATE",value:N,shiftKey:O,anchorValue:C}))},Home(N){N.preventDefault();let U=d.firstValue;o({type:"NAVIGATE",value:U,shiftKey:O,anchorValue:C})},End(N){N.preventDefault();let U=d.lastValue;o({type:"NAVIGATE",value:U,shiftKey:O,anchorValue:C})},Enter(){o({type:"ITEM.CLICK",value:C})},a(N){or(N)&&r("multiple")&&!i("disallowSelectAll")&&(N.preventDefault(),o({type:"VALUE.SET",value:d.getValues()}))},Space(N){var U;w&&i("typeahead")?o({type:"CONTENT.TYPEAHEAD",key:N.key}):(U=V.Enter)==null||U.call(V,N)},Escape(N){i("deselectable")&&h.length>0&&(N.preventDefault(),N.stopPropagation(),o({type:"VALUE.CLEAR"}))}},k=V[ue(x)];if(k){k(x);return}let D=j(x);Pt(D)||_e.isValidEvent(x)&&i("typeahead")&&(o({type:"CONTENT.TYPEAHEAD",key:x.key}),x.preventDefault())}}))}}}function Vn(e,t,a){let i=qP(t,e);for(let n of i)a==null||a({value:n})}function Rh(e,t){return Fi(t?{items:e,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled,groupBy:a=>{var i;return(i=a.group)!=null?i:""}}:{items:e,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled})}var LP,Ft,Fi,MP,FP,Cl,Vh,Tl,HP,kh,ho,Nh,GP,UP,_P,$P,qP,zP,JV,WP,QV,KP,ek,jP,tk,YP,XP,Dh=te(()=>{"use strict";cn();fn();ae();LP=_("listbox").parts("label","input","item","itemText","itemIndicator","itemGroup","itemGroupLabel","content","root","valueText"),Ft=LP.build(),Fi=e=>new kt(e);Fi.empty=()=>new kt({items:[]});MP=e=>new Ss(e);MP.empty=()=>new Ss({items:[],columnCount:0});FP=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`select:${e.id}`},Cl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`select:${e.id}:content`},Vh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`select:${e.id}:label`},Tl=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`select:${e.id}:option:${t}`},HP=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemGroup)==null?void 0:i.call(a,t))!=null?n:`select:${e.id}:optgroup:${t}`},kh=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemGroupLabel)==null?void 0:i.call(a,t))!=null?n:`select:${e.id}:optgroup-label:${t}`},ho=e=>e.getById(Cl(e)),Nh=(e,t)=>e.getById(Tl(e,t));({guards:GP,createMachine:UP}=dt()),{or:_P}=GP,$P=UP({props({props:e}){return g({loopFocus:!1,composite:!0,defaultValue:[],multiple:!1,typeahead:!0,collection:Fi.empty(),orientation:"vertical",selectionMode:"single"},e)},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:ge,onChange(a){var n;let i=e("collection").findMany(a);return(n=e("onValueChange"))==null?void 0:n({value:a,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),sync:!0,onChange(a){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:a,highlightedItem:e("collection").find(a),highlightedIndex:e("collection").indexOf(a)})}})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var i,n;let a=(n=(i=e("value"))!=null?i:e("defaultValue"))!=null?n:[];return{defaultValue:e("collection").findMany(a)}}),focused:t(()=>({sync:!0,defaultValue:!1}))}},refs(){return{typeahead:g({},_e.defaultOptions),focusVisible:!1,inputState:{autoHighlight:!1,focused:!1}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isInteractive:({prop:e})=>!e("disabled"),selection:({context:e,prop:t})=>{let a=new oc(e.get("value"));return a.selectionMode=t("selectionMode"),a.deselectable=!!t("deselectable"),a},multiple:({prop:e})=>e("selectionMode")==="multiple"||e("selectionMode")==="extended",valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState(){return"idle"},watch({context:e,prop:t,track:a,action:i}){a([()=>e.get("value").toString()],()=>{i(["syncSelectedItems"])}),a([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),a([()=>t("collection").toString()],()=>{i(["syncHighlightedValue"])})},effects:["trackFocusVisible"],on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]}},states:{idle:{effects:["scrollToHighlightedItem"],on:{"INPUT.FOCUS":{actions:["setFocused","setInputState"]},"CONTENT.FOCUS":[{guard:_P("hasSelectedValue","hasHighlightedValue"),actions:["setFocused"]},{actions:["setFocused","setDefaultHighlightedValue"]}],"CONTENT.BLUR":{actions:["clearFocused","clearInputState"]},"ITEM.CLICK":{actions:["setHighlightedItem","selectHighlightedItem"]},"CONTENT.TYPEAHEAD":{actions:["setFocused","highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},NAVIGATE:{actions:["setFocused","setHighlightedItem","selectWithKeyboard"]}}}},implementations:{guards:{hasSelectedValue:({context:e})=>e.get("value").length>0,hasHighlightedValue:({context:e})=>e.get("highlightedValue")!=null},effects:{trackFocusVisible:({scope:e,refs:t})=>{var a;return ya({root:(a=e.getRootNode)==null?void 0:a.call(e),onChange(i){t.set("focusVisible",i.isFocusVisible)}})},scrollToHighlightedItem({context:e,prop:t,scope:a}){let i=n=>{let r=e.get("highlightedValue");if(r==null||Ku()!=="keyboard")return;let o=ho(a),s=t("scrollToIndexFn");if(s){let d=t("collection").indexOf(r);s==null||s({index:d,immediate:n,getElement(){return Nh(a,r)}});return}let l=Nh(a,r);jt(l,{rootEl:o,block:"nearest"})};return F(()=>i(!0)),ot(()=>ho(a),{defer:!0,attributes:["data-activedescendant"],callback(){i(!1)}})}},actions:{selectHighlightedItem({context:e,prop:t,event:a,computed:i}){var s;let n=(s=a.value)!=null?s:e.get("highlightedValue"),r=t("collection");if(n==null||!r.has(n))return;let o=i("selection");if(a.shiftKey&&i("multiple")&&a.anchorValue){let l=o.extendSelection(r,a.anchorValue,n);Vn(o,l,t("onSelect")),e.set("value",Array.from(l))}else{let l=o.select(r,n,a.metaKey);Vn(o,l,t("onSelect")),e.set("value",Array.from(l))}},selectWithKeyboard({context:e,prop:t,event:a,computed:i}){let n=i("selection"),r=t("collection");if(a.shiftKey&&i("multiple")&&a.anchorValue){let o=n.extendSelection(r,a.anchorValue,a.value);Vn(n,o,t("onSelect")),e.set("value",Array.from(o));return}if(t("selectOnHighlight")){let o=n.replaceSelection(r,a.value);Vn(n,o,t("onSelect")),e.set("value",Array.from(o))}},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:a,refs:i}){let n=t("collection").search(a.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});n!=null&&e.set("highlightedValue",n)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:a,computed:i}){let n=t("collection"),r=i("selection"),o=r.select(n,a.value);Vn(r,o,t("onSelect")),e.set("value",Array.from(o))},clearItem({context:e,event:t,computed:a}){let i=a("selection").deselect(t.value);e.set("value",Array.from(i))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},syncSelectedItems({context:e,prop:t}){let a=t("collection"),i=e.get("selectedItems"),n=e.get("value").map(r=>i.find(o=>a.getItemValue(o)===r)||a.find(r));e.set("selectedItems",n)},syncHighlightedItem({context:e,prop:t}){let a=t("collection"),i=e.get("highlightedValue"),n=i?a.find(i):null;e.set("highlightedItem",n)},syncHighlightedValue({context:e,prop:t,refs:a}){let i=t("collection"),n=e.get("highlightedValue"),{autoHighlight:r}=a.get("inputState");if(r){queueMicrotask(()=>{var o;e.set("highlightedValue",(o=t("collection").firstValue)!=null?o:null)});return}n!=null&&!i.has(n)&&queueMicrotask(()=>{e.set("highlightedValue",null)})},setFocused({context:e}){e.set("focused",!0)},setDefaultHighlightedValue({context:e,prop:t}){let a=t("collection").firstValue;a!=null&&e.set("highlightedValue",a)},clearFocused({context:e}){e.set("focused",!1)},setInputState({refs:e,event:t}){e.set("inputState",{autoHighlight:!!t.autoHighlight,focused:!0})},clearInputState({refs:e}){e.set("inputState",{autoHighlight:!1,focused:!1})}}}}),qP=(e,t)=>{let a=new Set(e);for(let i of t)a.delete(i);return a};zP=B()(["collection","defaultHighlightedValue","defaultValue","dir","disabled","deselectable","disallowSelectAll","getRootNode","highlightedValue","id","ids","loopFocus","onHighlightChange","onSelect","onValueChange","orientation","scrollToIndexFn","selectionMode","selectOnHighlight","typeahead","value"]),JV=H(zP),WP=B()(["item","highlightOnHover"]),QV=H(WP),KP=B()(["id"]),ek=H(KP),jP=B()(["htmlFor"]),tk=H(jP),YP=class extends z{constructor(t,a){var n;super(t,a);K(this,"_options",[]);K(this,"hasGroups",!1);K(this,"init",()=>{this.machine.start(),this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()})});let i=a.collection;this._options=(n=i==null?void 0:i.items)!=null?n:[]}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?Fi({items:t,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled,groupBy:a=>{var i;return(i=a.group)!=null?i:""}}):Fi({items:t,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled})}initMachine(t){let a=this.getCollection.bind(this),i=t.collection;return new q($P,y(g({},t),{get collection(){return i!=null?i:a()}}))}initApi(){return BP(this.machine.service,$)}applyItemProps(){let t=this.el.querySelector('[data-scope="listbox"][data-part="content"]');t&&(t.querySelectorAll('[data-scope="listbox"][data-part="item-group"]').forEach(a=>{var r;let i=(r=a.dataset.id)!=null?r:"";this.spreadProps(a,this.api.getItemGroupProps({id:i}));let n=a.querySelector('[data-scope="listbox"][data-part="item-group-label"]');n&&this.spreadProps(n,this.api.getItemGroupLabelProps({htmlFor:i}))}),t.querySelectorAll('[data-scope="listbox"][data-part="item"]').forEach(a=>{var s;let i=(s=a.dataset.value)!=null?s:"",n=this.options.find(l=>{var d,c;return String((c=(d=l.id)!=null?d:l.value)!=null?c:"")===String(i)});if(!n)return;this.spreadProps(a,this.api.getItemProps({item:n}));let r=a.querySelector('[data-scope="listbox"][data-part="item-text"]');r&&this.spreadProps(r,this.api.getItemTextProps({item:n}));let o=a.querySelector('[data-scope="listbox"][data-part="item-indicator"]');o&&this.spreadProps(o,this.api.getItemIndicatorProps({item:n}))}))}render(){var o;let t=(o=this.el.querySelector('[data-scope="listbox"][data-part="root"]'))!=null?o:this.el;this.spreadProps(t,this.api.getRootProps());let a=this.el.querySelector('[data-scope="listbox"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="listbox"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let n=this.el.querySelector('[data-scope="listbox"][data-part="input"]');n&&this.spreadProps(n,this.api.getInputProps());let r=this.el.querySelector('[data-scope="listbox"][data-part="content"]');r&&(this.spreadProps(r,this.api.getContentProps()),this.applyItemProps())}};XP={mounted(){var s;let e=this.el,t=JSON.parse((s=e.dataset.collection)!=null?s:"[]"),a=t.some(l=>l.group!==void 0),i=X(e,"value"),n=X(e,"defaultValue"),r=T(e,"controlled"),o=new YP(e,y(g({id:e.id,collection:Rh(t,a)},r&&i?{value:i}:{defaultValue:n!=null?n:[]}),{disabled:T(e,"disabled"),dir:I(e,"dir",["ltr","rtl"]),orientation:I(e,"orientation",["horizontal","vertical"]),loopFocus:T(e,"loopFocus"),selectionMode:I(e,"selectionMode",["single","multiple","extended"]),selectOnHighlight:T(e,"selectOnHighlight"),deselectable:T(e,"deselectable"),typeahead:T(e,"typeahead"),onValueChange:l=>{let d=I(e,"onValueChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{value:l.value,items:l.items,id:e.id});let c=I(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{value:l,id:e.id}}))}}));o.hasGroups=a,o.setOptions(t),o.init(),this.listbox=o,this.handlers=[]},updated(){var n;let e=JSON.parse((n=this.el.dataset.collection)!=null?n:"[]"),t=e.some(r=>r.group!==void 0),a=X(this.el,"value"),i=T(this.el,"controlled");this.listbox&&(this.listbox.hasGroups=t,this.listbox.setOptions(e),this.listbox.updateProps(y(g({collection:Rh(e,t),id:this.el.id},i&&a?{value:a}:{}),{disabled:T(this.el,"disabled"),dir:I(this.el,"dir",["ltr","rtl"]),orientation:I(this.el,"orientation",["horizontal","vertical"])})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.listbox)==null||e.destroy()}}});var _h={};de(_h,{Menu:()=>vS});function oS(e,t){if(!e)return;let a=se(e),i=new a.CustomEvent(Sl,{detail:{value:t}});e.dispatchEvent(i)}function sS(e,t){let{context:a,send:i,state:n,computed:r,prop:o,scope:s}=e,l=n.hasTag("open"),d=a.get("isSubmenu"),c=r("isTypingAhead"),f=o("composite"),p=a.get("currentPlacement"),u=a.get("anchorPoint"),h=a.get("highlightedValue"),v=Ta(y(g({},o("positioning")),{placement:u?"bottom":p}));function C(m){return{id:kn(s,m.value),disabled:!!m.disabled,highlighted:h===m.value}}function P(m){var x;let S=(x=m.valueText)!=null?x:m.value;return y(g({},m),{id:m.value,valueText:S})}function w(m){return y(g({},C(P(m))),{checked:!!m.checked})}function b(m){let{closeOnSelect:S,valueText:x,value:O}=m,V=C(m),k=kn(s,O);return t.element(y(g({},Be.item.attrs),{id:k,role:"menuitem","aria-disabled":Y(V.disabled),"data-disabled":E(V.disabled),"data-ownedby":Bi(s),"data-highlighted":E(V.highlighted),"data-value":O,"data-valuetext":x,onDragStart(D){D.currentTarget.matches("a[href]")&&D.preventDefault()},onPointerMove(D){if(V.disabled||D.pointerType!=="mouse")return;let N=D.currentTarget;if(V.highlighted)return;let U=je(D);i({type:"ITEM_POINTERMOVE",id:k,target:N,closeOnSelect:S,point:U})},onPointerLeave(D){var U;if(V.disabled||D.pointerType!=="mouse"||!((U=e.event.previous())!=null&&U.type.includes("POINTER")))return;let N=D.currentTarget;i({type:"ITEM_POINTERLEAVE",id:k,target:N,closeOnSelect:S})},onPointerDown(D){if(V.disabled)return;let N=D.currentTarget;i({type:"ITEM_POINTERDOWN",target:N,id:k,closeOnSelect:S})},onClick(D){if(en(D)||Da(D)||V.disabled)return;let N=D.currentTarget;i({type:"ITEM_CLICK",target:N,id:k,closeOnSelect:S})}}))}return{highlightedValue:h,open:l,setOpen(m){n.hasTag("open")!==m&&i({type:m?"OPEN":"CLOSE"})},setHighlightedValue(m){i({type:"HIGHLIGHTED.SET",value:m})},setParent(m){i({type:"PARENT.SET",value:m,id:m.prop("id")})},setChild(m){i({type:"CHILD.SET",value:m,id:m.prop("id")})},reposition(m={}){i({type:"POSITIONING.SET",options:m})},addItemListener(m){let S=s.getById(m.id);if(!S)return;let x=()=>{var O;return(O=m.onSelect)==null?void 0:O.call(m)};return S.addEventListener(Sl,x),()=>S.removeEventListener(Sl,x)},getContextTriggerProps(){return t.element(y(g({},Be.contextTrigger.attrs),{dir:o("dir"),id:Gh(s),"data-state":l?"open":"closed",onPointerDown(m){if(m.pointerType==="mouse")return;let S=je(m);i({type:"CONTEXT_MENU_START",point:S})},onPointerCancel(m){m.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(m){m.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(m){m.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(m){let S=je(m);i({type:"CONTEXT_MENU",point:S}),m.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}}))},getTriggerItemProps(m){let S=m.getTriggerProps();return nu(b({value:S.id}),S)},getTriggerProps(){return t.button(y(g({},d?Be.triggerItem.attrs:Be.trigger.attrs),{"data-placement":a.get("currentPlacement"),type:"button",dir:o("dir"),id:mo(s),"data-uid":o("id"),"aria-haspopup":f?"menu":"dialog","aria-controls":Bi(s),"data-controls":Bi(s),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(m){if(m.pointerType!=="mouse"||fo(m.currentTarget)||!d)return;let S=je(m);i({type:"TRIGGER_POINTERMOVE",target:m.currentTarget,point:S})},onPointerLeave(m){if(fo(m.currentTarget)||m.pointerType!=="mouse"||!d)return;let S=je(m);i({type:"TRIGGER_POINTERLEAVE",target:m.currentTarget,point:S})},onPointerDown(m){fo(m.currentTarget)||di(m)||m.preventDefault()},onClick(m){m.defaultPrevented||fo(m.currentTarget)||i({type:"TRIGGER_CLICK",target:m.currentTarget})},onBlur(){i({type:"TRIGGER_BLUR"})},onFocus(){i({type:"TRIGGER_FOCUS"})},onKeyDown(m){if(m.defaultPrevented)return;let S={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},Enter(){i({type:"ARROW_DOWN",src:"enter"})},Space(){i({type:"ARROW_DOWN",src:"space"})}},x=ue(m,{orientation:"vertical",dir:o("dir")}),O=S[x];O&&(m.preventDefault(),O(m))}}))},getIndicatorProps(){return t.element(y(g({},Be.indicator.attrs),{dir:o("dir"),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(g({},Be.positioner.attrs),{dir:o("dir"),id:Uh(s),style:v.floating}))},getArrowProps(){return t.element(y(g({id:JP(s)},Be.arrow.attrs),{dir:o("dir"),style:v.arrow}))},getArrowTipProps(){return t.element(y(g({},Be.arrowTip.attrs),{dir:o("dir"),style:v.arrowTip}))},getContentProps(){return t.element(y(g({},Be.content.attrs),{id:Bi(s),"aria-label":o("aria-label"),hidden:!l,"data-state":l?"open":"closed",role:f?"menu":"dialog",tabIndex:0,dir:o("dir"),"aria-activedescendant":r("highlightedId")||void 0,"aria-labelledby":mo(s),"data-placement":p,onPointerEnter(m){m.pointerType==="mouse"&&i({type:"MENU_POINTERENTER"})},onKeyDown(m){if(m.defaultPrevented||!oe(m.currentTarget,j(m)))return;let S=j(m);if(!((S==null?void 0:S.closest("[role=menu]"))===m.currentTarget||S===m.currentTarget))return;if(m.key==="Tab"&&!dr(m)){m.preventDefault();return}let x={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},ArrowLeft(){i({type:"ARROW_LEFT"})},ArrowRight(){i({type:"ARROW_RIGHT"})},Enter(){i({type:"ENTER"})},Space(k){var D;c?i({type:"TYPEAHEAD",key:k.key}):(D=x.Enter)==null||D.call(x,k)},Home(){i({type:"HOME"})},End(){i({type:"END"})}},O=ue(m,{dir:o("dir")}),V=x[O];if(V){V(m),m.stopPropagation(),m.preventDefault();return}o("typeahead")&&Sd(m)&&(Ie(m)||Pt(S)||(i({type:"TYPEAHEAD",key:m.key}),m.preventDefault()))}}))},getSeparatorProps(){return t.element(y(g({},Be.separator.attrs),{role:"separator",dir:o("dir"),"aria-orientation":"horizontal"}))},getItemState:C,getItemProps:b,getOptionItemState:w,getOptionItemProps(m){let{type:S,disabled:x,closeOnSelect:O}=m,V=P(m),k=w(m);return g(g({},b(V)),t.element(y(g({"data-type":S},Be.item.attrs),{dir:o("dir"),"data-value":V.value,role:`menuitem${S}`,"aria-checked":!!k.checked,"data-state":k.checked?"checked":"unchecked",onClick(D){if(x||en(D)||Da(D))return;let N=D.currentTarget;i({type:"ITEM_CLICK",target:N,option:V,closeOnSelect:O})}})))},getItemIndicatorProps(m){let S=w(os(m)),x=S.checked?"checked":"unchecked";return t.element(y(g({},Be.itemIndicator.attrs),{dir:o("dir"),"data-disabled":E(S.disabled),"data-highlighted":E(S.highlighted),"data-state":Fe(m,"checked")?x:void 0,hidden:Fe(m,"checked")?!S.checked:void 0}))},getItemTextProps(m){let S=w(os(m)),x=S.checked?"checked":"unchecked";return t.element(y(g({},Be.itemText.attrs),{dir:o("dir"),"data-disabled":E(S.disabled),"data-highlighted":E(S.highlighted),"data-state":Fe(m,"checked")?x:void 0}))},getItemGroupLabelProps(m){return t.element(y(g({},Be.itemGroupLabel.attrs),{id:Lh(s,m.htmlFor),dir:o("dir")}))},getItemGroupProps(m){return t.element(y(g({id:QP(s,m.id)},Be.itemGroup.attrs),{dir:o("dir"),"aria-labelledby":Lh(s,m.id),role:"group"}))}}}function Hh(e){let t=e.parent;for(;t&&t.context.get("isSubmenu");)t=t.refs.get("parent");t==null||t.send({type:"CLOSE"})}function uS(e,t){return e?ps(e,t):!1}function cS(e,t,a){let i=Object.keys(e).length>0;if(!t)return null;if(!i)return kn(a,t);for(let n in e){let r=e[n],o=mo(r.scope);if(o===t)return o}return kn(a,t)}var ZP,Be,mo,Gh,Bi,JP,Uh,QP,kn,Za,Lh,oa,Mh,go,eS,Pl,Nn,tS,aS,Il,iS,nS,rS,fo,Fh,Sl,ht,Hi,lS,dS,pS,dk,hS,uk,gS,ck,fS,pk,mS,hk,Bh,vS,$h=te(()=>{"use strict";xr();yn();_a();Qt();ae();ZP=_("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),Be=ZP.build(),mo=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`menu:${e.id}:trigger`},Gh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.contextTrigger)!=null?a:`menu:${e.id}:ctx-trigger`},Bi=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`menu:${e.id}:content`},JP=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.arrow)!=null?a:`menu:${e.id}:arrow`},Uh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.positioner)!=null?a:`menu:${e.id}:popper`},QP=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.group)==null?void 0:i.call(a,t))!=null?n:`menu:${e.id}:group:${t}`},kn=(e,t)=>`${e.id}/${t}`,Za=e=>{var t;return(t=e==null?void 0:e.dataset.value)!=null?t:null},Lh=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.groupLabel)==null?void 0:i.call(a,t))!=null?n:`menu:${e.id}:group-label:${t}`},oa=e=>e.getById(Bi(e)),Mh=e=>e.getById(Uh(e)),go=e=>e.getById(mo(e)),eS=(e,t)=>t?e.getById(kn(e,t)):null,Pl=e=>e.getById(Gh(e)),Nn=e=>{let t=`[role^="menuitem"][data-ownedby=${CSS.escape(Bi(e))}]:not([data-disabled])`;return De(oa(e),t)},tS=e=>st(Nn(e)),aS=e=>ft(Nn(e)),Il=(e,t)=>t?e.id===t||e.dataset.value===t:!1,iS=(e,t)=>{var n;let a=Nn(e),i=a.findIndex(r=>Il(r,t.value));return Bd(a,i,{loop:(n=t.loop)!=null?n:t.loopFocus})},nS=(e,t)=>{var n;let a=Nn(e),i=a.findIndex(r=>Il(r,t.value));return Gd(a,i,{loop:(n=t.loop)!=null?n:t.loopFocus})},rS=(e,t)=>{var n;let a=Nn(e),i=a.find(r=>Il(r,t.value));return _e(a,{state:t.typeaheadState,key:t.key,activeId:(n=i==null?void 0:i.id)!=null?n:null})},fo=e=>re(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),Fh=e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("data-controls"))},Sl="menu:select";({not:ht,and:Hi,or:lS}=be()),dS={props({props:e}){return y(g({closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(t){hi(t.node)}},e),{positioning:g({placement:"bottom-start",gutter:8},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},context({bindable:e,prop:t}){return{suspendPointer:e(()=>({defaultValue:!1})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(a){var i;(i=t("onHighlightChange"))==null||i({highlightedValue:a})}})),lastHighlightedValue:e(()=>({defaultValue:null})),currentPlacement:e(()=>({defaultValue:void 0})),intentPolygon:e(()=>({defaultValue:null})),anchorPoint:e(()=>({defaultValue:null,hash(a){return`x: ${a==null?void 0:a.x}, y: ${a==null?void 0:a.y}`}})),isSubmenu:e(()=>({defaultValue:!1}))}},refs(){return{parent:null,children:{},typeaheadState:g({},_e.defaultOptions),positioningOverride:{}}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar!=="",highlightedId:({context:e,scope:t,refs:a})=>cS(a.get("children"),e.get("highlightedValue"),t)},watch({track:e,action:t,context:a,prop:i}){e([()=>a.get("isSubmenu")],()=>{t(["setSubmenuPlacement"])}),e([()=>a.hash("anchorPoint")],()=>{a.get("anchorPoint")&&t(["reposition"])}),e([()=>i("open")],()=>{t(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:ht("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer","clearAnchorPoint"],on:{"CONTROLLED.OPEN":[{guard:lS("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Hi(ht("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:ht("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Hi("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:ht("isPointerSuspended"),actions:["setHighlightedItem","focusMenu","closeSiblingMenus"]},{actions:["setLastHighlightedItem","closeSiblingMenus"]}],ITEM_POINTERLEAVE:{guard:Hi(ht("isPointerSuspended"),ht("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:Hi(ht("isTriggerItemHighlighted"),ht("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Hi(ht("isTriggerItemHighlighted"),ht("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Hi(ht("isTriggerItemHighlighted"),ht("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing",actions:["setIntentPolygon"]},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:e,event:t})=>{var a;return!!((a=t==null?void 0:t.closeOnSelect)!=null?a:e("closeOnSelect"))},isTriggerItem:({event:e})=>Fh(e.target),isTriggerItemHighlighted:({event:e,scope:t,computed:a})=>{var i,n;return!!((n=(i=e.target)!=null?i:t.getById(a("highlightedId")))!=null&&n.hasAttribute("data-controls"))},isSubmenu:({context:e})=>e.get("isSubmenu"),isPointerSuspended:({context:e})=>e.get("suspendPointer"),isHighlightedItemEditable:({scope:e,computed:t})=>Pt(e.getById(t("highlightedId"))),isOpenControlled:({prop:e})=>e("open")!==void 0,isArrowLeftEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_LEFT"},isArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_UP"},isArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.OPEN"})},200);return()=>clearTimeout(t)},waitForCloseDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.CLOSE"})},100);return()=>clearTimeout(t)},waitForLongPress({send:e}){let t=setTimeout(()=>{e({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(t)},trackPositioning({context:e,prop:t,scope:a,refs:i}){if(Pl(a))return;let n=g(g({},t("positioning")),i.get("positioningOverride"));e.set("currentPlacement",n.placement);let r=()=>Mh(a);return Et(go(a),r,y(g({},n),{defer:!0,onComplete(o){e.set("currentPlacement",o.placement)}}))},trackInteractOutside({refs:e,scope:t,prop:a,context:i,send:n}){let r=()=>oa(t),o=!0;return Lt(r,{type:"menu",defer:!0,exclude:[go(t)],onInteractOutside:a("onInteractOutside"),onRequestDismiss:a("onRequestDismiss"),onFocusOutside(s){var d;(d=a("onFocusOutside"))==null||d(s);let l=j(s.detail.originalEvent);if(oe(Pl(t),l)){s.preventDefault();return}},onEscapeKeyDown(s){var l;(l=a("onEscapeKeyDown"))==null||l(s),i.get("isSubmenu")&&s.preventDefault(),Hh({parent:e.get("parent")})},onPointerDownOutside(s){var d;(d=a("onPointerDownOutside"))==null||d(s);let l=j(s.detail.originalEvent);if(oe(Pl(t),l)&&s.detail.contextmenu){s.preventDefault();return}o=!s.detail.focusable},onDismiss(){n({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},trackPointerMove({context:e,scope:t,send:a,refs:i,flush:n}){let r=i.get("parent");n(()=>{r.context.set("suspendPointer",!0)});let o=t.getDoc();return Z(o,"pointermove",s=>{uS(e.get("intentPolygon"),{x:s.clientX,y:s.clientY})||(a({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),r.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:e,scope:t,computed:a}){let i=()=>{if(e.current().type.startsWith("ITEM_POINTER"))return;let n=t.getById(a("highlightedId")),r=oa(t);jt(n,{rootEl:r,block:"nearest"})};return F(()=>i()),ot(()=>oa(t),{defer:!0,attributes:["aria-activedescendant"],callback:i})}},actions:{setAnchorPoint({context:e,event:t}){e.set("anchorPoint",a=>ge(a,t.point)?a:t.point)},setSubmenuPlacement({context:e,computed:t,refs:a}){if(!e.get("isSubmenu"))return;let i=t("isRtl")?"left-start":"right-start";a.set("positioningOverride",{placement:i,gutter:0})},reposition({context:e,scope:t,prop:a,event:i,refs:n}){var d;let r=()=>Mh(t),o=e.get("anchorPoint"),s=o?()=>g({width:0,height:0},o):void 0,l=g(g({},a("positioning")),n.get("positioningOverride"));Et(go(t),r,y(g(y(g({},l),{defer:!0,getAnchorRect:s}),(d=i.options)!=null?d:{}),{listeners:!1,onComplete(c){e.set("currentPlacement",c.placement)}}))},setOptionState({event:e}){if(!e.option)return;let{checked:t,onCheckedChange:a,type:i}=e.option;i==="radio"?a==null||a(!0):i==="checkbox"&&(a==null||a(!t))},clickHighlightedItem({scope:e,computed:t,prop:a,context:i}){var o;let n=e.getById(t("highlightedId"));if(!n||n.dataset.disabled)return;let r=i.get("highlightedValue");nt(n)?(o=a("navigate"))==null||o({value:r,node:n,href:n.href}):queueMicrotask(()=>n.click())},setIntentPolygon({context:e,scope:t,event:a}){let i=oa(t),n=e.get("currentPlacement");if(!i||!n)return;let r=i.getBoundingClientRect(),o=Cu(r,n);if(!o)return;let s=Dc(n)==="right"?-5:5;e.set("intentPolygon",[y(g({},a.point),{x:a.point.x+s}),...o])},clearIntentPolygon({context:e}){e.set("intentPolygon",null)},clearAnchorPoint({context:e}){e.set("anchorPoint",null)},resumePointer({refs:e,flush:t}){let a=e.get("parent");a&&t(()=>{a.context.set("suspendPointer",!1)})},setHighlightedItem({context:e,event:t}){let a=t.value||Za(t.target);e.set("highlightedValue",a)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},focusMenu({scope:e}){F(()=>{var a;let t=oa(e);(a=lr({root:t,enabled:!oe(t,e.getActiveElement()),filter(i){var n;return!((n=i.role)!=null&&n.startsWith("menuitem"))}}))==null||a.focus({preventScroll:!0})})},highlightFirstItem({context:e,scope:t}){(oa(t)?queueMicrotask:F)(()=>{let a=tS(t);a&&e.set("highlightedValue",Za(a))})},highlightLastItem({context:e,scope:t}){(oa(t)?queueMicrotask:F)(()=>{let a=aS(t);a&&e.set("highlightedValue",Za(a))})},highlightNextItem({context:e,scope:t,event:a,prop:i}){let n=iS(t,{loop:a.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",Za(n))},highlightPrevItem({context:e,scope:t,event:a,prop:i}){let n=nS(t,{loop:a.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",Za(n))},invokeOnSelect({context:e,prop:t,scope:a}){var r;let i=e.get("highlightedValue");if(i==null)return;let n=eS(a,i);oS(n,i),(r=t("onSelect"))==null||r({value:i})},focusTrigger({scope:e,context:t,event:a}){t.get("isSubmenu")||t.get("anchorPoint")||a.restoreFocus===!1||queueMicrotask(()=>{var i;return(i=go(e))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem({scope:e,context:t,event:a,refs:i}){let n=rS(e,{key:a.key,value:t.get("highlightedValue"),typeaheadState:i.get("typeaheadState")});n&&t.set("highlightedValue",Za(n))},setParentMenu({refs:e,event:t,context:a}){e.set("parent",t.value),a.set("isSubmenu",!0)},setChildMenu({refs:e,event:t}){let a=e.get("children");a[t.id]=t.value,e.set("children",a)},closeSiblingMenus({refs:e,event:t,scope:a}){var o;let i=t.target;if(!Fh(i))return;let n=i==null?void 0:i.getAttribute("data-uid"),r=e.get("children");for(let s in r){if(s===n)continue;let l=r[s],d=l.context.get("intentPolygon");d&&t.point&&ps(d,t.point)||((o=oa(a))==null||o.focus({preventScroll:!0}),l.send({type:"CLOSE"}))}},closeRootMenu({refs:e}){Hh({parent:e.get("parent")})},openSubmenu({refs:e,scope:t,computed:a}){var r,o;let i=(r=t.getById(a("highlightedId")))==null?void 0:r.getAttribute("data-uid"),n=e.get("children");(o=i?n[i]:null)==null||o.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:e,event:t}){e.set("lastHighlightedValue",Za(t.target))},restoreHighlightedItem({context:e}){e.get("lastHighlightedValue")&&(e.set("highlightedValue",e.get("lastHighlightedValue")),e.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},toggleVisibility({prop:e,event:t,send:a}){a({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};pS=B()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]),dk=H(pS),hS=B()(["closeOnSelect","disabled","value","valueText"]),uk=H(hS),gS=B()(["htmlFor"]),ck=H(gS),fS=B()(["id"]),pk=H(fS),mS=B()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]),hk=H(mS),Bh=class extends z{constructor(){super(...arguments);K(this,"children",[])}initMachine(t){return new q(dS,t)}initApi(){return sS(this.machine.service,$)}setChild(t){this.api.setChild(t.machine.service),this.children.includes(t)||this.children.push(t)}setParent(t){this.api.setParent(t.machine.service)}isOwnElement(t){return t.closest('[phx-hook="Menu"]')===this.el}renderSubmenuTriggers(){let t=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(!t)return;let a=t.querySelectorAll('[data-scope="menu"][data-nested-menu]');for(let i of a){if(!this.isOwnElement(i))continue;let n=i.dataset.nestedMenu;if(!n)continue;let r=this.children.find(s=>s.el.id===`menu:${n}`);if(!r)continue;let o=()=>{let s=this.api.getTriggerItemProps(r.api);this.spreadProps(i,s)};o(),this.machine.subscribe(o),r.machine.subscribe(o)}}render(){let t=this.el.querySelector('[data-scope="menu"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let a=this.el.querySelector('[data-scope="menu"][data-part="positioner"]'),i=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(a&&i){this.spreadProps(a,this.api.getPositionerProps()),this.spreadProps(i,this.api.getContentProps()),i.style.pointerEvents="auto",a.hidden=!this.api.open;let r=!this.el.querySelector('[data-scope="menu"][data-part="trigger"]');(this.api.open||r)&&(i.querySelectorAll('[data-scope="menu"][data-part="item"]').forEach(o=>{if(!this.isOwnElement(o))return;let s=o.dataset.value;if(s){let l=o.hasAttribute("data-disabled");this.spreadProps(o,this.api.getItemProps({value:s,disabled:l||void 0}))}}),i.querySelectorAll('[data-scope="menu"][data-part="item-group"]').forEach(o=>{if(!this.isOwnElement(o))return;let s=o.id;s&&this.spreadProps(o,this.api.getItemGroupProps({id:s}))}),i.querySelectorAll('[data-scope="menu"][data-part="separator"]').forEach(o=>{this.isOwnElement(o)&&this.spreadProps(o,this.api.getSeparatorProps())}))}let n=this.el.querySelector('[data-scope="menu"][data-part="indicator"]');n&&this.spreadProps(n,this.api.getIndicatorProps())}},vS={mounted(){let e=this.el;if(e.hasAttribute("data-nested"))return;let t=this.pushEvent.bind(this),a=()=>{var o;return(o=this.liveSocket)==null?void 0:o.main},i=new Bh(e,y(g({id:e.id.replace("menu:","")},T(e,"controlled")?{open:T(e,"open")}:{defaultOpen:T(e,"defaultOpen")}),{closeOnSelect:T(e,"closeOnSelect"),loopFocus:T(e,"loopFocus"),typeahead:T(e,"typeahead"),composite:T(e,"composite"),dir:I(e,"dir",["ltr","rtl"]),onSelect:o=>{var h,v,C;let s=T(e,"redirect"),l=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(P=>P.getAttribute("data-value")===o.value),d=l==null?void 0:l.getAttribute("data-redirect"),c=l==null?void 0:l.hasAttribute("data-new-tab"),f=a();s&&o.value&&((h=f==null?void 0:f.isDead)==null||h)&&d!=="false"&&(c?window.open(o.value,"_blank","noopener,noreferrer"):window.location.href=o.value);let p=I(e,"onSelect");p&&f&&!f.isDead&&f.isConnected()&&t(p,{id:e.id,value:(v=o.value)!=null?v:null});let u=I(e,"onSelectClient");u&&e.dispatchEvent(new CustomEvent(u,{bubbles:!0,detail:{id:e.id,value:(C=o.value)!=null?C:null}}))},onOpenChange:o=>{var c,f;let s=a(),l=I(e,"onOpenChange");l&&s&&!s.isDead&&s.isConnected()&&t(l,{id:e.id,open:(c=o.open)!=null?c:!1});let d=I(e,"onOpenChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{id:e.id,open:(f=o.open)!=null?f:!1}}))}}));i.init(),this.menu=i,this.nestedMenus=new Map;let n=e.querySelectorAll('[data-scope="menu"][data-nested="menu"]'),r=[];n.forEach((o,s)=>{var d;let l=o.id;if(l){let c=`${l}-${s}`,f=new Bh(o,{id:c,dir:I(o,"dir",["ltr","rtl"]),closeOnSelect:T(o,"closeOnSelect"),loopFocus:T(o,"loopFocus"),typeahead:T(o,"typeahead"),composite:T(o,"composite"),onSelect:p=>{var m,S,x;let u=T(e,"redirect"),h=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(O=>O.getAttribute("data-value")===p.value),v=h==null?void 0:h.getAttribute("data-redirect"),C=h==null?void 0:h.hasAttribute("data-new-tab"),P=a();u&&p.value&&((m=P==null?void 0:P.isDead)==null||m)&&v!=="false"&&(C?window.open(p.value,"_blank","noopener,noreferrer"):window.location.href=p.value);let w=I(e,"onSelect");w&&P&&!P.isDead&&P.isConnected()&&t(w,{id:e.id,value:(S=p.value)!=null?S:null});let b=I(e,"onSelectClient");b&&e.dispatchEvent(new CustomEvent(b,{bubbles:!0,detail:{id:e.id,value:(x=p.value)!=null?x:null}}))}});f.init(),(d=this.nestedMenus)==null||d.set(l,f),r.push(f)}}),setTimeout(()=>{r.forEach(o=>{this.menu&&(this.menu.setChild(o),o.setParent(this.menu))}),this.menu&&this.menu.children.length>0&&this.menu.renderSubmenuTriggers()},0),this.onSetOpen=o=>{let{open:s}=o.detail;i.api.open!==s&&i.api.setOpen(s)},e.addEventListener("phx:menu:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("menu_set_open",o=>{let s=o.menu_id;(!s||e.id===s||e.id===`menu:${s}`)&&i.api.setOpen(o.open)})),this.handlers.push(this.handleEvent("menu_open",()=>{this.pushEvent("menu_open_response",{open:i.api.open})}))},updated(){var e;this.el.hasAttribute("data-nested")||((e=this.menu)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlled")?{open:T(this.el,"open")}:{defaultOpen:T(this.el,"defaultOpen")}),{closeOnSelect:T(this.el,"closeOnSelect"),loopFocus:T(this.el,"loopFocus"),typeahead:T(this.el,"typeahead"),composite:T(this.el,"composite"),dir:I(this.el,"dir",["ltr","rtl"])})))},destroyed(){var e;if(!this.el.hasAttribute("data-nested")){if(this.onSetOpen&&this.el.removeEventListener("phx:menu:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);if(this.nestedMenus)for(let[,t]of this.nestedMenus)t.destroy();(e=this.menu)==null||e.destroy()}}}});var ig={};de(ig,{NumberInput:()=>jS});function yS(e,t={}){let{numberingSystem:a}=t;if(a&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${a}`),t.style==="unit"&&!vo){var i;let{unit:o,unitDisplay:s="short"}=t;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=Zh[o])===null||i===void 0)&&i[s]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${s}`);t=y(g({},t),{style:"decimal"})}let n=e+(t?Object.entries(t).sort((o,s)=>o[0]<s[0]?-1:1).join():"");if(Ol.has(n))return Ol.get(n);let r=new Intl.NumberFormat(e,t);return Ol.set(n,r),r}function ES(e,t,a){if(t==="auto")return e.format(a);if(t==="never")return e.format(Math.abs(a));{let i=!1;if(t==="always"?i=a>0||Object.is(a,0):t==="exceptZero"&&(Object.is(a,-0)||Object.is(a,0)?a=Math.abs(a):i=a>0),i){let n=e.format(-a),r=e.format(a),o=n.replace(r,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),n.replace(r,"!!!").replace(o,"+").replace("!!!",r)}else return e.format(a)}}function wl(e,t,a){let i=zh(e,t);if(!e.includes("-nu-")&&!i.isValidPartialNumber(a)){for(let n of CS)if(n!==i.options.numberingSystem){let r=zh(e+(e.includes("-u-")?"-nu-":"-u-nu-")+n,t);if(r.isValidPartialNumber(a))return r}}return i}function zh(e,t){let a=e+(t?Object.entries(t).sort((n,r)=>n[0]<r[0]?-1:1).join():""),i=qh.get(a);return i||(i=new TS(e,t),qh.set(a,i)),i}function SS(e,t,a,i){var n,r,o,s;let l=new Intl.NumberFormat(e,y(g({},a),{minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"})),d=l.formatToParts(-10000.111),c=l.formatToParts(10000.111),f=PS.map(V=>l.formatToParts(V));var p;let u=(p=(n=d.find(V=>V.type==="minusSign"))===null||n===void 0?void 0:n.value)!==null&&p!==void 0?p:"-",h=(r=c.find(V=>V.type==="plusSign"))===null||r===void 0?void 0:r.value;!h&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(h="+");let v=(o=new Intl.NumberFormat(e,y(g({},a),{minimumFractionDigits:2,maximumFractionDigits:2})).formatToParts(.001).find(V=>V.type==="decimal"))===null||o===void 0?void 0:o.value,C=(s=d.find(V=>V.type==="group"))===null||s===void 0?void 0:s.value,P=d.filter(V=>!Wh.has(V.type)).map(V=>Kh(V.value)),w=f.flatMap(V=>V.filter(k=>!Wh.has(k.type)).map(k=>Kh(k.value))),b=[...new Set([...P,...w])].sort((V,k)=>k.length-V.length),m=b.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${b.join("|")}|[\\p{White_Space}]`,"gu"),S=[...new Intl.NumberFormat(a.locale,{useGrouping:!1}).format(9876543210)].reverse(),x=new Map(S.map((V,k)=>[V,k])),O=new RegExp(`[${S.join("")}]`,"g");return{minusSign:u,plusSign:h,decimal:v,group:C,literals:m,numeral:O,index:V=>String(x.get(V))}}function Gi(e,t,a){return e.replaceAll?e.replaceAll(t,a):e.split(t).join(a)}function Kh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Nl(e,t){if(!(!e||!t.isActiveElement(e)))try{let{selectionStart:a,selectionEnd:i,value:n}=e;return a==null||i==null?void 0:{start:a,end:i,value:n}}catch(a){return}}function OS(e,t,a){if(!(!e||!a.isActiveElement(e))){if(!t){let i=e.value.length;e.setSelectionRange(i,i);return}try{let i=e.value,{start:n,end:r,value:o}=t;if(i===o){e.setSelectionRange(n,r);return}let s=jh(o,i,n),l=n===r?s:jh(o,i,r),d=Math.max(0,Math.min(s,i.length)),c=Math.max(d,Math.min(l,i.length));e.setSelectionRange(d,c)}catch(i){let n=e.value.length;e.setSelectionRange(n,n)}}}function jh(e,t,a){let i=e.slice(0,a),n=e.slice(a),r=0,o=Math.min(i.length,t.length);for(let d=0;d<o&&i[d]===t[d];d++)r=d+1;let s=0,l=Math.min(n.length,t.length-r);for(let d=0;d<l;d++){let c=n.length-1-d,f=t.length-1-d;if(n[c]===t[f])s=d+1;else break}if(i.length>0&&r>=i.length)return r;if(s>=n.length)return t.length-s;if(r>0)return r;if(s>0)return t.length-s;if(a===0&&r===0&&s===0)return t.length;if(e.length>0){let d=a/e.length;return Math.round(d*t.length)}return t.length}function HS(e,t){let{state:a,send:i,prop:n,scope:r,computed:o}=e,s=a.hasTag("focus"),l=o("isDisabled"),d=!!n("readOnly"),c=!!n("required"),f=a.matches("scrubbing"),p=o("isValueEmpty"),u=o("isOutOfRange")||!!n("invalid"),h=l||!o("canIncrement")||d,v=l||!o("canDecrement")||d,C=n("translations");return{focused:s,invalid:u,empty:p,value:o("formattedValue"),valueAsNumber:o("valueAsNumber"),setValue(P){i({type:"VALUE.SET",value:P})},clearValue(){i({type:"VALUE.CLEAR"})},increment(){i({type:"VALUE.INCREMENT"})},decrement(){i({type:"VALUE.DECREMENT"})},setToMax(){i({type:"VALUE.SET",value:n("max")})},setToMin(){i({type:"VALUE.SET",value:n("min")})},focus(){var P;(P=Qa(r))==null||P.focus()},getRootProps(){return t.element(y(g({id:wS(r)},Sa.root.attrs),{dir:n("dir"),"data-disabled":E(l),"data-focus":E(s),"data-invalid":E(u),"data-scrubbing":E(f)}))},getLabelProps(){return t.label(y(g({},Sa.label.attrs),{dir:n("dir"),"data-disabled":E(l),"data-focus":E(s),"data-invalid":E(u),"data-required":E(c),"data-scrubbing":E(f),id:kS(r),htmlFor:Rn(r),onClick(){F(()=>{Zi(Qa(r))})}}))},getControlProps(){return t.element(y(g({},Sa.control.attrs),{dir:n("dir"),role:"group","aria-disabled":l,"data-focus":E(s),"data-disabled":E(l),"data-invalid":E(u),"data-scrubbing":E(f),"aria-invalid":Y(u)}))},getValueTextProps(){return t.element(y(g({},Sa.valueText.attrs),{dir:n("dir"),"data-disabled":E(l),"data-invalid":E(u),"data-focus":E(s),"data-scrubbing":E(f)}))},getInputProps(){return t.input(y(g({},Sa.input.attrs),{dir:n("dir"),name:n("name"),form:n("form"),id:Rn(r),role:"spinbutton",defaultValue:o("formattedValue"),pattern:n("formatOptions")?void 0:n("pattern"),inputMode:n("inputMode"),"aria-invalid":Y(u),"data-invalid":E(u),disabled:l,"data-disabled":E(l),readOnly:d,required:n("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":n("min"),"aria-valuemax":n("max"),"aria-valuenow":Number.isNaN(o("valueAsNumber"))?void 0:o("valueAsNumber"),"aria-valuetext":o("valueText"),"data-scrubbing":E(f),onFocus(){i({type:"INPUT.FOCUS"})},onBlur(){i({type:"INPUT.BLUR"})},onInput(P){let w=Nl(P.currentTarget,r);i({type:"INPUT.CHANGE",target:P.currentTarget,hint:"set",selection:w})},onBeforeInput(P){var w;try{let{selectionStart:b,selectionEnd:m,value:S}=P.currentTarget,x=S.slice(0,b)+((w=P.data)!=null?w:"")+S.slice(m);o("parser").isValidPartialNumber(x)||P.preventDefault()}catch(b){}},onKeyDown(P){if(P.defaultPrevented||d||ke(P))return;let w=ui(P)*n("step"),b={ArrowUp(){i({type:"INPUT.ARROW_UP",step:w}),P.preventDefault()},ArrowDown(){i({type:"INPUT.ARROW_DOWN",step:w}),P.preventDefault()},Home(){Ie(P)||(i({type:"INPUT.HOME"}),P.preventDefault())},End(){Ie(P)||(i({type:"INPUT.END"}),P.preventDefault())},Enter(m){let S=Nl(m.currentTarget,r);i({type:"INPUT.ENTER",selection:S})}}[P.key];b==null||b(P)}}))},getDecrementTriggerProps(){return t.button(y(g({},Sa.decrementTrigger.attrs),{dir:n("dir"),id:eg(r),disabled:v,"data-disabled":E(v),"aria-label":C.decrementLabel,type:"button",tabIndex:-1,"aria-controls":Rn(r),"data-scrubbing":E(f),onPointerDown(P){var w;v||he(P)&&(i({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:P.pointerType}),P.pointerType==="mouse"&&P.preventDefault(),P.pointerType==="touch"&&((w=P.currentTarget)==null||w.focus({preventScroll:!0})))},onPointerUp(P){i({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:P.pointerType})},onPointerLeave(){v||i({type:"TRIGGER.PRESS_UP",hint:"decrement"})}}))},getIncrementTriggerProps(){return t.button(y(g({},Sa.incrementTrigger.attrs),{dir:n("dir"),id:Qh(r),disabled:h,"data-disabled":E(h),"aria-label":C.incrementLabel,type:"button",tabIndex:-1,"aria-controls":Rn(r),"data-scrubbing":E(f),onPointerDown(P){var w;h||!he(P)||(i({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:P.pointerType}),P.pointerType==="mouse"&&P.preventDefault(),P.pointerType==="touch"&&((w=P.currentTarget)==null||w.focus({preventScroll:!0})))},onPointerUp(P){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:P.pointerType})},onPointerLeave(P){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:P.pointerType})}}))},getScrubberProps(){return t.element(y(g({},Sa.scrubber.attrs),{dir:n("dir"),"data-disabled":E(l),id:VS(r),role:"presentation","data-scrubbing":E(f),onMouseDown(P){if(l||!he(P))return;let w=je(P),b=se(P.currentTarget).devicePixelRatio;w.x=w.x-Ei(7.5,b),w.y=w.y-Ei(7.5,b),i({type:"SCRUBBER.PRESS_DOWN",point:w}),P.preventDefault(),F(()=>{Zi(Qa(r))})},style:{cursor:l?void 0:"ew-resize"}}))}}}var Ol,kl,vo,Zh,bS,xS,CS,Jh,qh,TS,Wh,PS,IS,Sa,wS,Rn,Qh,eg,VS,tg,kS,Qa,NS,RS,ag,AS,DS,LS,MS,FS,BS,GS,Vl,Ja,US,_S,$S,qS,Yh,Xh,zS,WS,vk,KS,jS,ng=te(()=>{"use strict";ae();Ol=new Map,kl=!1;try{kl=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch(e){}vo=!1;try{vo=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch(e){}Zh={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}},bS=class{format(e){let t="";if(!kl&&this.options.signDisplay!=null?t=ES(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!vo){var a;let{unit:i,unitDisplay:n="short",locale:r}=this.resolvedOptions();if(!i)return t;let o=(a=Zh[i])===null||a===void 0?void 0:a[n];t+=o[r]||o.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} \u2013 ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let a=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(t);return[...a.map(n=>y(g({},n),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(n=>y(g({},n),{source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!kl&&this.options.signDisplay!=null&&(e=y(g({},e),{signDisplay:this.options.signDisplay})),!vo&&this.options.style==="unit"&&(e=y(g({},e),{style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay})),e}constructor(e,t={}){this.numberFormatter=yS(e,t),this.options=t}};xS=new RegExp("^.*\\(.*\\).*$"),CS=["latn","arab","hanidec","deva","beng","fullwide"],Jh=class{parse(e){return wl(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,a){return wl(this.locale,this.options,e).isValidPartialNumber(e,t,a)}getNumberingSystem(e){return wl(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}},qh=new Map;TS=class{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=Gi(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let r=t.indexOf("-");t=t.replace("-",""),t=t.replace("+","");let o=t.indexOf(".");o===-1&&(o=t.length),t=t.replace(".",""),o-2===0?t=`0.${t}`:o-2===-1?t=`0.0${t}`:o-2===-2?t="0.00":t=`${t.slice(0,o-2)}.${t.slice(o-2)}`,r>-1&&(t=`-${t}`)}let a=t?+t:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var i,n;let r=y(g({},this.options),{style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((n=this.options.maximumFractionDigits)!==null&&n!==void 0?n:0)+2,20)});return new Jh(this.locale,r).parse(new bS(this.locale,r).format(a))}return this.options.currencySign==="accounting"&&xS.test(e)&&(a=-1*a),a}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("\u060C",this.symbols.decimal)),this.symbols.group&&(e=Gi(e,".",this.symbols.group))),this.symbols.group==="\u2019"&&e.includes("'")&&(e=Gi(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Gi(e," ",this.symbols.group),e=Gi(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,t=-1/0,a=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&a>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Gi(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,t.roundingIncrement!==1&&t.roundingIncrement!=null&&(t.maximumFractionDigits==null&&t.minimumFractionDigits==null?(t.maximumFractionDigits=0,t.minimumFractionDigits=0):t.maximumFractionDigits==null?t.maximumFractionDigits=t.minimumFractionDigits:t.minimumFractionDigits==null&&(t.minimumFractionDigits=t.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=SS(e,this.formatter,this.options,t);var a,i;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}},Wh=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),PS=[0,4,2,1,11,20,3,7,100,21,.1,1.1];IS=_("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),Sa=IS.build();wS=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`number-input:${e.id}`},Rn=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.input)!=null?a:`number-input:${e.id}:input`},Qh=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.incrementTrigger)!=null?a:`number-input:${e.id}:inc`},eg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.decrementTrigger)!=null?a:`number-input:${e.id}:dec`},VS=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.scrubber)!=null?a:`number-input:${e.id}:scrubber`},tg=e=>`number-input:${e.id}:cursor`,kS=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`number-input:${e.id}:label`},Qa=e=>e.getById(Rn(e)),NS=e=>e.getById(Qh(e)),RS=e=>e.getById(eg(e)),ag=e=>e.getDoc().getElementById(tg(e)),AS=(e,t)=>{let a=null;return t==="increment"&&(a=NS(e)),t==="decrement"&&(a=RS(e)),a},DS=(e,t)=>{if(!Ye())return FS(e,t),()=>{var a;(a=ag(e))==null||a.remove()}},LS=e=>{let t=e.getDoc(),a=t.documentElement,i=t.body;return i.style.pointerEvents="none",a.style.userSelect="none",a.style.cursor="ew-resize",()=>{i.style.pointerEvents="",a.style.userSelect="",a.style.cursor="",a.style.length||a.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},MS=(e,t)=>{let{point:a,isRtl:i,event:n}=t,r=e.getWin(),o=Ei(n.movementX,r.devicePixelRatio),s=Ei(n.movementY,r.devicePixelRatio),l=o>0?"increment":o<0?"decrement":null;i&&l==="increment"&&(l="decrement"),i&&l==="decrement"&&(l="increment");let d={x:a.x+o,y:a.y+s},c=r.innerWidth,f=Ei(7.5,r.devicePixelRatio);return d.x=Yd(d.x+f,c)-f,{hint:l,point:d}},FS=(e,t)=>{let a=e.getDoc(),i=a.createElement("div");i.className="scrubber--cursor",i.id=tg(e),Object.assign(i.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:ir,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),i.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,a.body.appendChild(i)};BS=(e,t={})=>new Intl.NumberFormat(e,t),GS=(e,t={})=>new Jh(e,t),Vl=(e,t)=>{let{prop:a,computed:i}=t;return a("formatOptions")?e===""?Number.NaN:i("parser").parse(e):parseFloat(e)},Ja=(e,t)=>{let{prop:a,computed:i}=t;return Number.isNaN(e)?"":a("formatOptions")?i("formatter").format(e):e.toString()},US=(e,t)=>{let a=e!==void 0&&!Number.isNaN(e)?e:1;return(t==null?void 0:t.style)==="percent"&&(e===void 0||Number.isNaN(e))&&(a=.01),a},{choose:_S,guards:$S,createMachine:qS}=dt(),{not:Yh,and:Xh}=$S,zS=qS({props({props:e}){let t=US(e.step,e.formatOptions);return y(g({dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0},e),{translations:g({incrementLabel:"increment value",decrementLabel:"decrease value"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:a}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(i){var o;let n=a(),r=Vl(i,{computed:n,prop:e});(o=e("onValueChange"))==null||o({value:i,valueAsNumber:r})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(i){return i?`x:${i.x}, y:${i.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:a})=>Vl(e.get("value"),{computed:t,prop:a}),formattedValue:({computed:e,prop:t})=>Ja(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>Zd(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>Xd(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!yi(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>{var a,i;return(i=(a=e("translations")).valueText)==null?void 0:i.call(a,t.get("value"))},formatter:Fa(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>BS(e,t)),parser:Fa(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>GS(e,t))},watch({track:e,action:t,context:a,computed:i,prop:n}){e([()=>a.get("value"),()=>n("locale"),()=>JSON.stringify(n("formatOptions"))],()=>{t(["syncInputElement"])}),e([()=>i("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>a.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Xh("clampValueOnBlur",Yh("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]},{guard:Yh("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid","invokeOnValueCommit"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:_S([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Xh("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>{var a;return((a=t.hint)!=null?a:e.get("hint"))==="decrement"},isIncrementHint:({context:e,event:t})=>{var a;return((a=t.hint)!=null?a:e.get("hint"))==="increment"},isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){let t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){let t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){let a=Qa(t);return St(a,{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){let a=e.get("scrubberCursorPoint");return DS(t,a)},preventTextSelection({scope:e}){return LS(e)},trackButtonDisabled({context:e,scope:t,send:a}){let i=e.get("hint"),n=AS(t,i);return ot(n,{attributes:["disabled"],callback(){a({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:a}){let i=Qa(e);if(!i||!e.isActiveElement(i)||!a("allowMouseWheel"))return;function n(r){r.preventDefault();let o=Math.sign(r.deltaY)*-1;o===1?t({type:"VALUE.INCREMENT"}):o===-1&&t({type:"VALUE.DECREMENT"})}return Z(i,"wheel",n,{passive:!1})},activatePointerLock({scope:e}){if(!Ye())return Dd(e.getDoc())},trackMousemove({scope:e,send:t,context:a,computed:i}){let n=e.getDoc();function r(s){let l=a.get("scrubberCursorPoint"),d=i("isRtl"),c=MS(e,{point:l,isRtl:d,event:s});c.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:c.hint,point:c.point})}function o(){t({type:"SCRUBBER.POINTER_UP"})}return wt(Z(n,"mousemove",r,!1),Z(n,"mouseup",o,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;let a=Qa(e);e.isActiveElement(a)||F(()=>a==null?void 0:a.focus({preventScroll:!0}))},increment({context:e,event:t,prop:a,computed:i}){var r;let n=eu(i("valueAsNumber"),(r=t.step)!=null?r:a("step"));a("allowOverflow")||(n=He(n,a("min"),a("max"))),e.set("value",Ja(n,{computed:i,prop:a}))},decrement({context:e,event:t,prop:a,computed:i}){var r;let n=tu(i("valueAsNumber"),(r=t.step)!=null?r:a("step"));a("allowOverflow")||(n=He(n,a("min"),a("max"))),e.set("value",Ja(n,{computed:i,prop:a}))},setClampedValue({context:e,prop:t,computed:a}){let i=He(a("valueAsNumber"),t("min"),t("max"));e.set("value",Ja(i,{computed:a,prop:t}))},setRawValue({context:e,event:t,prop:a,computed:i}){let n=Vl(t.value,{computed:i,prop:a});a("allowOverflow")||(n=He(n,a("min"),a("max"))),e.set("value",Ja(n,{computed:i,prop:a}))},setValue({context:e,event:t}){var i,n;let a=(n=(i=t.target)==null?void 0:i.value)!=null?n:t.value;e.set("value",a)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:a}){let i=Ja(t("max"),{computed:a,prop:t});e.set("value",i)},decrementToMin({context:e,prop:t,computed:a}){let i=Ja(t("min"),{computed:a,prop:t});e.set("value",i)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){var a;(a=t("onFocusChange"))==null||a({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){var a;(a=t("onFocusChange"))==null||a({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:a}){var n;if(a.type==="INPUT.CHANGE")return;let i=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";(n=t("onValueInvalid"))==null||n({reason:i,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnValueCommit({computed:e,prop:t}){var a;(a=t("onValueCommit"))==null||a({value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:a,scope:i}){var s;let n=t.type.endsWith("CHANGE")?e.get("value"):a("formattedValue"),r=Qa(i),o=(s=t.selection)!=null?s:Nl(r,i);F(()=>{Ae(r,n),OS(r,o,i)})},setFormattedValue({context:e,computed:t,action:a}){e.set("value",t("formattedValue")),a(["syncInputElement"])},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){let a=ag(t),i=e.get("scrubberCursorPoint");!a||!i||(a.style.transform=`translate3d(${i.x}px, ${i.y}px, 0px)`)}}}}),WS=B()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueCommit","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]),vk=H(WS),KS=class extends z{initMachine(e){return new q(zS,e)}initApi(){return HS(this.machine.service,$)}render(){var l;let e=(l=this.el.querySelector('[data-scope="number-input"][data-part="root"]'))!=null?l:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="number-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let a=this.el.querySelector('[data-scope="number-input"][data-part="control"]');a&&this.spreadProps(a,this.api.getControlProps());let i=this.el.querySelector('[data-scope="number-input"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let n=this.el.querySelector('[data-scope="number-input"][data-part="input"]');n&&this.spreadProps(n,this.api.getInputProps());let r=this.el.querySelector('[data-scope="number-input"][data-part="decrement-trigger"]');r&&this.spreadProps(r,this.api.getDecrementTriggerProps());let o=this.el.querySelector('[data-scope="number-input"][data-part="increment-trigger"]');o&&this.spreadProps(o,this.api.getIncrementTriggerProps());let s=this.el.querySelector('[data-scope="number-input"][data-part="scrubber"]');s&&this.spreadProps(s,this.api.getScrubberProps())}},jS={mounted(){let e=this.el,t=I(e,"value"),a=I(e,"defaultValue"),i=T(e,"controlled"),n=new KS(e,y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:a}),{min:W(e,"min"),max:W(e,"max"),step:W(e,"step"),disabled:T(e,"disabled"),readOnly:T(e,"readOnly"),invalid:T(e,"invalid"),required:T(e,"required"),allowMouseWheel:T(e,"allowMouseWheel"),name:I(e,"name"),form:I(e,"form"),onValueChange:r=>{let o=e.querySelector('[data-scope="number-input"][data-part="input"]');o&&(o.value=r.value,o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})));let s=I(e,"onValueChange");s&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(s,{value:r.value,valueAsNumber:r.valueAsNumber,id:e.id});let l=I(e,"onValueChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:{value:r,id:e.id}}))}}));n.init(),this.numberInput=n,this.handlers=[]},updated(){var a;let e=I(this.el,"value"),t=T(this.el,"controlled");(a=this.numberInput)==null||a.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{min:W(this.el,"min"),max:W(this.el,"max"),step:W(this.el,"step"),disabled:T(this.el,"disabled"),readOnly:T(this.el,"readOnly"),invalid:T(this.el,"invalid"),required:T(this.el,"required"),name:I(this.el,"name"),form:I(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.numberInput)==null||e.destroy()}}});var rg={};de(rg,{PasswordInput:()=>tI});function XS(e,t){let{scope:a,prop:i,context:n}=e,r=n.get("visible"),o=!!i("disabled"),s=!!i("invalid"),l=!!i("readOnly"),d=!!i("required"),c=!(l||o),f=i("translations");return{visible:r,disabled:o,invalid:s,focus(){var p;(p=Rl(a))==null||p.focus()},setVisible(p){e.send({type:"VISIBILITY.SET",value:p})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!r})},getRootProps(){return t.element(y(g({},Ui.root.attrs),{dir:i("dir"),"data-disabled":E(o),"data-invalid":E(s),"data-readonly":E(l)}))},getLabelProps(){return t.label(y(g({},Ui.label.attrs),{htmlFor:bo(a),"data-disabled":E(o),"data-invalid":E(s),"data-readonly":E(l),"data-required":E(d)}))},getInputProps(){return t.input(g(y(g({},Ui.input.attrs),{id:bo(a),autoCapitalize:"off",name:i("name"),required:i("required"),autoComplete:i("autoComplete"),spellCheck:!1,readOnly:l,disabled:o,type:r?"text":"password","data-state":r?"visible":"hidden","aria-invalid":Y(s),"data-disabled":E(o),"data-invalid":E(s),"data-readonly":E(l)}),i("ignorePasswordManagers")?ZS:{}))},getVisibilityTriggerProps(){var p;return t.button(y(g({},Ui.visibilityTrigger.attrs),{type:"button",tabIndex:-1,"aria-controls":bo(a),"aria-expanded":r,"data-readonly":E(l),disabled:o,"data-disabled":E(o),"data-state":r?"visible":"hidden","aria-label":(p=f==null?void 0:f.visibilityTrigger)==null?void 0:p.call(f,r),onPointerDown(u){he(u)&&c&&(u.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}}))},getIndicatorProps(){return t.element(y(g({},Ui.indicator.attrs),{"aria-hidden":!0,"data-state":r?"visible":"hidden","data-disabled":E(o),"data-invalid":E(s),"data-readonly":E(l)}))},getControlProps(){return t.element(y(g({},Ui.control.attrs),{"data-disabled":E(o),"data-invalid":E(s),"data-readonly":E(l)}))}}}var YS,Ui,bo,Rl,ZS,JS,QS,Pk,eI,tI,og=te(()=>{"use strict";ae();YS=_("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),Ui=YS.build(),bo=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.input)!=null?a:`p-input-${e.id}-input`},Rl=e=>e.getById(bo(e));ZS={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},JS={props({props:e}){return y(g({id:sn(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1},e),{translations:g({visibilityTrigger(t){return t?"Hide password":"Show password"}},e.translations)})},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(a){var i;(i=e("onVisibilityChange"))==null||i({visible:a})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){var t;(t=Rl(e))==null||t.focus()}},effects:{trackFormEvents({scope:e,send:t}){var r;let a=(r=Rl(e))==null?void 0:r.form;if(!a)return;let i=e.getWin(),n=new i.AbortController;return a.addEventListener("reset",o=>{o.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:n.signal}),a.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:n.signal}),()=>n.abort()}}}},QS=B()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]),Pk=H(QS),eI=class extends z{initMachine(e){return new q(JS,e)}initApi(){return XS(this.machine.service,$)}render(){var o;let e=(o=this.el.querySelector('[data-scope="password-input"][data-part="root"]'))!=null?o:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="password-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let a=this.el.querySelector('[data-scope="password-input"][data-part="control"]');a&&this.spreadProps(a,this.api.getControlProps());let i=this.el.querySelector('[data-scope="password-input"][data-part="input"]');i&&this.spreadProps(i,this.api.getInputProps());let n=this.el.querySelector('[data-scope="password-input"][data-part="visibility-trigger"]');n&&this.spreadProps(n,this.api.getVisibilityTriggerProps());let r=this.el.querySelector('[data-scope="password-input"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}},tI={mounted(){let e=this.el,t=new eI(e,y(g({id:e.id},T(e,"controlledVisible")?{visible:T(e,"visible")}:{defaultVisible:T(e,"defaultVisible")}),{disabled:T(e,"disabled"),invalid:T(e,"invalid"),readOnly:T(e,"readOnly"),required:T(e,"required"),ignorePasswordManagers:T(e,"ignorePasswordManagers"),name:I(e,"name"),dir:Ce(e),autoComplete:I(e,"autoComplete",["current-password","new-password"]),onVisibilityChange:a=>{let i=I(e,"onVisibilityChange");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(i,{visible:a.visible,id:e.id});let n=I(e,"onVisibilityChangeClient");n&&e.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:{value:a,id:e.id}}))}}));t.init(),this.passwordInput=t,this.handlers=[]},updated(){var e;(e=this.passwordInput)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlledVisible")?{visible:T(this.el,"visible")}:{}),{disabled:T(this.el,"disabled"),invalid:T(this.el,"invalid"),readOnly:T(this.el,"readOnly"),required:T(this.el,"required"),name:I(this.el,"name"),form:I(this.el,"form"),dir:Ce(this.el)}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.passwordInput)==null||e.destroy()}}});var ug={};de(ug,{PinInput:()=>mI});function dI(e,t){var a;return e?!!((a=lI[e])!=null&&a.test(t)):!0}function lg(e,t,a){return a?new RegExp(a,"g").test(e):dI(t,e)}function uI(e,t){let{send:a,context:i,computed:n,prop:r,scope:o}=e,s=n("isValueComplete"),l=!!r("disabled"),d=!!r("readOnly"),c=!!r("invalid"),f=!!r("required"),p=r("translations"),u=i.get("focusedIndex");function h(){var v;(v=sI(o))==null||v.focus()}return{focus:h,count:i.get("count"),items:Array.from({length:i.get("count")}).map((v,C)=>C),value:i.get("value"),valueAsString:n("valueAsString"),complete:s,setValue(v){Array.isArray(v)||fr("[pin-input/setValue] value must be an array"),a({type:"VALUE.SET",value:v})},clearValue(){a({type:"VALUE.CLEAR"})},setValueAtIndex(v,C){a({type:"VALUE.SET",value:C,index:v})},getRootProps(){return t.element(y(g({dir:r("dir")},yo.root.attrs),{id:Dn(o),"data-invalid":E(c),"data-disabled":E(l),"data-complete":E(s),"data-readonly":E(d)}))},getLabelProps(){return t.label(y(g({},yo.label.attrs),{dir:r("dir"),htmlFor:Dl(o),id:nI(o),"data-invalid":E(c),"data-disabled":E(l),"data-complete":E(s),"data-required":E(f),"data-readonly":E(d),onClick(v){v.preventDefault(),h()}}))},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:Dl(o),readOnly:d,disabled:l,required:f,name:r("name"),form:r("form"),style:It,maxLength:n("valueLength"),defaultValue:n("valueAsString")})},getControlProps(){return t.element(y(g({},yo.control.attrs),{dir:r("dir"),id:rI(o)}))},getInputProps(v){var w;let{index:C}=v,P=r("type")==="numeric"?"tel":"text";return t.input(y(g({},yo.input.attrs),{dir:r("dir"),disabled:l,"data-disabled":E(l),"data-complete":E(s),id:iI(o,C.toString()),"data-index":C,"data-ownedby":Dn(o),"aria-label":(w=p==null?void 0:p.inputLabel)==null?void 0:w.call(p,C,n("valueLength")),inputMode:r("otp")||r("type")==="numeric"?"numeric":"text","aria-invalid":Y(c),"data-invalid":E(c),type:r("mask")?"password":P,defaultValue:i.get("value")[C]||"",readOnly:d,autoCapitalize:"none",autoComplete:r("otp")?"one-time-code":"off",placeholder:u===C?"":r("placeholder"),onPaste(b){var S;let m=(S=b.clipboardData)==null?void 0:S.getData("text/plain");if(m){if(!lg(m,r("type"),r("pattern"))){a({type:"VALUE.INVALID",value:m}),b.preventDefault();return}b.preventDefault(),a({type:"INPUT.PASTE",value:m})}},onBeforeInput(b){try{let m=Pd(b);lg(m,r("type"),r("pattern"))||(a({type:"VALUE.INVALID",value:m}),b.preventDefault()),m.length>1&&b.currentTarget.setSelectionRange(0,1,"forward")}catch(m){}},onChange(b){let m=Wt(b),{value:S}=b.currentTarget;if(m.inputType==="insertFromPaste"){b.currentTarget.value=S[0]||"";return}if(S.length>2){a({type:"INPUT.PASTE",value:S}),b.currentTarget.value=S[0],b.preventDefault();return}if(m.inputType==="deleteContentBackward"){a({type:"INPUT.BACKSPACE"});return}a({type:"INPUT.CHANGE",value:S,index:C})},onKeyDown(b){if(b.defaultPrevented||ke(b)||Ie(b))return;let m={Backspace(){a({type:"INPUT.BACKSPACE"})},Delete(){a({type:"INPUT.DELETE"})},ArrowLeft(){a({type:"INPUT.ARROW_LEFT"})},ArrowRight(){a({type:"INPUT.ARROW_RIGHT"})},Enter(){a({type:"INPUT.ENTER"})}}[ue(b,{dir:r("dir"),orientation:"horizontal"})];m&&(m(b),b.preventDefault())},onFocus(){a({type:"INPUT.FOCUS",index:C})},onBlur(b){let m=b.relatedTarget;re(m)&&m.dataset.ownedby===Dn(o)||a({type:"INPUT.BLUR",index:C})}}))}}}function dg(e,t){let a=t;e[0]===t[0]?a=t[1]:e[0]===t[1]&&(a=t[0]);let i=a.split("");return a=i[i.length-1],a!=null?a:""}function Eo(e,t){return Array.from({length:t}).fill("").map((a,i)=>e[i]||a)}var aI,yo,Dn,iI,Dl,nI,rI,oI,xo,An,sI,sg,Al,lI,cI,pI,hI,gI,wk,fI,mI,cg=te(()=>{"use strict";ae();aI=_("pinInput").parts("root","label","input","control"),yo=aI.build(),Dn=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`pin-input:${e.id}`},iI=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.input)==null?void 0:i.call(a,t))!=null?n:`pin-input:${e.id}:${t}`},Dl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.hiddenInput)!=null?a:`pin-input:${e.id}:hidden`},nI=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`pin-input:${e.id}:label`},rI=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`pin-input:${e.id}:control`},oI=e=>e.getById(Dn(e)),xo=e=>{let t=`input[data-ownedby=${CSS.escape(Dn(e))}]`;return De(oI(e),t)},An=(e,t)=>xo(e)[t],sI=e=>xo(e)[0],sg=e=>e.getById(Dl(e)),Al=(e,t)=>{e.value=t,e.setAttribute("value",t)},lI={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};({choose:cI,createMachine:pI}=dt()),hI=pI({props({props:e}){return y(g({placeholder:"\u25CB",otp:!1,type:"numeric",defaultValue:e.count?Eo([],e.count):[]},e),{translations:g({inputLabel:(t,a)=>`pin code ${t+1} of ${a}`},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:ge,onChange(a){var i;(i=e("onValueChange"))==null||i({value:a,valueAsString:a.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>Eo(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>(t==null?void 0:t.trim())!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:cI([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:a,computed:i}){t([()=>a.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>a.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>i("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){let a=sg(t);wd(a,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:a}){if(a("count"))return;let i=xo(e);t.set("count",i.length)},focusInput({context:e,scope:t}){var i;let a=e.get("focusedIndex");a!==-1&&((i=An(t,a))==null||i.focus({preventScroll:!0}))},selectInputIfNeeded({context:e,prop:t,scope:a}){let i=e.get("focusedIndex");!t("selectOnFocus")||i===-1||F(()=>{var n;(n=An(a,i))==null||n.select()})},invokeOnComplete({computed:e,prop:t}){var a;e("isValueComplete")&&((a=t("onValueComplete"))==null||a({value:e("_value"),valueAsString:e("valueAsString")}))},invokeOnInvalid({context:e,event:t,prop:a}){var i;(i=a("onValueInvalid"))==null||i({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){let a=Eo(t.value,e.get("count"));e.set("value",a)},setFocusedValue({context:e,event:t,computed:a,flush:i}){let n=a("focusedValue"),r=e.get("focusedIndex"),o=dg(n,t.value);i(()=>{e.set("value",gr(a("_value"),r,o))})},revertInputValue({context:e,computed:t,scope:a}){let i=An(a,e.get("focusedIndex"));Al(i,t("focusedValue"))},syncInputValue({context:e,event:t,scope:a}){let i=e.get("value"),n=An(a,t.index);Al(n,i[t.index])},syncInputElements({context:e,scope:t}){let a=xo(t),i=e.get("value");a.forEach((n,r)=>{Al(n,i[r])})},setPastedValue({context:e,event:t,computed:a,flush:i}){F(()=>{let n=a("valueAsString"),r=e.get("focusedIndex"),o=a("valueLength"),s=a("filledValueLength"),l=Math.min(r,s),d=l>0?n.substring(0,r):"",c=t.value.substring(0,o-l),f=Eo(`${d}${c}`.split(""),o);i(()=>{e.set("value",f)})})},setValueAtIndex({context:e,event:t,computed:a}){let i=dg(a("focusedValue"),t.value);e.set("value",gr(a("_value"),t.index,i))},clearValue({context:e}){let t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){let a=e.get("focusedIndex");a!==-1&&e.set("value",gr(t("_value"),a,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){F(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:a}){t("blurOnComplete")&&F(()=>{var i;(i=An(a,e.get("focusedIndex")))==null||i.blur()})},requestFormSubmit({computed:e,prop:t,scope:a}){var i,n;!t("name")||!e("isValueComplete")||(n=(i=sg(a))==null?void 0:i.form)==null||n.requestSubmit()}}}});gI=B()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]),wk=H(gI),fI=class extends z{initMachine(e){return new q(hI,e)}initApi(){return uI(this.machine.service,$)}render(){var n;let e=(n=this.el.querySelector('[data-scope="pin-input"][data-part="root"]'))!=null?n:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="pin-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let a=this.el.querySelector('[data-scope="pin-input"][data-part="hidden-input"]');a&&this.spreadProps(a,this.api.getHiddenInputProps());let i=this.el.querySelector('[data-scope="pin-input"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps()),this.api.items.forEach(r=>{let o=this.el.querySelector(`[data-scope="pin-input"][data-part="input"][data-index="${r}"]`);o&&this.spreadProps(o,this.api.getInputProps({index:r}))})}},mI={mounted(){var r;let e=this.el,t=X(e,"value"),a=X(e,"defaultValue"),i=T(e,"controlled"),n=new fI(e,y(g({id:e.id,count:(r=W(e,"count"))!=null?r:4},i&&t?{value:t}:{defaultValue:a!=null?a:[]}),{disabled:T(e,"disabled"),invalid:T(e,"invalid"),required:T(e,"required"),readOnly:T(e,"readOnly"),mask:T(e,"mask"),otp:T(e,"otp"),blurOnComplete:T(e,"blurOnComplete"),selectOnFocus:T(e,"selectOnFocus"),name:I(e,"name"),form:I(e,"form"),dir:I(e,"dir",["ltr","rtl"]),type:I(e,"type",["alphanumeric","numeric","alphabetic"]),placeholder:I(e,"placeholder"),onValueChange:o=>{let s=e.querySelector('[data-scope="pin-input"][data-part="hidden-input"]');s&&(s.value=o.valueAsString,s.dispatchEvent(new Event("input",{bubbles:!0})),s.dispatchEvent(new Event("change",{bubbles:!0})));let l=I(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(l,{value:o.value,valueAsString:o.valueAsString,id:e.id});let d=I(e,"onValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{value:o,id:e.id}}))},onValueComplete:o=>{let s=I(e,"onValueComplete");s&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(s,{value:o.value,valueAsString:o.valueAsString,id:e.id})}}));n.init(),this.pinInput=n,this.handlers=[]},updated(){var a,i,n,r;let e=X(this.el,"value"),t=T(this.el,"controlled");(r=this.pinInput)==null||r.updateProps(y(g({id:this.el.id,count:(n=(i=W(this.el,"count"))!=null?i:(a=this.pinInput)==null?void 0:a.api.count)!=null?n:4},t&&e?{value:e}:{}),{disabled:T(this.el,"disabled"),invalid:T(this.el,"invalid"),required:T(this.el,"required"),readOnly:T(this.el,"readOnly"),name:I(this.el,"name"),form:I(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.pinInput)==null||e.destroy()}}});var mg={};de(mg,{RadioGroup:()=>RI});function II(e,t){let{context:a,send:i,computed:n,prop:r,scope:o}=e,s=n("isDisabled"),l=r("invalid"),d=r("readOnly");function c(u){return{value:u.value,invalid:!!u.invalid||!!l,disabled:!!u.disabled||s,checked:a.get("value")===u.value,focused:a.get("focusedValue")===u.value,focusVisible:a.get("focusVisibleValue")===u.value,hovered:a.get("hoveredValue")===u.value,active:a.get("activeValue")===u.value}}function f(u){let h=c(u);return{"data-focus":E(h.focused),"data-focus-visible":E(h.focusVisible),"data-disabled":E(h.disabled),"data-readonly":E(d),"data-state":h.checked?"checked":"unchecked","data-hover":E(h.hovered),"data-invalid":E(h.invalid),"data-orientation":r("orientation"),"data-ssr":E(a.get("ssr"))}}let p=()=>{var u,h;(h=(u=TI(o))!=null?u:CI(o))==null||h.focus()};return{focus:p,value:a.get("value"),setValue(u){i({type:"SET_VALUE",value:u,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element(y(g({},_i.root.attrs),{role:"radiogroup",id:Co(o),"aria-labelledby":pg(o),"aria-required":r("required")||void 0,"aria-disabled":s||void 0,"aria-readonly":d||void 0,"data-orientation":r("orientation"),"data-disabled":E(s),"data-invalid":E(l),"data-required":E(r("required")),"aria-orientation":r("orientation"),dir:r("dir"),style:{position:"relative"}}))},getLabelProps(){return t.element(y(g({},_i.label.attrs),{dir:r("dir"),"data-orientation":r("orientation"),"data-disabled":E(s),"data-invalid":E(l),"data-required":E(r("required")),id:pg(o),onClick:p}))},getItemState:c,getItemProps(u){let h=c(u);return t.label(y(g(y(g({},_i.item.attrs),{dir:r("dir"),id:gg(o,u.value),htmlFor:Ll(o,u.value)}),f(u)),{onPointerMove(){h.disabled||h.hovered||i({type:"SET_HOVERED",value:u.value,hovered:!0})},onPointerLeave(){h.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(v){h.disabled||he(v)&&(h.focused&&v.pointerType==="mouse"&&v.preventDefault(),i({type:"SET_ACTIVE",value:u.value,active:!0}))},onPointerUp(){h.disabled||i({type:"SET_ACTIVE",value:null})},onClick(){var v;!h.disabled&&Ye()&&((v=EI(o,u.value))==null||v.focus())}}))},getItemTextProps(u){return t.element(g(y(g({},_i.itemText.attrs),{dir:r("dir"),id:yI(o,u.value)}),f(u)))},getItemControlProps(u){let h=c(u);return t.element(g(y(g({},_i.itemControl.attrs),{dir:r("dir"),id:bI(o,u.value),"data-active":E(h.active),"aria-hidden":!0}),f(u)))},getItemHiddenInputProps(u){let h=c(u);return t.input({"data-ownedby":Co(o),id:Ll(o,u.value),type:"radio",name:r("name")||r("id"),form:r("form"),value:u.value,required:r("required"),"aria-invalid":h.invalid||void 0,onClick(v){if(d){v.preventDefault();return}v.currentTarget.checked&&i({type:"SET_VALUE",value:u.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){let v=va();i({type:"SET_FOCUSED",value:u.value,focused:!0,focusVisible:v})},onKeyDown(v){v.defaultPrevented||v.key===" "&&i({type:"SET_ACTIVE",value:u.value,active:!0})},onKeyUp(v){v.defaultPrevented||v.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:h.disabled||d,defaultChecked:h.checked,style:It})},getIndicatorProps(){let u=a.get("indicatorRect"),h=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(y(g({id:fg(o)},_i.indicator.attrs),{dir:r("dir"),hidden:a.get("value")==null||h,"data-disabled":E(s),"data-orientation":r("orientation"),style:{"--transition-property":"left, top, width, height","--left":me(u==null?void 0:u.x),"--top":me(u==null?void 0:u.y),"--width":me(u==null?void 0:u.width),"--height":me(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[r("orientation")==="horizontal"?"left":"top"]:r("orientation")==="horizontal"?"var(--left)":"var(--top)"}}))}}}var vI,_i,Co,pg,gg,Ll,bI,yI,fg,To,EI,xI,CI,TI,hg,PI,SI,OI,wI,VI,Ak,kI,Dk,NI,RI,vg=te(()=>{"use strict";cn();ae();vI=_("radio-group").parts("root","label","item","itemText","itemControl","indicator"),_i=vI.build(),Co=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`radio-group:${e.id}`},pg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`radio-group:${e.id}:label`},gg=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`radio-group:${e.id}:radio:${t}`},Ll=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemHiddenInput)==null?void 0:i.call(a,t))!=null?n:`radio-group:${e.id}:radio:input:${t}`},bI=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemControl)==null?void 0:i.call(a,t))!=null?n:`radio-group:${e.id}:radio:control:${t}`},yI=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemLabel)==null?void 0:i.call(a,t))!=null?n:`radio-group:${e.id}:radio:label:${t}`},fg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.indicator)!=null?a:`radio-group:${e.id}:indicator`},To=e=>e.getById(Co(e)),EI=(e,t)=>e.getById(Ll(e,t)),xI=e=>e.getById(fg(e)),CI=e=>{var t;return(t=To(e))==null?void 0:t.querySelector("input:not(:disabled)")},TI=e=>{var t;return(t=To(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},hg=e=>{let t=`input[type=radio][data-ownedby='${CSS.escape(Co(e))}']:not([disabled])`;return De(To(e),t)},PI=(e,t)=>{if(t)return e.getById(gg(e,t))},SI=e=>{var t,a,i,n;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(a=e==null?void 0:e.offsetTop)!=null?a:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(n=e==null?void 0:e.offsetHeight)!=null?n:0}};({not:OI}=be()),wI={props({props:e}){return g({orientation:"vertical"},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var i;(i=e("onValueChange"))==null||i({value:a})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),focusVisibleValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:a}){e([()=>a.get("value")],()=>{t(["syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:OI("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return St(To(t),{onFieldsetDisabledChange(a){e.set("fieldsetDisabled",a)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){var t;return ya({root:(t=e.getRootNode)==null?void 0:t.call(e)})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t}){e.set("focusedValue",t.value);let a=t.value!=null&&t.focusVisible?t.value:null;e.set("focusVisibleValue",a)},syncInputElements({context:e,scope:t}){hg(t).forEach(a=>{a.checked=a.value===e.get("value")})},cleanupObserver({refs:e}){var t;(t=e.get("indicatorCleanup"))==null||t()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:a}){var s;if((s=a.get("indicatorCleanup"))==null||s(),!xI(t))return;let i=e.get("value"),n=PI(t,i);if(i==null||!n){e.set("indicatorRect",null);return}let r=()=>{e.set("indicatorRect",SI(n))};r();let o=ua.observe(n,r);a.set("indicatorCleanup",o)},dispatchChangeEvent({context:e,scope:t}){hg(t).forEach(a=>{let i=a.value===e.get("value");i!==a.checked&&ci(a,{checked:i})})}}}},VI=B()(["dir","disabled","form","getRootNode","id","ids","invalid","name","onValueChange","orientation","readOnly","required","value","defaultValue"]),Ak=H(VI),kI=B()(["value","disabled","invalid"]),Dk=H(kI),NI=class extends z{initMachine(e){return new q(wI,e)}initApi(){return II(this.machine.service,$)}render(){var i;let e=(i=this.el.querySelector('[data-scope="radio-group"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="radio-group"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let a=this.el.querySelector('[data-scope="radio-group"][data-part="indicator"]');a&&this.spreadProps(a,this.api.getIndicatorProps()),this.el.querySelectorAll('[data-scope="radio-group"][data-part="item"]').forEach(n=>{let r=n.dataset.value;if(r==null)return;let o=n.dataset.disabled==="true",s=n.dataset.invalid==="true";this.spreadProps(n,this.api.getItemProps({value:r,disabled:o,invalid:s}));let l=n.querySelector('[data-scope="radio-group"][data-part="item-text"]');l&&this.spreadProps(l,this.api.getItemTextProps({value:r,disabled:o,invalid:s}));let d=n.querySelector('[data-scope="radio-group"][data-part="item-control"]');d&&this.spreadProps(d,this.api.getItemControlProps({value:r,disabled:o,invalid:s}));let c=n.querySelector('[data-scope="radio-group"][data-part="item-hidden-input"]');c&&this.spreadProps(c,this.api.getItemHiddenInputProps({value:r,disabled:o,invalid:s}))})}},RI={mounted(){let e=this.el,t=I(e,"value"),a=I(e,"defaultValue"),i=T(e,"controlled"),n=new NI(e,y(g({id:e.id},i&&t!==void 0?{value:t!=null?t:null}:{defaultValue:a!=null?a:null}),{name:I(e,"name"),form:I(e,"form"),disabled:T(e,"disabled"),invalid:T(e,"invalid"),required:T(e,"required"),readOnly:T(e,"readOnly"),dir:I(e,"dir",["ltr","rtl"]),orientation:I(e,"orientation",["horizontal","vertical"]),onValueChange:r=>{let o=I(e,"onValueChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:r.value,id:e.id});let s=I(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:r,id:e.id}}))}}));n.init(),this.radioGroup=n,this.handlers=[]},updated(){var a;let e=I(this.el,"value"),t=T(this.el,"controlled");(a=this.radioGroup)==null||a.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e!=null?e:null}:{}),{name:I(this.el,"name"),form:I(this.el,"form"),disabled:T(this.el,"disabled"),invalid:T(this.el,"invalid"),required:T(this.el,"required"),readOnly:T(this.el,"readOnly"),orientation:I(this.el,"orientation",["horizontal","vertical"])}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.radioGroup)==null||e.destroy()}}});var Pg={};de(Pg,{Select:()=>jI});function HI(e,t){let{context:a,prop:i,scope:n,state:r,computed:o,send:s}=e,l=i("disabled")||a.get("fieldsetDisabled"),d=!!i("invalid"),c=!!i("required"),f=!!i("readOnly"),p=i("composite"),u=i("collection"),h=r.hasTag("open"),v=r.matches("focused"),C=a.get("highlightedValue"),P=a.get("highlightedItem"),w=a.get("selectedItems"),b=a.get("currentPlacement"),m=o("isTypingAhead"),S=o("isInteractive"),x=C?Gl(n,C):void 0;function O(k){let D=u.getItemDisabled(k.item),N=u.getItemValue(k.item);return ga(N,()=>`[zag-js] No value found for item ${JSON.stringify(k.item)}`),{value:N,disabled:!!(l||D),highlighted:C===N,selected:a.get("value").includes(N)}}let V=Ta(y(g({},i("positioning")),{placement:b}));return{open:h,focused:v,empty:a.get("value").length===0,highlightedItem:P,highlightedValue:C,selectedItems:w,hasSelectedItems:o("hasSelectedItems"),value:a.get("value"),valueAsString:o("valueAsString"),collection:u,multiple:!!i("multiple"),disabled:!!l,reposition(k={}){s({type:"POSITIONING.SET",options:k})},focus(){var k;(k=ti(n))==null||k.focus({preventScroll:!0})},setOpen(k){r.hasTag("open")!==k&&s({type:k?"OPEN":"CLOSE"})},selectValue(k){s({type:"ITEM.SELECT",value:k})},setValue(k){s({type:"VALUE.SET",value:k})},selectAll(){s({type:"VALUE.SET",value:u.getValues()})},setHighlightValue(k){s({type:"HIGHLIGHTED_VALUE.SET",value:k})},clearHighlightValue(){s({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(k){s(k?{type:"ITEM.CLEAR",value:k}:{type:"VALUE.CLEAR"})},getItemState:O,getRootProps(){return t.element(y(g({},Ge.root.attrs),{dir:i("dir"),id:DI(n),"data-invalid":E(d),"data-readonly":E(f)}))},getLabelProps(){return t.label(y(g({dir:i("dir"),id:Po(n)},Ge.label.attrs),{"data-disabled":E(l),"data-invalid":E(d),"data-readonly":E(f),"data-required":E(c),htmlFor:Ul(n),onClick(k){var D;k.defaultPrevented||l||((D=ti(n))==null||D.focus({preventScroll:!0}))}}))},getControlProps(){return t.element(y(g({},Ge.control.attrs),{dir:i("dir"),id:LI(n),"data-state":h?"open":"closed","data-focus":E(v),"data-disabled":E(l),"data-invalid":E(d)}))},getValueTextProps(){return t.element(y(g({},Ge.valueText.attrs),{dir:i("dir"),"data-disabled":E(l),"data-invalid":E(d),"data-focus":E(v)}))},getTriggerProps(){return t.button(y(g({id:Bl(n),disabled:l,dir:i("dir"),type:"button",role:"combobox","aria-controls":Hl(n),"aria-expanded":h,"aria-haspopup":"listbox","data-state":h?"open":"closed","aria-invalid":d,"aria-required":c,"aria-labelledby":Po(n)},Ge.trigger.attrs),{"data-disabled":E(l),"data-invalid":E(d),"data-readonly":E(f),"data-placement":b,"data-placeholder-shown":E(!o("hasSelectedItems")),onClick(k){S&&(k.defaultPrevented||s({type:"TRIGGER.CLICK"}))},onFocus(){s({type:"TRIGGER.FOCUS"})},onBlur(){s({type:"TRIGGER.BLUR"})},onKeyDown(k){if(k.defaultPrevented||!S)return;let D={ArrowUp(){s({type:"TRIGGER.ARROW_UP"})},ArrowDown(N){s({type:N.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){s({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){s({type:"TRIGGER.ARROW_RIGHT"})},Home(){s({type:"TRIGGER.HOME"})},End(){s({type:"TRIGGER.END"})},Enter(){s({type:"TRIGGER.ENTER"})},Space(N){s(m?{type:"TRIGGER.TYPEAHEAD",key:N.key}:{type:"TRIGGER.ENTER"})}}[ue(k,{dir:i("dir"),orientation:"vertical"})];if(D){D(k),k.preventDefault();return}_e.isValidEvent(k)&&(s({type:"TRIGGER.TYPEAHEAD",key:k.key}),k.preventDefault())}}))},getIndicatorProps(){return t.element(y(g({},Ge.indicator.attrs),{dir:i("dir"),"aria-hidden":!0,"data-state":h?"open":"closed","data-disabled":E(l),"data-invalid":E(d),"data-readonly":E(f)}))},getItemProps(k){let D=O(k);return t.element(y(g({id:Gl(n,D.value),role:"option"},Ge.item.attrs),{dir:i("dir"),"data-value":D.value,"aria-selected":D.selected,"data-state":D.selected?"checked":"unchecked","data-highlighted":E(D.highlighted),"data-disabled":E(D.disabled),"aria-disabled":Y(D.disabled),onPointerMove(N){D.disabled||N.pointerType!=="mouse"||D.value!==C&&s({type:"ITEM.POINTER_MOVE",value:D.value})},onClick(N){N.defaultPrevented||D.disabled||s({type:"ITEM.CLICK",src:"pointerup",value:D.value})},onPointerLeave(N){var U;D.disabled||k.persistFocus||N.pointerType!=="mouse"||!((U=e.event.previous())!=null&&U.type.includes("POINTER"))||s({type:"ITEM.POINTER_LEAVE"})}}))},getItemTextProps(k){let D=O(k);return t.element(y(g({},Ge.itemText.attrs),{"data-state":D.selected?"checked":"unchecked","data-disabled":E(D.disabled),"data-highlighted":E(D.highlighted)}))},getItemIndicatorProps(k){let D=O(k);return t.element(y(g({"aria-hidden":!0},Ge.itemIndicator.attrs),{"data-state":D.selected?"checked":"unchecked",hidden:!D.selected}))},getItemGroupLabelProps(k){let{htmlFor:D}=k;return t.element(y(g({},Ge.itemGroupLabel.attrs),{id:bg(n,D),dir:i("dir"),role:"presentation"}))},getItemGroupProps(k){let{id:D}=k;return t.element(y(g({},Ge.itemGroup.attrs),{"data-disabled":E(l),id:MI(n,D),"aria-labelledby":bg(n,D),role:"group",dir:i("dir")}))},getClearTriggerProps(){return t.button(y(g({},Ge.clearTrigger.attrs),{id:Cg(n),type:"button","aria-label":"Clear value","data-invalid":E(d),disabled:l,hidden:!o("hasSelectedItems"),dir:i("dir"),onClick(k){k.defaultPrevented||s({type:"CLEAR.CLICK"})}}))},getHiddenSelectProps(){let k=a.get("value"),D=i("multiple")?k:k==null?void 0:k[0];return t.select({name:i("name"),form:i("form"),disabled:l,multiple:i("multiple"),required:i("required"),"aria-hidden":!0,id:Ul(n),defaultValue:D,style:It,tabIndex:-1,onFocus(){var N;(N=ti(n))==null||N.focus({preventScroll:!0})},"aria-labelledby":Po(n)})},getPositionerProps(){return t.element(y(g({},Ge.positioner.attrs),{dir:i("dir"),id:Tg(n),style:V.floating}))},getContentProps(){return t.element(y(g({hidden:!h,dir:i("dir"),id:Hl(n),role:p?"listbox":"dialog"},Ge.content.attrs),{"data-state":h?"open":"closed","data-placement":b,"data-activedescendant":x,"aria-activedescendant":p?x:void 0,"aria-multiselectable":i("multiple")&&p?!0:void 0,"aria-labelledby":Po(n),tabIndex:0,onKeyDown(k){if(!S||!oe(k.currentTarget,j(k)))return;if(k.key==="Tab"&&!dr(k)){k.preventDefault();return}let D={ArrowUp(){s({type:"CONTENT.ARROW_UP"})},ArrowDown(){s({type:"CONTENT.ARROW_DOWN"})},Home(){s({type:"CONTENT.HOME"})},End(){s({type:"CONTENT.END"})},Enter(){s({type:"ITEM.CLICK",src:"keydown.enter"})},Space(J){var pe;m?s({type:"CONTENT.TYPEAHEAD",key:J.key}):(pe=D.Enter)==null||pe.call(D,J)}},N=D[ue(k)];if(N){N(k),k.preventDefault();return}let U=j(k);Pt(U)||_e.isValidEvent(k)&&(s({type:"CONTENT.TYPEAHEAD",key:k.key}),k.preventDefault())}}))},getListProps(){return t.element(y(g({},Ge.list.attrs),{tabIndex:0,role:p?void 0:"listbox","aria-labelledby":Bl(n),"aria-activedescendant":p?void 0:x,"aria-multiselectable":!p&&i("multiple")?!0:void 0}))}}}function Eg(e){var a,i;let t=(i=e.restoreFocus)!=null?i:(a=e.previousEvent)==null?void 0:a.restoreFocus;return t==null||!!t}function xg(e,t){return $i(t?{items:e,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled,groupBy:a=>{var i;return(i=a.group)!=null?i:""}}:{items:e,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled})}function WI(e){return e.replace(/_([a-z])/g,(t,a)=>a.toUpperCase())}function KI(e){let t={};for(let[a,i]of Object.entries(e)){let n=WI(a);t[n]=i}return t}var AI,Ge,$i,DI,Hl,Bl,Cg,Po,LI,Gl,Ul,Tg,MI,bg,Ml,Ln,ti,FI,yg,Fl,Mn,ei,BI,GI,UI,_k,_I,$k,$I,qk,qI,zk,zI,jI,Sg=te(()=>{"use strict";fn();yn();_a();Qt();ae();AI=_("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),Ge=AI.build(),$i=e=>new kt(e);$i.empty=()=>new kt({items:[]});DI=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`select:${e.id}`},Hl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.content)!=null?a:`select:${e.id}:content`},Bl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.trigger)!=null?a:`select:${e.id}:trigger`},Cg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.clearTrigger)!=null?a:`select:${e.id}:clear-trigger`},Po=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`select:${e.id}:label`},LI=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`select:${e.id}:control`},Gl=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`select:${e.id}:option:${t}`},Ul=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.hiddenSelect)!=null?a:`select:${e.id}:select`},Tg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.positioner)!=null?a:`select:${e.id}:positioner`},MI=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemGroup)==null?void 0:i.call(a,t))!=null?n:`select:${e.id}:optgroup:${t}`},bg=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.itemGroupLabel)==null?void 0:i.call(a,t))!=null?n:`select:${e.id}:optgroup-label:${t}`},Ml=e=>e.getById(Ul(e)),Ln=e=>e.getById(Hl(e)),ti=e=>e.getById(Bl(e)),FI=e=>e.getById(Cg(e)),yg=e=>e.getById(Tg(e)),Fl=(e,t)=>t==null?null:e.getById(Gl(e,t));({and:Mn,not:ei,or:BI}=be()),GI={props({props:e}){var t;return y(g({loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[]},e),{collection:(t=e.collection)!=null?t:$i.empty(),positioning:g({placement:"bottom-start",gutter:8},e.positioning)})},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:ge,onChange(a){var n;let i=e("collection").findMany(a);return(n=e("onValueChange"))==null?void 0:n({value:a,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(a){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:a,highlightedItem:e("collection").find(a),highlightedIndex:e("collection").indexOf(a)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var i,n;let a=(n=(i=e("value"))!=null?i:e("defaultValue"))!=null?n:[];return{defaultValue:e("collection").findMany(a)}})}},refs(){return{typeahead:g({},_e.defaultOptions)}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:a,action:i}){a([()=>e.get("value").toString()],()=>{i(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),a([()=>t("open")],()=>{i(["toggleVisibility"])}),a([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),a([()=>t("collection").toString()],()=>{i(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:BI("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:Mn(ei("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:ei("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:Mn(ei("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:ei("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:ei("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:ei("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:ei("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:Mn("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:Mn("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:Mn("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>{var a;return!!((a=t.closeOnSelect)!=null?a:e("closeOnSelect"))},restoreFocus:({event:e})=>Eg(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:e,scope:t}){return St(Ml(t),{onFieldsetDisabledChange(a){e.set("fieldsetDisabled",a)},onFormReset(){let a=e.initial("value");e.set("value",a)}})},trackDismissableElement({scope:e,send:t,prop:a}){let i=()=>Ln(e),n=!0;return Lt(i,{type:"listbox",defer:!0,exclude:[ti(e),FI(e)],onFocusOutside:a("onFocusOutside"),onPointerDownOutside:a("onPointerDownOutside"),onInteractOutside(r){var o;(o=a("onInteractOutside"))==null||o(r),n=!(r.detail.focusable||r.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:n})}})},computePlacement({context:e,prop:t,scope:a}){let i=t("positioning");return e.set("currentPlacement",i.placement),Et(()=>ti(a),()=>yg(a),y(g({defer:!0},i),{onComplete(n){e.set("currentPlacement",n.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:a,event:i}){let n=r=>{let o=e.get("highlightedValue");if(o==null||i.current().type.includes("POINTER"))return;let s=Ln(a),l=t("scrollToIndexFn");if(l){let c=t("collection").indexOf(o);l==null||l({index:c,immediate:r,getElement:()=>Fl(a,o)});return}let d=Fl(a,o);jt(d,{rootEl:s,block:"nearest"})};return F(()=>n(!0)),ot(()=>Ln(a),{defer:!0,attributes:["data-activedescendant"],callback(){n(!1)}})}},actions:{reposition({context:e,prop:t,scope:a,event:i}){let n=()=>yg(a);Et(ti(a),n,y(g(g({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(r){e.set("currentPlacement",r.placement)}}))},toggleVisibility({send:e,prop:t,event:a}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:a})},highlightPreviousItem({context:e,prop:t}){let a=e.get("highlightedValue");if(a==null)return;let i=t("collection").getPreviousValue(a,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightNextItem({context:e,prop:t}){let a=e.get("highlightedValue");if(a==null)return;let i=t("collection").getNextValue(a,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightFirstItem({context:e,prop:t}){let a=t("collection").firstValue;e.set("highlightedValue",a)},highlightLastItem({context:e,prop:t}){let a=t("collection").lastValue;e.set("highlightedValue",a)},setInitialFocus({scope:e}){F(()=>{var t;(t=lr({root:Ln(e)}))==null||t.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){Eg(e)&&F(()=>{var a;(a=ti(t))==null||a.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:a}){var n,r;let i=(n=a.value)!=null?n:e.get("highlightedValue");i==null||!t("collection").has(i)||((r=t("onSelect"))==null||r({value:i}),i=t("deselectable")&&!t("multiple")&&e.get("value").includes(i)?null:i,e.set("value",o=>i==null?[]:t("multiple")?vt(o,i):[i]))},highlightComputedFirstItem({context:e,prop:t,computed:a}){let i=t("collection"),n=a("hasSelectedItems")?i.sort(e.get("value"))[0]:i.firstValue;e.set("highlightedValue",n)},highlightComputedLastItem({context:e,prop:t,computed:a}){let i=t("collection"),n=a("hasSelectedItems")?i.sort(e.get("value"))[0]:i.lastValue;e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t,computed:a}){if(!a("hasSelectedItems"))return;let i=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",i)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:a,refs:i}){let n=t("collection").search(a.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});n!=null&&e.set("highlightedValue",n)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:a}){var n;(n=t("onSelect"))==null||n({value:a.value});let i=t("deselectable")&&!t("multiple")&&e.get("value").includes(a.value)?null:a.value;e.set("value",r=>i==null?[]:t("multiple")?vt(r,i):[i])},clearItem({context:e,event:t}){e.set("value",a=>a.filter(i=>i!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){let[a]=e.get("value"),i=t("collection").getPreviousValue(a);i&&e.set("value",[i])},selectNextItem({context:e,prop:t}){let[a]=e.get("value"),i=t("collection").getNextValue(a);i&&e.set("value",[i])},selectFirstItem({context:e,prop:t}){let a=t("collection").firstValue;a&&e.set("value",[a])},selectLastItem({context:e,prop:t}){let a=t("collection").lastValue;a&&e.set("value",[a])},selectMatchingItem({context:e,prop:t,event:a,refs:i}){let n=t("collection").search(a.key,{state:i.get("typeahead"),currentValue:e.get("value")[0]});n!=null&&e.set("value",[n])},scrollContentToTop({prop:e,scope:t}){var a,i;if(e("scrollToIndexFn")){let n=e("collection").firstValue;(a=e("scrollToIndexFn"))==null||a({index:0,immediate:!0,getElement:()=>Fl(t,n)})}else(i=Ln(t))==null||i.scrollTo(0,0)},invokeOnOpen({prop:e,context:t}){var a;(a=e("onOpenChange"))==null||a({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var a;(a=e("onOpenChange"))==null||a({open:!1,value:t.get("value")})},syncSelectElement({context:e,prop:t,scope:a}){let i=Ml(a);if(i){if(e.get("value").length===0&&!t("multiple")){i.selectedIndex=-1;return}for(let n of i.options)n.selected=e.get("value").includes(n.value)}},syncCollection({context:e,prop:t}){let a=t("collection"),i=a.find(e.get("highlightedValue"));i&&e.set("highlightedItem",i);let n=a.findMany(e.get("value"));e.set("selectedItems",n)},syncSelectedItems({context:e,prop:t}){let a=t("collection"),i=e.get("selectedItems"),n=e.get("value").map(r=>i.find(o=>a.getItemValue(o)===r)||a.find(r));e.set("selectedItems",n)},syncHighlightedItem({context:e,prop:t}){let a=t("collection"),i=e.get("highlightedValue"),n=i?a.find(i):null;e.set("highlightedItem",n)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{let t=Ml(e);if(!t)return;let a=e.getWin(),i=new a.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(i)})}}}};UI=B()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),_k=H(UI),_I=B()(["item","persistFocus"]),$k=H(_I),$I=B()(["id"]),qk=H($I),qI=B()(["htmlFor"]),zk=H(qI),zI=class extends z{constructor(t,a){var n;super(t,a);K(this,"_options",[]);K(this,"hasGroups",!1);K(this,"placeholder","");K(this,"init",()=>{this.machine.start(),this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()})});let i=a.collection;this._options=(n=i==null?void 0:i.items)!=null?n:[],this.placeholder=I(this.el,"placeholder")||""}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?$i({items:t,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled,groupBy:a=>{var i;return(i=a.group)!=null?i:""}}):$i({items:t,itemToValue:a=>{var i,n;return(n=(i=a.id)!=null?i:a.value)!=null?n:""},itemToString:a=>a.label,isItemDisabled:a=>!!a.disabled})}initMachine(t){let a=this.getCollection.bind(this),i=t.collection;return new q(GI,y(g({},t),{get collection(){return i!=null?i:a()}}))}initApi(){return HI(this.machine.service,$)}applyItemProps(){let t=this.el.querySelector('[data-scope="select"][data-part="content"]');t&&(t.querySelectorAll('[data-scope="select"][data-part="item-group"]').forEach(a=>{var r;let i=(r=a.dataset.id)!=null?r:"";this.spreadProps(a,this.api.getItemGroupProps({id:i}));let n=a.querySelector('[data-scope="select"][data-part="item-group-label"]');n&&this.spreadProps(n,this.api.getItemGroupLabelProps({htmlFor:i}))}),t.querySelectorAll('[data-scope="select"][data-part="item"]').forEach(a=>{var s;let i=(s=a.dataset.value)!=null?s:"",n=this.options.find(l=>{var d,c;return String((c=(d=l.id)!=null?d:l.value)!=null?c:"")===String(i)});if(!n)return;this.spreadProps(a,this.api.getItemProps({item:n}));let r=a.querySelector('[data-scope="select"][data-part="item-text"]');r&&this.spreadProps(r,this.api.getItemTextProps({item:n}));let o=a.querySelector('[data-scope="select"][data-part="item-indicator"]');o&&this.spreadProps(o,this.api.getItemIndicatorProps({item:n}))}))}render(){var o;let t=(o=this.el.querySelector('[data-scope="select"][data-part="root"]'))!=null?o:this.el;this.spreadProps(t,this.api.getRootProps());let a=this.el.querySelector('[data-scope="select"][data-part="hidden-select"]'),i=this.el.querySelector('[data-scope="select"][data-part="value-input"]');i&&(!this.api.value||this.api.value.length===0?i.value="":this.api.value.length===1?i.value=String(this.api.value[0]):i.value=this.api.value.map(String).join(",")),a&&this.spreadProps(a,this.api.getHiddenSelectProps()),["label","control","trigger","indicator","clear-trigger","positioner"].forEach(s=>{let l=this.el.querySelector(`[data-scope="select"][data-part="${s}"]`);if(!l)return;let d="get"+s.split("-").map(c=>c[0].toUpperCase()+c.slice(1)).join("")+"Props";this.spreadProps(l,this.api[d]())});let n=this.el.querySelector('[data-scope="select"][data-part="item-text"]');if(n){let s=this.api.valueAsString;if(this.api.value&&this.api.value.length>0&&!s){let l=this.api.value[0],d=this.options.find(c=>{var p,u;let f=(u=(p=c.id)!=null?p:c.value)!=null?u:"";return String(f)===String(l)});d?n.textContent=d.label:n.textContent=this.placeholder||""}else n.textContent=s||this.placeholder||""}let r=this.el.querySelector('[data-scope="select"][data-part="content"]');r&&(this.spreadProps(r,this.api.getContentProps()),this.applyItemProps())}};jI={mounted(){let e=this.el,t=JSON.parse(e.dataset.collection||"[]"),a=t.some(r=>r.group!==void 0),i=xg(t,a),n=new zI(e,y(g({id:e.id,collection:i},T(e,"controlled")?{value:X(e,"value")}:{defaultValue:X(e,"defaultValue")}),{disabled:T(e,"disabled"),closeOnSelect:T(e,"closeOnSelect"),dir:I(e,"dir",["ltr","rtl"]),loopFocus:T(e,"loopFocus"),multiple:T(e,"multiple"),invalid:T(e,"invalid"),name:I(e,"name"),form:I(e,"form"),readOnly:T(e,"readOnly"),required:T(e,"required"),positioning:(()=>{let r=e.dataset.positioning;if(r)try{let o=JSON.parse(r);return KI(o)}catch(o){return}})(),onValueChange:r=>{var v;let o=T(e,"redirect"),s=r.value.length>0?String(r.value[0]):null,l=(v=r.items)!=null&&v.length?r.items[0]:null,d=l&&typeof l=="object"&&l!==null&&"redirect"in l?l.redirect:void 0,c=l&&typeof l=="object"&&l!==null&&"new_tab"in l?l.new_tab:void 0;o&&s&&this.liveSocket.main.isDead&&d!==!1&&(c===!0?window.open(s,"_blank","noopener,noreferrer"):window.location.href=s);let f=e.querySelector('[data-scope="select"][data-part="value-input"]');f&&(f.value=r.value.length===0?"":r.value.length===1?String(r.value[0]):r.value.map(String).join(","),f.dispatchEvent(new Event("input",{bubbles:!0})),f.dispatchEvent(new Event("change",{bubbles:!0})));let p={value:r.value,items:r.items,id:e.id},u=I(e,"onValueChangeClient");u&&e.dispatchEvent(new CustomEvent(u,{bubbles:!0,detail:p}));let h=I(e,"onValueChange");h&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(h,p)}}));n.hasGroups=a,n.setOptions(t),n.init(),this.select=n,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(a=>a.group!==void 0);this.select&&(this.select.hasGroups=t,this.select.setOptions(e),this.select.updateProps(y(g({collection:xg(e,t),id:this.el.id},T(this.el,"controlled")?{value:X(this.el,"value")}:{defaultValue:X(this.el,"defaultValue")}),{name:I(this.el,"name"),form:I(this.el,"form"),disabled:T(this.el,"disabled"),multiple:T(this.el,"multiple"),dir:I(this.el,"dir",["ltr","rtl"]),invalid:T(this.el,"invalid"),required:T(this.el,"required"),readOnly:T(this.el,"readOnly")})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.select)==null||e.destroy()}}});var zg={};de(zg,{SignaturePad:()=>xO});function wg(e,t,a,i=n=>n){return e*i(.5-t*(.5-a))}function Bg(e,t,a){let i=_l(1,t/a);return _l(1,e+(_l(1,1-i)-e)*(i*.275))}function XI(e){return[-e[0],-e[1]]}function Ht(e,t){return[e[0]+t[0],e[1]+t[1]]}function Vg(e,t,a){return e[0]=t[0]+a[0],e[1]=t[1]+a[1],e}function Va(e,t){return[e[0]-t[0],e[1]-t[1]]}function zl(e,t,a){return e[0]=t[0]-a[0],e[1]=t[1]-a[1],e}function wa(e,t){return[e[0]*t,e[1]*t]}function $l(e,t,a){return e[0]=t[0]*a,e[1]=t[1]*a,e}function ZI(e,t){return[e[0]/t,e[1]/t]}function Gg(e){return[e[1],-e[0]]}function ql(e,t){let a=t[0];return e[0]=t[1],e[1]=-a,e}function kg(e,t){return e[0]*t[0]+e[1]*t[1]}function JI(e,t){return e[0]===t[0]&&e[1]===t[1]}function QI(e){return Math.hypot(e[0],e[1])}function Ng(e,t){let a=e[0]-t[0],i=e[1]-t[1];return a*a+i*i}function Ug(e){return ZI(e,QI(e))}function eO(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Wl(e,t,a){let i=Math.sin(a),n=Math.cos(a),r=e[0]-t[0],o=e[1]-t[1],s=r*n-o*i,l=r*i+o*n;return[s+t[0],l+t[1]]}function Rg(e,t,a,i){let n=Math.sin(i),r=Math.cos(i),o=t[0]-a[0],s=t[1]-a[1],l=o*r-s*n,d=o*n+s*r;return e[0]=l+a[0],e[1]=d+a[1],e}function Ag(e,t,a){return Ht(e,wa(Va(t,e),a))}function tO(e,t,a,i){let n=a[0]-t[0],r=a[1]-t[1];return e[0]=t[0]+n*i,e[1]=t[1]+r*i,e}function _g(e,t,a){return Ht(e,wa(t,a))}function aO(e,t){let a=_g(e,Ug(Gg(Va(e,Ht(e,[1,1])))),-t),i=[],n=1/13;for(let r=n;r<=1;r+=n)i.push(Wl(a,e,Fn*2*r));return i}function iO(e,t,a){let i=[],n=1/a;for(let r=n;r<=1;r+=n)i.push(Wl(t,e,Fn*r));return i}function nO(e,t,a){let i=Va(t,a),n=wa(i,.5),r=wa(i,.51);return[Va(e,n),Va(e,r),Ht(e,r),Ht(e,n)]}function rO(e,t,a,i){let n=[],r=_g(e,t,a),o=1/i;for(let s=o;s<1;s+=o)n.push(Wl(r,e,Fn*3*s));return n}function oO(e,t,a){return[Ht(e,wa(t,a)),Ht(e,wa(t,a*.99)),Va(e,wa(t,a*.99)),Va(e,wa(t,a))]}function Dg(e,t,a){return e===!1||e===void 0?0:e===!0?Math.max(t,a):e}function sO(e,t,a){return e.slice(0,10).reduce((i,n)=>{let r=n.pressure;return t&&(r=Bg(i,n.distance,a)),(i+r)/2},e[0].pressure)}function lO(e,t={}){let{size:a=16,smoothing:i=.5,thinning:n=.5,simulatePressure:r=!0,easing:o=Q=>Q,start:s={},end:l={},last:d=!1}=t,{cap:c=!0,easing:f=Q=>Q*(2-Q)}=s,{cap:p=!0,easing:u=Q=>--Q*Q*Q+1}=l;if(e.length===0||a<=0)return[];let h=e[e.length-1].runningLength,v=Dg(s.taper,a,h),C=Dg(l.taper,a,h),P=(a*i)**2,w=[],b=[],m=sO(e,r,a),S=wg(a,n,e[e.length-1].pressure,o),x,O=e[0].vector,V=e[0].point,k=V,D=V,N=k,U=!1;for(let Q=0;Q<e.length;Q++){let{pressure:Pe}=e[Q],{point:Ee,vector:Ve,distance:We,runningLength:it}=e[Q],Ut=Q===e.length-1;if(!Ut&&h-it<3)continue;n?(r&&(Pe=Bg(m,We,a)),S=wg(a,n,Pe,o)):S=a/2,x===void 0&&(x=S);let Ki=it<v?f(it/v):1,Ao=h-it<C?u((h-it)/C):1;S=Math.max(.01,S*Math.min(Ki,Ao));let L=(Ut?e[Q]:e[Q+1]).vector,R=Ut?1:kg(Ve,L),M=kg(Ve,O)<0&&!U,G=R!==null&&R<0;if(M||G){ql(Ne,O),$l(Ne,Ne,S);for(let ee=0;ee<=1;ee+=.07692307692307693)zl(Ia,Ee,Ne),Rg(Ia,Ia,Ee,Fn*ee),D=[Ia[0],Ia[1]],w.push(D),Vg(Oa,Ee,Ne),Rg(Oa,Oa,Ee,Fn*-ee),N=[Oa[0],Oa[1]],b.push(N);V=D,k=N,G&&(U=!0);continue}if(U=!1,Ut){ql(Ne,Ve),$l(Ne,Ne,S),w.push(Va(Ee,Ne)),b.push(Ht(Ee,Ne));continue}tO(Ne,L,Ve,R),ql(Ne,Ne),$l(Ne,Ne,S),zl(Ia,Ee,Ne),D=[Ia[0],Ia[1]],(Q<=1||Ng(V,D)>P)&&(w.push(D),V=D),Vg(Oa,Ee,Ne),N=[Oa[0],Oa[1]],(Q<=1||Ng(k,N)>P)&&(b.push(N),k=N),m=Pe,O=Ve}let J=[e[0].point[0],e[0].point[1]],pe=e.length>1?[e[e.length-1].point[0],e[e.length-1].point[1]]:Ht(e[0].point,[1,1]),ie=[],ye=[];if(e.length===1){if(!(v||C)||d)return aO(J,x||S)}else{v||C&&e.length===1||(c?ie.push(...iO(J,b[0],13)):ie.push(...nO(J,w[0],b[0])));let Q=Gg(XI(e[e.length-1].vector));C||v&&e.length===1?ye.push(pe):p?ye.push(...rO(pe,Q,S,29)):ye.push(...oO(pe,Q,S))}return w.concat(ye,b.reverse(),ie)}function Mg(e){return e!=null&&e>=0}function dO(e,t={}){var p;let{streamline:a=.5,size:i=16,last:n=!1}=t;if(e.length===0)return[];let r=.15+(1-a)*.85,o=Array.isArray(e[0])?e:e.map(({x:u,y:h,pressure:v=Ig})=>[u,h,v]);if(o.length===2){let u=o[1];o=o.slice(0,-1);for(let h=1;h<5;h++)o.push(Ag(o[0],u,h/4))}o.length===1&&(o=[...o,[...Ht(o[0],Og),...o[0].slice(2)]]);let s=[{point:[o[0][0],o[0][1]],pressure:Mg(o[0][2])?o[0][2]:.25,vector:[...Og],distance:0,runningLength:0}],l=!1,d=0,c=s[0],f=o.length-1;for(let u=1;u<o.length;u++){let h=n&&u===f?[o[u][0],o[u][1]]:Ag(c.point,o[u],r);if(JI(c.point,h))continue;let v=eO(h,c.point);if(d+=v,u<f&&!l){if(d<i)continue;l=!0}zl(Lg,c.point,h),c={point:h,pressure:Mg(o[u][2])?o[u][2]:Ig,vector:Ug(Lg),distance:v,runningLength:d},s.push(c)}return s[0].vector=((p=s[1])==null?void 0:p.vector)||[0,0],s}function uO(e,t={}){return lO(dO(e,t),t)}function mO(e,t){let{state:a,send:i,prop:n,computed:r,context:o,scope:s}=e,l=a.matches("drawing"),d=r("isEmpty"),c=r("isInteractive"),f=!!n("disabled"),p=!!n("required"),u=n("translations");return{empty:d,drawing:l,currentPath:o.get("currentPath"),paths:o.get("paths"),clear(){i({type:"CLEAR"})},getDataUrl(h,v){return r("isEmpty")?Promise.resolve(""):qg(s,{type:h,quality:v})},getLabelProps(){return t.label(y(g({},ai.label.attrs),{id:gO(s),"data-disabled":E(f),"data-required":E(p),htmlFor:Fg(s),onClick(h){var v;!c||h.defaultPrevented||(v=Oo(s))==null||v.focus({preventScroll:!0})}}))},getRootProps(){return t.element(y(g({},ai.root.attrs),{"data-disabled":E(f),id:hO(s)}))},getControlProps(){return t.element(y(g({},ai.control.attrs),{tabIndex:f?void 0:0,id:$g(s),role:"application","aria-roledescription":"signature pad","aria-label":u.control,"aria-disabled":f,"data-disabled":E(f),onPointerDown(h){var w;if(!he(h)||Ie(h)||!c||(w=j(h))!=null&&w.closest("[data-part=clear-trigger]"))return;h.currentTarget.setPointerCapture(h.pointerId);let v={x:h.clientX,y:h.clientY},C=Oo(s);if(!C)return;let{offset:P}=Qo(v,C);i({type:"POINTER_DOWN",point:P,pressure:h.pressure})},onPointerUp(h){c&&h.currentTarget.hasPointerCapture(h.pointerId)&&h.currentTarget.releasePointerCapture(h.pointerId)},style:{position:"relative",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getSegmentProps(){return t.svg(y(g({},ai.segment.attrs),{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",fill:n("drawing").fill}}))},getSegmentPathProps(h){return t.path(y(g({},ai.segmentPath.attrs),{d:h.path}))},getGuideProps(){return t.element(y(g({},ai.guide.attrs),{"data-disabled":E(f)}))},getClearTriggerProps(){return t.button(y(g({},ai.clearTrigger.attrs),{type:"button","aria-label":u.clearTrigger,hidden:!o.get("paths").length||l,disabled:f,onClick(){i({type:"CLEAR"})}}))},getHiddenInputProps(h){return t.input({id:Fg(s),type:"text",hidden:!0,disabled:f,required:n("required"),readOnly:!0,name:n("name"),value:h.value})}}}function vO(e,t=!0){let a=e.length;if(a<4)return"";let i=e[0],n=e[1],r=e[2],o=`M${i[0].toFixed(2)},${i[1].toFixed(2)} Q${n[0].toFixed(2)},${n[1].toFixed(2)} ${So(n[0],r[0]).toFixed(2)},${So(n[1],r[1]).toFixed(2)} T`;for(let s=2,l=a-1;s<l;s++)i=e[s],n=e[s+1],o+=`${So(i[0],n[0]).toFixed(2)},${So(i[1],n[1]).toFixed(2)} `;return t&&(o+="Z"),o}function Io(e,t){let a=e.dataset[t];if(!a)return[];try{return JSON.parse(a)}catch(i){return[]}}function Hg(e){var t,a,i,n;return{fill:I(e,"drawingFill")||"black",size:(t=W(e,"drawingSize"))!=null?t:2,simulatePressure:T(e,"drawingSimulatePressure"),smoothing:(a=W(e,"drawingSmoothing"))!=null?a:.5,thinning:(i=W(e,"drawingThinning"))!=null?i:.7,streamline:(n=W(e,"drawingStreamline"))!=null?n:.65}}var YI,Fn,Ig,Og,_l,Ne,Ia,Oa,Lg,cO,pO,ai,hO,$g,gO,Fg,Oo,fO,qg,So,bO,yO,Yk,EO,xO,Wg=te(()=>{"use strict";ae();({PI:YI}=Math),Fn=YI+1e-4,Ig=.5,Og=[1,1];({min:_l}=Math);Ne=[0,0],Ia=[0,0],Oa=[0,0];Lg=[0,0];cO=uO,pO=_("signature-pad").parts("root","control","segment","segmentPath","guide","clearTrigger","label"),ai=pO.build(),hO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`signature-${e.id}`},$g=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`signature-control-${e.id}`},gO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`signature-label-${e.id}`},Fg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.hiddenInput)!=null?a:`signature-input-${e.id}`},Oo=e=>e.getById($g(e)),fO=e=>gi(Oo(e),"[data-part=segment]"),qg=(e,t)=>Cd(fO(e),t);So=(e,t)=>(e+t)/2;bO={props({props:e}){return y(g({defaultPaths:[]},e),{drawing:g({size:2,simulatePressure:!1,thinning:.7,smoothing:.4,streamline:.6},e.drawing),translations:g({control:"signature pad",clearTrigger:"clear signature"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{paths:t(()=>({defaultValue:e("defaultPaths"),value:e("paths"),sync:!0,onChange(a){var i;(i=e("onDraw"))==null||i({paths:a})}})),currentPoints:t(()=>({defaultValue:[]})),currentPath:t(()=>({defaultValue:null}))}},computed:{isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),isEmpty:({context:e})=>e.get("paths").length===0},on:{CLEAR:{actions:["clearPoints","invokeOnDrawEnd","focusCanvasEl"]}},states:{idle:{on:{POINTER_DOWN:{target:"drawing",actions:["addPoint"]}}},drawing:{effects:["trackPointerMove"],on:{POINTER_MOVE:{actions:["addPoint","invokeOnDraw"]},POINTER_UP:{target:"idle",actions:["endStroke","invokeOnDrawEnd"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){let a=e.getDoc();return da(a,{onPointerMove({event:i,point:n}){let r=Oo(e);if(!r)return;let{offset:o}=Qo(n,r);t({type:"POINTER_MOVE",point:o,pressure:i.pressure})},onPointerUp(){t({type:"POINTER_UP"})}})}},actions:{addPoint({context:e,event:t,prop:a}){let i=[...e.get("currentPoints"),t.point];e.set("currentPoints",i);let n=cO(i,a("drawing"));e.set("currentPath",vO(n))},endStroke({context:e}){let t=[...e.get("paths"),e.get("currentPath")];e.set("paths",t),e.set("currentPoints",[]),e.set("currentPath",null)},clearPoints({context:e}){e.set("currentPoints",[]),e.set("paths",[]),e.set("currentPath",null)},focusCanvasEl({scope:e}){queueMicrotask(()=>{var t;(t=e.getActiveElement())==null||t.focus({preventScroll:!0})})},invokeOnDraw({context:e,prop:t}){var a;(a=t("onDraw"))==null||a({paths:[...e.get("paths"),e.get("currentPath")]})},invokeOnDrawEnd({context:e,prop:t,scope:a,computed:i}){var n;(n=t("onDrawEnd"))==null||n({paths:[...e.get("paths")],getDataUrl(r,o=.92){return i("isEmpty")?Promise.resolve(""):qg(a,{type:r,quality:o})}})}}}},yO=B()(["defaultPaths","dir","disabled","drawing","getRootNode","id","ids","name","onDraw","onDrawEnd","paths","readOnly","required","translations"]),Yk=H(yO),EO=class extends z{constructor(){super(...arguments);K(this,"imageURL","");K(this,"paths",[]);K(this,"name");K(this,"syncPaths",()=>{let t=this.el.querySelector('[data-scope="signature-pad"][data-part="segment"]');if(t){if(this.api.paths.length+(this.api.currentPath?1:0)===0){t.innerHTML="",this.imageURL="",this.paths=[];let a=this.el.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');a&&(a.value="");return}if(t.innerHTML="",this.api.paths.forEach(a=>{let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("data-scope","signature-pad"),i.setAttribute("data-part","path"),this.spreadProps(i,this.api.getSegmentPathProps({path:a})),t.appendChild(i)}),this.api.currentPath){let a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("data-scope","signature-pad"),a.setAttribute("data-part","current-path"),this.spreadProps(a,this.api.getSegmentPathProps({path:this.api.currentPath})),t.appendChild(a)}}})}initMachine(t){return this.name=t.name,new q(bO,t)}setName(t){this.name=t}setPaths(t){this.paths=t}initApi(){return mO(this.machine.service,$)}render(){let t=this.el.querySelector('[data-scope="signature-pad"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let a=t.querySelector('[data-scope="signature-pad"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps());let i=t.querySelector('[data-scope="signature-pad"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let n=t.querySelector('[data-scope="signature-pad"][data-part="segment"]');n&&this.spreadProps(n,this.api.getSegmentProps());let r=t.querySelector('[data-scope="signature-pad"][data-part="guide"]');r&&this.spreadProps(r,this.api.getGuideProps());let o=t.querySelector('[data-scope="signature-pad"][data-part="clear-trigger"]');if(o){this.spreadProps(o,this.api.getClearTriggerProps());let l=this.api.paths.length>0||!!this.api.currentPath;o.hidden=!l}let s=t.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');if(s){let l=this.paths.length>0?this.paths:this.api.paths;this.paths.length===0&&this.api.paths.length>0&&(this.paths=[...this.api.paths]);let d=l.length>0?JSON.stringify(l):"";this.spreadProps(s,this.api.getHiddenInputProps({value:d})),this.name&&(s.name=this.name),s.value=d}this.syncPaths()}};xO={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=T(e,"controlled"),i=Io(e,"paths"),n=Io(e,"defaultPaths"),r=new EO(e,y(g(g({id:e.id,name:I(e,"name")},a&&i.length>0?{paths:i}:void 0),!a&&n.length>0?{defaultPaths:n}:void 0),{drawing:Hg(e),onDrawEnd:o=>{r.setPaths(o.paths);let s=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');s&&(s.value=JSON.stringify(o.paths)),o.getDataUrl("image/png").then(l=>{r.imageURL=l;let d=I(e,"onDrawEnd");d&&this.liveSocket.main.isConnected()&&t(d,{id:e.id,paths:o.paths,url:l});let c=I(e,"onDrawEndClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{id:e.id,paths:o.paths,url:l}}))})}}));if(r.init(),this.signaturePad=r,(a?i:n).length>0){let o=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');o&&(o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})))}this.onClear=o=>{let{id:s}=o.detail;if(s&&s!==e.id)return;r.api.clear(),r.imageURL="",r.setPaths([]);let l=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');l&&(l.value="")},e.addEventListener("phx:signature-pad:clear",this.onClear),this.handlers=[],this.handlers.push(this.handleEvent("signature_pad_clear",o=>{let s=o.signature_pad_id;if(s&&s!==e.id)return;r.api.clear(),r.imageURL="",r.setPaths([]);let l=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');l&&(l.value="")}))},updated(){var n,r;let e=T(this.el,"controlled"),t=Io(this.el,"paths"),a=Io(this.el,"defaultPaths"),i=I(this.el,"name");i&&((n=this.signaturePad)==null||n.setName(i)),(r=this.signaturePad)==null||r.updateProps(y(g(g({id:this.el.id,name:i},e&&t.length>0?{paths:t}:{}),!e&&a.length>0?{defaultPaths:a}:{}),{drawing:Hg(this.el)}))},destroyed(){var e;if(this.onClear&&this.el.removeEventListener("phx:signature-pad:clear",this.onClear),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.signaturePad)==null||e.destroy()}}});var Xg={};de(Xg,{Switch:()=>kO});function IO(e,t){let{context:a,send:i,prop:n,scope:r}=e,o=!!n("disabled"),s=!!n("readOnly"),l=!!n("required"),d=!!a.get("checked"),c=!o&&a.get("focused"),f=!o&&a.get("focusVisible"),p=!o&&a.get("active"),u={"data-active":E(p),"data-focus":E(c),"data-focus-visible":E(f),"data-readonly":E(s),"data-hover":E(a.get("hovered")),"data-disabled":E(o),"data-state":d?"checked":"unchecked","data-invalid":E(n("invalid")),"data-required":E(l)};return{checked:d,disabled:o,focused:c,setChecked(h){i({type:"CHECKED.SET",checked:h,isTrusted:!1})},toggleChecked(){i({type:"CHECKED.TOGGLE",checked:d,isTrusted:!1})},getRootProps(){return t.label(y(g(g({},wo.root.attrs),u),{dir:n("dir"),id:Yg(r),htmlFor:Kl(r),onPointerMove(){o||i({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){o||i({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(h){var v;o||(j(h)===qi(r)&&h.stopPropagation(),Ye()&&((v=qi(r))==null||v.focus()))}}))},getLabelProps(){return t.element(y(g(g({},wo.label.attrs),u),{dir:n("dir"),id:Kg(r)}))},getThumbProps(){return t.element(y(g(g({},wo.thumb.attrs),u),{dir:n("dir"),id:TO(r),"aria-hidden":!0}))},getControlProps(){return t.element(y(g(g({},wo.control.attrs),u),{dir:n("dir"),id:PO(r),"aria-hidden":!0}))},getHiddenInputProps(){return t.input({id:Kl(r),type:"checkbox",required:n("required"),defaultChecked:d,disabled:o,"aria-labelledby":Kg(r),"aria-invalid":n("invalid"),name:n("name"),form:n("form"),value:n("value"),style:It,onFocus(){let h=va();i({type:"CONTEXT.SET",context:{focused:!0,focusVisible:h}})},onBlur(){i({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(h){if(s){h.preventDefault();return}let v=h.currentTarget.checked;i({type:"CHECKED.SET",checked:v,isTrusted:!0})}})}}}var CO,wo,Yg,Kg,TO,PO,Kl,SO,qi,jg,OO,wO,eN,VO,kO,Zg=te(()=>{"use strict";cn();ae();CO=_("switch").parts("root","label","control","thumb"),wo=CO.build(),Yg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`switch:${e.id}`},Kg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`switch:${e.id}:label`},TO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.thumb)!=null?a:`switch:${e.id}:thumb`},PO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.control)!=null?a:`switch:${e.id}:control`},Kl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.hiddenInput)!=null?a:`switch:${e.id}:input`},SO=e=>e.getById(Yg(e)),qi=e=>e.getById(Kl(e));({not:jg}=be()),OO={props({props:e}){return g({defaultChecked:!1,label:"switch",value:"on"},e)},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(a){var i;(i=e("onCheckedChange"))==null||i({checked:a})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:a,action:i}){e([()=>t("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>a.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:jg("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:jg("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:a}){if(!e("isDisabled"))return pr({pointerNode:SO(t),keyboardNode:qi(t),isValidKey:i=>i.key===" ",onPress:()=>a.set("active",!1),onPressStart:()=>a.set("active",!0),onPressEnd:()=>a.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return ya({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:a}){return St(qi(a),{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){let i=e.initial("checked");t({type:"CHECKED.SET",checked:!!i,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(let a in t.context)e.set(a,t.context[a])},syncInputElement({context:e,scope:t}){let a=qi(t);a&&tn(a,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){queueMicrotask(()=>{let a=qi(t);ci(a,{checked:e.get("checked")})})}}}},wO=B()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),eN=H(wO),VO=class extends z{initMachine(e){return new q(OO,e)}initApi(){return IO(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="switch"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="switch"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let a=this.el.querySelector('[data-scope="switch"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="switch"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let n=this.el.querySelector('[data-scope="switch"][data-part="thumb"]');n&&this.spreadProps(n,this.api.getThumbProps())}},kO={mounted(){let e=this.el,t=this.pushEvent.bind(this);this.wasFocused=!1;let a=new VO(e,y(g({id:e.id},T(e,"controlled")?{checked:T(e,"checked")}:{defaultChecked:T(e,"defaultChecked")}),{disabled:T(e,"disabled"),name:I(e,"name"),form:I(e,"form"),value:I(e,"value"),dir:I(e,"dir",["ltr","rtl"]),invalid:T(e,"invalid"),required:T(e,"required"),readOnly:T(e,"readOnly"),label:I(e,"label"),onCheckedChange:i=>{let n=I(e,"onCheckedChange");n&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(n,{checked:i.checked,id:e.id});let r=I(e,"onCheckedChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{value:i,id:e.id}}))}}));a.init(),this.zagSwitch=a,this.onSetChecked=i=>{let{value:n}=i.detail;a.api.setChecked(n)},e.addEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers=[],this.handlers.push(this.handleEvent("switch_set_checked",i=>{let n=i.id;n&&n!==e.id||a.api.setChecked(i.value)})),this.handlers.push(this.handleEvent("switch_toggle_checked",i=>{let n=i.id;n&&n!==e.id||a.api.toggleChecked()})),this.handlers.push(this.handleEvent("switch_checked",()=>{this.pushEvent("switch_checked_response",{value:a.api.checked})})),this.handlers.push(this.handleEvent("switch_focused",()=>{this.pushEvent("switch_focused_response",{value:a.api.focused})})),this.handlers.push(this.handleEvent("switch_disabled",()=>{this.pushEvent("switch_disabled_response",{value:a.api.disabled})}))},beforeUpdate(){var e,t;this.wasFocused=(t=(e=this.zagSwitch)==null?void 0:e.api.focused)!=null?t:!1},updated(){var e,t;(e=this.zagSwitch)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlled")?{checked:T(this.el,"checked")}:{defaultChecked:T(this.el,"defaultChecked")}),{disabled:T(this.el,"disabled"),name:I(this.el,"name"),form:I(this.el,"form"),value:I(this.el,"value"),dir:I(this.el,"dir",["ltr","rtl"]),invalid:T(this.el,"invalid"),required:T(this.el,"required"),readOnly:T(this.el,"readOnly"),label:I(this.el,"label")})),T(this.el,"controlled")&&this.wasFocused&&((t=this.el.querySelector('[data-part="hidden-input"]'))==null||t.focus())},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.zagSwitch)==null||e.destroy()}}});var tf={};de(tf,{Tabs:()=>KO});function GO(e,t){let{state:a,send:i,context:n,prop:r,scope:o}=e,s=r("translations"),l=a.matches("focused"),d=r("orientation")==="vertical",c=r("orientation")==="horizontal",f=r("composite");function p(u){return{selected:n.get("value")===u.value,focused:n.get("focusedValue")===u.value,disabled:!!u.disabled}}return{value:n.get("value"),focusedValue:n.get("focusedValue"),setValue(u){i({type:"SET_VALUE",value:u})},clearValue(){i({type:"CLEAR_VALUE"})},setIndicatorRect(u){let h=ii(o,u);i({type:"SET_INDICATOR_RECT",id:h})},syncTabIndex(){i({type:"SYNC_TAB_INDEX"})},selectNext(u){i({type:"TAB_FOCUS",value:u,src:"selectNext"}),i({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(u){i({type:"TAB_FOCUS",value:u,src:"selectPrev"}),i({type:"ARROW_PREV",src:"selectPrev"})},focus(){var h;let u=n.get("value");u&&((h=Vo(o,u))==null||h.focus())},getRootProps(){return t.element(y(g({},Hn.root.attrs),{id:RO(o),"data-orientation":r("orientation"),"data-focus":E(l),dir:r("dir")}))},getListProps(){return t.element(y(g({},Hn.list.attrs),{id:Bn(o),role:"tablist",dir:r("dir"),"data-focus":E(l),"aria-orientation":r("orientation"),"data-orientation":r("orientation"),"aria-label":s==null?void 0:s.listLabel,onKeyDown(u){if(u.defaultPrevented||ke(u)||!oe(u.currentTarget,j(u)))return;let h={ArrowDown(){c||i({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){c||i({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){d||i({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){d||i({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){i({type:"HOME"})},End(){i({type:"END"})}},v=ue(u,{dir:r("dir"),orientation:r("orientation")}),C=h[v];if(C){u.preventDefault(),C(u);return}}}))},getTriggerState:p,getTriggerProps(u){let{value:h,disabled:v}=u,C=p(u);return t.button(y(g({},Hn.trigger.attrs),{role:"tab",type:"button",disabled:v,dir:r("dir"),"data-orientation":r("orientation"),"data-disabled":E(v),"aria-disabled":v,"data-value":h,"aria-selected":C.selected,"data-selected":E(C.selected),"data-focus":E(C.focused),"aria-controls":C.selected?jl(o,h):void 0,"data-ownedby":Bn(o),"data-ssr":E(n.get("ssr")),id:ii(o,h),tabIndex:C.selected&&f?0:-1,onFocus(){i({type:"TAB_FOCUS",value:h})},onBlur(P){var w;((w=P.relatedTarget)==null?void 0:w.getAttribute("role"))!=="tab"&&i({type:"TAB_BLUR"})},onClick(P){P.defaultPrevented||Da(P)||v||(Ye()&&P.currentTarget.focus(),i({type:"TAB_CLICK",value:h}))}}))},getContentProps(u){let{value:h}=u,v=n.get("value")===h;return t.element(y(g({},Hn.content.attrs),{dir:r("dir"),id:jl(o,h),tabIndex:f?0:-1,"aria-labelledby":ii(o,h),role:"tabpanel","data-ownedby":Bn(o),"data-selected":E(v),"data-orientation":r("orientation"),hidden:!v}))},getIndicatorProps(){let u=n.get("indicatorRect"),h=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(y(g({id:Qg(o)},Hn.indicator.attrs),{dir:r("dir"),"data-orientation":r("orientation"),hidden:h,style:{"--transition-property":"left, right, top, bottom, width, height","--left":me(u==null?void 0:u.x),"--top":me(u==null?void 0:u.y),"--width":me(u==null?void 0:u.width),"--height":me(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[c?"left":"top"]:c?"var(--left)":"var(--top)"}}))}}}var NO,Hn,RO,Bn,jl,ii,Qg,AO,DO,Vo,Jg,zi,LO,MO,FO,HO,ef,BO,UO,_O,$O,nN,qO,rN,zO,oN,WO,KO,af=te(()=>{"use strict";ae();NO=_("tabs").parts("root","list","trigger","content","indicator"),Hn=NO.build(),RO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`tabs:${e.id}`},Bn=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.list)!=null?a:`tabs:${e.id}:list`},jl=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.content)==null?void 0:i.call(a,t))!=null?n:`tabs:${e.id}:content-${t}`},ii=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.trigger)==null?void 0:i.call(a,t))!=null?n:`tabs:${e.id}:trigger-${t}`},Qg=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.indicator)!=null?a:`tabs:${e.id}:indicator`},AO=e=>e.getById(Bn(e)),DO=(e,t)=>e.getById(jl(e,t)),Vo=(e,t)=>t!=null?e.getById(ii(e,t)):null,Jg=e=>e.getById(Qg(e)),zi=e=>{let t=`[role=tab][data-ownedby='${CSS.escape(Bn(e))}']:not([disabled])`;return De(AO(e),t)},LO=e=>st(zi(e)),MO=e=>ft(zi(e)),FO=(e,t)=>fi(zi(e),ii(e,t.value),t.loopFocus),HO=(e,t)=>mi(zi(e),ii(e,t.value),t.loopFocus),ef=e=>{var t,a,i,n;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(a=e==null?void 0:e.offsetTop)!=null?a:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(n=e==null?void 0:e.offsetHeight)!=null?n:0}},BO=(e,t)=>{let a=is(zi(e),ii(e,t));return ef(a)};({createMachine:UO}=dt()),_O=UO({props({props:e}){return g({dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){hi(t.node)},defaultValue:null},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var i;(i=e("onValueChange"))==null||i({value:a})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(a){var i;(i=e("onFocusChange"))==null||i({focusedValue:a})}})),ssr:t(()=>({defaultValue:!0})),indicatorRect:t(()=>({defaultValue:null}))}},watch({context:e,prop:t,track:a,action:i}){a([()=>e.get("value")],()=>{i(["syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),a([()=>t("dir"),()=>t("orientation")],()=>{i(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){F(()=>{let a=e.get("focusedValue");if(!a)return;let i=t("deselectable")&&e.get("value")===a?null:a;e.set("value",i)})},setFocusedValue({context:e,event:t,flush:a}){t.value!=null&&a(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:a}){let i=a("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",i?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){F(()=>{var t;(t=LO(e))==null||t.focus()})},focusLastTab({scope:e}){F(()=>{var t;(t=MO(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:a,event:i}){var o;let n=(o=i.value)!=null?o:e.get("focusedValue");if(!n)return;let r=FO(a,{value:n,loopFocus:t("loopFocus")});F(()=>{t("composite")?r==null||r.focus():(r==null?void 0:r.dataset.value)!=null&&e.set("focusedValue",r.dataset.value)})},focusPrevTab({context:e,prop:t,scope:a,event:i}){var o;let n=(o=i.value)!=null?o:e.get("focusedValue");if(!n)return;let r=HO(a,{value:n,loopFocus:t("loopFocus")});F(()=>{t("composite")?r==null||r.focus():(r==null?void 0:r.dataset.value)!=null&&e.set("focusedValue",r.dataset.value)})},syncTabIndex({context:e,scope:t}){F(()=>{let a=e.get("value");if(!a)return;let i=DO(t,a);i&&(an(i).length>0?i.removeAttribute("tabindex"):i.setAttribute("tabindex","0"))})},cleanupObserver({refs:e}){let t=e.get("indicatorCleanup");t&&t()},setIndicatorRect({context:e,event:t,scope:a}){var n;let i=(n=t.id)!=null?n:e.get("value");!Jg(a)||!i||!Vo(a,i)||e.set("indicatorRect",BO(a,i))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:a}){let i=t.get("indicatorCleanup");if(i&&i(),!Jg(a))return;let n=()=>{let s=Vo(a,e.get("value"));if(!s)return;let l=ef(s);e.set("indicatorRect",d=>ge(d,l)?d:l)};n();let r=zi(a),o=wt(...r.map(s=>ua.observe(s,n)));t.set("indicatorCleanup",o)},navigateIfNeeded({context:e,prop:t,scope:a}){var r;let i=e.get("value");if(!i)return;let n=Vo(a,i);nt(n)&&((r=t("navigate"))==null||r({value:i,node:n,href:n.href}))}}}}),$O=B()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]),nN=H($O),qO=B()(["disabled","value"]),rN=H(qO),zO=B()(["value"]),oN=H(zO),WO=class extends z{initMachine(e){return new q(_O,e)}initApi(){return GO(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="tabs"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="tabs"][data-part="list"]');if(!t)return;this.spreadProps(t,this.api.getListProps());let a=this.el.getAttribute("data-items"),i=a?JSON.parse(a):[],n=t.querySelectorAll('[data-scope="tabs"][data-part="trigger"]');for(let o=0;o<n.length&&o<i.length;o++){let s=n[o],l=i[o];this.spreadProps(s,this.api.getTriggerProps({value:l.value,disabled:l.disabled}))}let r=e.querySelectorAll('[data-scope="tabs"][data-part="content"]');for(let o=0;o<r.length&&o<i.length;o++){let s=r[o],l=i[o];this.spreadProps(s,this.api.getContentProps({value:l.value}))}}},KO={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=new WO(e,y(g({id:e.id},T(e,"controlled")?{value:I(e,"value")}:{defaultValue:I(e,"defaultValue")}),{orientation:I(e,"orientation",["horizontal","vertical"]),dir:I(e,"dir",["ltr","rtl"]),onValueChange:i=>{var o,s;let n=I(e,"onValueChange");n&&this.liveSocket.main.isConnected()&&t(n,{id:e.id,value:(o=i.value)!=null?o:null});let r=I(e,"onValueChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{id:e.id,value:(s=i.value)!=null?s:null}}))},onFocusChange:i=>{var o,s;let n=I(e,"onFocusChange");n&&this.liveSocket.main.isConnected()&&t(n,{id:e.id,value:(o=i.focusedValue)!=null?o:null});let r=I(e,"onFocusChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{id:e.id,value:(s=i.focusedValue)!=null?s:null}}))}}));a.init(),this.tabs=a,this.onSetValue=i=>{let{value:n}=i.detail;a.api.setValue(n)},e.addEventListener("phx:tabs:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("tabs_set_value",i=>{let n=i.tabs_id;n&&n!==e.id||a.api.setValue(i.value)})),this.handlers.push(this.handleEvent("tabs_value",()=>{this.pushEvent("tabs_value_response",{value:a.api.value})})),this.handlers.push(this.handleEvent("tabs_focused_value",()=>{this.pushEvent("tabs_focused_value_response",{value:a.api.focusedValue})}))},updated(){var e;(e=this.tabs)==null||e.updateProps(y(g({id:this.el.id},T(this.el,"controlled")?{value:I(this.el,"value")}:{defaultValue:I(this.el,"defaultValue")}),{orientation:I(this.el,"orientation",["horizontal","vertical"]),dir:I(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:tabs:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.tabs)==null||e.destroy()}}});var of={};de(of,{Timer:()=>r0});function ZO(e,t){let{state:a,send:i,computed:n,scope:r}=e,o=a.matches("running"),s=a.matches("paused"),l=n("time"),d=n("formattedTime"),c=n("progressPercent");return{running:o,paused:s,time:l,formattedTime:d,progressPercent:c,start(){i({type:"START"})},pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},reset(){i({type:"RESET"})},restart(){i({type:"RESTART"})},getRootProps(){return t.element(g({id:YO(r)},ka.root.attrs))},getAreaProps(){return t.element(g({role:"timer",id:XO(r),"aria-label":`${l.days} days ${d.hours}:${d.minutes}:${d.seconds}`,"aria-atomic":!0},ka.area.attrs))},getControlProps(){return t.element(g({},ka.control.attrs))},getItemProps(f){let p=l[f.type];return t.element(y(g({},ka.item.attrs),{"data-type":f.type,style:{"--value":p}}))},getItemLabelProps(f){return t.element(y(g({},ka.itemLabel.attrs),{"data-type":f.type}))},getItemValueProps(f){return t.element(y(g({},ka.itemValue.attrs),{"data-type":f.type}))},getSeparatorProps(){return t.element(g({"aria-hidden":!0},ka.separator.attrs))},getActionTriggerProps(f){if(!nf.has(f.action))throw new Error(`[zag-js] Invalid action: ${f.action}. Must be one of: ${Array.from(nf).join(", ")}`);return t.button(y(g({},ka.actionTrigger.attrs),{hidden:xe(f.action,{start:()=>o||s,pause:()=>!o,reset:()=>!o&&!s,resume:()=>!s,restart:()=>!1}),type:"button",onClick(p){p.defaultPrevented||i({type:f.action.toUpperCase()})}}))}}}function QO(e){let t=Math.max(0,e),a=t%1e3,i=Math.floor(t/1e3)%60,n=Math.floor(t/(1e3*60))%60,r=Math.floor(t/(1e3*60*60))%24;return{days:Math.floor(t/(1e3*60*60*24)),hours:r,minutes:n,seconds:i,milliseconds:a}}function rf(e,t,a){let i=a-t;return i===0?0:(e-t)/i}function Gn(e,t=2){return e.toString().padStart(t,"0")}function e0(e,t){return Math.floor(e/t)*t}function t0(e){let{days:t,hours:a,minutes:i,seconds:n}=e;return{days:Gn(t),hours:Gn(a),minutes:Gn(i),seconds:Gn(n),milliseconds:Gn(e.milliseconds,3)}}function a0(e){let{startMs:t,targetMs:a,countdown:i,interval:n}=e;if(n!=null&&(typeof n!="number"||n<=0))throw new Error(`[timer] Invalid interval: ${n}. Must be a positive number.`);if(t!=null&&(typeof t!="number"||t<0))throw new Error(`[timer] Invalid startMs: ${t}. Must be a non-negative number.`);if(a!=null&&(typeof a!="number"||a<0))throw new Error(`[timer] Invalid targetMs: ${a}. Must be a non-negative number.`);if(i&&t!=null&&a!=null&&t<=a)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than targetMs (${a}).`);if(!i&&t!=null&&a!=null&&t>=a)throw new Error(`[timer] Invalid stopwatch configuration: startMs (${t}) must be less than targetMs (${a}).`);if(i&&a==null&&t!=null&&t<=0)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than 0 when no targetMs is provided.`)}var jO,ka,YO,XO,nf,JO,i0,uN,n0,r0,sf=te(()=>{"use strict";ae();jO=_("timer").parts("root","area","control","item","itemValue","itemLabel","actionTrigger","separator"),ka=jO.build(),YO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`timer:${e.id}:root`},XO=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.area)!=null?a:`timer:${e.id}:area`},nf=new Set(["start","pause","resume","reset","restart"]);JO={props({props:e}){return a0(e),g({interval:1e3,startMs:0},e)},initialState({prop:e}){return e("autoStart")?"running":"idle"},context({prop:e,bindable:t}){return{currentMs:t(()=>({defaultValue:e("startMs")}))}},watch({track:e,send:t,prop:a}){e([()=>a("startMs")],()=>{t({type:"RESTART"})})},on:{RESTART:{target:"running:temp",actions:["resetTime"]}},computed:{time:({context:e})=>QO(e.get("currentMs")),formattedTime:({computed:e})=>t0(e("time")),progressPercent:Fa(({context:e,prop:t})=>[e.get("currentMs"),t("targetMs"),t("startMs"),t("countdown")],([e,t=0,a,i])=>{let n=i?rf(e,t,a):rf(e,a,t);return He(n,0,1)})},states:{idle:{on:{START:{target:"running"},RESET:{actions:["resetTime"]}}},"running:temp":{effects:["waitForNextTick"],on:{CONTINUE:{target:"running"}}},running:{effects:["keepTicking"],on:{PAUSE:{target:"paused"},TICK:[{target:"idle",guard:"hasReachedTarget",actions:["invokeOnComplete"]},{actions:["updateTime","invokeOnTick"]}],RESET:{actions:["resetTime"]}}},paused:{on:{RESUME:{target:"running"},RESET:{target:"idle",actions:["resetTime"]}}}},implementations:{effects:{keepTicking({prop:e,send:t}){return iu(({deltaMs:a})=>{t({type:"TICK",deltaMs:a})},e("interval"))},waitForNextTick({send:e}){return ha(()=>{e({type:"CONTINUE"})},0)}},actions:{updateTime({context:e,prop:t,event:a}){let i=t("countdown")?-1:1,n=e0(a.deltaMs,t("interval"));e.set("currentMs",r=>{let o=r+i*n,s=t("targetMs");return s==null&&t("countdown")&&(s=0),t("countdown")&&s!=null?Math.max(o,s):!t("countdown")&&s!=null?Math.min(o,s):o})},resetTime({context:e,prop:t}){var i;let a=t("targetMs");a==null&&t("countdown")&&(a=0),e.set("currentMs",(i=t("startMs"))!=null?i:0)},invokeOnTick({context:e,prop:t,computed:a}){var i;(i=t("onTick"))==null||i({value:e.get("currentMs"),time:a("time"),formattedTime:a("formattedTime")})},invokeOnComplete({prop:e}){var t;(t=e("onComplete"))==null||t()}},guards:{hasReachedTarget:({context:e,prop:t})=>{let a=t("targetMs");if(a==null&&t("countdown")&&(a=0),a==null)return!1;let i=e.get("currentMs");return t("countdown")?i<=a:i>=a}}}};i0=B()(["autoStart","countdown","getRootNode","id","ids","interval","onComplete","onTick","startMs","targetMs"]),uN=H(i0),n0=class extends z{initMachine(e){return new q(JO,e)}initApi(){return ZO(this.machine.service,$)}render(){var n;let e=(n=this.el.querySelector('[data-scope="timer"][data-part="root"]'))!=null?n:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="timer"][data-part="area"]');t&&this.spreadProps(t,this.api.getAreaProps());let a=this.el.querySelector('[data-scope="timer"][data-part="control"]');a&&this.spreadProps(a,this.api.getControlProps()),["days","hours","minutes","seconds","milliseconds"].forEach(r=>{let o=this.el.querySelector(`[data-scope="timer"][data-part="item"][data-type="${r}"]`);o&&this.spreadProps(o,this.api.getItemProps({type:r}));let s=this.el.querySelector(`[data-scope="timer"][data-part="item-value"][data-type="${r}"]`);s&&this.spreadProps(s,this.api.getItemValueProps({type:r}));let l=this.el.querySelector(`[data-scope="timer"][data-part="item-label"][data-type="${r}"]`);l&&this.spreadProps(l,this.api.getItemLabelProps({type:r}))});let i=this.el.querySelector('[data-scope="timer"][data-part="separator"]');i&&this.spreadProps(i,this.api.getSeparatorProps()),["start","pause","resume","reset","restart"].forEach(r=>{let o=this.el.querySelector(`[data-scope="timer"][data-part="action-trigger"][data-action="${r}"]`);o&&this.spreadProps(o,this.api.getActionTriggerProps({action:r}))})}},r0={mounted(){var a;let e=this.el,t=new n0(e,{id:e.id,countdown:T(e,"countdown"),startMs:W(e,"startMs"),targetMs:W(e,"targetMs"),autoStart:T(e,"autoStart"),interval:(a=W(e,"interval"))!=null?a:1e3,onTick:i=>{let n=I(e,"onTick");n&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(n,{value:i.value,time:i.time,formattedTime:i.formattedTime,id:e.id})},onComplete:()=>{let i=I(e,"onComplete");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(i,{id:e.id})}});t.init(),this.timer=t,this.handlers=[]},updated(){var e,t;(t=this.timer)==null||t.updateProps({id:this.el.id,countdown:T(this.el,"countdown"),startMs:W(this.el,"startMs"),targetMs:W(this.el,"targetMs"),autoStart:T(this.el,"autoStart"),interval:(e=W(this.el,"interval"))!=null?e:1e3})},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.timer)==null||e.destroy()}}});var mf={};de(mf,{Toast:()=>V0});function Yl(e,t){var a;return(a=e!=null?e:pf[t])!=null?a:pf.DEFAULT}function u0(e,t){var v;let{prop:a,computed:i,context:n}=e,{offsets:r,gap:o}=a("store").attrs,s=n.get("heights"),l=d0(r),d=a("dir")==="rtl",c=t.replace("-start",d?"-right":"-left").replace("-end",d?"-left":"-right"),f=c.includes("right"),p=c.includes("left"),u={position:"fixed",pointerEvents:i("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${o}px`,"--first-height":`${((v=s[0])==null?void 0:v.height)||0}px`,"--viewport-offset-left":l.left,"--viewport-offset-right":l.right,"--viewport-offset-top":l.top,"--viewport-offset-bottom":l.bottom,zIndex:ir},h="center";if(f&&(h="flex-end"),p&&(h="flex-start"),u.alignItems=h,c.includes("top")){let C=l.top;u.top=`max(env(safe-area-inset-top, 0px), ${C})`}if(c.includes("bottom")){let C=l.bottom;u.bottom=`max(env(safe-area-inset-bottom, 0px), ${C})`}if(!c.includes("left")){let C=l.right;u.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${C})`}if(!c.includes("right")){let C=l.left;u.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${C})`}return u}function c0(e,t){let{prop:a,context:i,computed:n}=e,r=a("parent"),o=r.computed("placement"),{gap:s}=r.prop("store").attrs,[l]=o.split("-"),d=i.get("mounted"),c=i.get("remainingTime"),f=n("height"),p=n("frontmost"),u=!p,h=!a("stacked"),v=a("stacked"),C=a("type")==="loading"?Number.MAX_SAFE_INTEGER:c,P=n("heightIndex")*s+n("heightBefore"),w={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${a("removeDelay")}ms`,"--duration":`${C}ms`,"--initial-height":`${f}px`,"--offset":`${P}px`,"--index":a("index"),"--z-index":n("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},b=m=>Object.assign(w,m);return l==="top"?b({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):l==="bottom"&&b({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),d&&(b({"--y":"0","--opacity":"1"}),v&&b({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||b({"--opacity":"0",pointerEvents:"none"}),u&&h&&(b({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||b({"--y":"calc(var(--sign) * 40%)"})),u&&v&&!t&&b({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),p&&!t&&b({"--y":"calc(var(--lift) * -100%)"}),w}function p0(e,t){let{computed:a}=e,i={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},n=r=>Object.assign(i,r);return a("frontmost")&&!t&&n({height:"calc(var(--initial-height) + 80%)"}),i}function h0(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function g0(e,t){let{context:a,prop:i,send:n,refs:r,computed:o}=e;return{getCount(){return a.get("toasts").length},getToasts(){return a.get("toasts")},getGroupProps(s={}){let{label:l="Notifications"}=s,{hotkey:d}=i("store").attrs,c=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=o("placement"),[p,u="center"]=f.split("-");return t.element(y(g({},Wi.group.attrs),{dir:i("dir"),tabIndex:-1,"aria-label":`${f} ${l} ${c}`,id:s0(f),"data-placement":f,"data-side":p,"data-align":u,"aria-live":"polite",role:"region",style:u0(e,f),onMouseEnter(){r.get("ignoreMouseTimer").isActive()||n({type:"REGION.POINTER_ENTER",placement:f})},onMouseMove(){r.get("ignoreMouseTimer").isActive()||n({type:"REGION.POINTER_ENTER",placement:f})},onMouseLeave(){r.get("ignoreMouseTimer").isActive()||n({type:"REGION.POINTER_LEAVE",placement:f})},onFocus(h){n({type:"REGION.FOCUS",target:h.relatedTarget})},onBlur(h){r.get("isFocusWithin")&&!oe(h.currentTarget,h.relatedTarget)&&queueMicrotask(()=>n({type:"REGION.BLUR"}))}}))},subscribe(s){return i("store").subscribe(()=>s(a.get("toasts")))}}}function y0(e,t){let{state:a,send:i,prop:n,scope:r,context:o,computed:s}=e,l=a.hasTag("visible"),d=a.hasTag("paused"),c=o.get("mounted"),f=s("frontmost"),p=n("parent").computed("placement"),u=n("type"),h=n("stacked"),v=n("title"),C=n("description"),P=n("action"),[w,b="center"]=p.split("-");return{type:u,title:v,description:C,placement:p,visible:l,paused:d,closable:!!n("closable"),pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},dismiss(){i({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element(y(g({},Wi.root.attrs),{dir:n("dir"),id:ff(r),"data-state":l?"open":"closed","data-type":u,"data-placement":p,"data-align":b,"data-side":w,"data-mounted":E(c),"data-paused":E(d),"data-first":E(f),"data-sibling":E(!f),"data-stack":E(h),"data-overlap":E(!h),role:"status","aria-atomic":"true","aria-describedby":C?cf(r):void 0,"aria-labelledby":v?uf(r):void 0,tabIndex:0,style:c0(e,l),onKeyDown(m){m.defaultPrevented||m.key=="Escape"&&(i({type:"DISMISS",src:"keyboard"}),m.preventDefault())}}))},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:p0(e,l)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:h0()})},getTitleProps(){return t.element(y(g({},Wi.title.attrs),{id:uf(r)}))},getDescriptionProps(){return t.element(y(g({},Wi.description.attrs),{id:cf(r)}))},getActionTriggerProps(){return t.button(y(g({},Wi.actionTrigger.attrs),{type:"button",onClick(m){var S;m.defaultPrevented||((S=P==null?void 0:P.onClick)==null||S.call(P),i({type:"DISMISS",src:"user"}))}}))},getCloseTriggerProps(){return t.button(y(g({id:l0(r)},Wi.closeTrigger.attrs),{type:"button","aria-label":"Dismiss notification",onClick(m){m.defaultPrevented||i({type:"DISMISS",src:"user"})}}))}}}function hf(e,t){let{id:a,height:i}=t;e.context.set("heights",n=>n.find(r=>r.id===a)?n.map(r=>r.id===a?y(g({},r),{height:i}):r):[{id:a,height:i},...n])}function T0(e={}){let t=C0(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0}),a=[],i=[],n=new Set,r=[],o=p=>(a.push(p),()=>{let u=a.indexOf(p);a.splice(u,1)}),s=p=>(a.forEach(u=>u(p)),p),l=p=>{if(i.length>=t.max){r.push(p);return}s(p),i.unshift(p)},d=()=>{for(;r.length>0&&i.length<t.max;){let p=r.shift();p&&(s(p),i.unshift(p))}},c=p=>{var v;let u=(v=p.id)!=null?v:`toast:${sn()}`,h=i.find(C=>C.id===u);return n.has(u)&&n.delete(u),h?i=i.map(C=>C.id===u?s(y(g(g({},C),p),{id:u})):C):l(y(g({id:u,duration:t.duration,removeDelay:t.removeDelay,type:"info"},p),{stacked:!t.overlap,gap:t.gap})),u},f=p=>(n.add(p),p?(a.forEach(u=>u({id:p,dismiss:!0})),i=i.filter(u=>u.id!==p),d()):(i.forEach(u=>{a.forEach(h=>h({id:u.id,dismiss:!0}))}),i=[],r=[]),p);return{attrs:t,subscribe:o,create:c,update:(p,u)=>c(g({id:p},u)),remove:f,dismiss:p=>{p!=null?i=i.map(u=>u.id===p?s(y(g({},u),{message:"DISMISS"})):u):i=i.map(u=>s(y(g({},u),{message:"DISMISS"})))},error:p=>c(y(g({},p),{type:"error"})),success:p=>c(y(g({},p),{type:"success"})),info:p=>c(y(g({},p),{type:"info"})),warning:p=>c(y(g({},p),{type:"warning"})),loading:p=>c(y(g({},p),{type:"loading"})),getVisibleToasts:()=>i.filter(p=>!n.has(p.id)),getCount:()=>i.length,promise:(p,u,h={})=>{if(!u||!u.loading){zt("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}let v=c(y(g(g({},h),u.loading),{promise:p,type:"loading"})),C=!0,P,w=qt(p).then(b=>Se(null,null,function*(){if(P=["resolve",b],P0(b)&&!b.ok){C=!1;let m=qt(u.error,`HTTP Error! status: ${b.status}`);c(y(g(g({},h),m),{id:v,type:"error"}))}else if(u.success!==void 0){C=!1;let m=qt(u.success,b);c(y(g(g({},h),m),{id:v,type:"success"}))}})).catch(b=>Se(null,null,function*(){if(P=["reject",b],u.error!==void 0){C=!1;let m=qt(u.error,b);c(y(g(g({},h),m),{id:v,type:"error"}))}})).finally(()=>{var b;C&&f(v),(b=u.finally)==null||b.call(u)});return{id:v,unwrap:()=>new Promise((b,m)=>w.then(()=>P[0]==="reject"?m(P[1]):b(P[1])).catch(m))}},pause:p=>{p!=null?i=i.map(u=>u.id===p?s(y(g({},u),{message:"PAUSE"})):u):i=i.map(u=>s(y(g({},u),{message:"PAUSE"})))},resume:p=>{p!=null?i=i.map(u=>u.id===p?s(y(g({},u),{message:"RESUME"})):u):i=i.map(u=>s(y(g({},u),{message:"RESUME"})))},isVisible:p=>!n.has(p)&&!!i.find(u=>u.id===p),isDismissed:p=>n.has(p),expand:()=>{i=i.map(p=>s(y(g({},p),{stacked:!0})))},collapse:()=>{i=i.map(p=>s(y(g({},p),{stacked:!1})))}}}function w0(e,t){var r,o,s;let a=(r=t==null?void 0:t.id)!=null?r:Aa(e,"toast"),i=(s=t==null?void 0:t.store)!=null?s:T0({placement:(o=t==null?void 0:t.placement)!=null?o:"bottom",overlap:t==null?void 0:t.overlap,max:t==null?void 0:t.max,gap:t==null?void 0:t.gap,offsets:t==null?void 0:t.offsets,pauseOnPageIdle:t==null?void 0:t.pauseOnPageIdle}),n=new O0(e,{id:a,store:i});return n.init(),S0.set(a,n),Xl.set(a,i),e.dataset.toastGroup="true",e.dataset.toastGroupId=a,{group:n,store:i}}function Un(e){if(e)return Xl.get(e);let t=document.querySelector("[data-toast-group]");if(!t)return;let a=t.dataset.toastGroupId||t.id;return a?Xl.get(a):void 0}var o0,Wi,s0,lf,ff,df,uf,cf,l0,pf,d0,f0,m0,v0,b0,E0,x0,C0,P0,gf,S0,Xl,I0,O0,V0,vf=te(()=>{"use strict";_a();Qt();ae();o0=_("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),Wi=o0.build(),s0=e=>`toast-group:${e}`,lf=(e,t)=>e.getById(`toast-group:${t}`),ff=e=>`toast:${e.id}`,df=e=>e.getById(ff(e)),uf=e=>`toast:${e.id}:title`,cf=e=>`toast:${e.id}:description`,l0=e=>`toast${e.id}:close`,pf={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};d0=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;({guards:f0,createMachine:m0}=dt()),{and:v0}=f0,b0=m0({props({props:e}){return y(g({dir:"ltr",id:sn()},e),{store:e.store})},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:Jo.create(),dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(a=>a.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:a}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{a(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:v0("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore({context:e,prop:t}){let a=t("store");return e.set("toasts",a.getVisibleToasts()),a.subscribe(i=>{if(i.dismiss){e.set("toasts",n=>n.filter(r=>r.id!==i.id));return}e.set("toasts",n=>{let r=n.findIndex(o=>o.id===i.id);return r!==-1?[...n.slice(0,r),g(g({},n[r]),i),...n.slice(r+1)]:[i,...n]})})},trackHotKeyPress({prop:e,send:t}){return Z(document,"keydown",a=>{let{hotkey:i}=e("store").attrs;i.every(n=>a[n]||a.code===n)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:a}){let{pauseOnPageIdle:i}=e("store").attrs;if(!i)return;let n=a.getDoc();return Z(n,"visibilitychange",()=>{let r=n.visibilityState==="hidden";t({type:r?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:a,scope:i}){var l;let n=t.get("toasts"),r=a("placement"),o=n.length>0;if(!o){(l=e.get("dismissableCleanup"))==null||l();return}if(o&&e.get("dismissableCleanup"))return;let s=$c(()=>lf(i,r),{defer:!0});e.set("dismissableCleanup",s)},clearDismissableBranch({refs:e}){var t;(t=e.get("dismissableCleanup"))==null||t()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{var a;(a=lf(e,t("placement")))==null||a.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){(e==null?void 0:e.id)!=null&&queueMicrotask(()=>{t.set("heights",a=>a.filter(i=>i.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){var t;!e.get("lastFocusedEl")||e.get("isPointerWithin")||((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){var t;e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){var t;e.get("lastFocusedEl")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});({not:E0}=be()),x0={props({props:e}){return fa(e,["id","type","parent","removeDelay"],"toast"),y(g({closable:!0},e),{duration:Yl(e.duration,e.type)})},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:Yl(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{let t=e("parent").context.get("toasts"),a=t.findIndex(i=>i.id===e("id"));return t.length-a},height:({prop:e})=>{var t,a;return(a=(t=e("parent").context.get("heights").find(i=>i.id===e("id")))==null?void 0:t.height)!=null?a:0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(t=>t.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{let t=e("parent").context.get("heights"),a=t.findIndex(i=>i.id===e("id"));return t.reduce((i,n,r)=>r>=a?i:i+n.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:a}){e([()=>t("message")],()=>{let i=t("message");i&&a({type:i,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{a({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:E0("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return ha(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:a}){if(!a("shouldPersist"))return ha(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return ha(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let a;return F(()=>{let i=df(e);if(!i)return;let n=()=>{let s=i.style.height;i.style.height="auto";let l=i.getBoundingClientRect().height;i.style.height=s;let d={id:t("id"),height:l};hf(t("parent"),d)},r=e.getWin(),o=new r.MutationObserver(n);o.observe(i,{childList:!0,subtree:!0,characterData:!0}),a=()=>o.disconnect()}),()=>a==null?void 0:a()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){F(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:a}){queueMicrotask(()=>{let i=df(e);if(!i)return;let n=i.style.height;i.style.height="auto";let r=i.getBoundingClientRect().height;i.style.height=n,a.set("initialHeight",r);let o={id:t("id"),height:r};hf(t("parent"),o)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:a}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",Yl(a("duration"),a("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",a=>{let i=t.get("closeTimerStartTime"),n=Date.now()-i;return t.set("lastCloseStartTimerStartTime",Date.now()),a-n})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){var a;(a=e("onStatusChange"))==null||a({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"unmounted"})},invokeOnVisible({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"visible"})}}}};C0=(e,t)=>g(g({},t),xi(e));P0=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gf={connect:g0,machine:b0},S0=new Map,Xl=new Map,I0=class extends z{constructor(t,a){super(t,a);K(this,"parts");K(this,"duration");K(this,"destroy",()=>{this.machine.stop(),this.el.remove()});this.duration=a.duration,this.el.setAttribute("data-scope","toast"),this.el.setAttribute("data-part","root"),this.el.innerHTML=`
      <span data-scope="toast" data-part="ghost-before"></span>
      <div data-scope="toast" data-part="progressbar"></div>
      <div data-scope="toast" data-part="loading-spinner" style="display: none;"></div>

      <div data-scope="toast" data-part="content">
        <div data-scope="toast" data-part="title"></div>
        <div data-scope="toast" data-part="description"></div>
      </div>

      <button data-scope="toast" data-part="close-trigger">
        <svg viewBox="0 0 20 20" aria-hidden="true">
          <path d="M4.293 4.293 10 8.586l5.707-5.707 1.414 1.414L11.414 10l5.707 5.707-1.414 1.414L10 11.414l-5.707 5.707-1.414-1.414L8.586 10 2.879 4.293z"/>
        </svg>
      </button>

      <span data-scope="toast" data-part="ghost-after"></span>
    `,this.parts={title:this.el.querySelector('[data-scope="toast"][data-part="title"]'),description:this.el.querySelector('[data-scope="toast"][data-part="description"]'),close:this.el.querySelector('[data-scope="toast"][data-part="close-trigger"]'),ghostBefore:this.el.querySelector('[data-scope="toast"][data-part="ghost-before"]'),ghostAfter:this.el.querySelector('[data-scope="toast"][data-part="ghost-after"]'),progressbar:this.el.querySelector('[data-scope="toast"][data-part="progressbar"]'),loadingSpinner:this.el.querySelector('[data-scope="toast"][data-part="loading-spinner"]')}}initMachine(t){return new q(x0,t)}initApi(){return y0(this.machine.service,$)}render(){var n,r,o,s;this.spreadProps(this.el,this.api.getRootProps()),this.spreadProps(this.parts.close,this.api.getCloseTriggerProps()),this.spreadProps(this.parts.ghostBefore,this.api.getGhostBeforeProps()),this.spreadProps(this.parts.ghostAfter,this.api.getGhostAfterProps()),this.parts.title.textContent!==this.api.title&&(this.parts.title.textContent=(n=this.api.title)!=null?n:""),this.parts.description.textContent!==this.api.description&&(this.parts.description.textContent=(r=this.api.description)!=null?r:""),this.spreadProps(this.parts.title,this.api.getTitleProps()),this.spreadProps(this.parts.description,this.api.getDescriptionProps());let t=this.duration,a=t==="Infinity"||t===1/0||t===Number.POSITIVE_INFINITY,i=(s=(o=this.el.closest('[phx-hook="Toast"]'))==null?void 0:o.querySelector("[data-loading-icon-template]"))==null?void 0:s.innerHTML;a?(this.parts.progressbar.style.display="none",this.parts.loadingSpinner.style.display="flex",this.el.setAttribute("data-duration-infinity","true"),i&&this.parts.loadingSpinner.innerHTML!==i&&(this.parts.loadingSpinner.innerHTML=i)):(this.parts.progressbar.style.display="block",this.parts.loadingSpinner.style.display="none",this.el.removeAttribute("data-duration-infinity"))}},O0=class extends z{constructor(t,a){var i;super(t,a);K(this,"toastComponents",new Map);K(this,"groupEl");K(this,"store");K(this,"destroy",()=>{for(let t of this.toastComponents.values())t.destroy();this.toastComponents.clear(),this.machine.stop()});this.store=a.store,this.groupEl=(i=t.querySelector('[data-part="group"]'))!=null?i:(()=>{let n=document.createElement("div");return n.setAttribute("data-scope","toast"),n.setAttribute("data-part","group"),t.appendChild(n),n})()}initMachine(t){return new q(gf.machine,t)}initApi(){return gf.connect(this.machine.service,$)}render(){this.spreadProps(this.groupEl,this.api.getGroupProps());let t=this.api.getToasts().filter(i=>typeof i.id=="string"),a=new Set(t.map(i=>i.id));t.forEach((i,n)=>{let r=this.toastComponents.get(i.id);if(r)r.duration=i.duration,r.updateProps(y(g({},i),{parent:this.machine.service,index:n}));else{let o=document.createElement("div");o.setAttribute("data-scope","toast"),o.setAttribute("data-part","root"),this.groupEl.appendChild(o),r=new I0(o,y(g({},i),{parent:this.machine.service,index:n})),r.init(),this.toastComponents.set(i.id,r)}});for(let[i,n]of this.toastComponents)a.has(i)||(n.destroy(),this.toastComponents.delete(i))}};V0={mounted(){var f;let e=this.el;e.id||(e.id=Aa(e,"toast")),this.groupId=e.id;let t=p=>{if(p)try{return p.includes("{")?JSON.parse(p):p}catch(u){return p}},a=p=>p==="Infinity"||p===1/0?1/0:typeof p=="string"?parseInt(p,10)||void 0:p,i=(f=I(e,"placement",["top-start","top","top-end","bottom-start","bottom","bottom-end"]))!=null?f:"bottom-end";w0(e,{id:this.groupId,placement:i,overlap:T(e,"overlap"),max:W(e,"max"),gap:W(e,"gap"),offsets:t(I(e,"offset")),pauseOnPageIdle:T(e,"pauseOnPageIdle")});let n=Un(this.groupId),r=e.getAttribute("data-flash-info"),o=e.getAttribute("data-flash-info-title"),s=e.getAttribute("data-flash-error"),l=e.getAttribute("data-flash-error-title"),d=e.getAttribute("data-flash-info-duration"),c=e.getAttribute("data-flash-error-duration");if(n&&r)try{n.create({title:o||"Success",description:r,type:"info",id:Aa(void 0,"toast"),duration:a(d!=null?d:void 0)})}catch(p){console.error("Failed to create flash info toast:",p)}if(n&&s)try{n.create({title:l||"Error",description:s,type:"error",id:Aa(void 0,"toast"),duration:a(c!=null?c:void 0)})}catch(p){console.error("Failed to create flash error toast:",p)}this.handlers=[],this.handlers.push(this.handleEvent("toast-create",p=>{let u=Un(p.groupId||this.groupId);if(u)try{u.create({title:p.title,description:p.description,type:p.type||"info",id:p.id||Aa(void 0,"toast"),duration:a(p.duration)})}catch(h){console.error("Failed to create toast:",h)}})),this.handlers.push(this.handleEvent("toast-update",p=>{let u=Un(p.groupId||this.groupId);if(u)try{u.update(p.id,{title:p.title,description:p.description,type:p.type})}catch(h){console.error("Failed to update toast:",h)}})),this.handlers.push(this.handleEvent("toast-dismiss",p=>{let u=Un(p.groupId||this.groupId);if(u)try{u.dismiss(p.id)}catch(h){console.error("Failed to dismiss toast:",h)}})),e.addEventListener("toast:create",p=>{let{detail:u}=p,h=Un(u.groupId||this.groupId);if(h)try{h.create({title:u.title,description:u.description,type:u.type||"info",id:u.id||Aa(void 0,"toast"),duration:a(u.duration)})}catch(v){console.error("Failed to create toast:",v)}})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e)}}});var Cf={};de(Cf,{ToggleGroup:()=>U0});function L0(e,t){let{context:a,send:i,prop:n,scope:r}=e,o=a.get("value"),s=n("disabled"),l=!n("multiple"),d=n("rovingFocus"),c=n("orientation")==="horizontal";function f(p){let u=N0(r,p.value);return{id:u,disabled:!!(p.disabled||s),pressed:!!o.includes(p.value),focused:a.get("focusedId")===u}}return{value:o,setValue(p){i({type:"VALUE.SET",value:p})},getRootProps(){return t.element(y(g({},bf.root.attrs),{id:ko(r),dir:n("dir"),role:l?"radiogroup":"group",tabIndex:a.get("isTabbingBackward")?-1:0,"data-disabled":E(s),"data-orientation":n("orientation"),"data-focus":E(a.get("focusedId")!=null),style:{outline:"none"},onMouseDown(){s||i({type:"ROOT.MOUSE_DOWN"})},onFocus(p){s||p.currentTarget===j(p)&&(a.get("isClickFocus")||a.get("isTabbingBackward")||i({type:"ROOT.FOCUS"}))},onBlur(p){let u=p.relatedTarget;oe(p.currentTarget,u)||s||i({type:"ROOT.BLUR"})}}))},getItemState:f,getItemProps(p){let u=f(p),h=u.focused?0:-1;return t.button(y(g({},bf.item.attrs),{id:u.id,type:"button","data-ownedby":ko(r),"data-focus":E(u.focused),disabled:u.disabled,tabIndex:d?h:void 0,role:l?"radio":void 0,"aria-checked":l?u.pressed:void 0,"aria-pressed":l?void 0:u.pressed,"data-disabled":E(u.disabled),"data-orientation":n("orientation"),dir:n("dir"),"data-state":u.pressed?"on":"off",onFocus(){u.disabled||i({type:"TOGGLE.FOCUS",id:u.id})},onClick(v){u.disabled||(i({type:"TOGGLE.CLICK",id:u.id,value:p.value}),Ye()&&v.currentTarget.focus({preventScroll:!0}))},onKeyDown(v){if(v.defaultPrevented||!oe(v.currentTarget,j(v))||u.disabled)return;let C={Tab(P){let w=P.shiftKey;i({type:"TOGGLE.SHIFT_TAB",isShiftTab:w})},ArrowLeft(){!d||!c||i({type:"TOGGLE.FOCUS_PREV"})},ArrowRight(){!d||!c||i({type:"TOGGLE.FOCUS_NEXT"})},ArrowUp(){!d||c||i({type:"TOGGLE.FOCUS_PREV"})},ArrowDown(){!d||c||i({type:"TOGGLE.FOCUS_NEXT"})},Home(){d&&i({type:"TOGGLE.FOCUS_FIRST"})},End(){d&&i({type:"TOGGLE.FOCUS_LAST"})}}[ue(v)];C&&(C(v),v.key!=="Tab"&&v.preventDefault())}}))}}}var k0,bf,ko,N0,xf,No,yf,R0,A0,D0,Ef,M0,F0,H0,EN,B0,xN,G0,U0,Tf=te(()=>{"use strict";ae();k0=_("toggle-group").parts("root","item"),bf=k0.build(),ko=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`toggle-group:${e.id}`},N0=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.item)==null?void 0:i.call(a,t))!=null?n:`toggle-group:${e.id}:${t}`},xf=e=>e.getById(ko(e)),No=e=>{let t=`[data-ownedby='${CSS.escape(ko(e))}']:not([data-disabled])`;return De(xf(e),t)},yf=e=>st(No(e)),R0=e=>ft(No(e)),A0=(e,t,a)=>fi(No(e),t,a),D0=(e,t,a)=>mi(No(e),t,a);({not:Ef,and:M0}=be()),F0={props({props:e}){return g({defaultValue:[],orientation:"horizontal",rovingFocus:!0,loopFocus:!0,deselectable:!0},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var i;(i=e("onValueChange"))==null||i({value:a})}})),focusedId:t(()=>({defaultValue:null})),isTabbingBackward:t(()=>({defaultValue:!1})),isClickFocus:t(()=>({defaultValue:!1})),isWithinToolbar:t(()=>({defaultValue:!1}))}},computed:{currentLoopFocus:({context:e,prop:t})=>t("loopFocus")&&!e.get("isWithinToolbar")},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:Ef(M0("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward","clearFocusedId","clearClickFocus"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":[{guard:Ef("isFirstToggleFocused"),target:"idle",actions:["setIsTabbingBackward"]},{actions:["setIsTabbingBackward"]}]}}},implementations:{guards:{isClickFocus:({context:e})=>e.get("isClickFocus"),isTabbingBackward:({context:e})=>e.get("isTabbingBackward"),isFirstToggleFocused:({context:e,scope:t})=>{var a;return e.get("focusedId")===((a=yf(t))==null?void 0:a.id)}},actions:{setIsTabbingBackward({context:e}){e.set("isTabbingBackward",!0)},clearIsTabbingBackward({context:e}){e.set("isTabbingBackward",!1)},setClickFocus({context:e}){e.set("isClickFocus",!0)},clearClickFocus({context:e}){e.set("isClickFocus",!1)},checkIfWithinToolbar({context:e,scope:t}){var i;let a=(i=xf(t))==null?void 0:i.closest("[role=toolbar]");e.set("isWithinToolbar",!!a)},setFocusedId({context:e,event:t}){e.set("focusedId",t.id)},clearFocusedId({context:e}){e.set("focusedId",null)},setValue({context:e,event:t,prop:a}){fa(t,["value"]);let i=e.get("value");ca(t.value)?i=t.value:a("multiple")?i=vt(i,t.value):i=ge(i,[t.value])&&a("deselectable")?[]:[t.value],e.set("value",i)},focusNextToggle({context:e,scope:t,prop:a}){F(()=>{var n;let i=e.get("focusedId");i&&((n=A0(t,i,a("loopFocus")))==null||n.focus({preventScroll:!0}))})},focusPrevToggle({context:e,scope:t,prop:a}){F(()=>{var n;let i=e.get("focusedId");i&&((n=D0(t,i,a("loopFocus")))==null||n.focus({preventScroll:!0}))})},focusFirstToggle({scope:e}){F(()=>{var t;(t=yf(e))==null||t.focus({preventScroll:!0})})},focusLastToggle({scope:e}){F(()=>{var t;(t=R0(e))==null||t.focus({preventScroll:!0})})}}}},H0=B()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value","defaultValue","deselectable"]),EN=H(H0),B0=B()(["value","disabled"]),xN=H(B0),G0=class extends z{initMachine(e){return new q(F0,e)}initApi(){return L0(this.machine.service,$)}render(){let e=this.el.querySelector('[data-scope="toggle-group"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelectorAll('[data-scope="toggle-group"][data-part="item"]');for(let a=0;a<t.length;a++){let i=t[a],n=I(i,"value");if(!n)continue;let r=T(i,"disabled");this.spreadProps(i,this.api.getItemProps({value:n,disabled:r}))}}},U0={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=y(g({id:e.id},T(e,"controlled")?{value:X(e,"value")}:{defaultValue:X(e,"defaultValue")}),{defaultValue:X(e,"defaultValue"),deselectable:T(e,"deselectable"),loopFocus:T(e,"loopFocus"),rovingFocus:T(e,"rovingFocus"),disabled:T(e,"disabled"),multiple:T(e,"multiple"),orientation:I(e,"orientation",["horizontal","vertical"]),dir:I(e,"dir",["ltr","rtl"]),onValueChange:n=>{let r=I(e,"onValueChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{value:n.value,id:e.id});let o=I(e,"onValueChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:{value:n.value,id:e.id}}))}}),i=new G0(e,a);i.init(),this.toggleGroup=i,this.onSetValue=n=>{let{value:r}=n.detail;i.api.setValue(r)},e.addEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("toggle-group_set_value",n=>{let r=n.id;r&&r!==e.id||i.api.setValue(n.value)})),this.handlers.push(this.handleEvent("toggle-group:value",()=>{this.pushEvent("toggle-group:value_response",{value:i.api.value})}))},updated(){var e;(e=this.toggleGroup)==null||e.updateProps(y(g({},T(this.el,"controlled")?{value:X(this.el,"value")}:{defaultValue:X(this.el,"defaultValue")}),{deselectable:T(this.el,"deselectable"),loopFocus:T(this.el,"loopFocus"),rovingFocus:T(this.el,"rovingFocus"),disabled:T(this.el,"disabled"),multiple:T(this.el,"multiple"),orientation:I(this.el,"orientation",["horizontal","vertical"]),dir:I(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.toggleGroup)==null||e.destroy()}}});var wf={};de(wf,{TreeView:()=>J0});function Of(e,t,a){let i=e.getNodeValue(t);if(!e.isBranchNode(t))return a.includes(i);let n=e.getDescendantValues(i),r=n.every(s=>a.includes(s)),o=n.some(s=>a.includes(s));return r?!0:o?"indeterminate":!1}function q0(e,t,a){let i=e.getDescendantValues(t),n=i.every(r=>a.includes(r));return mt(n?lt(a,...i):Xe(a,...i))}function z0(e,t){let a=new Map;return e.visit({onEnter:i=>{let n=e.getNodeValue(i),r=e.isBranchNode(i),o=Of(e,i,t);a.set(n,{type:r?"branch":"leaf",checked:o})}}),a}function W0(e,t){let{context:a,scope:i,computed:n,prop:r,send:o}=e,s=r("collection"),l=Array.from(a.get("expandedValue")),d=Array.from(a.get("selectedValue")),c=Array.from(a.get("checkedValue")),f=n("isTypingAhead"),p=a.get("focusedValue"),u=a.get("loadingStatus"),h=a.get("renamingValue"),v=({indexPath:b})=>s.getValuePath(b).slice(0,-1).some(m=>!l.includes(m)),C=s.getFirstNode(void 0,{skip:v}),P=C?s.getNodeValue(C):null;function w(b){let{node:m,indexPath:S}=b,x=s.getNodeValue(m);return{id:Ql(i,x),value:x,indexPath:S,valuePath:s.getValuePath(S),disabled:!!m.disabled,focused:p==null?P===x:p===x,selected:d.includes(x),expanded:l.includes(x),loading:u[x]==="loading",depth:S.length,isBranch:s.isBranchNode(m),renaming:h===x,get checked(){return Of(s,m,c)}}}return{collection:s,expandedValue:l,selectedValue:d,checkedValue:c,toggleChecked(b,m){o({type:"CHECKED.TOGGLE",value:b,isBranch:m})},setChecked(b){o({type:"CHECKED.SET",value:b})},clearChecked(){o({type:"CHECKED.CLEAR"})},getCheckedMap(){return z0(s,c)},expand(b){o({type:b?"BRANCH.EXPAND":"EXPANDED.ALL",value:b})},collapse(b){o({type:b?"BRANCH.COLLAPSE":"EXPANDED.CLEAR",value:b})},deselect(b){o({type:b?"NODE.DESELECT":"SELECTED.CLEAR",value:b})},select(b){o({type:b?"NODE.SELECT":"SELECTED.ALL",value:b,isTrusted:!1})},getVisibleNodes(){return n("visibleNodes")},focus(b){we(i,b)},selectParent(b){let m=s.getParentNode(b);if(!m)return;let S=Xe(d,s.getNodeValue(m));o({type:"SELECTED.SET",value:S,src:"select.parent"})},expandParent(b){let m=s.getParentNode(b);if(!m)return;let S=Xe(l,s.getNodeValue(m));o({type:"EXPANDED.SET",value:S,src:"expand.parent"})},setExpandedValue(b){let m=mt(b);o({type:"EXPANDED.SET",value:m})},setSelectedValue(b){let m=mt(b);o({type:"SELECTED.SET",value:m})},startRenaming(b){o({type:"NODE.RENAME",value:b})},submitRenaming(b,m){o({type:"RENAME.SUBMIT",value:b,label:m})},cancelRenaming(){o({type:"RENAME.CANCEL"})},getRootProps(){return t.element(y(g({},Ue.root.attrs),{id:$0(i),dir:r("dir")}))},getLabelProps(){return t.element(y(g({},Ue.label.attrs),{id:Pf(i),dir:r("dir")}))},getTreeProps(){return t.element(y(g({},Ue.tree.attrs),{id:Zl(i),dir:r("dir"),role:"tree","aria-label":"Tree View","aria-labelledby":Pf(i),"aria-multiselectable":r("selectionMode")==="multiple"||void 0,tabIndex:-1,onKeyDown(b){if(b.defaultPrevented||ke(b))return;let m=j(b);if(Pt(m))return;let S=m==null?void 0:m.closest("[data-part=branch-control], [data-part=item]");if(!S)return;let x=S.dataset.value;if(x==null){console.warn("[zag-js/tree-view] Node id not found for node",S);return}let O=S.matches("[data-part=branch-control]"),V={ArrowDown(N){Ie(N)||(N.preventDefault(),o({type:"NODE.ARROW_DOWN",id:x,shiftKey:N.shiftKey}))},ArrowUp(N){Ie(N)||(N.preventDefault(),o({type:"NODE.ARROW_UP",id:x,shiftKey:N.shiftKey}))},ArrowLeft(N){Ie(N)||S.dataset.disabled||(N.preventDefault(),o({type:O?"BRANCH_NODE.ARROW_LEFT":"NODE.ARROW_LEFT",id:x}))},ArrowRight(N){!O||S.dataset.disabled||(N.preventDefault(),o({type:"BRANCH_NODE.ARROW_RIGHT",id:x}))},Home(N){Ie(N)||(N.preventDefault(),o({type:"NODE.HOME",id:x,shiftKey:N.shiftKey}))},End(N){Ie(N)||(N.preventDefault(),o({type:"NODE.END",id:x,shiftKey:N.shiftKey}))},Space(N){var U;S.dataset.disabled||(f?o({type:"TREE.TYPEAHEAD",key:N.key}):(U=V.Enter)==null||U.call(V,N))},Enter(N){S.dataset.disabled||nt(m)&&Ie(N)||(o({type:O?"BRANCH_NODE.CLICK":"NODE.CLICK",id:x,src:"keyboard"}),nt(m)||N.preventDefault())},"*"(N){S.dataset.disabled||(N.preventDefault(),o({type:"SIBLINGS.EXPAND",id:x}))},a(N){!N.metaKey||S.dataset.disabled||(N.preventDefault(),o({type:"SELECTED.ALL",moveFocus:!0}))},F2(N){if(S.dataset.disabled)return;let U=r("canRename");if(!U)return;let J=s.getIndexPath(x);if(J){let pe=s.at(J);if(pe&&!U(pe,J))return}N.preventDefault(),o({type:"NODE.RENAME",value:x})}},k=ue(b,{dir:r("dir")}),D=V[k];if(D){D(b);return}_e.isValidEvent(b)&&(o({type:"TREE.TYPEAHEAD",key:b.key,id:x}),b.preventDefault())}}))},getNodeState:w,getItemProps(b){let m=w(b);return t.element(y(g({},Ue.item.attrs),{id:m.id,dir:r("dir"),"data-ownedby":Zl(i),"data-path":b.indexPath.join("/"),"data-value":m.value,tabIndex:m.focused?0:-1,"data-focus":E(m.focused),role:"treeitem","aria-current":m.selected?"true":void 0,"aria-selected":m.disabled?void 0:m.selected,"data-selected":E(m.selected),"aria-disabled":Y(m.disabled),"data-disabled":E(m.disabled),"data-renaming":E(m.renaming),"aria-level":m.depth,"data-depth":m.depth,style:{"--depth":m.depth},onFocus(S){S.stopPropagation(),o({type:"NODE.FOCUS",id:m.value})},onClick(S){if(m.disabled||!he(S)||nt(S.currentTarget)&&Ie(S))return;let x=S.metaKey||S.ctrlKey;o({type:"NODE.CLICK",id:m.value,shiftKey:S.shiftKey,ctrlKey:x}),S.stopPropagation(),nt(S.currentTarget)||S.preventDefault()}}))},getItemTextProps(b){let m=w(b);return t.element(y(g({},Ue.itemText.attrs),{"data-disabled":E(m.disabled),"data-selected":E(m.selected),"data-focus":E(m.focused)}))},getItemIndicatorProps(b){let m=w(b);return t.element(y(g({},Ue.itemIndicator.attrs),{"aria-hidden":!0,"data-disabled":E(m.disabled),"data-selected":E(m.selected),"data-focus":E(m.focused),hidden:!m.selected}))},getBranchProps(b){let m=w(b);return t.element(y(g({},Ue.branch.attrs),{"data-depth":m.depth,dir:r("dir"),"data-branch":m.value,role:"treeitem","data-ownedby":Zl(i),"data-value":m.value,"aria-level":m.depth,"aria-selected":m.disabled?void 0:m.selected,"data-path":b.indexPath.join("/"),"data-selected":E(m.selected),"aria-expanded":m.expanded,"data-state":m.expanded?"open":"closed","aria-disabled":Y(m.disabled),"data-disabled":E(m.disabled),"data-loading":E(m.loading),"aria-busy":Y(m.loading),style:{"--depth":m.depth}}))},getBranchIndicatorProps(b){let m=w(b);return t.element(y(g({},Ue.branchIndicator.attrs),{"aria-hidden":!0,"data-state":m.expanded?"open":"closed","data-disabled":E(m.disabled),"data-selected":E(m.selected),"data-focus":E(m.focused),"data-loading":E(m.loading)}))},getBranchTriggerProps(b){let m=w(b);return t.element(y(g({},Ue.branchTrigger.attrs),{role:"button",dir:r("dir"),"data-disabled":E(m.disabled),"data-state":m.expanded?"open":"closed","data-value":m.value,"data-loading":E(m.loading),disabled:m.loading,onClick(S){m.disabled||m.loading||(o({type:"BRANCH_TOGGLE.CLICK",id:m.value}),S.stopPropagation())}}))},getBranchControlProps(b){let m=w(b);return t.element(y(g({},Ue.branchControl.attrs),{role:"button",id:m.id,dir:r("dir"),tabIndex:m.focused?0:-1,"data-path":b.indexPath.join("/"),"data-state":m.expanded?"open":"closed","data-disabled":E(m.disabled),"data-selected":E(m.selected),"data-focus":E(m.focused),"data-renaming":E(m.renaming),"data-value":m.value,"data-depth":m.depth,"data-loading":E(m.loading),"aria-busy":Y(m.loading),onFocus(S){o({type:"NODE.FOCUS",id:m.value}),S.stopPropagation()},onClick(S){if(m.disabled||m.loading||!he(S)||nt(S.currentTarget)&&Ie(S))return;let x=S.metaKey||S.ctrlKey;o({type:"BRANCH_NODE.CLICK",id:m.value,shiftKey:S.shiftKey,ctrlKey:x}),S.stopPropagation()}}))},getBranchTextProps(b){let m=w(b);return t.element(y(g({},Ue.branchText.attrs),{dir:r("dir"),"data-disabled":E(m.disabled),"data-state":m.expanded?"open":"closed","data-loading":E(m.loading)}))},getBranchContentProps(b){let m=w(b);return t.element(y(g({},Ue.branchContent.attrs),{role:"group",dir:r("dir"),"data-state":m.expanded?"open":"closed","data-depth":m.depth,"data-path":b.indexPath.join("/"),"data-value":m.value,hidden:!m.expanded}))},getBranchIndentGuideProps(b){let m=w(b);return t.element(y(g({},Ue.branchIndentGuide.attrs),{"data-depth":m.depth}))},getNodeCheckboxProps(b){let m=w(b),S=m.checked;return t.element(y(g({},Ue.nodeCheckbox.attrs),{tabIndex:-1,role:"checkbox","data-state":S===!0?"checked":S===!1?"unchecked":"indeterminate","aria-checked":S===!0?"true":S===!1?"false":"mixed","data-disabled":E(m.disabled),onClick(x){var O;x.defaultPrevented||m.disabled||!he(x)||(o({type:"CHECKED.TOGGLE",value:m.value,isBranch:m.isBranch}),x.stopPropagation(),(O=x.currentTarget.closest("[role=treeitem]"))==null||O.focus({preventScroll:!0}))}}))},getNodeRenameInputProps(b){let m=w(b);return t.input(y(g({},Ue.nodeRenameInput.attrs),{id:If(i,m.value),type:"text","aria-label":"Rename tree item",hidden:!m.renaming,onKeyDown(S){ke(S)||(S.key==="Escape"&&(o({type:"RENAME.CANCEL"}),S.preventDefault()),S.key==="Enter"&&(o({type:"RENAME.SUBMIT",label:S.currentTarget.value}),S.preventDefault()),S.stopPropagation())},onBlur(S){o({type:"RENAME.SUBMIT",label:S.currentTarget.value})}}))}}}function Ro(e,t){let{context:a,prop:i,refs:n}=e;if(!i("loadChildren")){a.set("expandedValue",v=>mt(Xe(v,...t)));return}let r=a.get("loadingStatus"),[o,s]=rs(t,v=>r[v]==="loaded");if(o.length>0&&a.set("expandedValue",v=>mt(Xe(v,...o))),s.length===0)return;let l=i("collection"),[d,c]=rs(s,v=>{let C=l.findNode(v);return l.getNodeChildren(C).length>0});if(d.length>0&&a.set("expandedValue",v=>mt(Xe(v,...d))),c.length===0)return;a.set("loadingStatus",v=>g(g({},v),c.reduce((C,P)=>y(g({},C),{[P]:"loading"}),{})));let f=c.map(v=>{let C=l.getIndexPath(v),P=l.getValuePath(C),w=l.findNode(v);return{id:v,indexPath:C,valuePath:P,node:w}}),p=n.get("pendingAborts"),u=i("loadChildren");ga(u,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");let h=f.map(({id:v,indexPath:C,valuePath:P,node:w})=>{let b=p.get(v);b&&(b.abort(),p.delete(v));let m=new AbortController;return p.set(v,m),u({valuePath:P,indexPath:C,node:w,signal:m.signal})});Promise.allSettled(h).then(v=>{var m,S;let C=[],P=[],w=a.get("loadingStatus"),b=i("collection");v.forEach((x,O)=>{let{id:V,indexPath:k,node:D,valuePath:N}=f[O];x.status==="fulfilled"?(w[V]="loaded",C.push(V),b=b.replace(k,y(g({},D),{children:x.value}))):(p.delete(V),Reflect.deleteProperty(w,V),P.push({node:D,error:x.reason,indexPath:k,valuePath:N}))}),a.set("loadingStatus",w),C.length&&(a.set("expandedValue",x=>mt(Xe(x,...C))),(m=i("onLoadChildrenComplete"))==null||m({collection:b})),P.length&&((S=i("onLoadChildrenError"))==null||S({nodes:P}))})}function Bt(e){let{prop:t,context:a}=e;return function({indexPath:i}){return t("collection").getValuePath(i).slice(0,-1).some(n=>!a.get("expandedValue").includes(n))}}function ni(e,t){let{prop:a,scope:i,computed:n}=e,r=a("scrollToIndexFn");if(!r)return!1;let o=a("collection"),s=n("visibleNodes");for(let l=0;l<s.length;l++){let{node:d,indexPath:c}=s[l];if(o.getNodeValue(d)===t)return r({index:l,node:d,indexPath:c,getElement:()=>i.getById(Ql(i,t))}),!0}return!1}function X0(e){var n;let t=e.querySelectorAll('[data-scope="tree-view"][data-part="branch"], [data-scope="tree-view"][data-part="item"]'),a=[];for(let r of t){let o=r.getAttribute("data-path"),s=r.getAttribute("data-value");if(o==null||s==null)continue;let l=o.split("/").map(f=>parseInt(f,10));if(l.some(Number.isNaN))continue;let d=(n=r.getAttribute("data-name"))!=null?n:s,c=r.getAttribute("data-part")==="branch";a.push({pathArr:l,id:s,name:d,isBranch:c})}a.sort((r,o)=>{let s=Math.min(r.pathArr.length,o.pathArr.length);for(let l=0;l<s;l++)if(r.pathArr[l]!==o.pathArr[l])return r.pathArr[l]-o.pathArr[l];return r.pathArr.length-o.pathArr.length});let i={id:"ROOT",name:"",children:[]};for(let{pathArr:r,id:o,name:s,isBranch:l}of a){let d=i;for(let f=0;f<r.length-1;f++){let p=r[f];d.children||(d.children=[]),d=d.children[p]}let c=r[r.length-1];d.children||(d.children=[]),d.children[c]=l?{id:o,name:s,children:[]}:{id:o,name:s}}return i}var _0,Ue,Jl,$0,Pf,Ql,Zl,we,If,Sf,Gt,K0,j0,IN,Y0,ON,Z0,J0,Vf=te(()=>{"use strict";fn();ae();_0=_("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","nodeRenameInput","root","tree"),Ue=_0.build(),Jl=e=>new Os(e);Jl.empty=()=>new Os({rootNode:{children:[]}});$0=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.root)!=null?a:`tree:${e.id}:root`},Pf=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.label)!=null?a:`tree:${e.id}:label`},Ql=(e,t)=>{var a,i,n;return(n=(i=(a=e.ids)==null?void 0:a.node)==null?void 0:i.call(a,t))!=null?n:`tree:${e.id}:node:${t}`},Zl=e=>{var t,a;return(a=(t=e.ids)==null?void 0:t.tree)!=null?a:`tree:${e.id}:tree`},we=(e,t)=>{var a;t!=null&&((a=e.getById(Ql(e,t)))==null||a.focus())},If=(e,t)=>`tree:${e.id}:rename-input:${t}`,Sf=(e,t)=>e.getById(If(e,t));({and:Gt}=be()),K0={props({props:e}){return g({selectionMode:"single",collection:Jl.empty(),typeahead:!0,expandOnClick:!0,defaultExpandedValue:[],defaultSelectedValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t,getContext:a}){return{expandedValue:t(()=>({defaultValue:e("defaultExpandedValue"),value:e("expandedValue"),isEqual:ge,onChange(i){var r;let n=a().get("focusedValue");(r=e("onExpandedChange"))==null||r({expandedValue:i,focusedValue:n,get expandedNodes(){return e("collection").findNodes(i)}})}})),selectedValue:t(()=>({defaultValue:e("defaultSelectedValue"),value:e("selectedValue"),isEqual:ge,onChange(i){var r;let n=a().get("focusedValue");(r=e("onSelectionChange"))==null||r({selectedValue:i,focusedValue:n,get selectedNodes(){return e("collection").findNodes(i)}})}})),focusedValue:t(()=>({defaultValue:e("defaultFocusedValue")||null,value:e("focusedValue"),onChange(i){var n;(n=e("onFocusChange"))==null||n({focusedValue:i,get focusedNode(){return i?e("collection").findNode(i):null}})}})),loadingStatus:t(()=>({defaultValue:{}})),checkedValue:t(()=>({defaultValue:e("defaultCheckedValue")||[],value:e("checkedValue"),isEqual:ge,onChange(i){var n;(n=e("onCheckedChange"))==null||n({checkedValue:i})}})),renamingValue:t(()=>({sync:!0,defaultValue:null}))}},refs(){return{typeaheadState:g({},_e.defaultOptions),pendingAborts:new Map}},computed:{isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar.length>0,visibleNodes:({prop:e,context:t})=>{let a=[];return e("collection").visit({skip:Bt({prop:e,context:t}),onEnter:(i,n)=>{a.push({node:i,indexPath:n})}}),a}},on:{"EXPANDED.SET":{actions:["setExpanded"]},"EXPANDED.CLEAR":{actions:["clearExpanded"]},"EXPANDED.ALL":{actions:["expandAllBranches"]},"BRANCH.EXPAND":{actions:["expandBranches"]},"BRANCH.COLLAPSE":{actions:["collapseBranches"]},"SELECTED.SET":{actions:["setSelected"]},"SELECTED.ALL":[{guard:Gt("isMultipleSelection","moveFocus"),actions:["selectAllNodes","focusTreeLastNode"]},{guard:"isMultipleSelection",actions:["selectAllNodes"]}],"SELECTED.CLEAR":{actions:["clearSelected"]},"NODE.SELECT":{actions:["selectNode"]},"NODE.DESELECT":{actions:["deselectNode"]},"CHECKED.TOGGLE":{actions:["toggleChecked"]},"CHECKED.SET":{actions:["setChecked"]},"CHECKED.CLEAR":{actions:["clearChecked"]},"NODE.FOCUS":{actions:["setFocusedNode"]},"NODE.ARROW_DOWN":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["focusTreeNextNode","extendSelectionToNextNode"]},{actions:["focusTreeNextNode"]}],"NODE.ARROW_UP":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["focusTreePrevNode","extendSelectionToPrevNode"]},{actions:["focusTreePrevNode"]}],"NODE.ARROW_LEFT":{actions:["focusBranchNode"]},"BRANCH_NODE.ARROW_LEFT":[{guard:"isBranchExpanded",actions:["collapseBranch"]},{actions:["focusBranchNode"]}],"BRANCH_NODE.ARROW_RIGHT":[{guard:Gt("isBranchFocused","isBranchExpanded"),actions:["focusBranchFirstNode"]},{actions:["expandBranch"]}],"SIBLINGS.EXPAND":{actions:["expandSiblingBranches"]},"NODE.HOME":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToFirstNode","focusTreeFirstNode"]},{actions:["focusTreeFirstNode"]}],"NODE.END":[{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToLastNode","focusTreeLastNode"]},{actions:["focusTreeLastNode"]}],"NODE.CLICK":[{guard:Gt("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{actions:["selectNode"]}],"BRANCH_NODE.CLICK":[{guard:Gt("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Gt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{guard:"expandOnClick",actions:["selectNode","toggleBranchNode"]},{actions:["selectNode"]}],"BRANCH_TOGGLE.CLICK":{actions:["toggleBranchNode"]},"TREE.TYPEAHEAD":{actions:["focusMatchedNode"]}},exit:["clearPendingAborts"],states:{idle:{on:{"NODE.RENAME":{target:"renaming",actions:["setRenamingValue"]}}},renaming:{entry:["syncRenameInput","focusRenameInput"],on:{"RENAME.SUBMIT":{guard:"isRenameLabelValid",target:"idle",actions:["submitRenaming"]},"RENAME.CANCEL":{target:"idle",actions:["cancelRenaming"]}}}},implementations:{guards:{isBranchFocused:({context:e,event:t})=>e.get("focusedValue")===t.id,isBranchExpanded:({context:e,event:t})=>e.get("expandedValue").includes(t.id),isShiftKey:({event:e})=>e.shiftKey,isCtrlKey:({event:e})=>e.ctrlKey,hasSelectedItems:({context:e})=>e.get("selectedValue").length>0,isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",moveFocus:({event:e})=>!!e.moveFocus,expandOnClick:({prop:e})=>!!e("expandOnClick"),isRenameLabelValid:({event:e})=>e.label.trim()!==""},actions:{selectNode({context:e,event:t}){let a=t.id||t.value;e.set("selectedValue",i=>a==null?i:!t.isTrusted&&ca(a)?i.concat(...a):[ca(a)?ft(a):a].filter(Boolean))},deselectNode({context:e,event:t}){let a=nn(t.id||t.value);e.set("selectedValue",i=>lt(i,...a))},setFocusedNode({context:e,event:t}){e.set("focusedValue",t.id)},clearFocusedNode({context:e}){e.set("focusedValue",null)},clearSelectedItem({context:e}){e.set("selectedValue",[])},toggleBranchNode({context:e,event:t,action:a}){let i=e.get("expandedValue").includes(t.id);a(i?["collapseBranch"]:["expandBranch"])},expandBranch(e){let{event:t}=e;Ro(e,[t.id])},expandBranches(e){let{context:t,event:a}=e,i=nn(a.value);Ro(e,hr(i,t.get("expandedValue")))},collapseBranch({context:e,event:t}){e.set("expandedValue",a=>lt(a,t.id))},collapseBranches(e){let{context:t,event:a}=e,i=nn(a.value);t.set("expandedValue",n=>lt(n,...i))},setExpanded({context:e,event:t}){ca(t.value)&&e.set("expandedValue",t.value)},clearExpanded({context:e}){e.set("expandedValue",[])},setSelected({context:e,event:t}){ca(t.value)&&e.set("selectedValue",t.value)},clearSelected({context:e}){e.set("selectedValue",[])},focusTreeFirstNode(e){let{prop:t,scope:a}=e,i=t("collection"),n=i.getFirstNode(void 0,{skip:Bt(e)});if(!n)return;let r=i.getNodeValue(n);ni(e,r)?F(()=>we(a,r)):we(a,r)},focusTreeLastNode(e){let{prop:t,scope:a}=e,i=t("collection"),n=i.getLastNode(void 0,{skip:Bt(e)}),r=i.getNodeValue(n);ni(e,r)?F(()=>we(a,r)):we(a,r)},focusBranchFirstNode(e){let{event:t,prop:a,scope:i}=e,n=a("collection"),r=n.findNode(t.id),o=n.getFirstNode(r,{skip:Bt(e)});if(!o)return;let s=n.getNodeValue(o);ni(e,s)?F(()=>we(i,s)):we(i,s)},focusTreeNextNode(e){let{event:t,prop:a,scope:i}=e,n=a("collection"),r=n.getNextNode(t.id,{skip:Bt(e)});if(!r)return;let o=n.getNodeValue(r);ni(e,o)?F(()=>we(i,o)):we(i,o)},focusTreePrevNode(e){let{event:t,prop:a,scope:i}=e,n=a("collection"),r=n.getPreviousNode(t.id,{skip:Bt(e)});if(!r)return;let o=n.getNodeValue(r);ni(e,o)?F(()=>we(i,o)):we(i,o)},focusBranchNode(e){let{event:t,prop:a,scope:i}=e,n=a("collection"),r=n.getParentNode(t.id),o=r?n.getNodeValue(r):void 0;o&&(ni(e,o)?F(()=>we(i,o)):we(i,o))},selectAllNodes({context:e,prop:t}){e.set("selectedValue",t("collection").getValues())},focusMatchedNode(e){let{context:t,prop:a,refs:i,event:n,scope:r,computed:o}=e,s=o("visibleNodes").map(({node:d})=>({textContent:a("collection").stringifyNode(d),id:a("collection").getNodeValue(d)})),l=_e(s,{state:i.get("typeaheadState"),activeId:t.get("focusedValue"),key:n.key});l!=null&&l.id&&(ni(e,l.id)?F(()=>we(r,l.id)):we(r,l.id))},toggleNodeSelection({context:e,event:t}){let a=vt(e.get("selectedValue"),t.id);e.set("selectedValue",a)},expandAllBranches(e){let{context:t,prop:a}=e,i=a("collection").getBranchValues(),n=hr(i,t.get("expandedValue"));Ro(e,n)},expandSiblingBranches(e){let{context:t,event:a,prop:i}=e,n=i("collection"),r=n.getIndexPath(a.id);if(!r)return;let o=n.getSiblingNodes(r).map(l=>n.getNodeValue(l)),s=hr(o,t.get("expandedValue"));Ro(e,s)},extendSelectionToNode(e){let{context:t,event:a,prop:i,computed:n}=e,r=i("collection"),o=st(t.get("selectedValue"))||r.getNodeValue(r.getFirstNode()),s=a.id,l=[o,s],d=0;n("visibleNodes").forEach(({node:c})=>{let f=r.getNodeValue(c);d===1&&l.push(f),(f===o||f===s)&&d++}),t.set("selectedValue",mt(l))},extendSelectionToNextNode(e){let{context:t,event:a,prop:i}=e,n=i("collection"),r=n.getNextNode(a.id,{skip:Bt(e)});if(!r)return;let o=new Set(t.get("selectedValue")),s=n.getNodeValue(r);s!=null&&(o.has(a.id)&&o.has(s)?o.delete(a.id):o.has(s)||o.add(s),t.set("selectedValue",Array.from(o)))},extendSelectionToPrevNode(e){let{context:t,event:a,prop:i}=e,n=i("collection"),r=n.getPreviousNode(a.id,{skip:Bt(e)});if(!r)return;let o=new Set(t.get("selectedValue")),s=n.getNodeValue(r);s!=null&&(o.has(a.id)&&o.has(s)?o.delete(a.id):o.has(s)||o.add(s),t.set("selectedValue",Array.from(o)))},extendSelectionToFirstNode(e){let{context:t,prop:a}=e,i=a("collection"),n=st(t.get("selectedValue")),r=[];i.visit({skip:Bt(e),onEnter:o=>{let s=i.getNodeValue(o);if(r.push(s),s===n)return"stop"}}),t.set("selectedValue",r)},extendSelectionToLastNode(e){let{context:t,prop:a}=e,i=a("collection"),n=st(t.get("selectedValue")),r=[],o=!1;i.visit({skip:Bt(e),onEnter:s=>{let l=i.getNodeValue(s);l===n&&(o=!0),o&&r.push(l)}}),t.set("selectedValue",r)},clearPendingAborts({refs:e}){let t=e.get("pendingAborts");t.forEach(a=>a.abort()),t.clear()},toggleChecked({context:e,event:t,prop:a}){let i=a("collection");e.set("checkedValue",n=>t.isBranch?q0(i,t.value,n):vt(n,t.value))},setChecked({context:e,event:t}){e.set("checkedValue",t.value)},clearChecked({context:e}){e.set("checkedValue",[])},setRenamingValue({context:e,event:t,prop:a}){e.set("renamingValue",t.value);let i=a("onRenameStart");if(i){let n=a("collection"),r=n.getIndexPath(t.value);if(r){let o=n.at(r);o&&i({value:t.value,node:o,indexPath:r})}}},submitRenaming({context:e,event:t,prop:a,scope:i}){var l;let n=e.get("renamingValue");if(!n)return;let r=a("collection").getIndexPath(n);if(!r)return;let o=t.label.trim(),s=a("onBeforeRename");if(s&&!s({value:n,label:o,indexPath:r})){e.set("renamingValue",null),we(i,n);return}(l=a("onRenameComplete"))==null||l({value:n,label:o,indexPath:r}),e.set("renamingValue",null),we(i,n)},cancelRenaming({context:e,scope:t}){let a=e.get("renamingValue");e.set("renamingValue",null),a&&we(t,a)},syncRenameInput({context:e,scope:t,prop:a}){let i=e.get("renamingValue");if(!i)return;let n=a("collection"),r=n.findNode(i);if(!r)return;let o=n.stringifyNode(r),s=Sf(t,i);Ae(s,o)},focusRenameInput({context:e,scope:t}){let a=e.get("renamingValue");if(!a)return;let i=Sf(t,a);i&&(i.focus(),i.select())}}}};j0=B()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren","canRename","onRenameStart","onBeforeRename","onRenameComplete","scrollToIndexFn"]),IN=H(j0),Y0=B()(["node","indexPath"]),ON=H(Y0);Z0=class extends z{constructor(t,a){var r;let i=(r=a.treeData)!=null?r:X0(t),n=Jl({nodeToValue:o=>o.id,nodeToString:o=>o.name,rootNode:i});super(t,y(g({},a),{collection:n}));K(this,"treeCollection");K(this,"syncTree",()=>{let t=this.el.querySelector('[data-scope="tree-view"][data-part="tree"]');t&&(this.spreadProps(t,this.api.getTreeProps()),this.updateExistingTree(t))});this.treeCollection=n}initMachine(t){return new q(K0,g({},t))}initApi(){return W0(this.machine.service,$)}getNodeAt(t){var i;if(t.length===0)return;let a=this.treeCollection.rootNode;for(let n of t)if(a=(i=a==null?void 0:a.children)==null?void 0:i[n],!a)return;return a}updateExistingTree(t){this.spreadProps(t,this.api.getTreeProps());let a=t.querySelectorAll('[data-scope="tree-view"][data-part="branch"]');for(let n of a){let r=n.getAttribute("data-path");if(r==null)continue;let o=r.split("/").map(h=>parseInt(h,10)),s=this.getNodeAt(o);if(!s)continue;let l={indexPath:o,node:s};this.spreadProps(n,this.api.getBranchProps(l));let d=n.querySelector('[data-scope="tree-view"][data-part="branch-control"]');d&&this.spreadProps(d,this.api.getBranchControlProps(l));let c=n.querySelector('[data-scope="tree-view"][data-part="branch-text"]');c&&this.spreadProps(c,this.api.getBranchTextProps(l));let f=n.querySelector('[data-scope="tree-view"][data-part="branch-indicator"]');f&&this.spreadProps(f,this.api.getBranchIndicatorProps(l));let p=n.querySelector('[data-scope="tree-view"][data-part="branch-content"]');p&&this.spreadProps(p,this.api.getBranchContentProps(l));let u=n.querySelector('[data-scope="tree-view"][data-part="branch-indent-guide"]');u&&this.spreadProps(u,this.api.getBranchIndentGuideProps(l))}let i=t.querySelectorAll('[data-scope="tree-view"][data-part="item"]');for(let n of i){let r=n.getAttribute("data-path");if(r==null)continue;let o=r.split("/").map(d=>parseInt(d,10)),s=this.getNodeAt(o);if(!s)continue;let l={indexPath:o,node:s};this.spreadProps(n,this.api.getItemProps(l))}}render(){var i;let t=(i=this.el.querySelector('[data-scope="tree-view"][data-part="root"]'))!=null?i:this.el;this.spreadProps(t,this.api.getRootProps());let a=this.el.querySelector('[data-scope="tree-view"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps()),this.syncTree()}},J0={mounted(){var i;let e=this.el,t=this.pushEvent.bind(this),a=new Z0(e,y(g({id:e.id},T(e,"controlled")?{expandedValue:X(e,"expandedValue"),selectedValue:X(e,"selectedValue")}:{defaultExpandedValue:X(e,"defaultExpandedValue"),defaultSelectedValue:X(e,"defaultSelectedValue")}),{selectionMode:(i=I(e,"selectionMode",["single","multiple"]))!=null?i:"single",dir:Ce(e),onSelectionChange:n=>{var p;let r=T(e,"redirect"),o=(p=n.selectedValue)!=null&&p.length?n.selectedValue[0]:void 0,s=[...e.querySelectorAll('[data-scope="tree-view"][data-part="item"], [data-scope="tree-view"][data-part="branch"]')].find(u=>u.getAttribute("data-value")===o),l=(s==null?void 0:s.getAttribute("data-part"))==="item",d=s==null?void 0:s.getAttribute("data-redirect"),c=s==null?void 0:s.hasAttribute("data-new-tab");r&&o&&l&&this.liveSocket.main.isDead&&d!=="false"&&(c?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o);let f=I(e,"onSelectionChange");f&&this.liveSocket.main.isConnected()&&t(f,{id:e.id,value:y(g({},n),{isItem:l!=null?l:!1})})},onExpandedChange:n=>{let r=I(e,"onExpandedChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:n})}}));a.init(),this.treeView=a,this.onSetExpandedValue=n=>{let{value:r}=n.detail;a.api.setExpandedValue(r)},e.addEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue=n=>{let{value:r}=n.detail;a.api.setSelectedValue(r)},e.addEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers=[],this.handlers.push(this.handleEvent("tree_view_set_expanded_value",n=>{let r=n.tree_view_id;r&&e.id!==r&&e.id!==`tree-view:${r}`||a.api.setExpandedValue(n.value)})),this.handlers.push(this.handleEvent("tree_view_set_selected_value",n=>{let r=n.tree_view_id;r&&e.id!==r&&e.id!==`tree-view:${r}`||a.api.setSelectedValue(n.value)})),this.handlers.push(this.handleEvent("tree_view_expanded_value",()=>{t("tree_view_expanded_value_response",{value:a.api.expandedValue})})),this.handlers.push(this.handleEvent("tree_view_selected_value",()=>{t("tree_view_selected_value_response",{value:a.api.selectedValue})}))},updated(){var e;T(this.el,"controlled")&&((e=this.treeView)==null||e.updateProps({expandedValue:X(this.el,"expandedValue"),selectedValue:X(this.el,"selectedValue")}))},destroyed(){var e;if(this.onSetExpandedValue&&this.el.removeEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue&&this.el.removeEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.treeView)==null||e.destroy()}}});var ew={};de(ew,{Hooks:()=>kf,default:()=>Q0,hooks:()=>ce});function ce(e,t){return{mounted(){return Se(this,null,function*(){let n=(yield e())[t];if(this._realHook=n,n!=null&&n.mounted)return n.mounted.call(this)})},updated(){var i,n;(n=(i=this._realHook)==null?void 0:i.updated)==null||n.call(this)},destroyed(){var i,n;(n=(i=this._realHook)==null?void 0:i.destroyed)==null||n.call(this)},disconnected(){var i,n;(n=(i=this._realHook)==null?void 0:i.disconnected)==null||n.call(this)},reconnected(){var i,n;(n=(i=this._realHook)==null?void 0:i.reconnected)==null||n.call(this)},beforeUpdate(){var i,n;(n=(i=this._realHook)==null?void 0:i.beforeUpdate)==null||n.call(this)}}}var kf={Accordion:ce(()=>Promise.resolve().then(()=>(lu(),su)),"Accordion"),AngleSlider:ce(()=>Promise.resolve().then(()=>(Nu(),ku)),"AngleSlider"),Avatar:ce(()=>Promise.resolve().then(()=>(Lu(),Du)),"Avatar"),Carousel:ce(()=>Promise.resolve().then(()=>($u(),_u)),"Carousel"),Checkbox:ce(()=>Promise.resolve().then(()=>(Ju(),Zu)),"Checkbox"),Clipboard:ce(()=>Promise.resolve().then(()=>(ec(),Qu)),"Clipboard"),Collapsible:ce(()=>Promise.resolve().then(()=>(ac(),tc)),"Collapsible"),Combobox:ce(()=>Promise.resolve().then(()=>(tp(),ep)),"Combobox"),DatePicker:ce(()=>Promise.resolve().then(()=>(Qp(),Jp)),"DatePicker"),Dialog:ce(()=>Promise.resolve().then(()=>(dh(),lh)),"Dialog"),Editable:ce(()=>Promise.resolve().then(()=>(mh(),fh)),"Editable"),FloatingPanel:ce(()=>Promise.resolve().then(()=>(wh(),Oh)),"FloatingPanel"),Listbox:ce(()=>Promise.resolve().then(()=>(Dh(),Ah)),"Listbox"),Menu:ce(()=>Promise.resolve().then(()=>($h(),_h)),"Menu"),NumberInput:ce(()=>Promise.resolve().then(()=>(ng(),ig)),"NumberInput"),PasswordInput:ce(()=>Promise.resolve().then(()=>(og(),rg)),"PasswordInput"),PinInput:ce(()=>Promise.resolve().then(()=>(cg(),ug)),"PinInput"),RadioGroup:ce(()=>Promise.resolve().then(()=>(vg(),mg)),"RadioGroup"),Select:ce(()=>Promise.resolve().then(()=>(Sg(),Pg)),"Select"),SignaturePad:ce(()=>Promise.resolve().then(()=>(Wg(),zg)),"SignaturePad"),Switch:ce(()=>Promise.resolve().then(()=>(Zg(),Xg)),"Switch"),Tabs:ce(()=>Promise.resolve().then(()=>(af(),tf)),"Tabs"),Timer:ce(()=>Promise.resolve().then(()=>(sf(),of)),"Timer"),Toast:ce(()=>Promise.resolve().then(()=>(vf(),mf)),"Toast"),ToggleGroup:ce(()=>Promise.resolve().then(()=>(Tf(),Cf)),"ToggleGroup"),TreeView:ce(()=>Promise.resolve().then(()=>(Vf(),wf)),"TreeView")};var Q0=kf;return $f(ew);})();
