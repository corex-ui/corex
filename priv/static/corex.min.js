"use strict";var Corex=(()=>{var kr=Object.defineProperty,Of=Object.defineProperties,Pf=Object.getOwnPropertyDescriptor,xf=Object.getOwnPropertyDescriptors,kf=Object.getOwnPropertyNames,xr=Object.getOwnPropertySymbols;var $i=Object.prototype.hasOwnProperty,Da=Object.prototype.propertyIsEnumerable;var Vi=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Vf=e=>{throw TypeError(e)};var Ai=(e,t,n)=>t in e?kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))$i.call(t,n)&&Ai(e,n,t[n]);if(xr)for(var n of xr(t))Da.call(t,n)&&Ai(e,n,t[n]);return e},v=(e,t)=>Of(e,xf(t));var Ke=(e,t)=>{var n={};for(var r in e)$i.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xr)for(var r of xr(e))t.indexOf(r)<0&&Da.call(e,r)&&(n[r]=e[r]);return n};var Af=(e,t)=>{for(var n in t)kr(e,n,{get:t[n],enumerable:!0})},$f=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kf(t))!$i.call(e,o)&&o!==n&&kr(e,o,{get:()=>t[o],enumerable:!(r=Pf(t,o))||r.enumerable});return e};var Df=e=>$f(kr({},"__esModule",{value:!0}),e);var W=(e,t,n)=>Ai(e,typeof t!="symbol"?t+"":t,n);var pe=(e,t,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(c){o(c)}},s=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())}),Lf=function(e,t){this[0]=e,this[1]=t};var La=e=>{var t=e[Vi("asyncIterator")],n=!1,r,o={};return t==null?(t=e[Vi("iterator")](),r=i=>o[i]=s=>t[i](s)):(t=t.call(e),r=i=>o[i]=s=>{if(n){if(n=!1,i==="throw")throw s;return s}return n=!0,{done:!1,value:new Lf(new Promise(a=>{var l=t[i](s);l instanceof Object||Vf("Object expected"),a(l)}),1)}}),o[Vi("iterator")]=()=>o,r("next"),"throw"in t?r("throw"):o.throw=i=>{throw i},"return"in t&&r("return"),o};var kb={};Af(kb,{Accordion:()=>ao,Checkbox:()=>qo,Clipboard:()=>Yo,Collapsible:()=>Xo,Combobox:()=>Ho,DatePicker:()=>wi,Dialog:()=>ni,Select:()=>xo,SignaturePad:()=>Pi,Switch:()=>Ro,Tabs:()=>jo,Toast:()=>lo,ToggleGroup:()=>ho,default:()=>xb});var X=(e,t=[])=>({parts:(...n)=>{if(Rf(t))return X(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>X(e,[...t,...n]),omit:(...n)=>X(e,t.filter(r=>!n.includes(r))),rename:n=>X(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${ln(e)}"][data-part="${ln(r)}"]`,`& [data-scope="${ln(e)}"][data-part="${ln(r)}"]`].join(", "),attrs:{"data-scope":ln(e),"data-part":ln(r)}}}),{})}),ln=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Rf=e=>e.length===0;var Mf=Object.defineProperty,Nf=(e,t,n)=>t in e?Mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Di=(e,t,n)=>Nf(e,typeof t!="symbol"?t+"":t,n);function Na(e){if(e)try{if(e.ownerDocument.activeElement!==e)return;let t=e.value.length;e.setSelectionRange(t,t)}catch(t){}}var Ra=e=>Math.max(0,Math.min(1,e)),Ff=(e,t)=>e.map((n,r)=>e[(Math.max(t,0)+r)%e.length]),Li=(...e)=>t=>e.reduce((n,r)=>r(n),t),dt=()=>{},Ar=e=>typeof e=="object"&&e!==null,Fa=2147483647,b=e=>e?"":void 0,ue=e=>e?"true":void 0,Hf=1,_f=9,Bf=11,ce=e=>Ar(e)&&e.nodeType===Hf&&typeof e.nodeName=="string",Yn=e=>Ar(e)&&e.nodeType===_f,Gf=e=>Ar(e)&&e===e.window;var Ha=e=>ce(e)?e.localName||"":"#document";function qf(e){return["html","body","#document"].includes(Ha(e))}var Uf=e=>Ar(e)&&e.nodeType!==void 0,At=e=>Uf(e)&&e.nodeType===Bf&&"host"in e,Wf=e=>ce(e)&&e.localName==="input",$r=e=>!!(e!=null&&e.matches("a[href]")),jf=e=>ce(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function Kn(e){if(!e)return!1;let t=e.getRootNode();return $t(t)===e}var Kf=/(textarea|select)/;function Fi(e){if(e==null||!ce(e))return!1;try{return Wf(e)&&e.selectionStart!=null||Kf.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch(t){return!1}}function be(e,t){var r;if(!e||!t||!ce(e)||!ce(t))return!1;let n=(r=t.getRootNode)==null?void 0:r.call(t);if(e===t||e.contains(t))return!0;if(n&&At(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function ve(e){var t;return Yn(e)?e:Gf(e)?e.document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Yf(e){return ve(e).documentElement}function ae(e){var t,n,r;return At(e)?ae(e.host):Yn(e)?(t=e.defaultView)!=null?t:window:ce(e)&&(r=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?r:window}function $t(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function zf(e){if(Ha(e)==="html")return e;let t=e.assignedSlot||e.parentNode||At(e)&&e.host||Yf(e);return At(t)?t.host:t}function Hi(e){var n;let t;try{if(t=e.getRootNode({composed:!0}),Yn(t)||At(t))return t}catch(r){}return(n=e.ownerDocument)!=null?n:document}var Ri=new WeakMap;function ft(e){return Ri.has(e)||Ri.set(e,ae(e).getComputedStyle(e)),Ri.get(e)}var _i=new Set(["menu","listbox","dialog","grid","tree","region"]),Zf=e=>_i.has(e),_a=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};function Dr(e,t){let n=new Set,r=Hi(e),o=i=>{let s=i.querySelectorAll("[aria-controls]");for(let a of s){if(a.getAttribute("aria-expanded")!=="true")continue;let l=_a(a);for(let c of l){if(!c||n.has(c))continue;n.add(c);let d=r.getElementById(c);if(d){let h=d.getAttribute("role"),p=d.getAttribute("aria-modal")==="true";if(h&&Zf(h)&&!p&&(d===t||d.contains(t)||o(d)))return!0}}}return!1};return o(e)}function Bi(e,t){let n=Hi(e),r=new Set,o=i=>{let s=i.querySelectorAll("[aria-controls]");for(let a of s){if(a.getAttribute("aria-expanded")!=="true")continue;let l=_a(a);for(let c of l){if(!c||r.has(c))continue;r.add(c);let d=n.getElementById(c);if(d){let h=d.getAttribute("role"),p=d.getAttribute("aria-modal")==="true";h&&_i.has(h)&&!p&&(t(d),o(d))}}}};o(e)}function Ba(e){let t=new Set;return Bi(e,n=>{e.contains(n)||t.add(n)}),Array.from(t)}function Xf(e){let t=e.getAttribute("role");return!!(t&&_i.has(t))}function Jf(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Ga(e){var t;return Jf(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function qa(e){if(!e.id)return!1;let t=Hi(e),n=CSS.escape(e.id),r=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(t.querySelector(r)&&Xf(e))}function Ua(e,t){let{type:n,quality:r=.92,background:o}=t;if(!e)throw new Error("[zag-js > getDataUrl]: Could not find the svg element");let i=ae(e),s=i.document,a=e.getBoundingClientRect(),l=e.cloneNode(!0);l.hasAttribute("viewBox")||l.setAttribute("viewBox",`0 0 ${a.width} ${a.height}`);let d=`<?xml version="1.0" standalone="no"?>\r
`+new i.XMLSerializer().serializeToString(l),h="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(d);if(n==="image/svg+xml")return Promise.resolve(h).then(y=>(l.remove(),y));let p=i.devicePixelRatio||1,u=s.createElement("canvas"),f=new i.Image;f.src=h,u.width=a.width*p,u.height=a.height*p;let g=u.getContext("2d");return(n==="image/jpeg"||o)&&(g.fillStyle=o||"white",g.fillRect(0,0,u.width,u.height)),new Promise(y=>{f.onload=()=>{g==null||g.drawImage(f,0,0,u.width,u.height),y(u.toDataURL(n,r)),l.remove()}})}var Lr=()=>typeof document!="undefined";function Qf(){var t;let e=navigator.userAgentData;return(t=e==null?void 0:e.platform)!=null?t:navigator.platform}function eh(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var Gi=e=>Lr()&&e.test(Qf()),Wa=e=>Lr()&&e.test(eh()),th=e=>Lr()&&e.test(navigator.vendor),qi=()=>Lr()&&!!navigator.maxTouchPoints,nh=()=>Gi(/^iPhone/i),rh=()=>Gi(/^iPad/i)||un()&&navigator.maxTouchPoints>1,zn=()=>nh()||rh(),oh=()=>un()||zn(),un=()=>Gi(/^Mac/i),Et=()=>oh()&&th(/apple/i),ih=()=>Wa(/Firefox/i);var sh=()=>Wa(/Android/i);function ah(e){var t,n,r,o;return(o=(t=e.composedPath)==null?void 0:t.call(e))!=null?o:(r=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n)}function z(e){var n;let t=ah(e);return(n=t==null?void 0:t[0])!=null?n:e.target}function Rr(e){let t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;let r=e.button===1,o=lh(e);return r||o}function ja(e){let t=e.currentTarget;if(!t)return!1;let n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function dn(e){return Ui(e).isComposing||e.keyCode===229}function lh(e){return un()?e.metaKey:e.ctrlKey}function Ka(e){return e.pointerType===""&&e.isTrusted?!0:sh()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var Dt=e=>e.button===0,Mr=e=>e.button===2||un()&&e.ctrlKey&&e.button===0,Ya=e=>e.ctrlKey||e.altKey||e.metaKey,ch=e=>"touches"in e&&e.touches.length>0,uh={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Ma={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Oe(e,t={}){var s;let{dir:n="ltr",orientation:r="horizontal"}=t,o=e.key;return o=(s=uh[o])!=null?s:o,n==="rtl"&&r==="horizontal"&&o in Ma&&(o=Ma[o]),o}function Ui(e){var t;return(t=e.nativeEvent)!=null?t:e}function Mi(e,t="client"){let n=ch(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}var te=(e,t,n,r)=>{let o=typeof e=="function"?e():e;return o==null||o.addEventListener(t,n,r),()=>{o==null||o.removeEventListener(t,n,r)}};function za(e,t){var i;let{type:n="HTMLInputElement",property:r="value"}=t,o=ae(e)[n].prototype;return(i=Object.getOwnPropertyDescriptor(o,r))!=null?i:{}}function dh(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Lt(e,t,n="value"){var o;if(!e)return;let r=dh(e);r&&((o=za(e,{type:r,property:n}).set)==null||o.call(e,t)),e.setAttribute(n,t)}function Zn(e,t){var r;if(!e)return;(r=za(e,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function Nr(e,t){let{checked:n,bubbles:r=!0}=t;if(!e)return;let o=ae(e);e instanceof o.HTMLInputElement&&(Zn(e,n),e.dispatchEvent(new o.Event("click",{bubbles:r})))}function fh(e){return hh(e)?e.form:e.closest("form")}function hh(e){return e.matches("textarea, input, select, button")}function ph(e,t){if(!e)return;let n=fh(e),r=o=>{o.defaultPrevented||t()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function gh(e,t){let n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);let r=ae(n),o=new r.MutationObserver(()=>t(n.disabled));return o.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>o.disconnect()}function fn(e,t){if(!e)return;let{onFieldsetDisabledChange:n,onFormReset:r}=t,o=[ph(e,r),gh(e,n)];return()=>o.forEach(i=>i==null?void 0:i())}var Za=e=>ce(e)&&e.tagName==="IFRAME",mh=/^(audio|video|details)$/;function Xa(e){let t=e.getAttribute("tabindex");return t?parseInt(t,10):NaN}var vh=e=>!Number.isNaN(Xa(e)),yh=e=>Xa(e)<0;function bh(e,t){if(!t)return null;if(t===!0)return e.shadowRoot||null;let n=t(e);return(n===!0?e.shadowRoot:n)||null}function Ja(e,t,n){let r=[...e],o=[...e],i=new Set,s=new Map;e.forEach((l,c)=>s.set(l,c));let a=0;for(;a<o.length;){let l=o[a++];if(!l||i.has(l))continue;i.add(l);let c=bh(l,t);if(c){let d=Array.from(c.querySelectorAll(Fr)).filter(n),h=s.get(l);if(h!==void 0){let p=h+1;r.splice(p,0,...d),d.forEach((u,f)=>{s.set(u,p+f)});for(let u=p+d.length;u<r.length;u++)s.set(r[u],u)}else{let p=r.length;r.push(...d),d.forEach((u,f)=>{s.set(u,p+f)})}o.push(...d)}}return r}var Fr="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Xn=(e,t={})=>{if(!e)return[];let{includeContainer:n=!1,getShadowRoot:r}=t,o=Array.from(e.querySelectorAll(Fr));(n==!0||n=="if-empty"&&o.length===0)&&ce(e)&&Ye(e)&&o.unshift(e);let s=[];for(let a of o)if(Ye(a)){if(Za(a)&&a.contentDocument){let l=a.contentDocument.body;s.push(...Xn(l,{getShadowRoot:r}));continue}s.push(a)}return r?Ja(s,r,Ye):s};function Ye(e){return!ce(e)||e.closest("[inert]")?!1:e.matches(Fr)&&jf(e)}function Rt(e,t={}){if(!e)return[];let{includeContainer:n,getShadowRoot:r}=t,o=Array.from(e.querySelectorAll(Fr));n&&bt(e)&&o.unshift(e);let i=[];for(let s of o)if(bt(s)){if(Za(s)&&s.contentDocument){let a=s.contentDocument.body;i.push(...Rt(a,{getShadowRoot:r}));continue}i.push(s)}if(r){let s=Ja(i,r,bt);return!s.length&&n?o:s}return!i.length&&n?o:i}function bt(e){return ce(e)&&e.tabIndex>0?!0:Ye(e)&&!yh(e)}function Eh(e,t={}){let n=Rt(e,t),r=n[0]||null,o=n[n.length-1]||null;return[r,o]}function hn(e){return e.tabIndex<0&&(mh.test(e.localName)||Fi(e))&&!vh(e)?0:e.tabIndex}function Qa(e){let{root:t,getInitialEl:n,filter:r,enabled:o=!0}=e;if(!o)return;let i=null;if(i||(i=typeof n=="function"?n():n),i||(i=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!i){let s=Rt(t);i=r?s.filter(r)[0]:s[0]}return i||t||void 0}function el(e){let t=e.currentTarget;if(!t)return!1;let[n,r]=Eh(t);return!(Kn(n)&&e.shiftKey||Kn(r)&&!e.shiftKey||!n&&!r)}var Wi=class tl{constructor(){Di(this,"id",null),Di(this,"fn_cleanup"),Di(this,"cleanup",()=>{this.cancel()})}static create(){return new tl}request(t){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=t==null?void 0:t()})}cancel(){var t;this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),(t=this.fn_cleanup)==null||t.call(this),this.fn_cleanup=void 0}isActive(){return this.id!==null}};function H(e){let t=Wi.create();return t.request(e),t.cleanup}function Mt(e){let t=new Set;function n(r){let o=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(o))}return n(()=>n(e)),function(){t.forEach(o=>o())}}function Ch(e,t,n){let r=H(()=>{e.removeEventListener(t,o,!0),n()}),o=()=>{r(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),r}function Th(e,t){if(!e)return;let{attributes:n,callback:r}=t,o=e.ownerDocument.defaultView||window,i=new o.MutationObserver(s=>{for(let a of s)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&r(a)});return i.observe(e,{attributes:!0,attributeFilter:n}),()=>i.disconnect()}function Hr(e,t){let{defer:n}=t,r=n?H:i=>i(),o=[];return o.push(r(()=>{let i=typeof e=="function"?e():e;o.push(Th(i,t))})),()=>{o.forEach(i=>i==null?void 0:i())}}function wh(e,t){let{callback:n}=t;if(!e)return;let r=e.ownerDocument.defaultView||window,o=new r.MutationObserver(n);return o.observe(e,{childList:!0,subtree:!0}),()=>o.disconnect()}function nl(e,t){let{defer:n}=t,r=n?H:i=>i(),o=[];return o.push(r(()=>{let i=typeof e=="function"?e():e;o.push(wh(i,t))})),()=>{o.forEach(i=>i==null?void 0:i())}}function _r(e){let t=()=>{let n=ae(e);e.dispatchEvent(new n.MouseEvent("click"))};ih()?Ch(e,"keyup",t):queueMicrotask(t)}function Br(e){let t=zf(e);return qf(t)?ve(t).body:ce(t)&&rl(t)?t:Br(t)}var Ih=/auto|scroll|overlay|hidden|clip/,Sh=new Set(["inline","contents"]);function rl(e){let t=ae(e),{overflow:n,overflowX:r,overflowY:o,display:i}=t.getComputedStyle(e);return Ih.test(n+o+r)&&!Sh.has(i)}function Oh(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Jn(e,t){let o=t||{},{rootEl:n}=o,r=Ke(o,["rootEl"]);!e||!n||!rl(n)||!Oh(n)||e.scrollIntoView(r)}function ji(e,t){let{left:n,top:r,width:o,height:i}=t.getBoundingClientRect(),s={x:e.x-n,y:e.y-r},a={x:Ra(s.x/o),y:Ra(s.y/i)};function l(c={}){let{dir:d="ltr",orientation:h="horizontal",inverted:p}=c,u=typeof p=="object"?p.x:p,f=typeof p=="object"?p.y:p;return h==="horizontal"?d==="rtl"||u?1-a.x:a.x:f?1-a.y:a.y}return{offset:s,percent:a,getPercentValue:l}}var cn="default",Ni="",Vr=new WeakMap;function Ph(e={}){let{target:t,doc:n}=e,r=n!=null?n:document,o=r.documentElement;return zn()?(cn==="default"&&(Ni=o.style.webkitUserSelect,o.style.webkitUserSelect="none"),cn="disabled"):t&&(Vr.set(t,t.style.userSelect),t.style.userSelect="none"),()=>Ki({target:t,doc:r})}function Ki(e={}){let{target:t,doc:n}=e,o=(n!=null?n:document).documentElement;if(zn()){if(cn!=="disabled")return;cn="restoring",setTimeout(()=>{Mt(()=>{cn==="restoring"&&(o.style.webkitUserSelect==="none"&&(o.style.webkitUserSelect=Ni||""),Ni="",cn="default")})},300)}else if(t&&Vr.has(t)){let i=Vr.get(t);t.style.userSelect==="none"&&(t.style.userSelect=i!=null?i:""),t.getAttribute("style")===""&&t.removeAttribute("style"),Vr.delete(t)}}function Yi(e={}){let s=e,{defer:t,target:n}=s,r=Ke(s,["defer","target"]),o=t?H:a=>a(),i=[];return i.push(o(()=>{let a=typeof n=="function"?n():n;i.push(Ph(v(m({},r),{target:a})))})),()=>{i.forEach(a=>a==null?void 0:a())}}function ol(e,t){let{onPointerMove:n,onPointerUp:r}=t,o=a=>{let l=Mi(a),c=Math.sqrt(l.x**2+l.y**2),d=a.pointerType==="touch"?10:5;if(!(c<d)){if(a.pointerType==="mouse"&&a.buttons===0){i(a);return}n({point:l,event:a})}},i=a=>{let l=Mi(a);r({point:l,event:a})},s=[te(e,"pointermove",o,!1),te(e,"pointerup",i,!1),te(e,"pointercancel",i,!1),te(e,"contextmenu",i,!1),Yi({doc:e})];return()=>{s.forEach(a=>a())}}function Gr(e){let{pointerNode:t,keyboardNode:n=t,onPress:r,onPressStart:o,onPressEnd:i,isValidKey:s=S=>S.key==="Enter"}=e;if(!t)return dt;let a=ae(t),l=dt,c=dt,d=dt,h=S=>({point:Mi(S),event:S});function p(S){o==null||o(h(S))}function u(S){i==null||i(h(S))}let g=te(t,"pointerdown",S=>{c();let k=te(a,"pointerup",I=>{let P=z(I);be(t,P)?r==null||r(h(I)):i==null||i(h(I))},{passive:!r,once:!0}),V=te(a,"pointercancel",u,{passive:!i,once:!0});c=Li(k,V),Kn(n)&&S.pointerType==="mouse"&&S.preventDefault(),p(S)},{passive:!o}),y=te(n,"focus",w);l=Li(g,y);function w(){let S=I=>{if(!s(I))return;let P=T=>{if(!s(T))return;let D=new a.PointerEvent("pointerup"),F=h(D);r==null||r(F),i==null||i(F)};c(),c=te(n,"keyup",P);let R=new a.PointerEvent("pointerdown");p(R)},C=()=>{let I=new a.PointerEvent("pointercancel");u(I)},k=te(n,"keydown",S),V=te(n,"blur",C);d=Li(k,V)}return()=>{l(),c(),d()}}function Ct(e,t){var n;return Array.from((n=e==null?void 0:e.querySelectorAll(t))!=null?n:[])}function pn(e,t){var n;return(n=e==null?void 0:e.querySelector(t))!=null?n:null}var zi=e=>e.id;function Zi(e,t,n=zi){return e.find(r=>n(r)===t)}function Xi(e,t,n=zi){let r=Zi(e,t,n);return r?e.indexOf(r):-1}function gn(e,t,n=!0){let r=Xi(e,t);return r=n?(r+1)%e.length:Math.min(r+1,e.length-1),e[r]}function mn(e,t,n=!0){let r=Xi(e,t);return r===-1?n?e[e.length-1]:null:(r=n?(r-1+e.length)%e.length:Math.max(0,r-1),e[r])}function xh(e){let t=new WeakMap,n,r=new WeakMap,o=a=>n||(n=new a.ResizeObserver(l=>{for(let c of l){r.set(c.target,c);let d=t.get(c.target);if(d)for(let h of d)h(c)}}),n);return{observe:(a,l)=>{let c=t.get(a)||new Set;c.add(l),t.set(a,c);let d=ae(a);return o(d).observe(a,e),()=>{let h=t.get(a);h&&(h.delete(l),h.size===0&&(t.delete(a),o(d).unobserve(a)))}},unobserve:a=>{t.delete(a),n==null||n.unobserve(a)}}}var il=xh({box:"border-box"});var kh=e=>e.split("").map(t=>{let n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Vh=e=>{var t,n,r;return kh((r=(n=(t=e.dataset)==null?void 0:t.valuetext)!=null?n:e.textContent)!=null?r:"")},Ah=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());function $h(e,t,n,r=zi){let o=n?Xi(e,n,r):-1,i=n?Ff(e,o):e;return t.length===1&&(i=i.filter(a=>r(a)!==n)),i.find(a=>Ah(Vh(a),t))}function sl(e,t,n){let r=e.getAttribute(t),o=r!=null;return r===n?dt:(e.setAttribute(t,n),()=>{o?e.setAttribute(t,r):e.removeAttribute(t)})}function Nt(e,t){if(!e)return dt;let n=Object.keys(t).reduce((r,o)=>(r[o]=e.style.getPropertyValue(o),r),{});return Dh(n,t)?dt:(Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")})}function al(e,t,n){if(!e)return dt;let r=e.style.getPropertyValue(t);return r===n?dt:(e.style.setProperty(t,n),()=>{e.style.setProperty(t,r),e.style.length===0&&e.removeAttribute("style")})}function Dh(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function Lh(e,t){let{state:n,activeId:r,key:o,timeout:i=350,itemToId:s}=t,a=n.keysSoFar+o,c=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a,d=e.slice(),h=$h(d,c,r,s);function p(){clearTimeout(n.timer),n.timer=-1}function u(f){n.keysSoFar=f,p(),f!==""&&(n.timer=+setTimeout(()=>{u(""),p()},i))}return u(a),h}var qr=Object.assign(Lh,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Rh});function Rh(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var vn={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function Mh(e,t,n){let{signal:r}=t;return[new Promise((s,a)=>{let l=setTimeout(()=>{a(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(l),a(new Error("Promise aborted"))}),e.then(c=>{r.aborted||(clearTimeout(l),s(c))}).catch(c=>{r.aborted||(clearTimeout(l),a(c))})}),()=>t.abort()]}function ll(e,t){let{timeout:n,rootNode:r}=t,o=ae(r),i=ve(r),s=new o.AbortController;return Mh(new Promise(a=>{let l=e();if(l){a(l);return}let c=new o.MutationObserver(()=>{let d=e();d&&d.isConnected&&(c.disconnect(),a(d))});c.observe(i.body,{childList:!0,subtree:!0})}),s,n)}var Nh=Object.defineProperty,dl=e=>{throw TypeError(e)},Fh=(e,t,n)=>t in e?Nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tt=(e,t,n)=>Fh(e,typeof t!="symbol"?t+"":t,n),Hh=(e,t,n)=>t.has(e)||dl("Cannot "+n),cl=(e,t,n)=>(Hh(e,t,"read from private field"),t.get(e)),_h=(e,t,n)=>t.has(e)?dl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function fl(e){return e==null?[]:Array.isArray(e)?e:[e]}var yn=e=>e[0],Ft=e=>e[e.length-1];var Bh=(e,t)=>e.indexOf(t)!==-1,Ji=(e,...t)=>e.concat(t),Qn=(e,...t)=>e.filter(n=>!t.includes(n));var wt=(e,t)=>Bh(e,t)?Qn(e,t):Ji(e,t);function jr(e,t){return e.reduce((n,r,o)=>{var i;return o%t===0?n.push([r]):(i=Ft(n))==null||i.push(r),n},[])}var ul=e=>(e==null?void 0:e.constructor.name)==="Array",Gh=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ee(e[n],t[n]))return!1;return!0},Ee=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(ul(e)&&ul(t))return Gh(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(t!=null?t:Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(e,n[o]))return!1;for(let o=0;o<r;o++){let i=n[o];if(!Ee(e[i],t[i]))return!1}return!0};var Qi=e=>Array.isArray(e),hl=e=>e===!0||e===!1,pl=e=>e!=null&&typeof e=="object",Kr=e=>pl(e)&&!Qi(e);var es=e=>typeof e=="string",nt=e=>typeof e=="function",gl=e=>e==null,er=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),qh=e=>Object.prototype.toString.call(e),ml=Function.prototype.toString,Uh=ml.call(Object),bn=e=>{if(!pl(e)||qh(e)!="[object Object]"||Kh(e))return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let n=er(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ml.call(n)==Uh},Wh=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,jh=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Kh=e=>Wh(e)||jh(e),rt=(e,...t)=>{let n=typeof e=="function"?e(...t):e;return n!=null?n:void 0};var vl=e=>e(),yl=()=>{},En=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},ts=(()=>{let e=0;return()=>(e++,e.toString(36))})();function Te(e,t,...n){var o;if(e in t){let i=t[e];return nt(i)?i(...n):i}let r=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(o=Error.captureStackTrace)==null||o.call(Error,r,Te),r}var{floor:Lb,abs:Rb,round:Mb,min:Yh,max:zh,pow:Nb,sign:Fb}=Math,Zh=e=>Number.isNaN(e),bl=e=>Zh(e)?0:e;var Yr=(e,t,n)=>{let r=bl(e),o=t==null||r>=t,i=n==null||r<=n;return o&&i};var El=(e,t,n)=>Yh(zh(bl(e),t),n);var Pe=e=>typeof e=="number"?`${e}px`:e;function Ht(e){if(!bn(e)||e===void 0)return e;let t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(let r of t){let o=e[r];o!==void 0&&(n[r]=Ht(o))}return n}function Xh(e,t){let n={},r={},o=new Set(t),i=Reflect.ownKeys(e);for(let s of i)o.has(s)?r[s]=e[s]:n[s]=e[s];return[r,n]}var q=e=>function(n){return Xh(n,e)};var Ur=()=>performance.now(),Wr,Jh=class{constructor(e){this.onTick=e,Tt(this,"frameId",null),Tt(this,"pausedAtMs",null),Tt(this,"context"),Tt(this,"cancelFrame",()=>{this.frameId!==null&&(cancelAnimationFrame(this.frameId),this.frameId=null)}),Tt(this,"setStartMs",t=>{this.context.startMs=t}),Tt(this,"start",()=>{if(this.frameId!==null)return;let t=Ur();this.pausedAtMs!==null?(this.context.startMs+=t-this.pausedAtMs,this.pausedAtMs=null):this.context.startMs=t,this.frameId=requestAnimationFrame(cl(this,Wr))}),Tt(this,"pause",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=Ur())}),Tt(this,"stop",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=null)}),_h(this,Wr,t=>{if(this.context.now=t,this.context.deltaMs=t-this.context.startMs,this.onTick(this.context)===!1){this.stop();return}this.frameId=requestAnimationFrame(cl(this,Wr))}),this.context={now:0,startMs:Ur(),deltaMs:0}}get elapsedMs(){return this.pausedAtMs!==null?this.pausedAtMs-this.context.startMs:Ur()-this.context.startMs}};Wr=new WeakMap;function Cn(e,t){let n=new Jh(({deltaMs:r})=>{if(r>=t)return e(),!1});return n.start(),()=>n.stop()}function ot(...e){let t=e.length===1?e[0]:e[1],n=e.length===2?e[0]:!0}function zr(e,t){if(e==null)throw new Error(t())}function Zr(e,t,n){let r=[];for(let o of t)e[o]==null&&r.push(o);if(r.length>0)throw new Error(`[zag-js${n?` > ${n}`:""}] missing required props: ${r.join(", ")}`)}function Cl(e,t,n){let r=[],o;return i=>{var l;let s=e(i);return(s.length!==r.length||s.some((c,d)=>!Ee(r[d],c)))&&(r=s,o=t(s,i),(l=n==null?void 0:n.onChange)==null||l.call(n,o)),o}}function we(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function Tn(){return{guards:we(),createMachine:e=>e,choose:e=>function({choose:n}){var r;return(r=n(e))==null?void 0:r.actions}}}var wn=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(wn||{}),Xr="__init__";function Tl(e){let t=()=>{var s,a;return(a=(s=e.getRootNode)==null?void 0:s.call(e))!=null?a:document},n=()=>ve(t()),r=()=>{var s;return(s=n().defaultView)!=null?s:window},o=()=>$t(t()),i=s=>t().getElementById(s);return v(m({},e),{getRootNode:t,getDoc:n,getWin:r,getActiveElement:o,isActiveElement:Kn,getById:i})}function wl(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var U=()=>e=>Array.from(new Set(e));var Qh=X("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),tr=Qh.build(),Jr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`accordion:${e.id}`},ep=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))!=null?o:`accordion:${e.id}:item:${t}`},ns=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:r.call(n,t))!=null?o:`accordion:${e.id}:content:${t}`},Qr=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:r.call(n,t))!=null?o:`accordion:${e.id}:trigger:${t}`},tp=e=>e.getById(Jr(e)),eo=e=>{let n=`[data-controls][data-ownedby='${CSS.escape(Jr(e))}']:not([disabled])`;return Ct(tp(e),n)},np=e=>yn(eo(e)),rp=e=>Ft(eo(e)),op=(e,t)=>gn(eo(e),Qr(e,t)),ip=(e,t)=>mn(eo(e),Qr(e,t));function Il(e,t){let{send:n,context:r,prop:o,scope:i,computed:s}=e,a=r.get("focusedValue"),l=r.get("value"),c=o("multiple");function d(p){let u=p;!c&&u.length>1&&(u=[u[0]]),n({type:"VALUE.SET",value:u})}function h(p){var u;return{expanded:l.includes(p.value),focused:a===p.value,disabled:!!((u=p.disabled)!=null?u:o("disabled"))}}return{focusedValue:a,value:l,setValue:d,getItemState:h,getRootProps(){return t.element(v(m({},tr.root.attrs),{dir:o("dir"),id:Jr(i),"data-orientation":o("orientation")}))},getItemProps(p){let u=h(p);return t.element(v(m({},tr.item.attrs),{dir:o("dir"),id:ep(i,p.value),"data-state":u.expanded?"open":"closed","data-focus":b(u.focused),"data-disabled":b(u.disabled),"data-orientation":o("orientation")}))},getItemContentProps(p){let u=h(p);return t.element(v(m({},tr.itemContent.attrs),{dir:o("dir"),role:"region",id:ns(i,p.value),"aria-labelledby":Qr(i,p.value),hidden:!u.expanded,"data-state":u.expanded?"open":"closed","data-disabled":b(u.disabled),"data-focus":b(u.focused),"data-orientation":o("orientation")}))},getItemIndicatorProps(p){let u=h(p);return t.element(v(m({},tr.itemIndicator.attrs),{dir:o("dir"),"aria-hidden":!0,"data-state":u.expanded?"open":"closed","data-disabled":b(u.disabled),"data-focus":b(u.focused),"data-orientation":o("orientation")}))},getItemTriggerProps(p){let{value:u}=p,f=h(p);return t.button(v(m({},tr.itemTrigger.attrs),{type:"button",dir:o("dir"),id:Qr(i,u),"aria-controls":ns(i,u),"data-controls":ns(i,u),"aria-expanded":f.expanded,disabled:f.disabled,"data-orientation":o("orientation"),"aria-disabled":f.disabled,"data-state":f.expanded?"open":"closed","data-ownedby":Jr(i),onFocus(){f.disabled||n({type:"TRIGGER.FOCUS",value:u})},onBlur(){f.disabled||n({type:"TRIGGER.BLUR"})},onClick(g){f.disabled||(Et()&&g.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:u}))},onKeyDown(g){if(g.defaultPrevented||f.disabled)return;let y={ArrowDown(){s("isHorizontal")||n({type:"GOTO.NEXT",value:u})},ArrowUp(){s("isHorizontal")||n({type:"GOTO.PREV",value:u})},ArrowRight(){s("isHorizontal")&&n({type:"GOTO.NEXT",value:u})},ArrowLeft(){s("isHorizontal")&&n({type:"GOTO.PREV",value:u})},Home(){n({type:"GOTO.FIRST",value:u})},End(){n({type:"GOTO.LAST",value:u})}},w=Oe(g,{dir:o("dir"),orientation:o("orientation")}),S=y[w];S&&(S(g),g.preventDefault())}}))}}}var{and:sp,not:ap}=we(),Sl={props({props:e}){return m({collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){var r;(r=e("onFocusChange"))==null||r({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var r;(r=e("onValueChange"))==null||r({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:sp("isExpanded","canToggle"),actions:["collapse"]},{guard:ap("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){let r=t("multiple")?Qn(e.get("value"),n.value):[];e.set("value",r)},expand({context:e,prop:t,event:n}){let r=t("multiple")?Ji(e.get("value"),n.value):[n.value];e.set("value",r)},focusFirstTrigger({scope:e}){var t;(t=np(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=rp(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let r=op(t,n);r==null||r.focus()},focusPrevTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let r=ip(t,n);r==null||r.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(ot("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}},lp=U()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]),Jb=q(lp),cp=U()(["value","disabled"]),Qb=q(cp);var nE=Symbol(),up=Symbol();var Ol=Object.getPrototypeOf,rs=new WeakMap,dp=e=>e&&(rs.has(e)?rs.get(e):Ol(e)===Object.prototype||Ol(e)===Array.prototype);var Pl=e=>dp(e)&&e[up]||null,os=(e,t=!0)=>{rs.set(e,t)};function fp(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function kl(e,t){let n=fp();return n?(n[e]||(n[e]=t()),n[e]):t()}var to=kl("__zag__refSet",()=>new WeakSet),hp=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,pp=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,gp=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",mp=e=>hp(e)||pp(e)||gp(e),is=e=>e!==null&&typeof e=="object",xl=e=>is(e)&&!to.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!mp(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise)&&!(e instanceof File)&&!(e instanceof Blob)&&!(e instanceof AbortController),no=()=>!1;var _t=kl("__zag__proxyStateMap",()=>new WeakMap),vp=(e=Object.is,t=(a,l)=>new Proxy(a,l),n=new WeakMap,r=(a,l)=>{let c=n.get(a);if((c==null?void 0:c[0])===l)return c[1];let d=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return os(d,!0),n.set(a,[l,d]),Reflect.ownKeys(a).forEach(h=>{let p=Reflect.get(a,h);to.has(p)?(os(p,!1),d[h]=p):_t.has(p)?d[h]=bp(p):d[h]=p}),Object.freeze(d)},o=new WeakMap,i=[1,1],s=a=>{if(!is(a))throw new Error("object required");let l=o.get(a);if(l)return l;let c=i[0],d=new Set,h=(P,R=++i[0])=>{c!==R&&(c=R,d.forEach(T=>T(P,R)))},p=i[1],u=(P=++i[1])=>(p!==P&&!d.size&&(p=P,g.forEach(([R])=>{let T=R[1](P);T>c&&(c=T)})),c),f=P=>(R,T)=>{let D=[...R];D[1]=[P,...D[1]],h(D,T)},g=new Map,y=(P,R)=>{if(no()&&g.has(P))throw new Error("prop listener already exists");if(d.size){let T=R[3](f(P));g.set(P,[R,T])}else g.set(P,[R])},w=P=>{var T;let R=g.get(P);R&&(g.delete(P),(T=R[1])==null||T.call(R))},S=P=>(d.add(P),d.size===1&&g.forEach(([T,D],F)=>{if(no()&&D)throw new Error("remove already exists");let L=T[3](f(F));g.set(F,[T,L])}),()=>{d.delete(P),d.size===0&&g.forEach(([T,D],F)=>{D&&(D(),g.set(F,[T]))})}),C=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),V=t(C,{deleteProperty(P,R){let T=Reflect.get(P,R);w(R);let D=Reflect.deleteProperty(P,R);return D&&h(["delete",[R],T]),D},set(P,R,T,D){var Y;let F=Reflect.has(P,R),L=Reflect.get(P,R,D);if(F&&(e(L,T)||o.has(T)&&e(L,o.get(T))))return!0;w(R),is(T)&&(T=Pl(T)||T);let M=T;if(!((Y=Object.getOwnPropertyDescriptor(P,R))!=null&&Y.set)){!_t.has(T)&&xl(T)&&(M=ss(T));let B=!to.has(M)&&_t.get(M);B&&y(R,B)}return Reflect.set(P,R,M,D),h(["set",[R],T,L]),!0}});o.set(a,V);let I=[C,u,r,S];return _t.set(V,I),Reflect.ownKeys(a).forEach(P=>{let R=Object.getOwnPropertyDescriptor(a,P);R.get||R.set?Object.defineProperty(C,P,R):V[P]=a[P]}),V})=>[s,_t,to,e,t,xl,n,r,o,i],[yp]=vp();function ss(e={}){return yp(e)}function as(e,t,n){let r=_t.get(e);no()&&!r&&console.warn("Please use proxy object");let o,i=[],s=r[3],a=!1,c=s(d=>{if(i.push(d),n){t(i.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,a&&t(i.splice(0))}))});return a=!0,()=>{a=!1,c()}}function bp(e){let t=_t.get(e);no()&&!t&&console.warn("Please use proxy object");let[n,r,o]=t;return o(n,r())}var Ep=Object.defineProperty,Cp=(e,t,n)=>t in e?Ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J=(e,t,n)=>Cp(e,typeof t!="symbol"?t+"":t,n),Vl={onFocus:"onFocusin",onBlur:"onFocusout",onChange:"onInput",onDoubleClick:"onDblclick",htmlFor:"for",className:"class",defaultValue:"value",defaultChecked:"checked"},Tp=new Set(["viewBox","preserveAspectRatio"]),wp=e=>{let t="";for(let n in e){let r=e[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)),t+=`${n}:${r};`)}return t},ne=wl(e=>Object.entries(e).reduce((t,[n,r])=>{if(r===void 0)return t;if(n in Vl&&(n=Vl[n]),n==="style"&&typeof r=="object")return t.style=wp(r),t;let o=Tp.has(n)?n:n.toLowerCase();return t[o]=r,t},{})),ro=new WeakMap,Al=new Set(["value","checked","selected"]),Ip=new Set(["viewBox","preserveAspectRatio","clipPath","clipRule","fillRule","strokeWidth","strokeLinecap","strokeLinejoin","strokeDasharray","strokeDashoffset","strokeMiterlimit"]),Sp=e=>e.tagName==="svg"||e.namespaceURI==="http://www.w3.org/2000/svg",oo=(e,t)=>Sp(e)&&Ip.has(t)?t:t.toLowerCase();function $l(e,t,n){let r=n||"default",o=ro.get(e);o||(o=new Map,ro.set(e,o));let i=o.get(r)||{},s=Object.keys(t),a=(g,y)=>{e.addEventListener(g.toLowerCase(),y)},l=(g,y)=>{e.removeEventListener(g.toLowerCase(),y)},c=g=>g.startsWith("on"),d=g=>!g.startsWith("on"),h=g=>a(g.substring(2),t[g]),p=g=>l(g.substring(2),t[g]),u=g=>{let y=t[g],w=i[g];if(y!==w){if(g==="class"){e.className=y!=null?y:"";return}if(Al.has(g)){e[g]=y!=null?y:"";return}if(typeof y=="boolean"&&!g.includes("aria-")){e.toggleAttribute(oo(e,g),y);return}if(g==="children"){e.innerHTML=y;return}if(y!=null){e.setAttribute(oo(e,g),y);return}e.removeAttribute(oo(e,g))}};for(let g in i)t[g]==null&&(g==="class"?e.className="":Al.has(g)?e[g]="":e.removeAttribute(oo(e,g)));return Object.keys(i).filter(c).forEach(g=>{l(g.substring(2),i[g])}),s.filter(c).forEach(h),s.filter(d).forEach(u),o.set(r,t),function(){s.filter(c).forEach(p);let y=ro.get(e);y&&(y.delete(r),y.size===0&&ro.delete(e))}}function io(e){var i,s;let t=(i=e().value)!=null?i:e().defaultValue;e().debug&&console.log(`[bindable > ${e().debug}] initial`,t);let n=(s=e().isEqual)!=null?s:Object.is,r=ss({value:t}),o=()=>e().value!==void 0;return{initial:t,ref:r,get(){return o()?e().value:r.value},set(a){var d,h;let l=r.value,c=nt(a)?a(l):a;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:c,prev:l}),o()||(r.value=c),n(c,l)||(h=(d=e()).onChange)==null||h.call(d,c,l)},invoke(a,l){var c,d;(d=(c=e()).onChange)==null||d.call(c,a,l)},hash(a){var l,c,d;return(d=(c=(l=e()).hash)==null?void 0:c.call(l,a))!=null?d:String(a)}}}io.cleanup=e=>{};io.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function Op(e){let t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function Dl(e,t){if(!bn(e)||!bn(t))return t===void 0?e:t;let n=m({},e);for(let r of Object.keys(t)){let o=t[r],i=e[r];o!==void 0&&(bn(i)&&bn(o)?n[r]=Dl(i,o):n[r]=o)}return n}var re=class{constructor(e,t={}){var h,p,u;this.machine=e,J(this,"scope"),J(this,"context"),J(this,"prop"),J(this,"state"),J(this,"refs"),J(this,"computed"),J(this,"event",{type:""}),J(this,"previousEvent",{type:""}),J(this,"effects",new Map),J(this,"transition",null),J(this,"cleanups",[]),J(this,"subscriptions",[]),J(this,"userPropsRef"),J(this,"getEvent",()=>v(m({},this.event),{current:()=>this.event,previous:()=>this.previousEvent})),J(this,"getStateConfig",f=>this.machine.states[f]),J(this,"getState",()=>v(m({},this.state),{matches:(...f)=>f.includes(this.state.get()),hasTag:f=>{var g,y;return!!((y=(g=this.getStateConfig(this.state.get()))==null?void 0:g.tags)!=null&&y.includes(f))}})),J(this,"debug",(...f)=>{this.machine.debug&&console.log(...f)}),J(this,"notify",()=>{this.publish()}),J(this,"send",f=>{this.status===wn.Started&&queueMicrotask(()=>{var V,I,P,R,T;if(!f)return;this.previousEvent=this.event,this.event=f,this.debug("send",f);let g=this.state.get(),y=f.type,w=(R=(I=(V=this.getStateConfig(g))==null?void 0:V.on)==null?void 0:I[y])!=null?R:(P=this.machine.on)==null?void 0:P[y],S=this.choose(w);if(!S)return;this.transition=S;let C=(T=S.target)!=null?T:g;this.debug("transition",S);let k=C!==g;k?this.state.set(C):S.reenter&&!k?this.state.invoke(g,g):this.action(S.actions)})}),J(this,"action",f=>{let g=nt(f)?f(this.getParams()):f;if(!g)return;let y=g.map(w=>{var C,k;let S=(k=(C=this.machine.implementations)==null?void 0:C.actions)==null?void 0:k[w];return S||ot(`[zag-js] No implementation found for action "${JSON.stringify(w)}"`),S});for(let w of y)w==null||w(this.getParams())}),J(this,"guard",f=>{var g,y;return nt(f)?f(this.getParams()):(y=(g=this.machine.implementations)==null?void 0:g.guards)==null?void 0:y[f](this.getParams())}),J(this,"effect",f=>{let g=nt(f)?f(this.getParams()):f;if(!g)return;let y=g.map(S=>{var k,V;let C=(V=(k=this.machine.implementations)==null?void 0:k.effects)==null?void 0:V[S];return C||ot(`[zag-js] No implementation found for effect "${JSON.stringify(S)}"`),C}),w=[];for(let S of y){let C=S==null?void 0:S(this.getParams());C&&w.push(C)}return()=>w.forEach(S=>S==null?void 0:S())}),J(this,"choose",f=>fl(f).find(g=>{let y=!g.guard;return es(g.guard)?y=!!this.guard(g.guard):nt(g.guard)&&(y=g.guard(this.getParams())),y})),J(this,"subscribe",f=>(this.subscriptions.push(f),()=>{let g=this.subscriptions.indexOf(f);g>-1&&this.subscriptions.splice(g,1)})),J(this,"status",wn.NotStarted),J(this,"publish",()=>{this.callTrackers(),this.subscriptions.forEach(f=>f(this.service))}),J(this,"trackers",[]),J(this,"setupTrackers",()=>{var f,g;(g=(f=this.machine).watch)==null||g.call(f,this.getParams())}),J(this,"callTrackers",()=>{this.trackers.forEach(({deps:f,fn:g})=>{let y=f.map(w=>w());Ee(g.prev,y)||(g(),g.prev=y)})}),J(this,"getParams",()=>({state:this.getState(),context:this.context,event:this.getEvent(),prop:this.prop,send:this.send,action:this.action,guard:this.guard,track:(f,g)=>{g.prev=f.map(y=>y()),this.trackers.push({deps:f,fn:g})},refs:this.refs,computed:this.computed,flush:vl,scope:this.scope,choose:this.choose})),this.userPropsRef={current:t};let{id:n,ids:r,getRootNode:o}=rt(t);this.scope=Tl({id:n,ids:r,getRootNode:o});let i=f=>{var w,S;let g=rt(this.userPropsRef.current);return((S=(w=e.props)==null?void 0:w.call(e,{props:Ht(g),scope:this.scope}))!=null?S:g)[f]};this.prop=i;let s=(h=e.context)==null?void 0:h.call(e,{prop:i,bindable:io,scope:this.scope,flush(f){queueMicrotask(f)},getContext(){return a},getComputed(){return l},getRefs(){return c},getEvent:this.getEvent.bind(this)});s&&Object.values(s).forEach(f=>{let g=as(f.ref,()=>this.notify());this.cleanups.push(g)});let a={get(f){return s==null?void 0:s[f].get()},set(f,g){s==null||s[f].set(g)},initial(f){return s==null?void 0:s[f].initial},hash(f){let g=s==null?void 0:s[f].get();return s==null?void 0:s[f].hash(g)}};this.context=a;let l=f=>{var g,y;return(y=(g=e.computed)==null?void 0:g[f]({context:a,event:this.getEvent(),prop:i,refs:this.refs,scope:this.scope,computed:l}))!=null?y:{}};this.computed=l;let c=Op((u=(p=e.refs)==null?void 0:p.call(e,{prop:i,context:a}))!=null?u:{});this.refs=c;let d=io(()=>({defaultValue:e.initialState({prop:i}),onChange:(f,g)=>{var w,S,C,k;if(g){let V=this.effects.get(g);V==null||V(),this.effects.delete(g)}g&&this.action((w=this.getStateConfig(g))==null?void 0:w.exit),this.action((S=this.transition)==null?void 0:S.actions);let y=this.effect((C=this.getStateConfig(f))==null?void 0:C.effects);if(y&&this.effects.set(f,y),g===Xr){this.action(e.entry);let V=this.effect(e.effects);V&&this.effects.set(Xr,V)}this.action((k=this.getStateConfig(f))==null?void 0:k.entry)}}));this.state=d,this.cleanups.push(as(this.state.ref,()=>this.notify()))}updateProps(e){let t=this.userPropsRef.current;this.userPropsRef.current=()=>{let n=rt(t),r=rt(e);return Dl(n,r)},this.notify()}start(){this.status=wn.Started,this.debug("initializing..."),this.state.invoke(this.state.initial,Xr),this.setupTrackers()}stop(){this.effects.forEach(e=>e==null?void 0:e()),this.effects.clear(),this.transition=null,this.action(this.machine.exit),this.cleanups.forEach(e=>e()),this.cleanups=[],this.subscriptions=[],this.status=wn.Stopped,this.debug("unmounting...")}get service(){return{state:this.getState(),send:this.send,context:this.context,prop:this.prop,scope:this.scope,refs:this.refs,computed:this.computed,event:this.getEvent(),getStatus:()=>this.status}}};var Q=class{constructor(t,n){W(this,"el");W(this,"doc");W(this,"machine");W(this,"api");W(this,"init",()=>{this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start()});W(this,"destroy",()=>{this.machine.stop()});W(this,"spreadProps",(t,n)=>{$l(t,n,this.machine.scope.id)});W(this,"updateProps",t=>{this.machine.updateProps(t)});if(!t)throw new Error("Root element not found");this.el=t,this.doc=document,this.machine=this.initMachine(n),this.api=this.initApi()}};var so=class extends Q{initMachine(t){return new re(Sl,t)}initApi(){return Il(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="accordion"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=t.querySelectorAll(':scope > [data-scope="accordion"][data-part="item"]');for(let r=0;r<n.length;r++){let o=n[r],i=o.dataset.value;if(!i)continue;let s=o.hasAttribute("data-disabled");this.spreadProps(o,this.api.getItemProps({value:i,disabled:s}));let a=o.querySelector('[data-scope="accordion"][data-part="item-trigger"]');a&&this.spreadProps(a,this.api.getItemTriggerProps({value:i,disabled:s}));let l=o.querySelector('[data-scope="accordion"][data-part="item-indicator"]');l&&this.spreadProps(l,this.api.getItemIndicatorProps({value:i,disabled:s}));let c=o.querySelector('[data-scope="accordion"][data-part="item-content"]');c&&this.spreadProps(c,this.api.getItemContentProps({value:i,disabled:s}))}}};var O=(e,t,n)=>{let r=e.dataset[t];if(r!==void 0&&(!n||n.includes(r)))return r},oe=(e,t)=>{let n=e.dataset[t];if(typeof n=="string")return n.split(",").map(r=>r.trim()).filter(r=>r.length>0)},xe=(e,t,n)=>{let r=e.dataset[t];if(r===void 0)return;let o=Number(r);if(!Number.isNaN(o))return n&&!n.includes(o)?0:o},E=(e,t)=>{let n=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.hasAttribute(`data-${n}`)},Sn=(e,t="element")=>e!=null&&e.id?e.id:`${t}-${Math.random().toString(36).substring(2,9)}`;var ao={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new so(e,v(m({id:e.id},E(e,"controlled")?{value:oe(e,"value")}:{defaultValue:oe(e,"defaultValue")}),{collapsible:E(e,"collapsible"),disabled:E(e,"disabled"),multiple:E(e,"multiple"),orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:r=>{var s,a;let o=O(e,"onValueChange");o&&this.liveSocket.main.isConnected()&&t(o,{id:e.id,value:(s=r.value)!=null?s:null});let i=O(e,"onValueChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{id:e.id,value:(a=r.value)!=null?a:null}}))},onFocusChange:r=>{var s,a;let o=O(e,"onFocusChange");o&&this.liveSocket.main.isConnected()&&t(o,{id:e.id,value:(s=r.value)!=null?s:null});let i=O(e,"onFocusChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{id:e.id,value:(a=r.value)!=null?a:null}}))}}));n.init(),this.accordion=n,this.onSetValue=r=>{let{value:o}=r.detail;n.api.setValue(o)},e.addEventListener("phx:accordion:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("accordion_set_value",r=>{let o=r.accordion_id;o&&o!==e.id||n.api.setValue(r.value)})),this.handlers.push(this.handleEvent("accordion_value",()=>{this.pushEvent("accordion_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("accordion_focused_value",()=>{this.pushEvent("accordion_focused_value_response",{value:n.api.focusedValue})}))},updated(){var t,n,r;(t=this.accordion)==null||t.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{value:oe(this.el,"value")}:{defaultValue:oe(this.el,"defaultValue")}),{collapsible:E(this.el,"collapsible"),disabled:E(this.el,"disabled"),multiple:E(this.el,"multiple"),orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}));let e=(r=(n=this.accordion)==null?void 0:n.api)==null?void 0:r.focusedValue;if(e){let o=this.el.querySelector(`[data-scope="accordion"][data-part="item"][data-value="${e}"] [data-part="item-trigger"]`);o&&document.activeElement!==o&&o.focus()}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:accordion:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.accordion)==null||e.destroy()}};function Pp(e){let t={each(n){var r;for(let o=0;o<((r=e.frames)==null?void 0:r.length);o+=1){let i=e.frames[o];i&&n(i)}},addEventListener(n,r,o){return t.each(i=>{try{i.document.addEventListener(n,r,o)}catch(s){}}),()=>{try{t.removeEventListener(n,r,o)}catch(i){}}},removeEventListener(n,r,o){t.each(i=>{try{i.document.removeEventListener(n,r,o)}catch(s){}})}};return t}function xp(e){let t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,o)=>{try{t==null||t.addEventListener(n,r,o)}catch(i){}return()=>{try{t==null||t.removeEventListener(n,r,o)}catch(i){}}},removeEventListener:(n,r,o)=>{try{t==null||t.removeEventListener(n,r,o)}catch(i){}}}}var Ll="pointerdown.outside",Rl="focus.outside";function kp(e){for(let t of e)if(ce(t)&&Ye(t))return!0;return!1}var Fl=e=>"clientY"in e;function Vp(e,t){if(!Fl(t)||!e)return!1;let n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Ap(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function Ml(e,t){if(!t||!Fl(e))return!1;let n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,o=t.scrollWidth>t.clientWidth,i=o&&e.clientY>t.offsetTop+t.clientHeight,s={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(o?16:0)},a={x:e.clientX,y:e.clientY};return Ap(s,a)?r||i:!1}function $p(e,t){let{exclude:n,onFocusOutside:r,onPointerDownOutside:o,onInteractOutside:i,defer:s,followControlledElements:a=!0}=t;if(!e)return;let l=ve(e),c=ae(e),d=Pp(c),h=xp(c);function p(C,k){if(!ce(k)||!k.isConnected||be(e,k)||Vp(e,C)||a&&Dr(e,k))return!1;let V=l.querySelector(`[aria-controls="${e.id}"]`);if(V){let P=Br(V);if(Ml(C,P))return!1}let I=Br(e);return Ml(C,I)?!1:!(n!=null&&n(k))}let u=new Set,f=At(e==null?void 0:e.getRootNode());function g(C){function k(V){var T,D;let I=s&&!qi()?H:F=>F(),P=V!=null?V:C,R=(D=(T=P==null?void 0:P.composedPath)==null?void 0:T.call(P))!=null?D:[P==null?void 0:P.target];I(()=>{let F=f?R[0]:z(C);if(!(!e||!p(C,F))){if(o||i){let L=En(o,i);e.addEventListener(Ll,L,{once:!0})}Nl(e,Ll,{bubbles:!1,cancelable:!0,detail:{originalEvent:P,contextmenu:Mr(P),focusable:kp(R),target:F}})}})}C.pointerType==="touch"?(u.forEach(V=>V()),u.add(te(l,"click",k,{once:!0})),u.add(h.addEventListener("click",k,{once:!0})),u.add(d.addEventListener("click",k,{once:!0}))):k()}let y=new Set,w=setTimeout(()=>{y.add(te(l,"pointerdown",g,!0)),y.add(h.addEventListener("pointerdown",g,!0)),y.add(d.addEventListener("pointerdown",g,!0))},0);function S(C){(s?H:V=>V())(()=>{var P,R;let V=(R=(P=C==null?void 0:C.composedPath)==null?void 0:P.call(C))!=null?R:[C==null?void 0:C.target],I=f?V[0]:z(C);if(!(!e||!p(C,I))){if(r||i){let T=En(r,i);e.addEventListener(Rl,T,{once:!0})}Nl(e,Rl,{bubbles:!1,cancelable:!0,detail:{originalEvent:C,contextmenu:!1,focusable:Ye(I),target:I}})}})}return qi()||(y.add(te(l,"focusin",S,!0)),y.add(h.addEventListener("focusin",S,!0)),y.add(d.addEventListener("focusin",S,!0))),()=>{clearTimeout(w),u.forEach(C=>C()),y.forEach(C=>C())}}function Hl(e,t){let{defer:n}=t,r=n?H:i=>i(),o=[];return o.push(r(()=>{let i=typeof e=="function"?e():e;o.push($p(i,t))})),()=>{o.forEach(i=>i==null?void 0:i())}}function Nl(e,t,n){let r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,n);return e.dispatchEvent(o)}function Dp(e,t){let n=r=>{r.key==="Escape"&&(r.isComposing||t==null||t(r))};return te(ve(e),"keydown",n,{capture:!0})}var _l="layer:request-dismiss",ke={layers:[],branches:[],recentlyRemoved:new Set,count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var r;let t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return t<n},isTopMost(e){let t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){let n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(r=>r.type===t)},getParentLayerOfType(e,t){let n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(r=>r.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return!!(this.getNestedLayers(e).some(r=>be(r.node,t))||this.recentlyRemoved.size>0)},isInBranch(e){return Array.from(this.branches).some(t=>be(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){let t=this.indexOf(e);t<0||(this.recentlyRemoved.add(e),Mt(()=>this.recentlyRemoved.delete(e)),t<this.count()-1&&this.getNestedLayers(e).forEach(r=>ke.dismiss(r.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){let t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);let r=this.countNestedLayersOfType(e.node,e.type);r>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${r}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){let n=this.indexOf(e);if(n===-1)return;let r=this.layers[n];Rp(e,_l,o=>{var i;(i=r.requestDismiss)==null||i.call(r,o),o.defaultPrevented||r==null||r.dismiss()}),Lp(e,_l,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function Lp(e,t,n){let r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(o)}function Rp(e,t,n){e.addEventListener(t,n,{once:!0})}var Bl;function Gl(){ke.layers.forEach(({node:e})=>{e.style.pointerEvents=ke.isBelowPointerBlockingLayer(e)?"none":"auto"})}function Mp(e){e.style.pointerEvents=""}function Np(e,t){let n=ve(e),r=[];return ke.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Bl=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(o=>{let[i,s]=ll(()=>{let a=o();return ce(a)?a:null},{timeout:1e3});i.then(a=>r.push(Nt(a,{pointerEvents:"auto"}))),r.push(s)}),()=>{ke.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=Bl,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(o=>o()))}}function Fp(e,t){let{warnOnMissingNode:n=!0}=t;if(n&&!e){ot("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;let{onDismiss:r,onRequestDismiss:o,pointerBlocking:i,exclude:s,debug:a,type:l="dialog"}=t,c={dismiss:r,node:e,type:l,pointerBlocking:i,requestDismiss:o};ke.add(c),Gl();function d(g){var w,S;let y=z(g.detail.originalEvent);ke.isBelowPointerBlockingLayer(e)||ke.isInBranch(y)||((w=t.onPointerDownOutside)==null||w.call(t,g),(S=t.onInteractOutside)==null||S.call(t,g),!g.defaultPrevented&&(a&&console.log("onPointerDownOutside:",g.detail.originalEvent),r==null||r()))}function h(g){var w,S;let y=z(g.detail.originalEvent);ke.isInBranch(y)||((w=t.onFocusOutside)==null||w.call(t,g),(S=t.onInteractOutside)==null||S.call(t,g),!g.defaultPrevented&&(a&&console.log("onFocusOutside:",g.detail.originalEvent),r==null||r()))}function p(g){var y;ke.isTopMost(e)&&((y=t.onEscapeKeyDown)==null||y.call(t,g),!g.defaultPrevented&&r&&(g.preventDefault(),r()))}function u(g){var C;if(!e)return!1;let y=typeof s=="function"?s():s,w=Array.isArray(y)?y:[y],S=(C=t.persistentElements)==null?void 0:C.map(k=>k()).filter(ce);return S&&w.push(...S),w.some(k=>be(k,g))||ke.isInNestedLayer(e,g)}let f=[i?Np(e,t.persistentElements):void 0,Dp(e,p),Hl(e,{exclude:u,onFocusOutside:h,onPointerDownOutside:d,defer:t.defer})];return()=>{ke.remove(e),Gl(),Mp(e),f.forEach(g=>g==null?void 0:g())}}function It(e,t){let{defer:n}=t,r=n?H:i=>i(),o=[];return o.push(r(()=>{let i=nt(e)?e():e;o.push(Fp(i,t))})),()=>{o.forEach(i=>i==null?void 0:i())}}function ql(e,t={}){let{defer:n}=t,r=n?H:i=>i(),o=[];return o.push(r(()=>{let i=nt(e)?e():e;if(!i){ot("[@zag-js/dismissable] branch node is `null` or `undefined`");return}ke.addBranch(i),o.push(()=>{ke.removeBranch(i)})})),()=>{o.forEach(i=>i==null?void 0:i())}}var Hp=X("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),On=Hp.build(),_p=e=>`toast-group:${e}`,Ul=(e,t)=>e.getById(`toast-group:${t}`),Zl=e=>`toast:${e.id}`,Wl=e=>e.getById(Zl(e)),jl=e=>`toast:${e.id}:title`,Kl=e=>`toast:${e.id}:description`,Bp=e=>`toast${e.id}:close`,Yl={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function ls(e,t){var n;return(n=e!=null?e:Yl[t])!=null?n:Yl.DEFAULT}var Gp=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;function qp(e,t){var g;let{prop:n,computed:r,context:o}=e,{offsets:i,gap:s}=n("store").attrs,a=o.get("heights"),l=Gp(i),c=n("dir")==="rtl",d=t.replace("-start",c?"-right":"-left").replace("-end",c?"-left":"-right"),h=d.includes("right"),p=d.includes("left"),u={position:"fixed",pointerEvents:r("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${s}px`,"--first-height":`${((g=a[0])==null?void 0:g.height)||0}px`,"--viewport-offset-left":l.left,"--viewport-offset-right":l.right,"--viewport-offset-top":l.top,"--viewport-offset-bottom":l.bottom,zIndex:Fa},f="center";if(h&&(f="flex-end"),p&&(f="flex-start"),u.alignItems=f,d.includes("top")){let y=l.top;u.top=`max(env(safe-area-inset-top, 0px), ${y})`}if(d.includes("bottom")){let y=l.bottom;u.bottom=`max(env(safe-area-inset-bottom, 0px), ${y})`}if(!d.includes("left")){let y=l.right;u.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${y})`}if(!d.includes("right")){let y=l.left;u.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${y})`}return u}function Up(e,t){let{prop:n,context:r,computed:o}=e,i=n("parent"),s=i.computed("placement"),{gap:a}=i.prop("store").attrs,[l]=s.split("-"),c=r.get("mounted"),d=r.get("remainingTime"),h=o("height"),p=o("frontmost"),u=!p,f=!n("stacked"),g=n("stacked"),w=n("type")==="loading"?Number.MAX_SAFE_INTEGER:d,S=o("heightIndex")*a+o("heightBefore"),C={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${n("removeDelay")}ms`,"--duration":`${w}ms`,"--initial-height":`${h}px`,"--offset":`${S}px`,"--index":n("index"),"--z-index":o("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},k=V=>Object.assign(C,V);return l==="top"?k({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):l==="bottom"&&k({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),c&&(k({"--y":"0","--opacity":"1"}),g&&k({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||k({"--opacity":"0",pointerEvents:"none"}),u&&f&&(k({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||k({"--y":"calc(var(--sign) * 40%)"})),u&&g&&!t&&k({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),p&&!t&&k({"--y":"calc(var(--lift) * -100%)"}),C}function Wp(e,t){let{computed:n}=e,r={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},o=i=>Object.assign(r,i);return n("frontmost")&&!t&&o({height:"calc(var(--initial-height) + 80%)"}),r}function jp(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function Kp(e,t){let{context:n,prop:r,send:o,refs:i,computed:s}=e;return{getCount(){return n.get("toasts").length},getToasts(){return n.get("toasts")},getGroupProps(a={}){let{label:l="Notifications"}=a,{hotkey:c}=r("store").attrs,d=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=s("placement"),[p,u="center"]=h.split("-");return t.element(v(m({},On.group.attrs),{dir:r("dir"),tabIndex:-1,"aria-label":`${h} ${l} ${d}`,id:_p(h),"data-placement":h,"data-side":p,"data-align":u,"aria-live":"polite",role:"region",style:qp(e,h),onMouseEnter(){i.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_ENTER",placement:h})},onMouseMove(){i.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_ENTER",placement:h})},onMouseLeave(){i.get("ignoreMouseTimer").isActive()||o({type:"REGION.POINTER_LEAVE",placement:h})},onFocus(f){o({type:"REGION.FOCUS",target:f.relatedTarget})},onBlur(f){i.get("isFocusWithin")&&!be(f.currentTarget,f.relatedTarget)&&queueMicrotask(()=>o({type:"REGION.BLUR"}))}}))},subscribe(a){return r("store").subscribe(()=>a(n.get("toasts")))}}}var{guards:Yp,createMachine:zp}=Tn(),{and:Zp}=Yp,Xp=zp({props({props:e}){return v(m({dir:"ltr",id:ts()},e),{store:e.store})},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:Wi.create(),dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(n=>n.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:n}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{n(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:Zp("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore({context:e,prop:t}){let n=t("store");return e.set("toasts",n.getVisibleToasts()),n.subscribe(r=>{if(r.dismiss){e.set("toasts",o=>o.filter(i=>i.id!==r.id));return}e.set("toasts",o=>{let i=o.findIndex(s=>s.id===r.id);return i!==-1?[...o.slice(0,i),m(m({},o[i]),r),...o.slice(i+1)]:[r,...o]})})},trackHotKeyPress({prop:e,send:t}){return te(document,"keydown",r=>{let{hotkey:o}=e("store").attrs;o.every(s=>r[s]||r.code===s)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:n}){let{pauseOnPageIdle:r}=e("store").attrs;if(!r)return;let o=n.getDoc();return te(o,"visibilitychange",()=>{let i=o.visibilityState==="hidden";t({type:i?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:n,scope:r}){var c;let o=t.get("toasts"),i=n("placement"),s=o.length>0;if(!s){(c=e.get("dismissableCleanup"))==null||c();return}if(s&&e.get("dismissableCleanup"))return;let l=ql(()=>Ul(r,i),{defer:!0});e.set("dismissableCleanup",l)},clearDismissableBranch({refs:e}){var t;(t=e.get("dismissableCleanup"))==null||t()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{var n;(n=Ul(e,t("placement")))==null||n.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){(e==null?void 0:e.id)!=null&&queueMicrotask(()=>{t.set("heights",n=>n.filter(r=>r.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){var t;!e.get("lastFocusedEl")||e.get("isPointerWithin")||((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){var t;e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){var t;e.get("lastFocusedEl")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});function Xl(e,t){let{state:n,send:r,prop:o,scope:i,context:s,computed:a}=e,l=n.hasTag("visible"),c=n.hasTag("paused"),d=s.get("mounted"),h=a("frontmost"),p=o("parent").computed("placement"),u=o("type"),f=o("stacked"),g=o("title"),y=o("description"),w=o("action"),[S,C="center"]=p.split("-");return{type:u,title:g,description:y,placement:p,visible:l,paused:c,closable:!!o("closable"),pause(){r({type:"PAUSE"})},resume(){r({type:"RESUME"})},dismiss(){r({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element(v(m({},On.root.attrs),{dir:o("dir"),id:Zl(i),"data-state":l?"open":"closed","data-type":u,"data-placement":p,"data-align":C,"data-side":S,"data-mounted":b(d),"data-paused":b(c),"data-first":b(h),"data-sibling":b(!h),"data-stack":b(f),"data-overlap":b(!f),role:"status","aria-atomic":"true","aria-describedby":y?Kl(i):void 0,"aria-labelledby":g?jl(i):void 0,tabIndex:0,style:Up(e,l),onKeyDown(k){k.defaultPrevented||k.key=="Escape"&&(r({type:"DISMISS",src:"keyboard"}),k.preventDefault())}}))},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:Wp(e,l)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:jp()})},getTitleProps(){return t.element(v(m({},On.title.attrs),{id:jl(i)}))},getDescriptionProps(){return t.element(v(m({},On.description.attrs),{id:Kl(i)}))},getActionTriggerProps(){return t.button(v(m({},On.actionTrigger.attrs),{type:"button",onClick(k){var V;k.defaultPrevented||((V=w==null?void 0:w.onClick)==null||V.call(w),r({type:"DISMISS",src:"user"}))}}))},getCloseTriggerProps(){return t.button(v(m({id:Bp(i)},On.closeTrigger.attrs),{type:"button","aria-label":"Dismiss notification",onClick(k){k.defaultPrevented||r({type:"DISMISS",src:"user"})}}))}}}var{not:Jp}=we(),Jl={props({props:e}){return Zr(e,["id","type","parent","removeDelay"],"toast"),v(m({closable:!0},e),{duration:ls(e.duration,e.type)})},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:ls(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{let t=e("parent").context.get("toasts"),n=t.findIndex(r=>r.id===e("id"));return t.length-n},height:({prop:e})=>{var r;let n=e("parent").context.get("heights").find(o=>o.id===e("id"));return(r=n==null?void 0:n.height)!=null?r:0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(n=>n.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{let t=e("parent").context.get("heights"),n=t.findIndex(r=>r.id===e("id"));return t.reduce((r,o,i)=>i>=n?r:r+o.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:n}){e([()=>t("message")],()=>{let r=t("message");r&&n({type:r,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{n({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:Jp("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return Cn(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:n}){if(!n("shouldPersist"))return Cn(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return Cn(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let n;return H(()=>{let r=Wl(e);if(!r)return;let o=()=>{let a=r.style.height;r.style.height="auto";let l=r.getBoundingClientRect().height;r.style.height=a;let c={id:t("id"),height:l};zl(t("parent"),c)},i=e.getWin(),s=new i.MutationObserver(o);s.observe(r,{childList:!0,subtree:!0,characterData:!0}),n=()=>s.disconnect()}),()=>n==null?void 0:n()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){H(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:n}){queueMicrotask(()=>{let r=Wl(e);if(!r)return;let o=r.style.height;r.style.height="auto";let i=r.getBoundingClientRect().height;r.style.height=o,n.set("initialHeight",i);let s={id:t("id"),height:i};zl(t("parent"),s)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:n}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",ls(n("duration"),n("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",n=>{let r=t.get("closeTimerStartTime"),o=Date.now()-r;return t.set("lastCloseStartTimerStartTime",Date.now()),n-o})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){var n;(n=e("onStatusChange"))==null||n({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"unmounted"})},invokeOnVisible({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"visible"})}}}};function zl(e,t){let{id:n,height:r}=t;e.context.set("heights",o=>o.find(s=>s.id===n)?o.map(s=>s.id===n?v(m({},s),{height:r}):s):[{id:n,height:r},...o])}var Qp=(e,t)=>m(m({},t),Ht(e));function Ql(e={}){let t=Qp(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0}),n=[],r=[],o=new Set,i=[],s=L=>(n.push(L),()=>{let M=n.indexOf(L);n.splice(M,1)}),a=L=>(n.forEach(M=>M(L)),L),l=L=>{if(r.length>=t.max){i.push(L);return}a(L),r.unshift(L)},c=()=>{for(;i.length>0&&r.length<t.max;){let L=i.shift();L&&(a(L),r.unshift(L))}},d=L=>{var B;let M=(B=L.id)!=null?B:`toast:${ts()}`,Y=r.find(K=>K.id===M);return o.has(M)&&o.delete(M),Y?r=r.map(K=>K.id===M?a(v(m(m({},K),L),{id:M})):K):l(v(m({id:M,duration:t.duration,removeDelay:t.removeDelay,type:"info"},L),{stacked:!t.overlap,gap:t.gap})),M},h=L=>(o.add(L),L?(n.forEach(M=>M({id:L,dismiss:!0})),r=r.filter(M=>M.id!==L),c()):(r.forEach(M=>{n.forEach(Y=>Y({id:M.id,dismiss:!0}))}),r=[],i=[]),L);return{attrs:t,subscribe:s,create:d,update:(L,M)=>d(m({id:L},M)),remove:h,dismiss:L=>{L!=null?r=r.map(M=>M.id===L?a(v(m({},M),{message:"DISMISS"})):M):r=r.map(M=>a(v(m({},M),{message:"DISMISS"})))},error:L=>d(v(m({},L),{type:"error"})),success:L=>d(v(m({},L),{type:"success"})),info:L=>d(v(m({},L),{type:"info"})),warning:L=>d(v(m({},L),{type:"warning"})),loading:L=>d(v(m({},L),{type:"loading"})),getVisibleToasts:()=>r.filter(L=>!o.has(L.id)),getCount:()=>r.length,promise:(L,M,Y={})=>{if(!M||!M.loading){ot("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}let B=d(v(m(m({},Y),M.loading),{promise:L,type:"loading"})),K=!0,G,fe=rt(L).then(j=>pe(null,null,function*(){if(G=["resolve",j],eg(j)&&!j.ok){K=!1;let le=rt(M.error,`HTTP Error! status: ${j.status}`);d(v(m(m({},Y),le),{id:B,type:"error"}))}else if(M.success!==void 0){K=!1;let le=rt(M.success,j);d(v(m(m({},Y),le),{id:B,type:"success"}))}})).catch(j=>pe(null,null,function*(){if(G=["reject",j],M.error!==void 0){K=!1;let le=rt(M.error,j);d(v(m(m({},Y),le),{id:B,type:"error"}))}})).finally(()=>{var j;K&&h(B),(j=M.finally)==null||j.call(M)});return{id:B,unwrap:()=>new Promise((j,le)=>fe.then(()=>G[0]==="reject"?le(G[1]):j(G[1])).catch(le))}},pause:L=>{L!=null?r=r.map(M=>M.id===L?a(v(m({},M),{message:"PAUSE"})):M):r=r.map(M=>a(v(m({},M),{message:"PAUSE"})))},resume:L=>{L!=null?r=r.map(M=>M.id===L?a(v(m({},M),{message:"RESUME"})):M):r=r.map(M=>a(v(m({},M),{message:"RESUME"})))},isVisible:L=>!o.has(L)&&!!r.find(M=>M.id===L),isDismissed:L=>o.has(L),expand:()=>{r=r.map(L=>a(v(m({},L),{stacked:!0})))},collapse:()=>{r=r.map(L=>a(v(m({},L),{stacked:!1})))}}}var eg=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cs={connect:Kp,machine:Xp};var ng=new Map,us=new Map,ds=class extends Q{constructor(n,r){super(n,r);W(this,"parts");W(this,"duration");W(this,"destroy",()=>{this.machine.stop(),this.el.remove()});this.duration=r.duration,this.el.setAttribute("data-scope","toast"),this.el.setAttribute("data-part","root"),this.el.innerHTML=`
      <span data-scope="toast" data-part="ghost-before"></span>
      <div data-scope="toast" data-part="progressbar"></div>
      <div data-scope="toast" data-part="loading-spinner" style="display: none;"></div>

      <div data-scope="toast" data-part="content">
        <div data-scope="toast" data-part="title"></div>
        <div data-scope="toast" data-part="description"></div>
      </div>

      <button data-scope="toast" data-part="close-trigger">
        <svg viewBox="0 0 20 20" aria-hidden="true">
          <path d="M4.293 4.293 10 8.586l5.707-5.707 1.414 1.414L11.414 10l5.707 5.707-1.414 1.414L10 11.414l-5.707 5.707-1.414-1.414L8.586 10 2.879 4.293z"/>
        </svg>
      </button>

      <span data-scope="toast" data-part="ghost-after"></span>
    `,this.parts={title:this.el.querySelector('[data-scope="toast"][data-part="title"]'),description:this.el.querySelector('[data-scope="toast"][data-part="description"]'),close:this.el.querySelector('[data-scope="toast"][data-part="close-trigger"]'),ghostBefore:this.el.querySelector('[data-scope="toast"][data-part="ghost-before"]'),ghostAfter:this.el.querySelector('[data-scope="toast"][data-part="ghost-after"]'),progressbar:this.el.querySelector('[data-scope="toast"][data-part="progressbar"]'),loadingSpinner:this.el.querySelector('[data-scope="toast"][data-part="loading-spinner"]')}}initMachine(n){return new re(Jl,n)}initApi(){return Xl(this.machine.service,ne)}render(){var a,l;this.spreadProps(this.el,this.api.getRootProps()),this.spreadProps(this.parts.close,this.api.getCloseTriggerProps()),this.spreadProps(this.parts.ghostBefore,this.api.getGhostBeforeProps()),this.spreadProps(this.parts.ghostAfter,this.api.getGhostAfterProps()),this.parts.title.textContent!==this.api.title&&(this.parts.title.textContent=(a=this.api.title)!=null?a:""),this.parts.description.textContent!==this.api.description&&(this.parts.description.textContent=(l=this.api.description)!=null?l:""),this.spreadProps(this.parts.title,this.api.getTitleProps()),this.spreadProps(this.parts.description,this.api.getDescriptionProps());let n=this.duration,r=n==="Infinity"||n===1/0||n===Number.POSITIVE_INFINITY,o=this.el.closest('[phx-hook="Toast"]'),i=o==null?void 0:o.querySelector("[data-loading-icon-template]"),s=i==null?void 0:i.innerHTML;r?(this.parts.progressbar.style.display="none",this.parts.loadingSpinner.style.display="flex",this.el.setAttribute("data-duration-infinity","true"),s&&this.parts.loadingSpinner.innerHTML!==s&&(this.parts.loadingSpinner.innerHTML=s)):(this.parts.progressbar.style.display="block",this.parts.loadingSpinner.style.display="none",this.el.removeAttribute("data-duration-infinity"))}},fs=class extends Q{constructor(n,r){var o;super(n,r);W(this,"toastComponents",new Map);W(this,"groupEl");W(this,"store");W(this,"destroy",()=>{for(let n of this.toastComponents.values())n.destroy();this.toastComponents.clear(),this.machine.stop()});this.store=r.store,this.groupEl=(o=n.querySelector('[data-part="group"]'))!=null?o:(()=>{let i=document.createElement("div");return i.setAttribute("data-scope","toast"),i.setAttribute("data-part","group"),n.appendChild(i),i})()}initMachine(n){return new re(cs.machine,n)}initApi(){return cs.connect(this.machine.service,ne)}render(){this.spreadProps(this.groupEl,this.api.getGroupProps());let n=this.api.getToasts().filter(o=>typeof o.id=="string"),r=new Set(n.map(o=>o.id));n.forEach((o,i)=>{let s=this.toastComponents.get(o.id);if(s)s.duration=o.duration,s.updateProps(v(m({},o),{parent:this.machine.service,index:i}));else{let a=document.createElement("div");a.setAttribute("data-scope","toast"),a.setAttribute("data-part","root"),this.groupEl.appendChild(a),s=new ds(a,v(m({},o),{parent:this.machine.service,index:i})),s.init(),this.toastComponents.set(o.id,s)}});for(let[o,i]of this.toastComponents)r.has(o)||(i.destroy(),this.toastComponents.delete(o))}};function ec(e,t){var i,s,a;let n=(i=t==null?void 0:t.id)!=null?i:Sn(e,"toast"),r=(a=t==null?void 0:t.store)!=null?a:Ql({placement:(s=t==null?void 0:t.placement)!=null?s:"bottom",overlap:t==null?void 0:t.overlap,max:t==null?void 0:t.max,gap:t==null?void 0:t.gap,offsets:t==null?void 0:t.offsets,pauseOnPageIdle:t==null?void 0:t.pauseOnPageIdle}),o=new fs(e,{id:n,store:r});return o.init(),ng.set(n,o),us.set(n,r),e.dataset.toastGroup="true",e.dataset.toastGroupId=n,{group:o,store:r}}function nr(e){if(e)return us.get(e);let t=document.querySelector("[data-toast-group]");if(!t)return;let n=t.dataset.toastGroupId||t.id;return n?us.get(n):void 0}var lo={mounted(){var o;let e=this.el;e.id||(e.id=Sn(e,"toast")),this.groupId=e.id;let t=i=>{if(i)try{return i.includes("{")?JSON.parse(i):i}catch(s){return i}},n=i=>i==="Infinity"||i===1/0?1/0:typeof i=="string"?parseInt(i,10)||void 0:i,r=(o=O(e,"placement",["top-start","top","top-end","bottom-start","bottom","bottom-end"]))!=null?o:"bottom-end";ec(e,{id:this.groupId,placement:r,overlap:E(e,"overlap"),max:xe(e,"max"),gap:xe(e,"gap"),offsets:t(O(e,"offset")),pauseOnPageIdle:E(e,"pauseOnPageIdle")}),this.handlers=[],this.handlers.push(this.handleEvent("toast-create",i=>{let s=nr(i.groupId||this.groupId);if(s)try{s.create({title:i.title,description:i.description,type:i.type||"info",id:i.id||Sn(void 0,"toast"),duration:n(i.duration)})}catch(a){console.error("Failed to create toast:",a)}})),this.handlers.push(this.handleEvent("toast-update",i=>{let s=nr(i.groupId||this.groupId);if(s)try{s.update(i.id,{title:i.title,description:i.description,type:i.type})}catch(a){console.error("Failed to update toast:",a)}})),this.handlers.push(this.handleEvent("toast-dismiss",i=>{let s=nr(i.groupId||this.groupId);if(s)try{s.dismiss(i.id)}catch(a){console.error("Failed to dismiss toast:",a)}})),e.addEventListener("toast:create",i=>{let{detail:s}=i,a=nr(s.groupId||this.groupId);if(a)try{a.create({title:s.title,description:s.description,type:s.type||"info",id:s.id||Sn(void 0,"toast"),duration:n(s.duration)})}catch(l){console.error("Failed to create toast:",l)}})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e)}};var rg=X("toggle-group").parts("root","item"),tc=rg.build(),co=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`toggle-group:${e.id}`},og=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))!=null?o:`toggle-group:${e.id}:${t}`},oc=e=>e.getById(co(e)),uo=e=>{let n=`[data-ownedby='${CSS.escape(co(e))}']:not([data-disabled])`;return Ct(oc(e),n)},nc=e=>yn(uo(e)),ig=e=>Ft(uo(e)),sg=(e,t,n)=>gn(uo(e),t,n),ag=(e,t,n)=>mn(uo(e),t,n);function ic(e,t){let{context:n,send:r,prop:o,scope:i}=e,s=n.get("value"),a=o("disabled"),l=!o("multiple"),c=o("rovingFocus"),d=o("orientation")==="horizontal";function h(p){let u=og(i,p.value);return{id:u,disabled:!!(p.disabled||a),pressed:!!s.includes(p.value),focused:n.get("focusedId")===u}}return{value:s,setValue(p){r({type:"VALUE.SET",value:p})},getRootProps(){return t.element(v(m({},tc.root.attrs),{id:co(i),dir:o("dir"),role:l?"radiogroup":"group",tabIndex:n.get("isTabbingBackward")?-1:0,"data-disabled":b(a),"data-orientation":o("orientation"),"data-focus":b(n.get("focusedId")!=null),style:{outline:"none"},onMouseDown(){a||r({type:"ROOT.MOUSE_DOWN"})},onFocus(p){a||p.currentTarget===z(p)&&(n.get("isClickFocus")||n.get("isTabbingBackward")||r({type:"ROOT.FOCUS"}))},onBlur(p){let u=p.relatedTarget;be(p.currentTarget,u)||a||r({type:"ROOT.BLUR"})}}))},getItemState:h,getItemProps(p){let u=h(p),f=u.focused?0:-1;return t.button(v(m({},tc.item.attrs),{id:u.id,type:"button","data-ownedby":co(i),"data-focus":b(u.focused),disabled:u.disabled,tabIndex:c?f:void 0,role:l?"radio":void 0,"aria-checked":l?u.pressed:void 0,"aria-pressed":l?void 0:u.pressed,"data-disabled":b(u.disabled),"data-orientation":o("orientation"),dir:o("dir"),"data-state":u.pressed?"on":"off",onFocus(){u.disabled||r({type:"TOGGLE.FOCUS",id:u.id})},onClick(g){u.disabled||(r({type:"TOGGLE.CLICK",id:u.id,value:p.value}),Et()&&g.currentTarget.focus({preventScroll:!0}))},onKeyDown(g){if(g.defaultPrevented||!be(g.currentTarget,z(g))||u.disabled)return;let w={Tab(S){let C=S.shiftKey;r({type:"TOGGLE.SHIFT_TAB",isShiftTab:C})},ArrowLeft(){!c||!d||r({type:"TOGGLE.FOCUS_PREV"})},ArrowRight(){!c||!d||r({type:"TOGGLE.FOCUS_NEXT"})},ArrowUp(){!c||d||r({type:"TOGGLE.FOCUS_PREV"})},ArrowDown(){!c||d||r({type:"TOGGLE.FOCUS_NEXT"})},Home(){c&&r({type:"TOGGLE.FOCUS_FIRST"})},End(){c&&r({type:"TOGGLE.FOCUS_LAST"})}}[Oe(g)];w&&(w(g),g.key!=="Tab"&&g.preventDefault())}}))}}}var{not:rc,and:lg}=we(),sc={props({props:e}){return m({defaultValue:[],orientation:"horizontal",rovingFocus:!0,loopFocus:!0,deselectable:!0},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var r;(r=e("onValueChange"))==null||r({value:n})}})),focusedId:t(()=>({defaultValue:null})),isTabbingBackward:t(()=>({defaultValue:!1})),isClickFocus:t(()=>({defaultValue:!1})),isWithinToolbar:t(()=>({defaultValue:!1}))}},computed:{currentLoopFocus:({context:e,prop:t})=>t("loopFocus")&&!e.get("isWithinToolbar")},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:rc(lg("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward","clearFocusedId","clearClickFocus"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":[{guard:rc("isFirstToggleFocused"),target:"idle",actions:["setIsTabbingBackward"]},{actions:["setIsTabbingBackward"]}]}}},implementations:{guards:{isClickFocus:({context:e})=>e.get("isClickFocus"),isTabbingBackward:({context:e})=>e.get("isTabbingBackward"),isFirstToggleFocused:({context:e,scope:t})=>{var n;return e.get("focusedId")===((n=nc(t))==null?void 0:n.id)}},actions:{setIsTabbingBackward({context:e}){e.set("isTabbingBackward",!0)},clearIsTabbingBackward({context:e}){e.set("isTabbingBackward",!1)},setClickFocus({context:e}){e.set("isClickFocus",!0)},clearClickFocus({context:e}){e.set("isClickFocus",!1)},checkIfWithinToolbar({context:e,scope:t}){var r;let n=(r=oc(t))==null?void 0:r.closest("[role=toolbar]");e.set("isWithinToolbar",!!n)},setFocusedId({context:e,event:t}){e.set("focusedId",t.id)},clearFocusedId({context:e}){e.set("focusedId",null)},setValue({context:e,event:t,prop:n}){Zr(t,["value"]);let r=e.get("value");Qi(t.value)?r=t.value:n("multiple")?r=wt(r,t.value):r=Ee(r,[t.value])&&n("deselectable")?[]:[t.value],e.set("value",r)},focusNextToggle({context:e,scope:t,prop:n}){H(()=>{var o;let r=e.get("focusedId");r&&((o=sg(t,r,n("loopFocus")))==null||o.focus({preventScroll:!0}))})},focusPrevToggle({context:e,scope:t,prop:n}){H(()=>{var o;let r=e.get("focusedId");r&&((o=ag(t,r,n("loopFocus")))==null||o.focus({preventScroll:!0}))})},focusFirstToggle({scope:e}){H(()=>{var t;(t=nc(e))==null||t.focus({preventScroll:!0})})},focusLastToggle({scope:e}){H(()=>{var t;(t=ig(e))==null||t.focus({preventScroll:!0})})}}}},cg=U()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value","defaultValue","deselectable"]),JE=q(cg),ug=U()(["value","disabled"]),QE=q(ug);var fo=class extends Q{initMachine(t){return new re(sc,t)}initApi(){return ic(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="toggle-group"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelectorAll('[data-scope="toggle-group"][data-part="item"]');for(let r=0;r<n.length;r++){let o=n[r],i=O(o,"value");if(!i)continue;let s=E(o,"disabled");this.spreadProps(o,this.api.getItemProps({value:i,disabled:s}))}}};var ho={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=v(m({id:e.id},E(e,"controlled")?{value:oe(e,"value")}:{defaultValue:oe(e,"defaultValue")}),{defaultValue:oe(e,"defaultValue"),deselectable:E(e,"deselectable"),loopFocus:E(e,"loopFocus"),rovingFocus:E(e,"rovingFocus"),disabled:E(e,"disabled"),multiple:E(e,"multiple"),orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:o=>{let i=O(e,"onValueChange");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(i,{value:o.value,id:e.id});let s=O(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:o.value,id:e.id}}))}}),r=new fo(e,n);r.init(),this.toggleGroup=r,this.onSetValue=o=>{let{value:i}=o.detail;r.api.setValue(i)},e.addEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("toggle-group_set_value",o=>{let i=o.id;i&&i!==e.id||r.api.setValue(o.value)})),this.handlers.push(this.handleEvent("toggle-group:value",()=>{this.pushEvent("toggle-group:value_response",{value:r.api.value})}))},updated(){var e;(e=this.toggleGroup)==null||e.updateProps(v(m({},E(this.el,"controlled")?{value:oe(this.el,"value")}:{defaultValue:oe(this.el,"defaultValue")}),{deselectable:E(this.el,"deselectable"),loopFocus:E(this.el,"loopFocus"),rovingFocus:E(this.el,"rovingFocus"),disabled:E(this.el,"disabled"),multiple:E(this.el,"multiple"),orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.toggleGroup)==null||e.destroy()}};var fg=Object.defineProperty,hg=(e,t,n)=>t in e?fg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t,n)=>hg(e,typeof t!="symbol"?t+"":t,n),go={itemToValue(e){return typeof e=="string"?e:Kr(e)&&er(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:Kr(e)&&er(e,"label")?e.label:go.itemToValue(e)},isItemDisabled(e){return Kr(e)&&er(e,"disabled")?!!e.disabled:!1}},Pn=class ac{constructor(t){this.options=t,_(this,"items"),_(this,"indexMap",null),_(this,"copy",n=>new ac(v(m({},this.options),{items:n!=null?n:[...this.items]}))),_(this,"isEqual",n=>Ee(this.items,n.items)),_(this,"setItems",n=>this.copy(n)),_(this,"getValues",(n=this.items)=>{let r=[];for(let o of n){let i=this.getItemValue(o);i!=null&&r.push(i)}return r}),_(this,"find",n=>{if(n==null)return null;let r=this.indexOf(n);return r!==-1?this.at(r):null}),_(this,"findMany",n=>{let r=[];for(let o of n){let i=this.find(o);i!=null&&r.push(i)}return r}),_(this,"at",n=>{var i;if(!this.options.groupBy&&!this.options.groupSort)return(i=this.items[n])!=null?i:null;let r=0,o=this.group();for(let[,s]of o)for(let a of s){if(r===n)return a;r++}return null}),_(this,"sortFn",(n,r)=>{let o=this.indexOf(n),i=this.indexOf(r);return(o!=null?o:0)-(i!=null?i:0)}),_(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),_(this,"getItemValue",n=>{var r,o,i;return n==null?null:(i=(o=(r=this.options).itemToValue)==null?void 0:o.call(r,n))!=null?i:go.itemToValue(n)}),_(this,"getItemDisabled",n=>{var r,o,i;return n==null?!1:(i=(o=(r=this.options).isItemDisabled)==null?void 0:o.call(r,n))!=null?i:go.isItemDisabled(n)}),_(this,"stringifyItem",n=>{var r,o,i;return n==null?null:(i=(o=(r=this.options).itemToString)==null?void 0:o.call(r,n))!=null?i:go.itemToString(n)}),_(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),_(this,"stringifyItems",(n,r=", ")=>{let o=[];for(let i of n){let s=this.stringifyItem(i);s!=null&&o.push(s)}return o.join(r)}),_(this,"stringifyMany",(n,r)=>this.stringifyItems(this.findMany(n),r)),_(this,"has",n=>this.indexOf(n)!==-1),_(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),_(this,"group",()=>{let{groupBy:n,groupSort:r}=this.options;if(!n)return[["",[...this.items]]];let o=new Map;this.items.forEach((s,a)=>{let l=n(s,a);o.has(l)||o.set(l,[]),o.get(l).push(s)});let i=Array.from(o.entries());return r&&i.sort(([s],[a])=>{if(typeof r=="function")return r(s,a);if(Array.isArray(r)){let l=r.indexOf(s),c=r.indexOf(a);return l===-1?1:c===-1?-1:l-c}return r==="asc"?s.localeCompare(a):r==="desc"?a.localeCompare(s):0}),i}),_(this,"getNextValue",(n,r=1,o=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=o?Math.min(i+r,this.size-1):i+r;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}),_(this,"getPreviousValue",(n,r=1,o=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=o?Math.max(i-r,0):i-r;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}),_(this,"indexOf",n=>{var r;if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(o=>this.getItemValue(o)===n);if(!this.indexMap){this.indexMap=new Map;let o=0,i=this.group();for(let[,s]of i)for(let a of s){let l=this.getItemValue(a);l!=null&&this.indexMap.set(l,o),o++}}return(r=this.indexMap.get(n))!=null?r:-1}),_(this,"getByText",(n,r)=>{let o=r!=null?this.indexOf(r):-1,i=n.length===1;for(let s=0;s<this.items.length;s++){let a=this.items[(o+s+1)%this.items.length];if(!(i&&this.getItemValue(a)===r)&&!this.getItemDisabled(a)&&pg(this.stringifyItem(a),n))return a}}),_(this,"search",(n,r)=>{let{state:o,currentValue:i,timeout:s=350}=r,a=o.keysSoFar+n,c=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a,d=this.getByText(c,i),h=this.getItemValue(d);function p(){clearTimeout(o.timer),o.timer=-1}function u(f){o.keysSoFar=f,p(),f!==""&&(o.timer=+setTimeout(()=>{u(""),p()},s))}return u(a),h}),_(this,"update",(n,r)=>{let o=this.indexOf(n);return o===-1?this:this.copy([...this.items.slice(0,o),r,...this.items.slice(o+1)])}),_(this,"upsert",(n,r,o="append")=>{let i=this.indexOf(n);return i===-1?(o==="append"?this.append:this.prepend)(r):this.copy([...this.items.slice(0,i),r,...this.items.slice(i+1)])}),_(this,"insert",(n,...r)=>this.copy(rr(this.items,n,...r))),_(this,"insertBefore",(n,...r)=>{let o=this.indexOf(n);if(o===-1)if(this.items.length===0)o=0;else return this;return this.copy(rr(this.items,o,...r))}),_(this,"insertAfter",(n,...r)=>{let o=this.indexOf(n);if(o===-1)if(this.items.length===0)o=0;else return this;return this.copy(rr(this.items,o+1,...r))}),_(this,"prepend",(...n)=>this.copy(rr(this.items,0,...n))),_(this,"append",(...n)=>this.copy(rr(this.items,this.items.length,...n))),_(this,"filter",n=>{let r=this.items.filter((o,i)=>n(this.stringifyItem(o),i,o));return this.copy(r)}),_(this,"remove",(...n)=>{let r=n.map(o=>typeof o=="string"?o:this.getItemValue(o));return this.copy(this.items.filter(o=>{let i=this.getItemValue(o);return i==null?!1:!r.includes(i)}))}),_(this,"move",(n,r)=>{let o=this.indexOf(n);return o===-1?this:this.copy(po(this.items,[o],r))}),_(this,"moveBefore",(n,...r)=>{let o=this.items.findIndex(s=>this.getItemValue(s)===n);if(o===-1)return this;let i=r.map(s=>this.items.findIndex(a=>this.getItemValue(a)===s)).sort((s,a)=>s-a);return this.copy(po(this.items,i,o))}),_(this,"moveAfter",(n,...r)=>{let o=this.items.findIndex(s=>this.getItemValue(s)===n);if(o===-1)return this;let i=r.map(s=>this.items.findIndex(a=>this.getItemValue(a)===s)).sort((s,a)=>s-a);return this.copy(po(this.items,i,o+1))}),_(this,"reorder",(n,r)=>this.copy(po(this.items,[n],r))),_(this,"compareValue",(n,r)=>{let o=this.indexOf(n),i=this.indexOf(r);return o<i?-1:o>i?1:0}),_(this,"range",(n,r)=>{let o=[],i=n;for(;i!=null;){if(this.find(i)&&o.push(i),i===r)return o;i=this.getNextValue(i)}return[]}),_(this,"getValueRange",(n,r)=>n&&r?this.compareValue(n,r)<=0?this.range(n,r):this.range(r,n):[]),_(this,"toString",()=>{let n="";for(let r of this.items){let o=this.getItemValue(r),i=this.stringifyItem(r),s=this.getItemDisabled(r),a=[o,i,s].filter(Boolean).join(":");n+=a+","}return n}),_(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*La(this.items)}},pg=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase()));function rr(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}function po(e,t,n){t=[...t].sort((o,i)=>o-i);let r=t.map(o=>e[o]);for(let o=t.length-1;o>=0;o--)e=[...e.slice(0,t[o]),...e.slice(t[o]+1)];return n=Math.max(0,n-t.filter(o=>o<n).length),[...e.slice(0,n),...r,...e.slice(n)]}var uc=["top","right","bottom","left"];var it=Math.min,Ie=Math.max,ir=Math.round,sr=Math.floor,ze=e=>({x:e,y:e}),gg={left:"right",right:"left",bottom:"top",top:"bottom"},mg={start:"end",end:"start"};function vo(e,t,n){return Ie(e,it(t,n))}function st(e,t){return typeof e=="function"?e(t):e}function at(e){return e.split("-")[0]}function Bt(e){return e.split("-")[1]}function yo(e){return e==="x"?"y":"x"}function bo(e){return e==="y"?"height":"width"}var vg=new Set(["top","bottom"]);function Ze(e){return vg.has(at(e))?"y":"x"}function Eo(e){return yo(Ze(e))}function dc(e,t,n){n===void 0&&(n=!1);let r=Bt(e),o=Eo(e),i=bo(o),s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=or(s)),[s,or(s)]}function fc(e){let t=or(e);return[mo(e),t,mo(t)]}function mo(e){return e.replace(/start|end/g,t=>mg[t])}var lc=["left","right"],cc=["right","left"],yg=["top","bottom"],bg=["bottom","top"];function Eg(e,t,n){switch(e){case"top":case"bottom":return n?t?cc:lc:t?lc:cc;case"left":case"right":return t?yg:bg;default:return[]}}function hc(e,t,n,r){let o=Bt(e),i=Eg(at(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(mo)))),i}function or(e){return e.replace(/left|right|bottom|top/g,t=>gg[t])}function Cg(e){return m({top:0,right:0,bottom:0,left:0},e)}function hs(e){return typeof e!="number"?Cg(e):{top:e,right:e,bottom:e,left:e}}function Gt(e){let{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function pc(e,t,n){let{reference:r,floating:o}=e,i=Ze(t),s=Eo(t),a=bo(s),l=at(t),c=i==="y",d=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2,u;switch(l){case"top":u={x:d,y:r.y-o.height};break;case"bottom":u={x:d,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:h};break;case"left":u={x:r.x-o.width,y:h};break;default:u={x:r.x,y:r.y}}switch(Bt(t)){case"start":u[s]-=p*(n&&c?-1:1);break;case"end":u[s]+=p*(n&&c?-1:1);break}return u}function vc(e,t){return pe(this,null,function*(){var n;t===void 0&&(t={});let{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:u=0}=st(t,e),f=hs(u),y=a[p?h==="floating"?"reference":"floating":h],w=Gt(yield i.getClippingRect({element:(n=yield i.isElement==null?void 0:i.isElement(y))==null||n?y:y.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),S=h==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,C=yield i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating),k=(yield i.isElement==null?void 0:i.isElement(C))?(yield i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},V=Gt(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:C,strategy:l}):S);return{top:(w.top-V.top+f.top)/k.y,bottom:(V.bottom-w.bottom+f.bottom)/k.y,left:(w.left-V.left+f.left)/k.x,right:(V.right-w.right+f.right)/k.x}})}var yc=(e,t,n)=>pe(null,null,function*(){let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=yield s.isRTL==null?void 0:s.isRTL(t),c=yield s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=pc(c,r,l),p=r,u={},f=0;for(let y=0;y<a.length;y++){var g;let{name:w,fn:S}=a[y],{x:C,y:k,data:V,reset:I}=yield S({x:d,y:h,initialPlacement:r,placement:p,strategy:o,middlewareData:u,rects:c,platform:v(m({},s),{detectOverflow:(g=s.detectOverflow)!=null?g:vc}),elements:{reference:e,floating:t}});d=C!=null?C:d,h=k!=null?k:h,u=v(m({},u),{[w]:m(m({},u[w]),V)}),I&&f<=50&&(f++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(c=I.rects===!0?yield s.getElementRects({reference:e,floating:t,strategy:o}):I.rects),{x:d,y:h}=pc(c,p,l)),y=-1)}return{x:d,y:h,placement:p,strategy:o,middlewareData:u}}),bc=e=>({name:"arrow",options:e,fn(n){return pe(this,null,function*(){let{x:r,y:o,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=st(e,n)||{};if(d==null)return{};let p=hs(h),u={x:r,y:o},f=Eo(i),g=bo(f),y=yield a.getDimensions(d),w=f==="y",S=w?"top":"left",C=w?"bottom":"right",k=w?"clientHeight":"clientWidth",V=s.reference[g]+s.reference[f]-u[f]-s.floating[g],I=u[f]-s.reference[f],P=yield a.getOffsetParent==null?void 0:a.getOffsetParent(d),R=P?P[k]:0;(!R||!(yield a.isElement==null?void 0:a.isElement(P)))&&(R=l.floating[k]||s.floating[g]);let T=V/2-I/2,D=R/2-y[g]/2-1,F=it(p[S],D),L=it(p[C],D),M=F,Y=R-y[g]-L,B=R/2-y[g]/2+T,K=vo(M,B,Y),G=!c.arrow&&Bt(i)!=null&&B!==K&&s.reference[g]/2-(B<M?F:L)-y[g]/2<0,fe=G?B<M?B-M:B-Y:0;return{[f]:u[f]+fe,data:m({[f]:K,centerOffset:B-K-fe},G&&{alignmentOffset:fe}),reset:G}})}});var Ec=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return pe(this,null,function*(){var r,o;let{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=n,B=st(e,n),{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:u,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0}=B,w=Ke(B,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((r=s.arrow)!=null&&r.alignmentOffset)return{};let S=at(i),C=Ze(l),k=at(l)===l,V=yield c.isRTL==null?void 0:c.isRTL(d.floating),I=u||(k||!y?[or(l)]:fc(l)),P=g!=="none";!u&&P&&I.push(...hc(l,y,g,V));let R=[l,...I],T=yield c.detectOverflow(n,w),D=[],F=((o=s.flip)==null?void 0:o.overflows)||[];if(h&&D.push(T[S]),p){let K=dc(i,a,V);D.push(T[K[0]],T[K[1]])}if(F=[...F,{placement:i,overflows:D}],!D.every(K=>K<=0)){var L,M;let K=(((L=s.flip)==null?void 0:L.index)||0)+1,G=R[K];if(G&&(!(p==="alignment"?C!==Ze(G):!1)||F.every(j=>Ze(j.placement)===C?j.overflows[0]>0:!0)))return{data:{index:K,overflows:F},reset:{placement:G}};let fe=(M=F.filter(de=>de.overflows[0]<=0).sort((de,j)=>de.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!fe)switch(f){case"bestFit":{var Y;let de=(Y=F.filter(j=>{if(P){let le=Ze(j.placement);return le===C||le==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(le=>le>0).reduce((le,Ne)=>le+Ne,0)]).sort((j,le)=>j[1]-le[1])[0])==null?void 0:Y[0];de&&(fe=de);break}case"initialPlacement":fe=l;break}if(i!==fe)return{reset:{placement:fe}}}return{}})}}};function gc(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mc(e){return uc.some(t=>e[t]>=0)}var Cc=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return pe(this,null,function*(){let{rects:r,platform:o}=n,a=st(e,n),{strategy:i="referenceHidden"}=a,s=Ke(a,["strategy"]);switch(i){case"referenceHidden":{let l=yield o.detectOverflow(n,v(m({},s),{elementContext:"reference"})),c=gc(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:mc(c)}}}case"escaped":{let l=yield o.detectOverflow(n,v(m({},s),{altBoundary:!0})),c=gc(l,r.floating);return{data:{escapedOffsets:c,escaped:mc(c)}}}default:return{}}})}}};var Tc=new Set(["left","top"]);function Tg(e,t){return pe(this,null,function*(){let{placement:n,platform:r,elements:o}=e,i=yield r.isRTL==null?void 0:r.isRTL(o.floating),s=at(n),a=Bt(n),l=Ze(n)==="y",c=Tc.has(s)?-1:1,d=i&&l?-1:1,h=st(t,e),{mainAxis:p,crossAxis:u,alignmentAxis:f}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof f=="number"&&(u=a==="end"?f*-1:f),l?{x:u*d,y:p*c}:{x:p*c,y:u*d}})}var wc=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return pe(this,null,function*(){var r,o;let{x:i,y:s,placement:a,middlewareData:l}=n,c=yield Tg(n,e);return a===((r=l.offset)==null?void 0:r.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:v(m({},c),{placement:a})}})}}},Ic=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return pe(this,null,function*(){let{x:r,y:o,placement:i,platform:s}=n,S=st(e,n),{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:k,y:V}=C;return{x:k,y:V}}}}=S,d=Ke(S,["mainAxis","crossAxis","limiter"]),h={x:r,y:o},p=yield s.detectOverflow(n,d),u=Ze(at(i)),f=yo(u),g=h[f],y=h[u];if(a){let C=f==="y"?"top":"left",k=f==="y"?"bottom":"right",V=g+p[C],I=g-p[k];g=vo(V,g,I)}if(l){let C=u==="y"?"top":"left",k=u==="y"?"bottom":"right",V=y+p[C],I=y-p[k];y=vo(V,y,I)}let w=c.fn(v(m({},n),{[f]:g,[u]:y}));return v(m({},w),{data:{x:w.x-r,y:w.y-o,enabled:{[f]:a,[u]:l}}})})}}},Sc=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=st(e,t),d={x:n,y:r},h=Ze(o),p=yo(h),u=d[p],f=d[h],g=st(a,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:m({mainAxis:0,crossAxis:0},g);if(l){let C=p==="y"?"height":"width",k=i.reference[p]-i.floating[C]+y.mainAxis,V=i.reference[p]+i.reference[C]-y.mainAxis;u<k?u=k:u>V&&(u=V)}if(c){var w,S;let C=p==="y"?"width":"height",k=Tc.has(at(o)),V=i.reference[h]-i.floating[C]+(k&&((w=s.offset)==null?void 0:w[h])||0)+(k?0:y.crossAxis),I=i.reference[h]+i.reference[C]+(k?0:((S=s.offset)==null?void 0:S[h])||0)-(k?y.crossAxis:0);f<V?f=V:f>I&&(f=I)}return{[p]:u,[h]:f}}}},Oc=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return pe(this,null,function*(){var r,o;let{placement:i,rects:s,platform:a,elements:l}=n,F=st(e,n),{apply:c=()=>{}}=F,d=Ke(F,["apply"]),h=yield a.detectOverflow(n,d),p=at(i),u=Bt(i),f=Ze(i)==="y",{width:g,height:y}=s.floating,w,S;p==="top"||p==="bottom"?(w=p,S=u===((yield a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,w=u==="end"?"top":"bottom");let C=y-h.top-h.bottom,k=g-h.left-h.right,V=it(y-h[w],C),I=it(g-h[S],k),P=!n.middlewareData.shift,R=V,T=I;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(T=k),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(R=C),P&&!u){let L=Ie(h.left,0),M=Ie(h.right,0),Y=Ie(h.top,0),B=Ie(h.bottom,0);f?T=g-2*(L!==0||M!==0?L+M:Ie(h.left,h.right)):R=y-2*(Y!==0||B!==0?Y+B:Ie(h.top,h.bottom))}yield c(v(m({},n),{availableWidth:T,availableHeight:R}));let D=yield a.getDimensions(l.floating);return g!==D.width||y!==D.height?{reset:{rects:!0}}:{}})}}};function Co(){return typeof window!="undefined"}function qt(e){return xc(e)?(e.nodeName||"").toLowerCase():"#document"}function Ve(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xe(e){var t;return(t=(xc(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xc(e){return Co()?e instanceof Node||e instanceof Ve(e).Node:!1}function Fe(e){return Co()?e instanceof Element||e instanceof Ve(e).Element:!1}function Je(e){return Co()?e instanceof HTMLElement||e instanceof Ve(e).HTMLElement:!1}function Pc(e){return!Co()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof Ve(e).ShadowRoot}var wg=new Set(["inline","contents"]);function kn(e){let{overflow:t,overflowX:n,overflowY:r,display:o}=He(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!wg.has(o)}var Ig=new Set(["table","td","th"]);function kc(e){return Ig.has(qt(e))}var Sg=[":popover-open",":modal"];function ar(e){return Sg.some(t=>{try{return e.matches(t)}catch(n){return!1}})}var Og=["transform","translate","scale","rotate","perspective"],Pg=["transform","translate","scale","rotate","perspective","filter"],xg=["paint","layout","strict","content"];function To(e){let t=wo(),n=Fe(e)?He(e):e;return Og.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pg.some(r=>(n.willChange||"").includes(r))||xg.some(r=>(n.contain||"").includes(r))}function Vc(e){let t=ht(e);for(;Je(t)&&!Ut(t);){if(To(t))return t;if(ar(t))return null;t=ht(t)}return null}function wo(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var kg=new Set(["html","body","#document"]);function Ut(e){return kg.has(qt(e))}function He(e){return Ve(e).getComputedStyle(e)}function lr(e){return Fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ht(e){if(qt(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Pc(e)&&e.host||Xe(e);return Pc(t)?t.host:t}function Ac(e){let t=ht(e);return Ut(t)?e.ownerDocument?e.ownerDocument.body:e.body:Je(t)&&kn(t)?t:Ac(t)}function xn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);let o=Ac(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Ve(o);if(i){let a=Io(s);return t.concat(s,s.visualViewport||[],kn(o)?o:[],a&&n?xn(a):[])}return t.concat(o,xn(o,[],n))}function Io(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rc(e){let t=He(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,o=Je(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=ir(n)!==i||ir(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function gs(e){return Fe(e)?e:e.contextElement}function Vn(e){let t=gs(e);if(!Je(t))return ze(1);let n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Rc(t),s=(i?ir(n.width):n.width)/r,a=(i?ir(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}var Vg=ze(0);function Mc(e){let t=Ve(e);return!wo()||!t.visualViewport?Vg:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ag(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ve(e)?!1:t}function Wt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let o=e.getBoundingClientRect(),i=gs(e),s=ze(1);t&&(r?Fe(r)&&(s=Vn(r)):s=Vn(e));let a=Ag(i,n,r)?Mc(i):ze(0),l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,d=o.width/s.x,h=o.height/s.y;if(i){let p=Ve(i),u=r&&Fe(r)?Ve(r):r,f=p,g=Io(f);for(;g&&r&&u!==f;){let y=Vn(g),w=g.getBoundingClientRect(),S=He(g),C=w.left+(g.clientLeft+parseFloat(S.paddingLeft))*y.x,k=w.top+(g.clientTop+parseFloat(S.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,h*=y.y,l+=C,c+=k,f=Ve(g),g=Io(f)}}return Gt({width:d,height:h,x:l,y:c})}function So(e,t){let n=lr(e).scrollLeft;return t?t.left+n:Wt(Xe(e)).left+n}function Nc(e,t){let n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-So(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function $g(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e,i=o==="fixed",s=Xe(r),a=t?ar(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ze(1),d=ze(0),h=Je(r);if((h||!h&&!i)&&((qt(r)!=="body"||kn(s))&&(l=lr(r)),Je(r))){let u=Wt(r);c=Vn(r),d.x=u.x+r.clientLeft,d.y=u.y+r.clientTop}let p=s&&!h&&!i?Nc(s,l):ze(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function Dg(e){return Array.from(e.getClientRects())}function Lg(e){let t=Xe(e),n=lr(e),r=e.ownerDocument.body,o=Ie(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ie(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),s=-n.scrollLeft+So(e),a=-n.scrollTop;return He(r).direction==="rtl"&&(s+=Ie(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}var $c=25;function Rg(e,t){let n=Ve(e),r=Xe(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;let d=wo();(!d||d&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}let c=So(r);if(c<=0){let d=r.ownerDocument,h=d.body,p=getComputedStyle(h),u=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,f=Math.abs(r.clientWidth-h.clientWidth-u);f<=$c&&(i-=f)}else c<=$c&&(i+=c);return{width:i,height:s,x:a,y:l}}var Mg=new Set(["absolute","fixed"]);function Ng(e,t){let n=Wt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Je(e)?Vn(e):ze(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function Dc(e,t,n){let r;if(t==="viewport")r=Rg(e,n);else if(t==="document")r=Lg(Xe(e));else if(Fe(t))r=Ng(t,n);else{let o=Mc(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Gt(r)}function Fc(e,t){let n=ht(e);return n===t||!Fe(n)||Ut(n)?!1:He(n).position==="fixed"||Fc(n,t)}function Fg(e,t){let n=t.get(e);if(n)return n;let r=xn(e,[],!1).filter(a=>Fe(a)&&qt(a)!=="body"),o=null,i=He(e).position==="fixed",s=i?ht(e):e;for(;Fe(s)&&!Ut(s);){let a=He(s),l=To(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&Mg.has(o.position)||kn(s)&&!l&&Fc(e,s))?r=r.filter(d=>d!==s):o=a,s=ht(s)}return t.set(e,r),r}function Hg(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e,s=[...n==="clippingAncestors"?ar(t)?[]:Fg(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{let h=Dc(t,d,o);return c.top=Ie(h.top,c.top),c.right=it(h.right,c.right),c.bottom=it(h.bottom,c.bottom),c.left=Ie(h.left,c.left),c},Dc(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _g(e){let{width:t,height:n}=Rc(e);return{width:t,height:n}}function Bg(e,t,n){let r=Je(t),o=Xe(t),i=n==="fixed",s=Wt(e,!0,i,t),a={scrollLeft:0,scrollTop:0},l=ze(0);function c(){l.x=So(o)}if(r||!r&&!i)if((qt(t)!=="body"||kn(o))&&(a=lr(t)),r){let u=Wt(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else o&&c();i&&!r&&o&&c();let d=o&&!r&&!i?Nc(o,a):ze(0),h=s.left+a.scrollLeft-l.x-d.x,p=s.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:s.width,height:s.height}}function ps(e){return He(e).position==="static"}function Lc(e,t){if(!Je(e)||He(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xe(e)===n&&(n=n.ownerDocument.body),n}function Hc(e,t){let n=Ve(e);if(ar(e))return n;if(!Je(e)){let o=ht(e);for(;o&&!Ut(o);){if(Fe(o)&&!ps(o))return o;o=ht(o)}return n}let r=Lc(e,t);for(;r&&kc(r)&&ps(r);)r=Lc(r,t);return r&&Ut(r)&&ps(r)&&!To(r)?n:r||Vc(e)||n}var Gg=function(e){return pe(this,null,function*(){let t=this.getOffsetParent||Hc,n=this.getDimensions,r=yield n(e.floating);return{reference:Bg(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function qg(e){return He(e).direction==="rtl"}var Ug={convertOffsetParentRelativeRectToViewportRelativeRect:$g,getDocumentElement:Xe,getClippingRect:Hg,getOffsetParent:Hc,getElementRects:Gg,getClientRects:Dg,getDimensions:_g,getScale:Vn,isElement:Fe,isRTL:qg};function _c(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wg(e,t){let n=null,r,o=Xe(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();let c=e.getBoundingClientRect(),{left:d,top:h,width:p,height:u}=c;if(a||t(),!p||!u)return;let f=sr(h),g=sr(o.clientWidth-(d+p)),y=sr(o.clientHeight-(h+u)),w=sr(d),C={rootMargin:-f+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Ie(0,it(1,l))||1},k=!0;function V(I){let P=I[0].intersectionRatio;if(P!==l){if(!k)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!_c(c,e.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(V,v(m({},C),{root:o.ownerDocument}))}catch(I){n=new IntersectionObserver(V,C)}n.observe(e)}return s(!0),i}function Bc(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=gs(e),d=o||i?[...c?xn(c):[],...xn(t)]:[];d.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});let h=c&&a?Wg(c,n):null,p=-1,u=null;s&&(u=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=u)==null||C.observe(t)})),n()}),c&&!l&&u.observe(c),u.observe(t));let f,g=l?Wt(e):null;l&&y();function y(){let w=Wt(e);g&&!_c(g,w)&&n(),g=w,f=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(S=>{o&&S.removeEventListener("scroll",n),i&&S.removeEventListener("resize",n)}),h==null||h(),(w=u)==null||w.disconnect(),u=null,l&&cancelAnimationFrame(f)}}var Gc=wc;var qc=Ic,Uc=Ec,Wc=Oc,jc=Cc,Kc=bc;var Yc=Sc,zc=(e,t,n)=>{let r=new Map,o=m({platform:Ug},n),i=v(m({},o.platform),{_c:r});return yc(e,t,v(m({},o),{platform:i}))};function Zc(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);let o={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return v(m({},o),{toJSON:()=>o})}function jg(e){if(!e)return Zc();let{x:t,y:n,width:r,height:o}=e;return Zc(t,n,r,o)}function Kg(e,t){return{contextElement:ce(e)?e:e==null?void 0:e.contextElement,getBoundingClientRect:()=>{let n=e,r=t==null?void 0:t(n);return r||!n?jg(r):n.getBoundingClientRect()}}}var cr=e=>({variable:e,reference:`var(${e})`}),pt={arrowSize:cr("--arrow-size"),arrowSizeHalf:cr("--arrow-size-half"),arrowBg:cr("--arrow-background"),transformOrigin:cr("--transform-origin"),arrowOffset:cr("--arrow-offset")},Yg=e=>e==="top"||e==="bottom"?"y":"x";function zg(e,t){return{name:"transformOrigin",fn(n){var T,D,F,L,M;let{elements:r,middlewareData:o,placement:i,rects:s,y:a}=n,l=i.split("-")[0],c=Yg(l),d=((T=o.arrow)==null?void 0:T.x)||0,h=((D=o.arrow)==null?void 0:D.y)||0,p=(t==null?void 0:t.clientWidth)||0,u=(t==null?void 0:t.clientHeight)||0,f=d+p/2,g=h+u/2,y=Math.abs(((F=o.shift)==null?void 0:F.y)||0),w=s.reference.height/2,S=u/2,C=(M=(L=e.offset)==null?void 0:L.mainAxis)!=null?M:e.gutter,k=typeof C=="number"?C+S:C!=null?C:S,V=y>k,I={top:`${f}px calc(100% + ${k}px)`,bottom:`${f}px ${-k}px`,left:`calc(100% + ${k}px) ${g}px`,right:`${-k}px ${g}px`}[l],P=`${f}px ${s.reference.y+w-a}px`,R=!!e.overlap&&c==="y"&&V;return r.floating.style.setProperty(pt.transformOrigin.variable,R?P:I),{data:{transformOrigin:R?P:I}}}}}var Zg={name:"rects",fn({rects:e}){return{data:e}}},Xg=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};let{x:r,y:o}=n.arrow,i=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:"",[i]:`calc(100% + ${pt.arrowOffset.reference})`}),{}}}};function Jg(e){let[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}var Qg={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Xc(e,t){let n=e.devicePixelRatio||1;return Math.round(t*n)/n}function ms(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function em(e,t,n){let r=e||t.createElement("div");return Kc({element:r,padding:n.arrowPadding})}function tm(e,t){var n;if(!gl((n=t.offset)!=null?n:t.gutter))return Gc(({placement:r})=>{var d,h,p,u;let o=((e==null?void 0:e.clientHeight)||0)/2,i=(h=(d=t.offset)==null?void 0:d.mainAxis)!=null?h:t.gutter,s=typeof i=="number"?i+o:i!=null?i:o,{hasAlign:a}=Jg(r),l=a?void 0:t.shift,c=(u=(p=t.offset)==null?void 0:p.crossAxis)!=null?u:l;return Ht({crossAxis:c,mainAxis:s,alignmentAxis:t.shift})})}function nm(e){if(!e.flip)return;let t=ms(e.boundary);return Uc(v(m({},t?{boundary:t}:void 0),{padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip}))}function rm(e){if(!e.slide&&!e.overlap)return;let t=ms(e.boundary);return qc(v(m({},t?{boundary:t}:void 0),{mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Yc()}))}function om(e){return Wc({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:o}){let i=t.floating,s=Math.round(n.reference.width),a=Math.round(n.reference.height);o=Math.floor(o),r=Math.floor(r),i.style.setProperty("--reference-width",`${s}px`),i.style.setProperty("--reference-height",`${a}px`),i.style.setProperty("--available-width",`${o}px`),i.style.setProperty("--available-height",`${r}px`)}})}function im(e){var t;if(e.hideWhenDetached)return jc({strategy:"referenceHidden",boundary:(t=ms(e.boundary))!=null?t:"clippingAncestors"})}function sm(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function am(e,t,n={}){var y,w;let r=(w=(y=n.getAnchorElement)==null?void 0:y.call(n))!=null?w:e,o=Kg(r,n.getAnchorRect);if(!t||!o)return;let i=Object.assign({},Qg,n),s=t.querySelector("[data-part=arrow]"),a=[tm(s,i),nm(i),rm(i),em(s,t.ownerDocument,i),Xg(s),zg({gutter:i.gutter,offset:i.offset,overlap:i.overlap},s),om(i),im(i),Zg],{placement:l,strategy:c,onComplete:d,onPositioned:h}=i,p=()=>pe(null,null,function*(){var P;if(!o||!t)return;let S=yield zc(o,t,{placement:l,middleware:a,strategy:c});d==null||d(S),h==null||h({placed:!0});let C=ae(t),k=Xc(C,S.x),V=Xc(C,S.y);t.style.setProperty("--x",`${k}px`),t.style.setProperty("--y",`${V}px`),i.hideWhenDetached&&(((P=S.middlewareData.hide)==null?void 0:P.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));let I=t.firstElementChild;if(I){let R=ft(I);t.style.setProperty("--z-index",R.zIndex)}}),u=()=>pe(null,null,function*(){n.updatePosition?(yield n.updatePosition({updatePosition:p,floatingElement:t}),h==null||h({placed:!0})):yield p()}),f=sm(i.listeners),g=i.listeners?Bc(o,t,u,f):yl;return u(),()=>{g==null||g(),h==null||h({placed:!1})}}function St(e,t,n={}){let a=n,{defer:r}=a,o=Ke(a,["defer"]),i=r?H:l=>l(),s=[];return s.push(i(()=>{let l=typeof e=="function"?e():e,c=typeof t=="function"?t():t;s.push(am(l,c,o))})),()=>{s.forEach(l=>l==null?void 0:l())}}var lm={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function An(e={}){let{placement:t,sameWidth:n,fitViewport:r,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:pt.arrowSize.reference,height:pt.arrowSize.reference,[pt.arrowSizeHalf.variable]:`calc(${pt.arrowSize.reference} / 2)`,[pt.arrowOffset.variable]:`calc(${pt.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?lm[t.split("-")[0]]:void 0,background:pt.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var cm=X("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),Se=cm.build(),fr=e=>new Pn(e);fr.empty=()=>new Pn({items:[]});var um=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`select:${e.id}`},bs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`select:${e.id}:content`},Es=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`select:${e.id}:trigger`},tu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`select:${e.id}:clear-trigger`},Oo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`select:${e.id}:label`},dm=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`select:${e.id}:control`},Cs=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))!=null?o:`select:${e.id}:option:${t}`},Ts=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenSelect)!=null?n:`select:${e.id}:select`},nu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`select:${e.id}:positioner`},fm=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:r.call(n,t))!=null?o:`select:${e.id}:optgroup:${t}`},Jc=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:r.call(n,t))!=null?o:`select:${e.id}:optgroup-label:${t}`},vs=e=>e.getById(Ts(e)),ur=e=>e.getById(bs(e)),Kt=e=>e.getById(Es(e)),hm=e=>e.getById(tu(e)),Qc=e=>e.getById(nu(e)),ys=(e,t)=>t==null?null:e.getById(Cs(e,t));function ru(e,t){let{context:n,prop:r,scope:o,state:i,computed:s,send:a}=e,l=r("disabled")||n.get("fieldsetDisabled"),c=!!r("invalid"),d=!!r("required"),h=!!r("readOnly"),p=r("composite"),u=r("collection"),f=i.hasTag("open"),g=i.matches("focused"),y=n.get("highlightedValue"),w=n.get("highlightedItem"),S=n.get("selectedItems"),C=n.get("currentPlacement"),k=s("isTypingAhead"),V=s("isInteractive"),I=y?Cs(o,y):void 0;function P(T){let D=u.getItemDisabled(T.item),F=u.getItemValue(T.item);return zr(F,()=>`[zag-js] No value found for item ${JSON.stringify(T.item)}`),{value:F,disabled:!!(l||D),highlighted:y===F,selected:n.get("value").includes(F)}}let R=An(v(m({},r("positioning")),{placement:C}));return{open:f,focused:g,empty:n.get("value").length===0,highlightedItem:w,highlightedValue:y,selectedItems:S,hasSelectedItems:s("hasSelectedItems"),value:n.get("value"),valueAsString:s("valueAsString"),collection:u,multiple:!!r("multiple"),disabled:!!l,reposition(T={}){a({type:"POSITIONING.SET",options:T})},focus(){var T;(T=Kt(o))==null||T.focus({preventScroll:!0})},setOpen(T){i.hasTag("open")!==T&&a({type:T?"OPEN":"CLOSE"})},selectValue(T){a({type:"ITEM.SELECT",value:T})},setValue(T){a({type:"VALUE.SET",value:T})},selectAll(){a({type:"VALUE.SET",value:u.getValues()})},setHighlightValue(T){a({type:"HIGHLIGHTED_VALUE.SET",value:T})},clearHighlightValue(){a({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(T){a(T?{type:"ITEM.CLEAR",value:T}:{type:"VALUE.CLEAR"})},getItemState:P,getRootProps(){return t.element(v(m({},Se.root.attrs),{dir:r("dir"),id:um(o),"data-invalid":b(c),"data-readonly":b(h)}))},getLabelProps(){return t.label(v(m({dir:r("dir"),id:Oo(o)},Se.label.attrs),{"data-disabled":b(l),"data-invalid":b(c),"data-readonly":b(h),"data-required":b(d),htmlFor:Ts(o),onClick(T){var D;T.defaultPrevented||l||(D=Kt(o))==null||D.focus({preventScroll:!0})}}))},getControlProps(){return t.element(v(m({},Se.control.attrs),{dir:r("dir"),id:dm(o),"data-state":f?"open":"closed","data-focus":b(g),"data-disabled":b(l),"data-invalid":b(c)}))},getValueTextProps(){return t.element(v(m({},Se.valueText.attrs),{dir:r("dir"),"data-disabled":b(l),"data-invalid":b(c),"data-focus":b(g)}))},getTriggerProps(){return t.button(v(m({id:Es(o),disabled:l,dir:r("dir"),type:"button",role:"combobox","aria-controls":bs(o),"aria-expanded":f,"aria-haspopup":"listbox","data-state":f?"open":"closed","aria-invalid":c,"aria-required":d,"aria-labelledby":Oo(o)},Se.trigger.attrs),{"data-disabled":b(l),"data-invalid":b(c),"data-readonly":b(h),"data-placement":C,"data-placeholder-shown":b(!s("hasSelectedItems")),onClick(T){V&&(T.defaultPrevented||a({type:"TRIGGER.CLICK"}))},onFocus(){a({type:"TRIGGER.FOCUS"})},onBlur(){a({type:"TRIGGER.BLUR"})},onKeyDown(T){if(T.defaultPrevented||!V)return;let F={ArrowUp(){a({type:"TRIGGER.ARROW_UP"})},ArrowDown(L){a({type:L.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){a({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){a({type:"TRIGGER.ARROW_RIGHT"})},Home(){a({type:"TRIGGER.HOME"})},End(){a({type:"TRIGGER.END"})},Enter(){a({type:"TRIGGER.ENTER"})},Space(L){a(k?{type:"TRIGGER.TYPEAHEAD",key:L.key}:{type:"TRIGGER.ENTER"})}}[Oe(T,{dir:r("dir"),orientation:"vertical"})];if(F){F(T),T.preventDefault();return}qr.isValidEvent(T)&&(a({type:"TRIGGER.TYPEAHEAD",key:T.key}),T.preventDefault())}}))},getIndicatorProps(){return t.element(v(m({},Se.indicator.attrs),{dir:r("dir"),"aria-hidden":!0,"data-state":f?"open":"closed","data-disabled":b(l),"data-invalid":b(c),"data-readonly":b(h)}))},getItemProps(T){let D=P(T);return t.element(v(m({id:Cs(o,D.value),role:"option"},Se.item.attrs),{dir:r("dir"),"data-value":D.value,"aria-selected":D.selected,"data-state":D.selected?"checked":"unchecked","data-highlighted":b(D.highlighted),"data-disabled":b(D.disabled),"aria-disabled":ue(D.disabled),onPointerMove(F){D.disabled||F.pointerType!=="mouse"||D.value!==y&&a({type:"ITEM.POINTER_MOVE",value:D.value})},onClick(F){F.defaultPrevented||D.disabled||a({type:"ITEM.CLICK",src:"pointerup",value:D.value})},onPointerLeave(F){var M;D.disabled||T.persistFocus||F.pointerType!=="mouse"||!((M=e.event.previous())!=null&&M.type.includes("POINTER"))||a({type:"ITEM.POINTER_LEAVE"})}}))},getItemTextProps(T){let D=P(T);return t.element(v(m({},Se.itemText.attrs),{"data-state":D.selected?"checked":"unchecked","data-disabled":b(D.disabled),"data-highlighted":b(D.highlighted)}))},getItemIndicatorProps(T){let D=P(T);return t.element(v(m({"aria-hidden":!0},Se.itemIndicator.attrs),{"data-state":D.selected?"checked":"unchecked",hidden:!D.selected}))},getItemGroupLabelProps(T){let{htmlFor:D}=T;return t.element(v(m({},Se.itemGroupLabel.attrs),{id:Jc(o,D),dir:r("dir"),role:"presentation"}))},getItemGroupProps(T){let{id:D}=T;return t.element(v(m({},Se.itemGroup.attrs),{"data-disabled":b(l),id:fm(o,D),"aria-labelledby":Jc(o,D),role:"group",dir:r("dir")}))},getClearTriggerProps(){return t.button(v(m({},Se.clearTrigger.attrs),{id:tu(o),type:"button","aria-label":"Clear value","data-invalid":b(c),disabled:l,hidden:!s("hasSelectedItems"),dir:r("dir"),onClick(T){T.defaultPrevented||a({type:"CLEAR.CLICK"})}}))},getHiddenSelectProps(){let T=n.get("value"),D=r("multiple")?T:T==null?void 0:T[0];return t.select({name:r("name"),form:r("form"),disabled:l,multiple:r("multiple"),required:r("required"),"aria-hidden":!0,id:Ts(o),defaultValue:D,style:vn,tabIndex:-1,onFocus(){var F;(F=Kt(o))==null||F.focus({preventScroll:!0})},"aria-labelledby":Oo(o)})},getPositionerProps(){return t.element(v(m({},Se.positioner.attrs),{dir:r("dir"),id:nu(o),style:R.floating}))},getContentProps(){return t.element(v(m({hidden:!f,dir:r("dir"),id:bs(o),role:p?"listbox":"dialog"},Se.content.attrs),{"data-state":f?"open":"closed","data-placement":C,"data-activedescendant":I,"aria-activedescendant":p?I:void 0,"aria-multiselectable":r("multiple")&&p?!0:void 0,"aria-labelledby":Oo(o),tabIndex:0,onKeyDown(T){if(!V||!be(T.currentTarget,z(T)))return;if(T.key==="Tab"&&!el(T)){T.preventDefault();return}let D={ArrowUp(){a({type:"CONTENT.ARROW_UP"})},ArrowDown(){a({type:"CONTENT.ARROW_DOWN"})},Home(){a({type:"CONTENT.HOME"})},End(){a({type:"CONTENT.END"})},Enter(){a({type:"ITEM.CLICK",src:"keydown.enter"})},Space(M){var Y;k?a({type:"CONTENT.TYPEAHEAD",key:M.key}):(Y=D.Enter)==null||Y.call(D,M)}},F=D[Oe(T)];if(F){F(T),T.preventDefault();return}let L=z(T);Fi(L)||qr.isValidEvent(T)&&(a({type:"CONTENT.TYPEAHEAD",key:T.key}),T.preventDefault())}}))},getListProps(){return t.element(v(m({},Se.list.attrs),{tabIndex:0,role:p?void 0:"listbox","aria-labelledby":Es(o),"aria-activedescendant":p?void 0:I,"aria-multiselectable":!p&&r("multiple")?!0:void 0}))}}}var{and:dr,not:jt,or:pm}=we(),ou={props({props:e}){var t;return v(m({loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[]},e),{collection:(t=e.collection)!=null?t:fr.empty(),positioning:m({placement:"bottom-start",gutter:8},e.positioning)})},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:Ee,onChange(n){var o;let r=e("collection").findMany(n);return(o=e("onValueChange"))==null?void 0:o({value:n,items:r})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var r;(r=e("onHighlightChange"))==null||r({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var o,i;let n=(i=(o=e("value"))!=null?o:e("defaultValue"))!=null?i:[];return{defaultValue:e("collection").findMany(n)}})}},refs(){return{typeahead:m({},qr.defaultOptions)}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:n,action:r}){n([()=>e.get("value").toString()],()=>{r(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>t("open")],()=>{r(["toggleVisibility"])}),n([()=>e.get("highlightedValue")],()=>{r(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{r(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:pm("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:dr(jt("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:jt("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:dr(jt("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:jt("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:jt("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:jt("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:jt("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:dr("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:dr("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:dr("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t.closeOnSelect)!=null?n:e("closeOnSelect"))},restoreFocus:({event:e})=>eu(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:e,scope:t}){return fn(vs(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){let n=e.initial("value");e.set("value",n)}})},trackDismissableElement({scope:e,send:t,prop:n}){let r=()=>ur(e),o=!0;return It(r,{type:"listbox",defer:!0,exclude:[Kt(e),hm(e)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(i){var s;(s=n("onInteractOutside"))==null||s(i),o=!(i.detail.focusable||i.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},computePlacement({context:e,prop:t,scope:n}){let r=t("positioning");return e.set("currentPlacement",r.placement),St(()=>Kt(n),()=>Qc(n),v(m({defer:!0},r),{onComplete(s){e.set("currentPlacement",s.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n,event:r}){let o=s=>{let a=e.get("highlightedValue");if(a==null||r.current().type.includes("POINTER"))return;let l=ur(n),c=t("scrollToIndexFn");if(c){let h=t("collection").indexOf(a);c==null||c({index:h,immediate:s,getElement:()=>ys(n,a)});return}let d=ys(n,a);Jn(d,{rootEl:l,block:"nearest"})};return H(()=>o(!0)),Hr(()=>ur(n),{defer:!0,attributes:["data-activedescendant"],callback(){o(!1)}})}},actions:{reposition({context:e,prop:t,scope:n,event:r}){let o=()=>Qc(n);St(Kt(n),o,v(m(m({},t("positioning")),r.options),{defer:!0,listeners:!1,onComplete(i){e.set("currentPlacement",i.placement)}}))},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let r=t("collection").getPreviousValue(n,1,t("loopFocus"));r!=null&&e.set("highlightedValue",r)},highlightNextItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let r=t("collection").getNextValue(n,1,t("loopFocus"));r!=null&&e.set("highlightedValue",r)},highlightFirstItem({context:e,prop:t}){let n=t("collection").firstValue;e.set("highlightedValue",n)},highlightLastItem({context:e,prop:t}){let n=t("collection").lastValue;e.set("highlightedValue",n)},setInitialFocus({scope:e}){H(()=>{let t=Qa({root:ur(e)});t==null||t.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){eu(e)&&H(()=>{let n=Kt(t);n==null||n.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:n}){var i,s;let r=(i=n.value)!=null?i:e.get("highlightedValue");if(r==null||!t("collection").has(r))return;(s=t("onSelect"))==null||s({value:r}),r=t("deselectable")&&!t("multiple")&&e.get("value").includes(r)?null:r,e.set("value",a=>r==null?[]:t("multiple")?wt(a,r):[r])},highlightComputedFirstItem({context:e,prop:t,computed:n}){let r=t("collection"),o=n("hasSelectedItems")?r.sort(e.get("value"))[0]:r.firstValue;e.set("highlightedValue",o)},highlightComputedLastItem({context:e,prop:t,computed:n}){let r=t("collection"),o=n("hasSelectedItems")?r.sort(e.get("value"))[0]:r.lastValue;e.set("highlightedValue",o)},highlightFirstSelectedItem({context:e,prop:t,computed:n}){if(!n("hasSelectedItems"))return;let r=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",r)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:r}){let o=t("collection").search(n.key,{state:r.get("typeahead"),currentValue:e.get("highlightedValue")});o!=null&&e.set("highlightedValue",o)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n}){var i;(i=t("onSelect"))==null||i({value:n.value});let o=t("deselectable")&&!t("multiple")&&e.get("value").includes(n.value)?null:n.value;e.set("value",s=>o==null?[]:t("multiple")?wt(s,o):[o])},clearItem({context:e,event:t}){e.set("value",n=>n.filter(r=>r!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){let[n]=e.get("value"),r=t("collection").getPreviousValue(n);r&&e.set("value",[r])},selectNextItem({context:e,prop:t}){let[n]=e.get("value"),r=t("collection").getNextValue(n);r&&e.set("value",[r])},selectFirstItem({context:e,prop:t}){let n=t("collection").firstValue;n&&e.set("value",[n])},selectLastItem({context:e,prop:t}){let n=t("collection").lastValue;n&&e.set("value",[n])},selectMatchingItem({context:e,prop:t,event:n,refs:r}){let o=t("collection").search(n.key,{state:r.get("typeahead"),currentValue:e.get("value")[0]});o!=null&&e.set("value",[o])},scrollContentToTop({prop:e,scope:t}){var n,r;if(e("scrollToIndexFn")){let o=e("collection").firstValue;(n=e("scrollToIndexFn"))==null||n({index:0,immediate:!0,getElement:()=>ys(t,o)})}else(r=ur(t))==null||r.scrollTo(0,0)},invokeOnOpen({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},syncSelectElement({context:e,prop:t,scope:n}){let r=vs(n);if(r){if(e.get("value").length===0&&!t("multiple")){r.selectedIndex=-1;return}for(let o of r.options)o.selected=e.get("value").includes(o.value)}},syncCollection({context:e,prop:t}){let n=t("collection"),r=n.find(e.get("highlightedValue"));r&&e.set("highlightedItem",r);let o=n.findMany(e.get("value"));e.set("selectedItems",o)},syncSelectedItems({context:e,prop:t}){let n=t("collection"),r=e.get("selectedItems"),i=e.get("value").map(s=>r.find(l=>n.getItemValue(l)===s)||n.find(s));e.set("selectedItems",i)},syncHighlightedItem({context:e,prop:t}){let n=t("collection"),r=e.get("highlightedValue"),o=r?n.find(r):null;e.set("highlightedItem",o)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{let t=vs(e);if(!t)return;let n=e.getWin(),r=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(r)})}}}};function eu(e){var n,r;let t=(r=e.restoreFocus)!=null?r:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null||!!t}var gm=U()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),GC=q(gm),mm=U()(["item","persistFocus"]),qC=q(mm),vm=U()(["id"]),UC=q(vm),ym=U()(["htmlFor"]),WC=q(ym);var Po=class extends Q{constructor(n,r){super(n,r);W(this,"_options",[]);W(this,"hasGroups",!1);W(this,"placeholder","");this.placeholder=O(this.el,"placeholder")||""}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(n){this._options=Array.isArray(n)?n:[]}getCollection(){let n=this.options;return this.hasGroups?fr({items:n,itemToValue:r=>{var o,i;return(i=(o=r.id)!=null?o:r.value)!=null?i:""},itemToString:r=>r.label,isItemDisabled:r=>!!r.disabled,groupBy:r=>r.group}):fr({items:n,itemToValue:r=>{var o,i;return(i=(o=r.id)!=null?o:r.value)!=null?i:""},itemToString:r=>r.label,isItemDisabled:r=>!!r.disabled})}initMachine(n){let r=this;return new re(ou,v(m({},n),{get collection(){return r.getCollection()}}))}initApi(){return ru(this.machine.service,ne)}renderItems(){var a,l,c;let n=this.el.querySelector('[data-scope="select"][data-part="content"]');if(!n)return;let r=this.el.querySelector('[data-templates="select"]');if(!r)return;n.querySelectorAll('[data-scope="select"][data-part="item"]:not([data-template])').forEach(d=>d.remove()),n.querySelectorAll('[data-scope="select"][data-part="item-group"]:not([data-template])').forEach(d=>d.remove());let o=this.api.collection.items,i=(c=(l=(a=this.api.collection).group)==null?void 0:l.call(a))!=null?c:[];i.some(([d])=>d!=null)?this.renderGroupedItems(n,r,i):this.renderFlatItems(n,r,o)}renderGroupedItems(n,r,o){for(let[i,s]of o){if(i==null)continue;let a=r.querySelector(`[data-scope="select"][data-part="item-group"][data-id="${i}"][data-template]`);if(!a)continue;let l=a.cloneNode(!0);l.removeAttribute("data-template"),this.spreadProps(l,this.api.getItemGroupProps({id:i}));let c=l.querySelector('[data-scope="select"][data-part="item-group-label"]');c&&this.spreadProps(c,this.api.getItemGroupLabelProps({htmlFor:i})),l.querySelectorAll('[data-scope="select"][data-part="item"][data-template]').forEach(h=>h.remove());for(let h of s){let p=this.cloneItem(r,h);p&&l.appendChild(p)}n.appendChild(l)}}renderFlatItems(n,r,o){for(let i of o){let s=this.cloneItem(r,i);s&&n.appendChild(s)}}cloneItem(n,r){let o=this.api.collection.getItemValue(r),i=n.querySelector(`[data-scope="select"][data-part="item"][data-value="${o}"][data-template]`);if(!i)return null;let s=i.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemProps({item:r}));let a=s.querySelector('[data-scope="select"][data-part="item-text"]');a&&this.spreadProps(a,this.api.getItemTextProps({item:r}));let l=s.querySelector('[data-scope="select"][data-part="item-indicator"]');return l&&this.spreadProps(l,this.api.getItemIndicatorProps({item:r})),s}render(){let n=this.el.querySelector('[data-scope="select"][data-part="root"]');if(!n)return;this.spreadProps(n,this.api.getRootProps());let r=this.el.querySelector('[data-scope="select"][data-part="hidden-select"]'),o=this.el.querySelector('[data-scope="select"][data-part="value-input"]');o&&(!this.api.value||this.api.value.length===0?o.value="":this.api.value.length===1?o.value=String(this.api.value[0]):o.value=this.api.value.map(String).join(",")),r&&this.spreadProps(r,this.api.getHiddenSelectProps()),["label","control","trigger","indicator","clear-trigger","positioner"].forEach(a=>{let l=this.el.querySelector(`[data-scope="select"][data-part="${a}"]`);if(!l)return;let c="get"+a.split("-").map(d=>d[0].toUpperCase()+d.slice(1)).join("")+"Props";this.spreadProps(l,this.api[c]())});let i=this.el.querySelector('[data-scope="select"][data-part="item-text"]');if(i){let a=this.api.valueAsString;if(this.api.value&&this.api.value.length>0&&!a){let l=this.api.value[0],c=this.options.find(d=>{var p,u;let h=(u=(p=d.id)!=null?p:d.value)!=null?u:"";return String(h)===String(l)});c?i.textContent=c.label:i.textContent=this.placeholder||""}else i.textContent=a||this.placeholder||""}let s=this.el.querySelector('[data-scope="select"][data-part="content"]');s&&(this.spreadProps(s,this.api.getContentProps()),this.renderItems())}};function Em(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function Cm(e){let t={};for(let[n,r]of Object.entries(e)){let o=Em(n);t[o]=r}return t}var xo={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=JSON.parse(e.dataset.collection||"[]"),r=n.some(s=>s.group!==void 0),o,i=this;this.wasFocused=!1,o=new Po(e,v(m({id:e.id},E(e,"controlled")?{value:oe(e,"value")}:{defaultValue:oe(e,"defaultValue")}),{disabled:E(e,"disabled"),closeOnSelect:E(e,"closeOnSelect"),dir:O(e,"dir",["ltr","rtl"]),loopFocus:E(e,"loopFocus"),multiple:E(e,"multiple"),invalid:E(e,"invalid"),name:O(e,"name"),form:O(e,"form"),readOnly:E(e,"readOnly"),required:E(e,"required"),positioning:(()=>{let s=e.dataset.positioning;if(s)try{let a=JSON.parse(s);return Cm(a)}catch(a){return}})(),onValueChange:s=>{let a=e.querySelector('[data-scope="select"][data-part="value-input"]');a&&(a.value=s.value.length===0?"":s.value.length===1?String(s.value[0]):s.value.map(String).join(","),a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0})));let l=O(e,"onValueChange");l&&!i.liveSocket.main.isDead&&i.liveSocket.main.isConnected()&&t(l,{value:s.value,items:s.items,id:e.id});let c=O(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:E(e,"bubble"),detail:{value:s.value,items:s.items,id:e.id}}))}})),o.hasGroups=r,o.setOptions(n),o.init(),this.select=o,this.handlers=[]},beforeUpdate(){var e,t,n;this.wasFocused=(n=(t=(e=this.select)==null?void 0:e.api)==null?void 0:t.focused)!=null?n:!1},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);if(this.select&&(this.select.hasGroups=t,this.select.setOptions(e),this.select.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{value:oe(this.el,"value")}:{defaultValue:oe(this.el,"defaultValue")}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:E(this.el,"disabled"),multiple:E(this.el,"multiple"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:E(this.el,"invalid"),required:E(this.el,"required"),readOnly:E(this.el,"readOnly")})),E(this.el,"controlled")&&this.wasFocused)){let n=this.el.querySelector('[data-scope="select"][data-part="trigger"]');n&&document.activeElement!==n&&n.focus()}},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.select)==null||e.destroy()}};function Tm(e){return!(e.metaKey||!un()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var wm=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Im(e,t,n){let r=n?z(n):null,o=ae(r);return e=e||r instanceof o.HTMLInputElement&&!wm.has(r==null?void 0:r.type)||r instanceof o.HTMLTextAreaElement||r instanceof o.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof o.KeyboardEvent&&!Reflect.has(Sm,n.key))}var zt=null,ws=new Set,ko=new Map,Yt=!1,Is=!1,Sm={Tab:!0,Escape:!0};function Ao(e,t){for(let n of ws)n(e,t)}function Vo(e){Yt=!0,Tm(e)&&(zt="keyboard",Ao("keyboard",e))}function _e(e){zt="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Yt=!0,Ao("pointer",e))}function iu(e){Ka(e)&&(Yt=!0,zt="virtual")}function su(e){let t=z(e);t===ae(t)||t===ve(t)||(!Yt&&!Is&&(zt="virtual",Ao("virtual",e)),Yt=!1,Is=!1)}function au(){Yt=!1,Is=!0}function Om(e){if(typeof window=="undefined"||ko.get(ae(e)))return;let t=ae(e),n=ve(e),r=t.HTMLElement.prototype.focus;function o(){zt="virtual",Ao("virtual",null),Yt=!0,r.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:o})}catch(i){}n.addEventListener("keydown",Vo,!0),n.addEventListener("keyup",Vo,!0),n.addEventListener("click",iu,!0),t.addEventListener("focus",su,!0),t.addEventListener("blur",au,!1),typeof t.PointerEvent!="undefined"?(n.addEventListener("pointerdown",_e,!0),n.addEventListener("pointermove",_e,!0),n.addEventListener("pointerup",_e,!0)):(n.addEventListener("mousedown",_e,!0),n.addEventListener("mousemove",_e,!0),n.addEventListener("mouseup",_e,!0)),t.addEventListener("beforeunload",()=>{Pm(e)},{once:!0}),ko.set(t,{focus:r})}var Pm=(e,t)=>{let n=ae(e),r=ve(e),o=ko.get(n);if(o){try{Object.defineProperty(n.HTMLElement.prototype,"focus",{configurable:!0,value:o.focus})}catch(i){}r.removeEventListener("keydown",Vo,!0),r.removeEventListener("keyup",Vo,!0),r.removeEventListener("click",iu,!0),n.removeEventListener("focus",su,!0),n.removeEventListener("blur",au,!1),typeof n.PointerEvent!="undefined"?(r.removeEventListener("pointerdown",_e,!0),r.removeEventListener("pointermove",_e,!0),r.removeEventListener("pointerup",_e,!0)):(r.removeEventListener("mousedown",_e,!0),r.removeEventListener("mousemove",_e,!0),r.removeEventListener("mouseup",_e,!0)),ko.delete(n)}};function $n(){return zt==="keyboard"}function $o(e={}){let{isTextInput:t,autoFocus:n,onChange:r,root:o}=e;Om(o),r==null||r({isFocusVisible:n||$n(),modality:zt});let i=(s,a)=>{Im(!!t,s,a)&&(r==null||r({isFocusVisible:$n(),modality:s}))};return ws.add(i),()=>{ws.delete(i)}}var xm=X("switch").parts("root","label","control","thumb"),Do=xm.build(),uu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`switch:${e.id}`},lu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`switch:${e.id}:label`},km=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.thumb)!=null?n:`switch:${e.id}:thumb`},Vm=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`switch:${e.id}:control`},Ss=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`switch:${e.id}:input`},Am=e=>e.getById(uu(e)),Dn=e=>e.getById(Ss(e));function du(e,t){let{context:n,send:r,prop:o,scope:i}=e,s=!!o("disabled"),a=!!o("readOnly"),l=!!o("required"),c=!!n.get("checked"),d=!s&&n.get("focused"),h=!s&&n.get("focusVisible"),p=!s&&n.get("active"),u={"data-active":b(p),"data-focus":b(d),"data-focus-visible":b(h),"data-readonly":b(a),"data-hover":b(n.get("hovered")),"data-disabled":b(s),"data-state":c?"checked":"unchecked","data-invalid":b(o("invalid")),"data-required":b(l)};return{checked:c,disabled:s,focused:d,setChecked(f){r({type:"CHECKED.SET",checked:f,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return t.label(v(m(m({},Do.root.attrs),u),{dir:o("dir"),id:uu(i),htmlFor:Ss(i),onPointerMove(){s||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(f){var y;if(s)return;z(f)===Dn(i)&&f.stopPropagation(),Et()&&((y=Dn(i))==null||y.focus())}}))},getLabelProps(){return t.element(v(m(m({},Do.label.attrs),u),{dir:o("dir"),id:lu(i)}))},getThumbProps(){return t.element(v(m(m({},Do.thumb.attrs),u),{dir:o("dir"),id:km(i),"aria-hidden":!0}))},getControlProps(){return t.element(v(m(m({},Do.control.attrs),u),{dir:o("dir"),id:Vm(i),"aria-hidden":!0}))},getHiddenInputProps(){return t.input({id:Ss(i),type:"checkbox",required:o("required"),defaultChecked:c,disabled:s,"aria-labelledby":lu(i),"aria-invalid":o("invalid"),name:o("name"),form:o("form"),value:o("value"),style:vn,onFocus(){let f=$n();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:f}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(f){if(a){f.preventDefault();return}let g=f.currentTarget.checked;r({type:"CHECKED.SET",checked:g,isTrusted:!0})}})}}}var{not:cu}=we(),fu={props({props:e}){return m({defaultChecked:!1,label:"switch",value:"on"},e)},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var r;(r=e("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:r}){e([()=>t("disabled")],()=>{r(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:cu("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:cu("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return Gr({pointerNode:Am(t),keyboardNode:Dn(t),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return $o({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return fn(Dn(n),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){let r=e.initial("checked");t({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){let n=Dn(t);n&&Zn(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){queueMicrotask(()=>{let n=Dn(t);Nr(n,{checked:e.get("checked")})})}}}},$m=U()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),dT=q($m);var Lo=class extends Q{initMachine(t){return new re(fu,t)}initApi(){return du(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="switch"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="switch"][data-part="hidden-input"]');n&&this.spreadProps(n,this.api.getHiddenInputProps());let r=this.el.querySelector('[data-scope="switch"][data-part="label"]');r&&this.spreadProps(r,this.api.getLabelProps());let o=this.el.querySelector('[data-scope="switch"][data-part="control"]');o&&this.spreadProps(o,this.api.getControlProps());let i=this.el.querySelector('[data-scope="switch"][data-part="thumb"]');i&&this.spreadProps(i,this.api.getThumbProps())}};var Ro={mounted(){let e=this.el,t=this.pushEvent.bind(this);this.wasFocused=!1;let n=new Lo(e,v(m({id:e.id},E(e,"controlled")?{checked:E(e,"checked")}:{defaultChecked:E(e,"defaultChecked")}),{disabled:E(e,"disabled"),name:O(e,"name"),form:O(e,"form"),value:O(e,"value"),dir:O(e,"dir",["ltr","rtl"]),invalid:E(e,"invalid"),required:E(e,"required"),readOnly:E(e,"readOnly"),label:O(e,"label"),onCheckedChange:r=>{let o=O(e,"onCheckedChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(o,{checked:r.checked,id:e.id});let i=O(e,"onCheckedChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{value:r,id:e.id}}))}}));n.init(),this.zagSwitch=n,this.onSetChecked=r=>{let{value:o}=r.detail;n.api.setChecked(o)},e.addEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers=[],this.handlers.push(this.handleEvent("switch_set_checked",r=>{let o=r.id;o&&o!==e.id||n.api.setChecked(r.value)})),this.handlers.push(this.handleEvent("switch_toggle_checked",r=>{let o=r.id;o&&o!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("switch_checked",()=>{this.pushEvent("switch_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("switch_focused",()=>{this.pushEvent("switch_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("switch_disabled",()=>{this.pushEvent("switch_disabled_response",{value:n.api.disabled})}))},beforeUpdate(){var e,t;this.wasFocused=(t=(e=this.zagSwitch)==null?void 0:e.api.focused)!=null?t:!1},updated(){var e;if((e=this.zagSwitch)==null||e.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{checked:E(this.el,"checked")}:{defaultChecked:E(this.el,"defaultChecked")}),{disabled:E(this.el,"disabled"),name:O(this.el,"name"),form:O(this.el,"form"),value:O(this.el,"value"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:E(this.el,"invalid"),required:E(this.el,"required"),readOnly:E(this.el,"readOnly"),label:O(this.el,"label")})),E(this.el,"controlled")&&this.wasFocused){let t=this.el.querySelector('[data-part="hidden-input"]');t==null||t.focus()}},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.zagSwitch)==null||e.destroy()}};var Lm=X("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),Ae=Lm.build(),pr=e=>new Pn(e);pr.empty=()=>new Pn({items:[]});var Rm=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`combobox:${e.id}`},Os=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`combobox:${e.id}:label`},bu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`combobox:${e.id}:control`},Mo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`combobox:${e.id}:input`},No=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`combobox:${e.id}:content`},Eu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`combobox:${e.id}:popper`},Cu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`combobox:${e.id}:toggle-btn`},Tu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`combobox:${e.id}:clear-btn`},Mm=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:r.call(n,t))!=null?o:`combobox:${e.id}:optgroup:${t}`},hu=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:r.call(n,t))!=null?o:`combobox:${e.id}:optgroup-label:${t}`},pu=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))!=null?o:`combobox:${e.id}:option:${t}`},Zt=e=>e.getById(No(e)),Xt=e=>e.getById(Mo(e)),gu=e=>e.getById(Eu(e)),mu=e=>e.getById(bu(e)),hr=e=>e.getById(Cu(e)),Nm=e=>e.getById(Tu(e)),Ln=(e,t)=>{if(t==null)return null;let n=`[role=option][data-value="${CSS.escape(t)}"]`;return pn(Zt(e),n)},vu=e=>{let t=Xt(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})},Fm=e=>{let t=hr(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})};function wu(e,t){let{context:n,prop:r,state:o,send:i,scope:s,computed:a,event:l}=e,c=r("translations"),d=r("collection"),h=!!r("disabled"),p=a("isInteractive"),u=!!r("invalid"),f=!!r("required"),g=!!r("readOnly"),y=o.hasTag("open"),w=o.hasTag("focused"),S=r("composite"),C=n.get("highlightedValue"),k=An(v(m({},r("positioning")),{placement:n.get("currentPlacement")}));function V(I){let P=d.getItemDisabled(I.item),R=d.getItemValue(I.item);return zr(R,()=>`[zag-js] No value found for item ${JSON.stringify(I.item)}`),{value:R,disabled:!!(P||P),highlighted:C===R,selected:n.get("value").includes(R)}}return{focused:w,open:y,inputValue:n.get("inputValue"),highlightedValue:C,highlightedItem:n.get("highlightedItem"),value:n.get("value"),valueAsString:a("valueAsString"),hasSelectedItems:a("hasSelectedItems"),selectedItems:n.get("selectedItems"),collection:r("collection"),multiple:!!r("multiple"),disabled:!!h,syncSelectedItems(){i({type:"SELECTED_ITEMS.SYNC"})},reposition(I={}){i({type:"POSITIONING.SET",options:I})},setHighlightValue(I){i({type:"HIGHLIGHTED_VALUE.SET",value:I})},clearHighlightValue(){i({type:"HIGHLIGHTED_VALUE.CLEAR"})},selectValue(I){i({type:"ITEM.SELECT",value:I})},setValue(I){i({type:"VALUE.SET",value:I})},setInputValue(I,P="script"){i({type:"INPUT_VALUE.SET",value:I,src:P})},clearValue(I){I!=null?i({type:"ITEM.CLEAR",value:I}):i({type:"VALUE.CLEAR"})},focus(){var I;(I=Xt(s))==null||I.focus()},setOpen(I,P="script"){o.hasTag("open")!==I&&i({type:I?"OPEN":"CLOSE",src:P})},getRootProps(){return t.element(v(m({},Ae.root.attrs),{dir:r("dir"),id:Rm(s),"data-invalid":b(u),"data-readonly":b(g)}))},getLabelProps(){return t.label(v(m({},Ae.label.attrs),{dir:r("dir"),htmlFor:Mo(s),id:Os(s),"data-readonly":b(g),"data-disabled":b(h),"data-invalid":b(u),"data-required":b(f),"data-focus":b(w),onClick(I){var P;S||(I.preventDefault(),(P=hr(s))==null||P.focus({preventScroll:!0}))}}))},getControlProps(){return t.element(v(m({},Ae.control.attrs),{dir:r("dir"),id:bu(s),"data-state":y?"open":"closed","data-focus":b(w),"data-disabled":b(h),"data-invalid":b(u)}))},getPositionerProps(){return t.element(v(m({},Ae.positioner.attrs),{dir:r("dir"),id:Eu(s),style:k.floating}))},getInputProps(){return t.input(v(m({},Ae.input.attrs),{dir:r("dir"),"aria-invalid":ue(u),"data-invalid":b(u),"data-autofocus":b(r("autoFocus")),name:r("name"),form:r("form"),disabled:h,required:r("required"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:g,placeholder:r("placeholder"),id:Mo(s),type:"text",role:"combobox",defaultValue:n.get("inputValue"),"aria-autocomplete":a("autoComplete")?"both":"list","aria-controls":No(s),"aria-expanded":y,"data-state":y?"open":"closed","aria-activedescendant":C?pu(s,C):void 0,onClick(I){I.defaultPrevented||r("openOnClick")&&p&&i({type:"INPUT.CLICK",src:"input-click"})},onFocus(){h||i({type:"INPUT.FOCUS"})},onBlur(){h||i({type:"INPUT.BLUR"})},onChange(I){i({type:"INPUT.CHANGE",value:I.currentTarget.value,src:"input-change"})},onKeyDown(I){if(I.defaultPrevented||!p||I.ctrlKey||I.shiftKey||dn(I))return;let P=r("openOnKeyPress"),R=I.ctrlKey||I.metaKey||I.shiftKey,T=!0,D={ArrowDown(M){!P&&!y||(i({type:M.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:T,src:"arrow-key"}),M.preventDefault())},ArrowUp(){!P&&!y||(i({type:I.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:T,src:"arrow-key"}),I.preventDefault())},Home(M){R||(i({type:"INPUT.HOME",keypress:T}),y&&M.preventDefault())},End(M){R||(i({type:"INPUT.END",keypress:T}),y&&M.preventDefault())},Enter(M){var fe;i({type:"INPUT.ENTER",keypress:T,src:"item-select"});let Y=a("isCustomValue")&&r("allowCustomValue"),B=C!=null,K=r("alwaysSubmitOnEnter");if(y&&!Y&&!K&&B&&M.preventDefault(),C==null)return;let G=Ln(s,C);$r(G)&&((fe=r("navigate"))==null||fe({value:C,node:G,href:G.href}))},Escape(){i({type:"INPUT.ESCAPE",keypress:T,src:"escape-key"}),I.preventDefault()}},F=Oe(I,{dir:r("dir")}),L=D[F];L==null||L(I)}}))},getTriggerProps(I={}){return t.button(v(m({},Ae.trigger.attrs),{dir:r("dir"),id:Cu(s),"aria-haspopup":S?"listbox":"dialog",type:"button",tabIndex:I.focusable?void 0:-1,"aria-label":c.triggerLabel,"aria-expanded":y,"data-state":y?"open":"closed","aria-controls":y?No(s):void 0,disabled:h,"data-invalid":b(u),"data-focusable":b(I.focusable),"data-readonly":b(g),"data-disabled":b(h),onFocus(){I.focusable&&i({type:"INPUT.FOCUS",src:"trigger"})},onClick(P){P.defaultPrevented||p&&Dt(P)&&i({type:"TRIGGER.CLICK",src:"trigger-click"})},onPointerDown(P){p&&P.pointerType!=="touch"&&Dt(P)&&(P.preventDefault(),queueMicrotask(()=>{var R;(R=Xt(s))==null||R.focus({preventScroll:!0})}))},onKeyDown(P){if(P.defaultPrevented||S)return;let R={ArrowDown(){i({type:"INPUT.ARROW_DOWN",src:"arrow-key"})},ArrowUp(){i({type:"INPUT.ARROW_UP",src:"arrow-key"})}},T=Oe(P,{dir:r("dir")}),D=R[T];D&&(D(P),P.preventDefault())}}))},getContentProps(){return t.element(v(m({},Ae.content.attrs),{dir:r("dir"),id:No(s),role:S?"listbox":"dialog",tabIndex:-1,hidden:!y,"data-state":y?"open":"closed","data-placement":n.get("currentPlacement"),"aria-labelledby":Os(s),"aria-multiselectable":r("multiple")&&S?!0:void 0,"data-empty":b(d.size===0),onPointerDown(I){Dt(I)&&I.preventDefault()}}))},getListProps(){return t.element(v(m({},Ae.list.attrs),{role:S?void 0:"listbox","data-empty":b(d.size===0),"aria-labelledby":Os(s),"aria-multiselectable":r("multiple")&&!S?!0:void 0}))},getClearTriggerProps(){return t.button(v(m({},Ae.clearTrigger.attrs),{dir:r("dir"),id:Tu(s),type:"button",tabIndex:-1,disabled:h,"data-invalid":b(u),"aria-label":c.clearTriggerLabel,"aria-controls":Mo(s),hidden:!n.get("value").length,onPointerDown(I){Dt(I)&&I.preventDefault()},onClick(I){I.defaultPrevented||p&&i({type:"VALUE.CLEAR",src:"clear-trigger"})}}))},getItemState:V,getItemProps(I){let P=V(I),R=P.value;return t.element(v(m({},Ae.item.attrs),{dir:r("dir"),id:pu(s,R),role:"option",tabIndex:-1,"data-highlighted":b(P.highlighted),"data-state":P.selected?"checked":"unchecked","aria-selected":ue(P.highlighted),"aria-disabled":ue(P.disabled),"data-disabled":b(P.disabled),"data-value":P.value,onPointerMove(){P.disabled||P.highlighted||i({type:"ITEM.POINTER_MOVE",value:R})},onPointerLeave(){if(I.persistFocus||P.disabled)return;let T=l.previous();T!=null&&T.type.includes("POINTER")&&i({type:"ITEM.POINTER_LEAVE",value:R})},onClick(T){ja(T)||Rr(T)||Mr(T)||P.disabled||i({type:"ITEM.CLICK",src:"item-select",value:R})}}))},getItemTextProps(I){let P=V(I);return t.element(v(m({},Ae.itemText.attrs),{dir:r("dir"),"data-state":P.selected?"checked":"unchecked","data-disabled":b(P.disabled),"data-highlighted":b(P.highlighted)}))},getItemIndicatorProps(I){let P=V(I);return t.element(v(m({"aria-hidden":!0},Ae.itemIndicator.attrs),{dir:r("dir"),"data-state":P.selected?"checked":"unchecked",hidden:!P.selected}))},getItemGroupProps(I){let{id:P}=I;return t.element(v(m({},Ae.itemGroup.attrs),{dir:r("dir"),id:Mm(s,P),"aria-labelledby":hu(s,P),"data-empty":b(d.size===0),role:"group"}))},getItemGroupLabelProps(I){let{htmlFor:P}=I;return t.element(v(m({},Ae.itemGroupLabel.attrs),{dir:r("dir"),id:hu(s,P),role:"presentation"}))}}}var{guards:Hm,createMachine:_m,choose:Bm}=Tn(),{and:he,not:Re}=Hm,Iu=_m({props({props:e}){return v(m({loopFocus:!0,openOnClick:!1,defaultValue:[],defaultInputValue:"",closeOnSelect:!e.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:e.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:t}){_r(t)},collection:pr.empty()},e),{positioning:m({placement:"bottom",sameWidth:!0},e.positioning),translations:m({triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value"},e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"suggesting":"idle"},context({prop:e,bindable:t,getContext:n,getEvent:r}){return{currentPlacement:t(()=>({defaultValue:void 0})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:Ee,hash(o){return o.join(",")},onChange(o){var c;let i=n(),s=i.get("selectedItems"),a=e("collection"),l=o.map(d=>s.find(p=>a.getItemValue(p)===d)||a.find(d));i.set("selectedItems",l),(c=e("onValueChange"))==null||c({value:o,items:l})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(o){var s;let i=e("collection").find(o);(s=e("onHighlightChange"))==null||s({highlightedValue:o,highlightedItem:i})}})),inputValue:t(()=>{let o=e("inputValue")||e("defaultInputValue"),i=e("value")||e("defaultValue");if(!o.trim()&&!e("multiple")){let s=e("collection").stringifyMany(i);o=Te(e("selectionBehavior"),{preserve:o||s,replace:s,clear:""})}return{defaultValue:o,value:e("inputValue"),onChange(s){var c;let a=r(),l=(a.previousEvent||a).src;(c=e("onInputValueChange"))==null||c({inputValue:s,reason:l})}}}),highlightedItem:t(()=>{let o=e("highlightedValue");return{defaultValue:e("collection").find(o)}}),selectedItems:t(()=>{let o=e("value")||e("defaultValue")||[];return{defaultValue:e("collection").findMany(o)}})}},computed:{isInputValueEmpty:({context:e})=>e.get("inputValue").length===0,isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),autoComplete:({prop:e})=>e("inputBehavior")==="autocomplete",autoHighlight:({prop:e})=>e("inputBehavior")==="autohighlight",hasSelectedItems:({context:e})=>e.get("value").length>0,valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems")),isCustomValue:({context:e,computed:t})=>e.get("inputValue")!==t("valueAsString")},watch({context:e,prop:t,track:n,action:r,send:o}){n([()=>e.hash("value")],()=>{r(["syncSelectedItems"])}),n([()=>e.get("inputValue")],()=>{r(["syncInputValue"])}),n([()=>e.get("highlightedValue")],()=>{r(["syncHighlightedItem","autofillInputValue"])}),n([()=>t("open")],()=>{r(["toggleVisibility"])}),n([()=>t("collection").toString()],()=>{o({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:Bm([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:he("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:he("isCustomValue",Re("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:he("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:he("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:he("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:he("isOpenControlled","isCustomValue",Re("hasHighlightedItem"),Re("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:he("isCustomValue",Re("hasHighlightedItem"),Re("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:he("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:he("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:he("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:he("isOpenControlled","isCustomValue",Re("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:he("isCustomValue",Re("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:he("isHighlightedItemRemoved","hasCollectionItems","autoHighlight"),actions:["clearHighlightedValue","highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{guard:"autoHighlight",actions:["highlightFirstItem"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:he("isOpenControlled","isCustomValue",Re("hasHighlightedItem"),Re("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:he("isCustomValue",Re("hasHighlightedItem"),Re("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:he("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:he("isOpenControlled","isCustomValue",Re("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:he("isCustomValue",Re("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:he("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:e})=>e("isInputValueEmpty"),autoComplete:({computed:e,prop:t})=>e("autoComplete")&&!t("multiple"),autoHighlight:({computed:e})=>e("autoHighlight"),isFirstItemHighlighted:({prop:e,context:t})=>e("collection").firstValue===t.get("highlightedValue"),isLastItemHighlighted:({prop:e,context:t})=>e("collection").lastValue===t.get("highlightedValue"),isCustomValue:({computed:e})=>e("isCustomValue"),allowCustomValue:({prop:e})=>!!e("allowCustomValue"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null,openOnChange:({prop:e,context:t})=>{let n=e("openOnChange");return hl(n)?n:!!(n!=null&&n({inputValue:t.get("inputValue")}))},restoreFocus:({event:e})=>{var n,r;let t=(r=e.restoreFocus)!=null?r:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null?!0:!!t},isChangeEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INPUT.CHANGE"},autoFocus:({prop:e})=>!!e("autoFocus"),isHighlightedItemRemoved:({prop:e,context:t})=>!e("collection").has(t.get("highlightedValue")),hasCollectionItems:({prop:e})=>e("collection").size>0},effects:{trackDismissableLayer({send:e,prop:t,scope:n}){return t("disableLayer")?void 0:It(()=>Zt(n),{type:"listbox",defer:!0,exclude:()=>[Xt(n),hr(n),Nm(n)],onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside:t("onInteractOutside"),onEscapeKeyDown(o){o.preventDefault(),o.stopPropagation(),e({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){e({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},trackPlacement({context:e,prop:t,scope:n}){let r=()=>mu(n)||hr(n),o=()=>gu(n);return e.set("currentPlacement",t("positioning").placement),St(r,o,v(m({},t("positioning")),{defer:!0,onComplete(i){e.set("currentPlacement",i.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n,event:r}){let o=Xt(n),i=[],s=c=>{let d=r.current().type.includes("POINTER"),h=e.get("highlightedValue");if(d||!h)return;let p=Zt(n),u=t("scrollToIndexFn");if(u){let y=t("collection").indexOf(h);u({index:y,immediate:c,getElement:()=>Ln(n,h)});return}let f=Ln(n,h),g=H(()=>{Jn(f,{rootEl:p,block:"nearest"})});i.push(g)},a=H(()=>s(!0));i.push(a);let l=Hr(o,{attributes:["aria-activedescendant"],callback:()=>s(!1)});return i.push(l),()=>{i.forEach(c=>c())}}},actions:{reposition({context:e,prop:t,scope:n,event:r}){St(()=>mu(n),()=>gu(n),v(m(m({},t("positioning")),r.options),{defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}}))},setHighlightedValue({context:e,event:t}){t.value!=null&&e.set("highlightedValue",t.value)},clearHighlightedValue({context:e}){e.set("highlightedValue",null)},selectHighlightedItem(e){var a;let{context:t,prop:n}=e,r=n("collection"),o=t.get("highlightedValue");if(!o||!r.has(o))return;let i=n("multiple")?wt(t.get("value"),o):[o];(a=n("onSelect"))==null||a({value:i,itemValue:o}),t.set("value",i);let s=Te(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:r.stringifyMany(i),clear:""});t.set("inputValue",s)},scrollToHighlightedItem({context:e,prop:t,scope:n}){Mt(()=>{let r=e.get("highlightedValue");if(r==null)return;let o=Ln(n,r),i=Zt(n),s=t("scrollToIndexFn");if(s){let a=t("collection").indexOf(r);s({index:a,immediate:!0,getElement:()=>Ln(n,r)});return}Jn(o,{rootEl:i,block:"nearest"})})},selectItem(e){let{context:t,event:n,flush:r,prop:o}=e;n.value!=null&&r(()=>{var a;let i=o("multiple")?wt(t.get("value"),n.value):[n.value];(a=o("onSelect"))==null||a({value:i,itemValue:n.value}),t.set("value",i);let s=Te(o("selectionBehavior"),{preserve:t.get("inputValue"),replace:o("collection").stringifyMany(i),clear:""});t.set("inputValue",s)})},clearItem(e){let{context:t,event:n,flush:r,prop:o}=e;n.value!=null&&r(()=>{let i=Qn(t.get("value"),n.value);t.set("value",i);let s=Te(o("selectionBehavior"),{preserve:t.get("inputValue"),replace:o("collection").stringifyMany(i),clear:""});t.set("inputValue",s)})},setInitialFocus({scope:e}){H(()=>{vu(e)})},setFinalFocus({scope:e}){H(()=>{let t=hr(e);(t==null?void 0:t.dataset.focusable)==null?vu(e):Fm(e)})},syncInputValue({context:e,scope:t,event:n}){let r=Xt(t);r&&(r.value=e.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&Na(r)}))},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearInputValue({context:e}){e.set("inputValue","")},revertInputValue({context:e,prop:t,computed:n}){let r=t("selectionBehavior"),o=Te(r,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:e.get("inputValue"),clear:""});e.set("inputValue",o)},setValue(e){let{context:t,flush:n,event:r,prop:o}=e;n(()=>{t.set("value",r.value);let i=Te(o("selectionBehavior"),{preserve:t.get("inputValue"),replace:o("collection").stringifyMany(r.value),clear:""});t.set("inputValue",i)})},clearSelectedItems(e){let{context:t,flush:n,prop:r}=e;n(()=>{t.set("value",[]);let o=Te(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany([]),clear:""});t.set("inputValue",o)})},scrollContentToTop({prop:e,scope:t}){let n=e("scrollToIndexFn");if(n){let r=e("collection").firstValue;n({index:0,immediate:!0,getElement:()=>Ln(t,r)})}else{let r=Zt(t);if(!r)return;r.scrollTop=0}},invokeOnOpen({prop:e,event:t,context:n}){var o;let r=yu(t);(o=e("onOpenChange"))==null||o({open:!0,reason:r,value:n.get("value")})},invokeOnClose({prop:e,event:t,context:n}){var o;let r=yu(t);(o=e("onOpenChange"))==null||o({open:!1,reason:r,value:n.get("value")})},highlightFirstItem({context:e,prop:t,scope:n}){(Zt(n)?queueMicrotask:H)(()=>{let o=t("collection").firstValue;o&&e.set("highlightedValue",o)})},highlightFirstItemIfNeeded({computed:e,action:t}){e("autoHighlight")&&t(["highlightFirstItem"])},highlightLastItem({context:e,prop:t,scope:n}){(Zt(n)?queueMicrotask:H)(()=>{let o=t("collection").lastValue;o&&e.set("highlightedValue",o)})},highlightNextItem({context:e,prop:t}){let n=null,r=e.get("highlightedValue"),o=t("collection");r?(n=o.getNextValue(r),!n&&t("loopFocus")&&(n=o.firstValue)):n=o.firstValue,n&&e.set("highlightedValue",n)},highlightPrevItem({context:e,prop:t}){let n=null,r=e.get("highlightedValue"),o=t("collection");r?(n=o.getPreviousValue(r),!n&&t("loopFocus")&&(n=o.lastValue)):n=o.lastValue,n&&e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t}){H(()=>{let[n]=t("collection").sort(e.get("value"));n&&e.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let r=null;n("hasSelectedItems")?r=t("collection").sort(e.get("value"))[0]:r=t("collection").firstValue,r&&e.set("highlightedValue",r)})},highlightLastOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let r=t("collection"),o=null;n("hasSelectedItems")?o=r.sort(e.get("value"))[0]:o=r.lastValue,o&&e.set("highlightedValue",o)})},autofillInputValue({context:e,computed:t,prop:n,event:r,scope:o}){let i=Xt(o),s=n("collection");if(!t("autoComplete")||!i||!r.keypress)return;let a=s.stringify(e.get("highlightedValue"));H(()=>{i.value=a||e.get("inputValue")})},syncSelectedItems(e){queueMicrotask(()=>{let{context:t,prop:n}=e,r=n("collection"),o=t.get("value"),i=o.map(a=>t.get("selectedItems").find(c=>r.getItemValue(c)===a)||r.find(a));t.set("selectedItems",i);let s=Te(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:r.stringifyMany(o),clear:""});t.set("inputValue",s)})},syncHighlightedItem({context:e,prop:t}){let n=t("collection").find(e.get("highlightedValue"));e.set("highlightedItem",n)},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});function yu(e){return(e.previousEvent||e).src}var Gm=U()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]),xT=q(Gm),qm=U()(["htmlFor"]),kT=q(qm),Um=U()(["id"]),VT=q(Um),Wm=U()(["item","persistFocus"]),AT=q(Wm);var Fo=class extends Q{constructor(){super(...arguments);W(this,"options",[]);W(this,"allOptions",[]);W(this,"hasGroups",!1)}setAllOptions(n){this.allOptions=n,this.options=n}getCollection(){let n=this.options||this.allOptions||[];return this.hasGroups?pr({items:n,itemToValue:r=>r.id,itemToString:r=>r.label,isItemDisabled:r=>r.disabled,groupBy:r=>r.group}):pr({items:n,itemToValue:r=>r.id,itemToString:r=>r.label,isItemDisabled:r=>r.disabled})}initMachine(n){let r=this;return new re(Iu,v(m({},n),{get collection(){return r.getCollection()},onOpenChange:o=>{o.open&&(r.options=r.allOptions),n.onOpenChange&&n.onOpenChange(o)},onInputValueChange:o=>{let i=r.allOptions.filter(s=>s.label.toLowerCase().includes(o.inputValue.toLowerCase()));r.options=i.length>0?i:r.allOptions,n.onInputValueChange&&n.onInputValueChange(o)}}))}initApi(){return wu(this.machine.service,ne)}renderItems(){var a,l,c;let n=this.el.querySelector('[data-scope="combobox"][data-part="content"]');if(!n)return;let r=this.el.querySelector('[data-templates="combobox"]');if(!r)return;n.querySelectorAll('[data-scope="combobox"][data-part="item"]:not([data-template])').forEach(d=>d.remove()),n.querySelectorAll('[data-scope="combobox"][data-part="item-group"]:not([data-template])').forEach(d=>d.remove());let o=this.api.collection.items,i=(c=(l=(a=this.api.collection).group)==null?void 0:l.call(a))!=null?c:[];i.some(([d])=>d!=null)?this.renderGroupedItems(n,r,i):this.renderFlatItems(n,r,o)}renderGroupedItems(n,r,o){for(let[i,s]of o){if(i==null)continue;let a=r.querySelector(`[data-scope="combobox"][data-part="item-group"][data-id="${i}"][data-template]`);if(!a)continue;let l=a.cloneNode(!0);l.removeAttribute("data-template"),this.spreadProps(l,this.api.getItemGroupProps({id:i}));let c=l.querySelector('[data-scope="combobox"][data-part="item-group-label"]');c&&this.spreadProps(c,this.api.getItemGroupLabelProps({htmlFor:i}));let d=l.querySelector('[data-scope="combobox"][data-part="item-group-content"]');if(d){d.innerHTML="";for(let h of s){let p=this.cloneItem(r,h);p&&d.appendChild(p)}n.appendChild(l)}}}renderFlatItems(n,r,o){for(let i of o){let s=this.cloneItem(r,i);s&&n.appendChild(s)}}cloneItem(n,r){let o=this.api.collection.getItemValue(r),i=n.querySelector(`[data-scope="combobox"][data-part="item"][data-value="${o}"][data-template]`);if(!i)return null;let s=i.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemProps({item:r}));let a=s.querySelector('[data-scope="combobox"][data-part="item-text"]');a&&(this.spreadProps(a,this.api.getItemTextProps({item:r})),a.children.length===0&&(a.textContent=r.label||""));let l=s.querySelector('[data-scope="combobox"][data-part="item-indicator"]');return l&&this.spreadProps(l,this.api.getItemIndicatorProps({item:r})),s}render(){let n=this.el.querySelector('[data-scope="combobox"][data-part="root"]');if(!n)return;this.spreadProps(n,this.api.getRootProps()),["label","control","input","trigger","clear-trigger","positioner"].forEach(o=>{let i=this.el.querySelector(`[data-scope="combobox"][data-part="${o}"]`);if(!i)return;let s="get"+o.split("-").map(a=>a[0].toUpperCase()+a.slice(1)).join("")+"Props";this.spreadProps(i,this.api[s]())});let r=this.el.querySelector('[data-scope="combobox"][data-part="content"]');r&&(this.spreadProps(r,this.api.getContentProps()),this.renderItems())}};function Km(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function Ym(e){let t={};for(let[n,r]of Object.entries(e)){let o=Km(n);t[o]=r}return t}var Ho={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=JSON.parse(e.dataset.collection||"[]"),r=n.some(a=>a.group!==void 0),o=v(m({id:e.id},E(e,"controlled")?{value:oe(e,"value")}:{defaultValue:oe(e,"defaultValue")}),{disabled:E(e,"disabled"),placeholder:O(e,"placeholder"),alwaysSubmitOnEnter:E(e,"alwaysSubmitOnEnter"),autoFocus:E(e,"autoFocus"),closeOnSelect:E(e,"closeOnSelect"),dir:O(e,"dir",["ltr","rtl"]),inputBehavior:O(e,"inputBehavior",["autohighlight","autocomplete","none"]),loopFocus:E(e,"loopFocus"),multiple:E(e,"multiple"),invalid:E(e,"invalid"),allowCustomValue:!1,selectionBehavior:"replace",name:O(e,"name"),form:O(e,"form"),readOnly:E(e,"readOnly"),required:E(e,"required"),positioning:(()=>{let a=e.dataset.positioning;if(a)try{let l=JSON.parse(a);return Ym(l)}catch(l){return}})(),onOpenChange:a=>{let l=O(e,"onOpenChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{open:a.open,reason:a.reason,value:a.value,id:e.id});let c=O(e,"onOpenChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:E(e,"bubble"),detail:{open:a.open,reason:a.reason,value:a.value,id:e.id}}))},onInputValueChange:a=>{let l=O(e,"onInputValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{value:a.inputValue,reason:a.reason,id:e.id});let c=O(e,"onInputValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:E(e,"bubble"),detail:{value:a.inputValue,reason:a.reason,id:e.id}}))},onValueChange:a=>{let l=e.querySelector('[data-scope="combobox"][data-part="value-input"]');if(l){let h=a.value.length===0?"":a.value.length===1?String(a.value[0]):a.value.map(String).join(",");l.value=h;let p=l.getAttribute("form"),u=null;p?u=document.getElementById(p):u=l.closest("form");let f=new Event("change",{bubbles:!0,cancelable:!0});l.dispatchEvent(f);let g=new Event("input",{bubbles:!0,cancelable:!0});l.dispatchEvent(g),u&&u.hasAttribute("phx-change")&&requestAnimationFrame(()=>{let y=u.querySelector("input, select, textarea");if(y){let w=new Event("change",{bubbles:!0,cancelable:!0});y.dispatchEvent(w)}else{let w=new Event("change",{bubbles:!0,cancelable:!0});u.dispatchEvent(w)}})}let c=O(e,"onValueChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(c,{value:a.value,items:a.items,id:e.id});let d=O(e,"onValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:E(e,"bubble"),detail:{value:a.value,items:a.items,id:e.id}}))}}),i=new Fo(e,o);i.hasGroups=r,i.setAllOptions(n),i.init();let s=E(e,"controlled")?oe(e,"value"):oe(e,"defaultValue");if(s&&s.length>0){let a=n.filter(l=>s.includes(l.id));if(a.length>0){let l=a.map(c=>c.label).join(", ");if(i.api&&typeof i.api.setInputValue=="function")i.api.setInputValue(l);else{let c=e.querySelector('[data-scope="combobox"][data-part="input"]');c&&(c.value=l)}}}this.combobox=i,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);if(this.combobox){this.combobox.hasGroups=t,this.combobox.setAllOptions(e),this.combobox.updateProps(v(m({},E(this.el,"controlled")?{value:oe(this.el,"value")}:{defaultValue:oe(this.el,"defaultValue")}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:E(this.el,"disabled"),multiple:E(this.el,"multiple"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:E(this.el,"invalid"),required:E(this.el,"required"),readOnly:E(this.el,"readOnly")}));let n=this.el.querySelector('[data-scope="combobox"][data-part="input"]');n&&(n.removeAttribute("name"),n.removeAttribute("form"),n.name="")}},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.combobox)==null||e.destroy()}};var zm=X("checkbox").parts("root","label","control","indicator"),_o=zm.build(),Pu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`checkbox:${e.id}`},Su=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`checkbox:${e.id}:label`},Zm=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`checkbox:${e.id}:control`},Ps=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`checkbox:${e.id}:input`},Xm=e=>e.getById(Pu(e)),gr=e=>e.getById(Ps(e));function xu(e,t){let{send:n,context:r,prop:o,computed:i,scope:s}=e,a=!!o("disabled"),l=!!o("readOnly"),c=!!o("required"),d=!!o("invalid"),h=!a&&r.get("focused"),p=!a&&r.get("focusVisible"),u=i("checked"),f=i("indeterminate"),g=r.get("checked"),y={"data-active":b(r.get("active")),"data-focus":b(h),"data-focus-visible":b(p),"data-readonly":b(l),"data-hover":b(r.get("hovered")),"data-disabled":b(a),"data-state":f?"indeterminate":u?"checked":"unchecked","data-invalid":b(d),"data-required":b(c)};return{checked:u,disabled:a,indeterminate:f,focused:h,checkedState:g,setChecked(w){n({type:"CHECKED.SET",checked:w,isTrusted:!1})},toggleChecked(){n({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label(v(m(m({},_o.root.attrs),y),{dir:o("dir"),id:Pu(s),htmlFor:Ps(s),onPointerMove(){a||n({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){a||n({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(w){z(w)===gr(s)&&w.stopPropagation()}}))},getLabelProps(){return t.element(v(m(m({},_o.label.attrs),y),{dir:o("dir"),id:Su(s)}))},getControlProps(){return t.element(v(m(m({},_o.control.attrs),y),{dir:o("dir"),id:Zm(s),"aria-hidden":!0}))},getIndicatorProps(){return t.element(v(m(m({},_o.indicator.attrs),y),{dir:o("dir"),hidden:!f&&!u}))},getHiddenInputProps(){return t.input({id:Ps(s),type:"checkbox",required:o("required"),defaultChecked:u,disabled:a,"aria-labelledby":Su(s),"aria-invalid":d,name:o("name"),form:o("form"),value:o("value"),style:vn,onFocus(){let w=$n();n({type:"CONTEXT.SET",context:{focused:!0,focusVisible:w}})},onBlur(){n({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(w){if(l){w.preventDefault();return}let S=w.currentTarget.checked;n({type:"CHECKED.SET",checked:S,isTrusted:!0})}})}}}var{not:Ou}=we(),ku={props({props:e}){var t;return v(m({value:"on"},e),{defaultChecked:(t=e.defaultChecked)!=null?t:!1})},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var r;(r=e("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:n,action:r}){e([()=>n("disabled")],()=>{r(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Ou("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Ou("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>Bo(e.get("checked")),checked:({context:e})=>Jm(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:n}){if(!t("disabled"))return Gr({pointerNode:Xm(n),keyboardNode:gr(n),isValidKey:r=>r.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var n;if(!e("disabled"))return $o({root:(n=t.getRootNode)==null?void 0:n.call(t)})},trackFormControlState({context:e,scope:t}){return fn(gr(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,computed:t,scope:n}){let r=gr(n);r&&(Zn(r,t("checked")),r.indeterminate=Bo(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){let n=Bo(t("checked"))?!0:!t("checked");e.set("checked",n)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{let n=gr(t);Nr(n,{checked:e("checked")})})}}}};function Bo(e){return e==="indeterminate"}function Jm(e){return Bo(e)?!1:!!e}var Qm=U()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),YT=q(Qm);var Go=class extends Q{initMachine(t){return new re(ku,t)}initApi(){return xu(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="checkbox"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=t.querySelector(':scope > [data-scope="checkbox"][data-part="hidden-input"]');n&&this.spreadProps(n,this.api.getHiddenInputProps());let r=t.querySelector(':scope > [data-scope="checkbox"][data-part="label"]');r&&this.spreadProps(r,this.api.getLabelProps());let o=t.querySelector(':scope > [data-scope="checkbox"][data-part="control"]');if(o){this.spreadProps(o,this.api.getControlProps());let i=o.querySelector(':scope > [data-scope="checkbox"][data-part="indicator"]');i&&this.spreadProps(i,this.api.getIndicatorProps())}}};var qo={mounted(){let e=this.el,t=this.pushEvent.bind(this);this.wasFocused=!1;let n=e.getAttribute("data-indeterminate"),r=n!==null&&n!=="false",o=E(e,"checked"),i=E(e,"defaultChecked"),s,a;r?E(e,"controlled")?s="indeterminate":a="indeterminate":E(e,"controlled")?s=o:a=i;let l=new Go(e,v(m(m({id:e.id},s!==void 0?{checked:s}:{}),a!==void 0?{defaultChecked:a}:{}),{disabled:E(e,"disabled"),name:O(e,"name"),form:O(e,"form"),value:O(e,"value"),dir:O(e,"dir",["ltr","rtl"]),invalid:E(e,"invalid"),required:E(e,"required"),readOnly:E(e,"readOnly"),onCheckedChange:c=>{let d=O(e,"onCheckedChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(d,{checked:c.checked,id:e.id});let h=O(e,"onCheckedChangeClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{value:c,id:e.id}}))}}));l.init(),this.checkbox=l,this.onSetChecked=c=>{let{checked:d}=c.detail;l.api.setChecked(d)},e.addEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked=()=>{l.api.toggleChecked()},e.addEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers=[],this.handlers.push(this.handleEvent("checkbox_set_checked",c=>{let d=c.id;d&&d!==e.id||l.api.setChecked(c.checked)})),this.handlers.push(this.handleEvent("checkbox_toggle_checked",c=>{let d=c.id;d&&d!==e.id||l.api.toggleChecked()})),this.handlers.push(this.handleEvent("checkbox_checked",()=>{this.pushEvent("checkbox_checked_response",{value:l.api.checked})})),this.handlers.push(this.handleEvent("checkbox_focused",()=>{this.pushEvent("checkbox_focused_response",{value:l.api.focused})})),this.handlers.push(this.handleEvent("checkbox_disabled",()=>{this.pushEvent("checkbox_disabled_response",{value:l.api.disabled})}))},beforeUpdate(){var e,t;this.wasFocused=(t=(e=this.checkbox)==null?void 0:e.api.focused)!=null?t:!1},updated(){var e;if((e=this.checkbox)==null||e.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{checked:E(this.el,"checked")}:{defaultChecked:E(this.el,"defaultChecked")}),{disabled:E(this.el,"disabled"),name:O(this.el,"name"),form:O(this.el,"form"),value:O(this.el,"value"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:E(this.el,"invalid"),required:E(this.el,"required"),readOnly:E(this.el,"readOnly"),label:O(this.el,"label")})),E(this.el,"controlled")&&this.wasFocused){let t=this.el.querySelector('[data-part="hidden-input"]');t==null||t.focus()}},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked&&this.el.removeEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.checkbox)==null||e.destroy()}};var ev=X("tabs").parts("root","list","trigger","content","indicator"),mr=ev.build(),tv=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tabs:${e.id}`},vr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.list)!=null?n:`tabs:${e.id}:list`},xs=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.content)==null?void 0:r.call(n,t))!=null?o:`tabs:${e.id}:content-${t}`},Jt=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.trigger)==null?void 0:r.call(n,t))!=null?o:`tabs:${e.id}:trigger-${t}`},Au=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicator)!=null?n:`tabs:${e.id}:indicator`},nv=e=>e.getById(vr(e)),rv=(e,t)=>e.getById(xs(e,t)),Uo=(e,t)=>t!=null?e.getById(Jt(e,t)):null,Vu=e=>e.getById(Au(e)),Rn=e=>{let n=`[role=tab][data-ownedby='${CSS.escape(vr(e))}']:not([disabled])`;return Ct(nv(e),n)},ov=e=>yn(Rn(e)),iv=e=>Ft(Rn(e)),sv=(e,t)=>gn(Rn(e),Jt(e,t.value),t.loopFocus),av=(e,t)=>mn(Rn(e),Jt(e,t.value),t.loopFocus),$u=e=>{var t,n,r,o;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(n=e==null?void 0:e.offsetTop)!=null?n:0,width:(r=e==null?void 0:e.offsetWidth)!=null?r:0,height:(o=e==null?void 0:e.offsetHeight)!=null?o:0}},lv=(e,t)=>{let n=Zi(Rn(e),Jt(e,t));return $u(n)};function Du(e,t){let{state:n,send:r,context:o,prop:i,scope:s}=e,a=i("translations"),l=n.matches("focused"),c=i("orientation")==="vertical",d=i("orientation")==="horizontal",h=i("composite");function p(u){return{selected:o.get("value")===u.value,focused:o.get("focusedValue")===u.value,disabled:!!u.disabled}}return{value:o.get("value"),focusedValue:o.get("focusedValue"),setValue(u){r({type:"SET_VALUE",value:u})},clearValue(){r({type:"CLEAR_VALUE"})},setIndicatorRect(u){let f=Jt(s,u);r({type:"SET_INDICATOR_RECT",id:f})},syncTabIndex(){r({type:"SYNC_TAB_INDEX"})},selectNext(u){r({type:"TAB_FOCUS",value:u,src:"selectNext"}),r({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(u){r({type:"TAB_FOCUS",value:u,src:"selectPrev"}),r({type:"ARROW_PREV",src:"selectPrev"})},focus(){var f;let u=o.get("value");u&&((f=Uo(s,u))==null||f.focus())},getRootProps(){return t.element(v(m({},mr.root.attrs),{id:tv(s),"data-orientation":i("orientation"),"data-focus":b(l),dir:i("dir")}))},getListProps(){return t.element(v(m({},mr.list.attrs),{id:vr(s),role:"tablist",dir:i("dir"),"data-focus":b(l),"aria-orientation":i("orientation"),"data-orientation":i("orientation"),"aria-label":a==null?void 0:a.listLabel,onKeyDown(u){if(u.defaultPrevented||dn(u)||!be(u.currentTarget,z(u)))return;let f={ArrowDown(){d||r({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){d||r({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||r({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||r({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},g=Oe(u,{dir:i("dir"),orientation:i("orientation")}),y=f[g];if(y){u.preventDefault(),y(u);return}}}))},getTriggerState:p,getTriggerProps(u){let{value:f,disabled:g}=u,y=p(u);return t.button(v(m({},mr.trigger.attrs),{role:"tab",type:"button",disabled:g,dir:i("dir"),"data-orientation":i("orientation"),"data-disabled":b(g),"aria-disabled":g,"data-value":f,"aria-selected":y.selected,"data-selected":b(y.selected),"data-focus":b(y.focused),"aria-controls":y.selected?xs(s,f):void 0,"data-ownedby":vr(s),"data-ssr":b(o.get("ssr")),id:Jt(s,f),tabIndex:y.selected&&h?0:-1,onFocus(){r({type:"TAB_FOCUS",value:f})},onBlur(w){let S=w.relatedTarget;(S==null?void 0:S.getAttribute("role"))!=="tab"&&r({type:"TAB_BLUR"})},onClick(w){w.defaultPrevented||Rr(w)||g||(Et()&&w.currentTarget.focus(),r({type:"TAB_CLICK",value:f}))}}))},getContentProps(u){let{value:f}=u,g=o.get("value")===f;return t.element(v(m({},mr.content.attrs),{dir:i("dir"),id:xs(s,f),tabIndex:h?0:-1,"aria-labelledby":Jt(s,f),role:"tabpanel","data-ownedby":vr(s),"data-selected":b(g),"data-orientation":i("orientation"),hidden:!g}))},getIndicatorProps(){let u=o.get("indicatorRect"),f=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(v(m({id:Au(s)},mr.indicator.attrs),{dir:i("dir"),"data-orientation":i("orientation"),hidden:f,style:{"--transition-property":"left, right, top, bottom, width, height","--left":Pe(u==null?void 0:u.x),"--top":Pe(u==null?void 0:u.y),"--width":Pe(u==null?void 0:u.width),"--height":Pe(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[d?"left":"top"]:d?"var(--left)":"var(--top)"}}))}}}var{createMachine:cv}=Tn(),Lu=cv({props({props:e}){return m({dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){_r(t.node)},defaultValue:null},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var r;(r=e("onValueChange"))==null||r({value:n})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(n){var r;(r=e("onFocusChange"))==null||r({focusedValue:n})}})),ssr:t(()=>({defaultValue:!0})),indicatorRect:t(()=>({defaultValue:null}))}},watch({context:e,prop:t,track:n,action:r}){n([()=>e.get("value")],()=>{r(["syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),n([()=>t("dir"),()=>t("orientation")],()=>{r(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){H(()=>{let n=e.get("focusedValue");if(!n)return;let o=t("deselectable")&&e.get("value")===n?null:n;e.set("value",o)})},setFocusedValue({context:e,event:t,flush:n}){t.value!=null&&n(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:n}){let r=n("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",r?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){H(()=>{var t;(t=ov(e))==null||t.focus()})},focusLastTab({scope:e}){H(()=>{var t;(t=iv(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:n,event:r}){var s;let o=(s=r.value)!=null?s:e.get("focusedValue");if(!o)return;let i=sv(n,{value:o,loopFocus:t("loopFocus")});H(()=>{t("composite")?i==null||i.focus():(i==null?void 0:i.dataset.value)!=null&&e.set("focusedValue",i.dataset.value)})},focusPrevTab({context:e,prop:t,scope:n,event:r}){var s;let o=(s=r.value)!=null?s:e.get("focusedValue");if(!o)return;let i=av(n,{value:o,loopFocus:t("loopFocus")});H(()=>{t("composite")?i==null||i.focus():(i==null?void 0:i.dataset.value)!=null&&e.set("focusedValue",i.dataset.value)})},syncTabIndex({context:e,scope:t}){H(()=>{let n=e.get("value");if(!n)return;let r=rv(t,n);if(!r)return;Xn(r).length>0?r.removeAttribute("tabindex"):r.setAttribute("tabindex","0")})},cleanupObserver({refs:e}){let t=e.get("indicatorCleanup");t&&t()},setIndicatorRect({context:e,event:t,scope:n}){var s;let r=(s=t.id)!=null?s:e.get("value");!Vu(n)||!r||!Uo(n,r)||e.set("indicatorRect",lv(n,r))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:n}){let r=t.get("indicatorCleanup");if(r&&r(),!Vu(n))return;let i=()=>{let l=Uo(n,e.get("value"));if(!l)return;let c=$u(l);e.set("indicatorRect",d=>Ee(d,c)?d:c)};i();let s=Rn(n),a=En(...s.map(l=>il.observe(l,i)));t.set("indicatorCleanup",a)},navigateIfNeeded({context:e,prop:t,scope:n}){var i;let r=e.get("value");if(!r)return;let o=Uo(n,r);$r(o)&&((i=t("navigate"))==null||i({value:r,node:o,href:o.href}))}}}}),uv=U()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]),u0=q(uv),dv=U()(["disabled","value"]),d0=q(dv),fv=U()(["value"]),f0=q(fv);var Wo=class extends Q{initMachine(t){return new re(Lu,t)}initApi(){return Du(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="tabs"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=t.querySelector('[data-scope="tabs"][data-part="list"]');if(!n)return;this.spreadProps(n,this.api.getListProps());let r=this.el.getAttribute("data-items"),o=r?JSON.parse(r):[],i=n.querySelectorAll('[data-scope="tabs"][data-part="trigger"]');for(let a=0;a<i.length&&a<o.length;a++){let l=i[a],c=o[a];this.spreadProps(l,this.api.getTriggerProps({value:c.value}))}let s=t.querySelectorAll('[data-scope="tabs"][data-part="content"]');for(let a=0;a<s.length&&a<o.length;a++){let l=s[a],c=o[a];this.spreadProps(l,this.api.getContentProps({value:c.value}))}}};var jo={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Wo(e,v(m({id:e.id,composite:!0},E(e,"controlled")?{value:O(e,"value")}:{defaultValue:O(e,"defaultValue")}),{orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:r=>{var s,a;let o=O(e,"onValueChange");o&&this.liveSocket.main.isConnected()&&t(o,{id:e.id,value:(s=r.value)!=null?s:null});let i=O(e,"onValueChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{id:e.id,value:(a=r.value)!=null?a:null}}))},onFocusChange:r=>{var s,a;let o=O(e,"onFocusChange");o&&this.liveSocket.main.isConnected()&&t(o,{id:e.id,value:(s=r.focusedValue)!=null?s:null});let i=O(e,"onFocusChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{id:e.id,value:(a=r.focusedValue)!=null?a:null}}))}}));n.init(),this.tabs=n,this.onSetValue=r=>{let{value:o}=r.detail;n.api.setValue(o)},e.addEventListener("phx:tabs:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("tabs_set_value",r=>{let o=r.tabs_id;o&&o!==e.id||n.api.setValue(r.value)})),this.handlers.push(this.handleEvent("tabs_value",()=>{this.pushEvent("tabs_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("tabs_focused_value",()=>{this.pushEvent("tabs_focused_value_response",{value:n.api.focusedValue})}))},updated(){var t,n,r;(t=this.tabs)==null||t.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{value:O(this.el,"value")}:{defaultValue:O(this.el,"defaultValue")}),{orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}));let e=(r=(n=this.tabs)==null?void 0:n.api)==null?void 0:r.focusedValue;if(e){let o=this.el.querySelector(`[data-scope="tabs"][data-part="list"] [data-part="trigger"][data-value="${e}"]`);o&&document.activeElement!==o&&o.focus()}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:tabs:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.tabs)==null||e.destroy()}};var hv=X("clipboard").parts("root","control","trigger","indicator","input","label"),Mn=hv.build(),pv=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`clip:${e.id}`},ks=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`clip:${e.id}:input`},gv=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`clip:${e.id}:label`},mv=e=>e.getById(ks(e)),vv=(e,t)=>Ev(e.getDoc(),t);function yv(e,t){let n=e.createElement("pre");return Object.assign(n.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),n.textContent=t,n}function bv(e){let n=ae(e).getSelection();if(n==null)return Promise.reject(new Error);n.removeAllRanges();let r=e.ownerDocument,o=r.createRange();return o.selectNodeContents(e),n.addRange(o),r.execCommand("copy"),n.removeAllRanges(),Promise.resolve()}function Ev(e,t){var o;let n=e.defaultView||window;if(((o=n.navigator.clipboard)==null?void 0:o.writeText)!==void 0)return n.navigator.clipboard.writeText(t);if(!e.body)return Promise.reject(new Error);let r=yv(e,t);return e.body.appendChild(r),bv(r),e.body.removeChild(r),Promise.resolve()}function Ru(e,t){let{state:n,send:r,context:o,scope:i}=e,s=n.matches("copied");return{copied:s,value:o.get("value"),setValue(a){r({type:"VALUE.SET",value:a})},copy(){r({type:"COPY"})},getRootProps(){return t.element(v(m({},Mn.root.attrs),{"data-copied":b(s),id:pv(i)}))},getLabelProps(){return t.label(v(m({},Mn.label.attrs),{htmlFor:ks(i),"data-copied":b(s),id:gv(i)}))},getControlProps(){return t.element(v(m({},Mn.control.attrs),{"data-copied":b(s)}))},getInputProps(){return t.input(v(m({},Mn.input.attrs),{defaultValue:o.get("value"),"data-copied":b(s),readOnly:!0,"data-readonly":"true",id:ks(i),onFocus(a){a.currentTarget.select()},onCopy(){r({type:"INPUT.COPY"})}}))},getTriggerProps(){return t.button(v(m({},Mn.trigger.attrs),{type:"button","aria-label":s?"Copied to clipboard":"Copy to clipboard","data-copied":b(s),onClick(){r({type:"COPY"})}}))},getIndicatorProps(a){return t.element(v(m({},Mn.indicator.attrs),{hidden:a.copied!==s}))}}}var Mu={props({props:e}){return m({timeout:3e3,defaultValue:""},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var r;(r=e("onValueChange"))==null||r({value:n})}}))}},watch({track:e,context:t,action:n}){e([()=>t.get("value")],()=>{n(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:e,send:t}){return Cn(()=>{t({type:"COPY.DONE"})},e("timeout"))}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},copyToClipboard({context:e,scope:t}){vv(t,e.get("value"))},invokeOnCopy({prop:e}){var t;(t=e("onStatusChange"))==null||t({copied:!0})},syncInputElement({context:e,scope:t}){let n=mv(t);n&&Lt(n,e.get("value"))}}}},Cv=U()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]),x0=q(Cv),Tv=U()(["copied"]),k0=q(Tv);var Ko=class extends Q{initMachine(t){return new re(Mu,t)}initApi(){return Ru(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="clipboard"][data-part="root"]');if(t){this.spreadProps(t,this.api.getRootProps());let n=t.querySelector('[data-scope="clipboard"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let r=t.querySelector('[data-scope="clipboard"][data-part="control"]');if(r){this.spreadProps(r,this.api.getControlProps());let o=r.querySelector('[data-scope="clipboard"][data-part="input"]');if(o){let s=m({},this.api.getInputProps()),a=this.el.dataset.inputAriaLabel;a&&(s["aria-label"]=a),this.spreadProps(o,s)}let i=r.querySelector('[data-scope="clipboard"][data-part="trigger"]');if(i){let s=m({},this.api.getTriggerProps()),a=this.el.dataset.triggerAriaLabel;a&&(s["aria-label"]=a),this.spreadProps(i,s)}}}}};var Yo={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,r=new Ko(e,v(m({id:e.id,timeout:xe(e,"timeout")},E(e,"controlled")?{value:O(e,"value")}:{defaultValue:O(e,"defaultValue")}),{onValueChange:o=>{var s;let i=O(e,"onValueChange");i&&n.main.isConnected()&&t(i,{id:e.id,value:(s=o.value)!=null?s:null})},onStatusChange:o=>{let i=O(e,"onStatusChange");i&&n.main.isConnected()&&t(i,{id:e.id,copied:o.copied});let s=O(e,"onStatusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0}))}}));r.init(),this.clipboard=r,this.onCopy=()=>{r.api.copy()},e.addEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue=o=>{let{value:i}=o.detail;r.api.setValue(i)},e.addEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("clipboard_copy",o=>{let i=o.clipboard_id;i&&i!==e.id||r.api.copy()})),this.handlers.push(this.handleEvent("clipboard_set_value",o=>{let i=o.clipboard_id;i&&i!==e.id||r.api.setValue(o.value)})),this.handlers.push(this.handleEvent("clipboard_copied",()=>{this.pushEvent("clipboard_copied_response",{value:r.api.copied})}))},updated(){var e;(e=this.clipboard)==null||e.updateProps(v(m({id:this.el.id,timeout:xe(this.el,"timeout")},E(this.el,"controlled")?{value:O(this.el,"value")}:{defaultValue:O(this.el,"value")}),{dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onCopy&&this.el.removeEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue&&this.el.removeEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.clipboard)==null||e.destroy()}};var wv=X("collapsible").parts("root","trigger","content","indicator"),zo=wv.build(),Iv=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`collapsible:${e.id}`},Vs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`collapsible:${e.id}:content`},Sv=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`collapsible:${e.id}:trigger`},yr=e=>e.getById(Vs(e));function Nu(e,t){let{state:n,send:r,context:o,scope:i,prop:s}=e,a=n.matches("open")||n.matches("closing"),l=n.matches("open"),c=n.matches("closed"),{width:d,height:h}=o.get("size"),p=!!s("disabled"),u=s("collapsedHeight"),f=s("collapsedWidth"),g=u!=null,y=f!=null,w=g||y,S=!o.get("initial")&&l;return{disabled:p,visible:a,open:l,measureSize(){r({type:"size.measure"})},setOpen(C){n.matches("open")!==C&&r({type:C?"open":"close"})},getRootProps(){return t.element(v(m({},zo.root.attrs),{"data-state":l?"open":"closed",dir:s("dir"),id:Iv(i)}))},getContentProps(){return t.element(v(m({},zo.content.attrs),{id:Vs(i),"data-collapsible":"","data-state":S?void 0:l?"open":"closed","data-disabled":b(p),"data-has-collapsed-size":b(w),hidden:!a&&!w,dir:s("dir"),style:m(m({"--height":Pe(h),"--width":Pe(d),"--collapsed-height":Pe(u),"--collapsed-width":Pe(f)},c&&g&&{overflow:"hidden",minHeight:Pe(u),maxHeight:Pe(u)}),c&&y&&{overflow:"hidden",minWidth:Pe(f),maxWidth:Pe(f)})}))},getTriggerProps(){return t.element(v(m({},zo.trigger.attrs),{id:Sv(i),dir:s("dir"),type:"button","data-state":l?"open":"closed","data-disabled":b(p),"aria-controls":Vs(i),"aria-expanded":a||!1,onClick(C){C.defaultPrevented||p||r({type:l?"close":"open"})}}))},getIndicatorProps(){return t.element(v(m({},zo.indicator.attrs),{dir:s("dir"),"data-state":l?"open":"closed","data-disabled":b(p)}))}}}var Fu={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["cleanupNode"],states:{closed:{effects:["trackTabbableElements"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n,r=H(()=>{let o=yr(t);if(!o)return;let i=ft(o).animationName;if(!i||i==="none"){e({type:"animation.end"});return}let a=l=>{z(l)===o&&e({type:"animation.end"})};o.addEventListener("animationend",a),n=()=>{o.removeEventListener("animationend",a)}});return()=>{r(),n==null||n()}},trackExitAnimation:({send:e,scope:t})=>{let n,r=H(()=>{let o=yr(t);if(!o)return;let i=ft(o).animationName;if(!i||i==="none"){e({type:"animation.end"});return}let a=c=>{z(c)===o&&e({type:"animation.end"})};o.addEventListener("animationend",a);let l=Nt(o,{animationFillMode:"forwards"});n=()=>{o.removeEventListener("animationend",a),Mt(()=>l())}});return()=>{r(),n==null||n()}},trackTabbableElements:({scope:e,prop:t})=>{if(!t("collapsedHeight")&&!t("collapsedWidth"))return;let n=yr(e);if(!n)return;let r=()=>{let a=Rt(n).map(l=>sl(l,"inert",""));return()=>{a.forEach(l=>l())}},o=r(),i=nl(n,{callback(){o(),o=r()}});return()=>{o(),i()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{let n=yr(t);if(!n)return;let{height:r,width:o}=n.getBoundingClientRect();e.set("size",{height:r,width:o})},computeSize:({refs:e,scope:t,context:n})=>{var o;(o=e.get("cleanup"))==null||o();let r=H(()=>{let i=yr(t);if(!i)return;let s=i.hidden;i.style.animationName="none",i.style.animationDuration="0s",i.hidden=!1;let a=i.getBoundingClientRect();n.set("size",{height:a.height,width:a.width}),n.get("initial")&&(i.style.animationName="",i.style.animationDuration=""),i.hidden=s});e.set("cleanup",r)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}},Ov=U()(["dir","disabled","getRootNode","id","ids","collapsedHeight","collapsedWidth","onExitComplete","onOpenChange","defaultOpen","open"]),W0=q(Ov);var Zo=class extends Q{initMachine(t){return new re(Fu,t)}initApi(){return Nu(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="collapsible"][data-part="root"]');if(t){this.spreadProps(t,this.api.getRootProps());let n=t.querySelector('[data-scope="collapsible"][data-part="trigger"]');n&&this.spreadProps(n,this.api.getTriggerProps());let r=t.querySelector('[data-scope="collapsible"][data-part="content"]');r&&this.spreadProps(r,this.api.getContentProps())}}};var Xo={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Zo(e,v(m({id:e.id},E(e,"controlled")?{open:E(e,"open")}:{defaultOpen:E(e,"defaultOpen")}),{disabled:E(e,"disabled"),dir:O(e,"dir",["ltr","rtl"]),onOpenChange:r=>{let o=O(e,"onOpenChange");o&&this.liveSocket.main.isConnected()&&t(o,{id:e.id,open:r.open});let i=O(e,"onOpenChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{id:e.id,open:r.open}}))}}));n.init(),this.collapsible=n,this.onSetOpen=r=>{let{open:o}=r.detail;n.api.setOpen(o)},e.addEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("collapsible_set_open",r=>{let o=r.collapsible_id;o&&o!==e.id||n.api.setOpen(r.open)})),this.handlers.push(this.handleEvent("collapsible_open",()=>{this.pushEvent("collapsible_open_response",{value:n.api.open})}))},updated(){var e;(e=this.collapsible)==null||e.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{open:E(this.el,"open")}:{defaultOpen:E(this.el,"defaultOpen")}),{disabled:E(this.el,"disabled"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.collapsible)==null||e.destroy()}};var Nn=new WeakMap,Jo=new WeakMap,Qo={},As=0,Hu=e=>e&&(e.host||Hu(e.parentNode)),Pv=(e,t)=>t.map(n=>{if(e.contains(n))return n;let r=Hu(n);return r&&e.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),xv=new Set(["script","output","status","next-route-announcer"]),kv=e=>xv.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),Vv=(e,t)=>{let{parentNode:n,markerName:r,controlAttribute:o,followControlledElements:i=!0}=t,s=Pv(n,Array.isArray(e)?e:[e]);Qo[r]||(Qo[r]=new WeakMap);let a=Qo[r],l=[],c=new Set,d=new Set(s),h=u=>{!u||c.has(u)||(c.add(u),h(u.parentNode))};s.forEach(u=>{h(u),i&&ce(u)&&Bi(u,f=>{h(f)})});let p=u=>{!u||d.has(u)||Array.prototype.forEach.call(u.children,f=>{if(c.has(f))p(f);else try{if(kv(f))return;let y=f.getAttribute(o)==="true",w=(Nn.get(f)||0)+1,S=(a.get(f)||0)+1;Nn.set(f,w),a.set(f,S),l.push(f),w===1&&y&&Jo.set(f,!0),S===1&&f.setAttribute(r,""),y||f.setAttribute(o,"true")}catch(g){console.error("[zag-js > ariaHidden] cannot operate on ",f,g)}})};return p(n),c.clear(),As++,()=>{l.forEach(u=>{let f=Nn.get(u)-1,g=a.get(u)-1;Nn.set(u,f),a.set(u,g),f||(Jo.has(u)||u.removeAttribute(o),Jo.delete(u)),g||u.removeAttribute(r)}),As--,As||(Nn=new WeakMap,Nn=new WeakMap,Jo=new WeakMap,Qo={})}},Av=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,$v=(e,t=Av(e),n="data-aria-hidden",r=!0)=>{if(t)return Vv(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:r})},Dv=e=>{let t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function _u(e,t={}){let{defer:n=!0}=t,r=n?Dv:i=>i(),o=[];return o.push(r(()=>{let s=(typeof e=="function"?e():e).filter(Boolean);s.length!==0&&o.push($v(s))})),()=>{o.forEach(i=>i==null?void 0:i())}}var Lv=Object.defineProperty,Rv=(e,t,n)=>t in e?Lv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t,n)=>Rv(e,typeof t!="symbol"?t+"":t,n),Bu={activateTrap(e,t){if(e.length>0){let r=e[e.length-1];r!==t&&r.pause()}let n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){let n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},Mv=[],Nv=class{constructor(e,t){se(this,"trapStack"),se(this,"config"),se(this,"doc"),se(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),se(this,"portalContainers",new Set),se(this,"listenerCleanups",[]),se(this,"handleFocus",r=>{let o=z(r),i=this.findContainerIndex(o,r)>=0;if(i||Yn(o))i&&(this.state.mostRecentlyFocusedNode=o);else{r.stopImmediatePropagation();let s,a=!0;if(this.state.mostRecentlyFocusedNode)if(hn(this.state.mostRecentlyFocusedNode)>0){let l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){let d=c.findIndex(h=>h===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<c.length&&(s=c[d+1],a=!1):d-1>=0&&(s=c[d-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>hn(c)>0))||(a=!1);else a=!1;a&&(s=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),s?this.tryFocus(s):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),se(this,"handlePointerDown",r=>{let o=z(r);if(!(this.findContainerIndex(o,r)>=0)){if(br(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}br(this.config.allowOutsideClick,r)||r.preventDefault()}}),se(this,"handleClick",r=>{let o=z(r);this.findContainerIndex(o,r)>=0||br(this.config.clickOutsideDeactivates,r)||br(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),se(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;let o=this.config.isKeyBackward(r),i=this.findNextNavNode({event:r,isBackward:o});if(!i)return;$s(r)&&r.preventDefault(),this.tryFocus(i)}}),se(this,"handleEscapeKey",r=>{_v(r)&&br(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),se(this,"_mutationObserver"),se(this,"setupMutationObserver",()=>{let r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(o=>{o.some(a=>Array.from(a.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),o.some(a=>a.type==="attributes"&&(a.attributeName==="aria-controls"||a.attributeName==="aria-expanded")?!0:a.type==="childList"&&a.addedNodes.length>0?Array.from(a.addedNodes).some(l=>{if(l.nodeType!==Node.ELEMENT_NODE)return!1;let c=l;return Ga(c)?!0:c.id&&!this.state.containers.some(d=>d.contains(c))?qa(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),se(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(o=>{var i;(i=this._mutationObserver)==null||i.observe(o,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(o=>{this.observePortalContainer(o)}))}),se(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!Ye(r)){let o=$t(this.doc);if(o&&this.findContainerIndex(o)>=0)r=o;else{let i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),se(this,"tryFocus",r=>{if(r!==!1&&r!==$t(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,Bv(r)&&r.select()}}),se(this,"deactivate",r=>{if(!this.state.active)return this;let o=m({onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus},r);clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),Bu.deactivateTrap(this.trapStack,this),this.portalContainers.clear();let i=this.getOption(o,"onDeactivate"),s=this.getOption(o,"onPostDeactivate"),a=this.getOption(o,"checkCanReturnFocus"),l=this.getOption(o,"returnFocus","returnFocusOnDeactivate");i==null||i();let c=()=>{Gu(()=>{if(l){let d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}s==null||s()})};if(l&&a){let d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(d).then(c,c),this}return c(),this}),se(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;let o=this.getOption(r,"onPause"),i=this.getOption(r,"onPostPause");return this.state.paused=!0,o==null||o(),this.removeListeners(),this.updateObservedNodes(),i==null||i(),this}),se(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;let o=this.getOption(r,"onUnpause"),i=this.getOption(r,"onPostUnpause");return this.state.paused=!1,o==null||o(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),i==null||i(),this}),se(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),se(this,"getReturnFocusNode",r=>{let o=this.getNodeForOption("setReturnFocus",{params:[r]});return o||(o===!1?!1:r)}),se(this,"getOption",(r,o,i)=>r&&r[o]!==void 0?r[o]:this.config[i||o]),se(this,"getNodeForOption",(r,{hasFallback:o=!1,params:i=[]}={})=>{let s=this.config[r];if(typeof s=="function"&&(s=s(...i)),s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let a=s;if(typeof s=="string"){try{a=this.doc.querySelector(s)}catch(l){throw new Error(`\`${r}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!o)throw new Error(`\`${r}\` as selector refers to no known node`)}return a}),se(this,"findNextNavNode",r=>{let{event:o,isBackward:i=!1}=r,s=r.target||z(o);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){let l=this.findContainerIndex(s,o),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)i?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(i){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>s===h);if(d<0&&((c==null?void 0:c.container)===s||Ye(s)&&!bt(s)&&!(c!=null&&c.nextTabbableNode(s,!1)))&&(d=l),d>=0){let h=d===0?this.state.tabbableGroups.length-1:d-1,p=this.state.tabbableGroups[h];a=hn(s)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else $s(o)||(a=c==null?void 0:c.nextTabbableNode(s,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>s===h);if(d<0&&((c==null?void 0:c.container)===s||Ye(s)&&!bt(s)&&!(c!=null&&c.nextTabbableNode(s)))&&(d=l),d>=0){let h=d===this.state.tabbableGroups.length-1?0:d+1,p=this.state.tabbableGroups[h];a=hn(s)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else $s(o)||(a=c==null?void 0:c.nextTabbableNode(s))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=t.trapStack||Mv;let n=m({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:Fv,isKeyBackward:Hv},t);this.doc=n.document||ve(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){let t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Ba(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){let n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:o})=>r.contains(e)||(n==null?void 0:n.includes(r))||o.find(i=>i===e)||this.isControlledElement(r,e))}isControlledElement(e,t){return this.config.followControlledElements?Dr(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let t=Rt(e,{getShadowRoot:this.config.getShadowRoot}),n=Xn(e,{getShadowRoot:this.config.getShadowRoot}),r=t[0],o=t[t.length-1],i=r,s=o,a=!1;for(let c=0;c<t.length;c++)if(hn(t[c])>0){a=!0;break}function l(c,d=!0){let h=t.indexOf(c);if(h>=0)return t[h+(d?1:-1)];let p=n.indexOf(c);if(!(p<0)){if(d){for(let u=p+1;u<n.length;u++)if(bt(n[u]))return n[u]}else for(let u=p-1;u>=0;u--)if(bt(n[u]))return n[u]}}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:r,lastTabbableNode:o,firstDomTabbableNode:i,lastDomTabbableNode:s,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return Bu.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?Gu(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(te(this.doc,"focusin",this.handleFocus,!0),te(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),te(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),te(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),te(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),te(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),r=this.getOption(e,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=$t(this.doc),t==null||t();let o=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(o,o),this):(o(),this)}},Ds=e=>e.type==="keydown",$s=e=>Ds(e)&&(e==null?void 0:e.key)==="Tab",Fv=e=>Ds(e)&&e.key==="Tab"&&!(e!=null&&e.shiftKey),Hv=e=>Ds(e)&&e.key==="Tab"&&(e==null?void 0:e.shiftKey),br=(e,...t)=>typeof e=="function"?e(...t):e,_v=e=>!e.isComposing&&e.key==="Escape",Gu=e=>setTimeout(e,0),Bv=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function qu(e,t={}){let n,r=H(()=>{let i=(Array.isArray(e)?e:[e]).map(a=>typeof a=="function"?a():a).filter(a=>a!=null);if(i.length===0)return;let s=i[0];n=new Nv(i,v(m({escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:s},t),{document:ve(s)}));try{n.activate()}catch(a){}});return function(){n==null||n.deactivate(),r()}}var Ls="data-scroll-lock";function Gv(e){let t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Uu(e){let t=ft(e),n=t==null?void 0:t.scrollbarGutter;return n==="stable"||(n==null?void 0:n.startsWith("stable "))===!0}function Wu(e){var u;let t=e!=null?e:document,n=(u=t.defaultView)!=null?u:window,{documentElement:r,body:o}=t;if(o.hasAttribute(Ls))return;let s=Uu(r)||Uu(o),a=n.innerWidth-r.clientWidth;o.setAttribute(Ls,"");let l=()=>al(r,"--scrollbar-width",`${a}px`),c=Gv(r),d=()=>{let f={overflow:"hidden"};return!s&&a>0&&(f[c]=`${a}px`),Nt(o,f)},h=()=>{var V,I;let{scrollX:f,scrollY:g,visualViewport:y}=n,w=(V=y==null?void 0:y.offsetLeft)!=null?V:0,S=(I=y==null?void 0:y.offsetTop)!=null?I:0,C={position:"fixed",overflow:"hidden",top:`${-(g-Math.floor(S))}px`,left:`${-(f-Math.floor(w))}px`,right:"0"};!s&&a>0&&(C[c]=`${a}px`);let k=Nt(o,C);return()=>{k==null||k(),n.scrollTo({left:f,top:g,behavior:"instant"})}},p=[l(),zn()?h():d()];return()=>{p.forEach(f=>f==null?void 0:f()),o.removeAttribute(Ls)}}var qv=X("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Qt=qv.build(),ju=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`dialog:${e.id}:positioner`},Ku=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.backdrop)!=null?n:`dialog:${e.id}:backdrop`},Rs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`dialog:${e.id}:content`},Yu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`dialog:${e.id}:trigger`},Ms=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.title)!=null?n:`dialog:${e.id}:title`},Ns=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.description)!=null?n:`dialog:${e.id}:description`},zu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.closeTrigger)!=null?n:`dialog:${e.id}:close`},ei=e=>e.getById(Rs(e)),Uv=e=>e.getById(ju(e)),Wv=e=>e.getById(Ku(e)),jv=e=>e.getById(Yu(e)),Kv=e=>e.getById(Ms(e)),Yv=e=>e.getById(Ns(e)),zv=e=>e.getById(zu(e));function Zu(e,t){let{state:n,send:r,context:o,prop:i,scope:s}=e,a=i("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&r({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button(v(m({},Qt.trigger.attrs),{dir:i("dir"),id:Yu(s),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":Rs(s),onClick(c){c.defaultPrevented||r({type:"TOGGLE"})}}))},getBackdropProps(){return t.element(v(m({},Qt.backdrop.attrs),{dir:i("dir"),hidden:!l,id:Ku(s),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(v(m({},Qt.positioner.attrs),{dir:i("dir"),id:ju(s),style:{pointerEvents:l?void 0:"none"}}))},getContentProps(){let c=o.get("rendered");return t.element(v(m({},Qt.content.attrs),{dir:i("dir"),role:i("role"),hidden:!l,id:Rs(s),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":a||void 0,"aria-labelledby":a||!c.title?void 0:Ms(s),"aria-describedby":c.description?Ns(s):void 0}))},getTitleProps(){return t.element(v(m({},Qt.title.attrs),{dir:i("dir"),id:Ms(s)}))},getDescriptionProps(){return t.element(v(m({},Qt.description.attrs),{dir:i("dir"),id:Ns(s)}))},getCloseTriggerProps(){return t.button(v(m({},Qt.closeTrigger.attrs),{dir:i("dir"),id:zu(s),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),r({type:"CLOSE"}))}}))}}}var Xu={props({props:e,scope:t}){let n=e.role==="alertdialog",r=n?()=>zv(t):void 0,o=typeof e.modal=="boolean"?e.modal:!0;return m({role:"dialog",modal:o,trapFocus:o,preventScroll:o,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:r},e)},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return It(()=>ei(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[jv(e)],onInteractOutside(o){var i;(i=n("onInteractOutside"))==null||i(o),n("closeOnInteractOutside")||o.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(o){var i;(i=n("onEscapeKeyDown"))==null||i(o),n("closeOnEscape")||o.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return Wu(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?qu(()=>ei(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:r=>{var o,i;return(i=(o=t("finalFocusEl"))==null?void 0:o())!=null?i:r},getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?_u(()=>[ei(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){H(()=>{e.set("rendered",{title:!!Kv(t),description:!!Yv(t)})})},syncZIndex({scope:e}){H(()=>{let t=ei(e);if(!t)return;let n=ft(t);[Uv(e),Wv(e)].forEach(o=>{o==null||o.style.setProperty("--z-index",n.zIndex),o==null||o.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}},Zv=U()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),yw=q(Zv);var ti=class extends Q{initMachine(t){return new re(Xu,t)}initApi(){return Zu(this.machine.service,ne)}render(){let t=this.el.querySelector('[data-scope="dialog"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=this.el.querySelector('[data-scope="dialog"][data-part="backdrop"]');n&&this.spreadProps(n,this.api.getBackdropProps());let r=this.el.querySelector('[data-scope="dialog"][data-part="positioner"]');r&&this.spreadProps(r,this.api.getPositionerProps());let o=this.el.querySelector('[data-scope="dialog"][data-part="content"]');o&&this.spreadProps(o,this.api.getContentProps());let i=this.el.querySelector('[data-scope="dialog"][data-part="title"]');i&&this.spreadProps(i,this.api.getTitleProps());let s=this.el.querySelector('[data-scope="dialog"][data-part="description"]');s&&this.spreadProps(s,this.api.getDescriptionProps());let a=this.el.querySelector('[data-scope="dialog"][data-part="close-trigger"]');a&&this.spreadProps(a,this.api.getCloseTriggerProps())}};var ni={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new ti(e,v(m({id:e.id},E(e,"controlled")?{open:E(e,"open")}:{defaultOpen:E(e,"defaultOpen")}),{modal:E(e,"modal"),closeOnInteractOutside:E(e,"closeOnInteractOutside"),closeOnEscapeKeyDown:E(e,"closeOnEscapeKeyDown"),preventScroll:E(e,"preventScroll"),restoreFocus:E(e,"restoreFocus"),dir:O(e,"dir",["ltr","rtl"]),onOpenChange:r=>{let o=O(e,"onOpenChange");o&&this.liveSocket.main.isConnected()&&t(o,{id:e.id,open:r.open});let i=O(e,"onOpenChangeClient");i&&e.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{id:e.id,open:r.open}}))}}));n.init(),this.dialog=n,this.onSetOpen=r=>{let{open:o}=r.detail;n.api.setOpen(o)},e.addEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("dialog_set_open",r=>{let o=r.dialog_id;o&&o!==e.id||n.api.setOpen(r.open)})),this.handlers.push(this.handleEvent("dialog_open",()=>{this.pushEvent("dialog_open_response",{value:n.api.open})}))},updated(){var e;(e=this.dialog)==null||e.updateProps(v(m({id:this.el.id},E(this.el,"controlled")?{open:E(this.el,"open")}:{defaultOpen:E(this.el,"defaultOpen")}),{modal:E(this.el,"modal"),closeOnInteractOutside:E(this.el,"closeOnInteractOutside"),closeOnEscapeKeyDown:E(this.el,"closeOnEscapeKeyDown"),preventScroll:E(this.el,"preventScroll"),restoreFocus:E(this.el,"restoreFocus"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.dialog)==null||e.destroy()}};function ri(e,t){return e-t*Math.floor(e/t)}var Ju=1721426;function oi(e,t,n,r){t=si(e,t);let o=t-1,i=-2;return n<=2?i=0:ii(t)&&(i=-1),Ju-1+365*o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400)+Math.floor((367*n-362)/12+i+r)}function ii(e){return e%4===0&&(e%100!==0||e%400===0)}function si(e,t){return e==="BC"?1-t:t}function Xv(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}var Jv={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]},Be=class{fromJulianDay(t){let n=t,r=n-Ju,o=Math.floor(r/146097),i=ri(r,146097),s=Math.floor(i/36524),a=ri(i,36524),l=Math.floor(a/1461),c=ri(a,1461),d=Math.floor(c/365),h=o*400+s*100+l*4+d+(s!==4&&d!==4?1:0),[p,u]=Xv(h),f=n-oi(p,u,1,1),g=2;n<oi(p,u,3,1)?g=0:ii(u)&&(g=1);let y=Math.floor(((f+g)*12+373)/367),w=n-oi(p,u,y,1)+1;return new $e(p,u,y,w)}toJulianDay(t){return oi(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return Jv[ii(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return ii(t.year)?366:365}getMaximumMonthsInYear(){return 12}getMaximumDaysInMonth(){return 31}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}};var Qu={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function gt(e,t){return t=ge(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function nd(e,t){return t=ge(t,e.calendar),e=Qe(e),t=Qe(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function rd(e,t){return t=ge(t,e.calendar),e=en(e),t=en(t),e.era===t.era&&e.year===t.year}function _s(e,t){return Fn(e.calendar,t.calendar)&&gt(e,t)}function Bs(e,t){return Fn(e.calendar,t.calendar)&&nd(e,t)}function Gs(e,t){return Fn(e.calendar,t.calendar)&&rd(e,t)}function Fn(e,t){var n,r,o,i;return(i=(o=(n=e.isEqual)===null||n===void 0?void 0:n.call(e,t))!==null&&o!==void 0?o:(r=t.isEqual)===null||r===void 0?void 0:r.call(t,e))!==null&&i!==void 0?i:e.identifier===t.identifier}function qs(e,t){return gt(e,Hn(t))}var Qv={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function Us(e,t,n){let r=e.calendar.toJulianDay(e),o=n?Qv[n]:ey(t),i=Math.ceil(r+1-o)%7;return i<0&&(i+=7),i}function ai(e){return Me(Date.now(),e)}function Hn(e){return lt(ai(e))}function Ws(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function od(e,t){return ed(e)-ed(t)}function ed(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}var Fs=null;function _n(){return Fs==null&&(Fs=new Intl.DateTimeFormat().resolvedOptions().timeZone),Fs}function Qe(e){return e.subtract({days:e.day-1})}function Er(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function en(e){return Qe(e.subtract({months:e.month-1}))}function js(e){return Er(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function tn(e,t,n){let r=Us(e,t,n);return e.subtract({days:r})}function li(e,t,n){return tn(e,t,n).add({days:6})}var td=new Map,Hs=new Map;function id(e){if(Intl.Locale){let n=td.get(e);return n||(n=new Intl.Locale(e).maximize().region,n&&td.set(e,n)),n}let t=e.split("-")[1];return t==="u"?void 0:t}function ey(e){let t=Hs.get(e);if(!t){if(Intl.Locale){let r=new Intl.Locale(e);if("getWeekInfo"in r&&(t=r.getWeekInfo(),t))return Hs.set(e,t),t.firstDay}let n=id(e);if(e.includes("-fw-")){let r=e.split("-fw-")[1].split("-")[0];r==="mon"?t={firstDay:1}:r==="tue"?t={firstDay:2}:r==="wed"?t={firstDay:3}:r==="thu"?t={firstDay:4}:r==="fri"?t={firstDay:5}:r==="sat"?t={firstDay:6}:t={firstDay:0}}else e.includes("-ca-iso8601")?t={firstDay:1}:t={firstDay:n&&Qu[n]||0};Hs.set(e,t)}return t.firstDay}function Ks(e,t,n){let r=e.calendar.getDaysInMonth(e);return Math.ceil((Us(Qe(e),t,n)+r)/7)}function ci(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function ui(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}var ty={AF:[4,5],AE:[5,6],BH:[5,6],DZ:[5,6],EG:[5,6],IL:[5,6],IQ:[5,6],IR:[5,5],JO:[5,6],KW:[5,6],LY:[5,6],OM:[5,6],QA:[5,6],SA:[5,6],SD:[5,6],SY:[5,6],YE:[5,6]};function Ys(e,t){let n=e.calendar.toJulianDay(e),r=Math.ceil(n+1)%7;r<0&&(r+=7);let o=id(t),[i,s]=ty[o]||[6,0];return r===i||r===s}function Ot(e){e=ge(e,new Be);let t=si(e.era,e.year);return ld(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function ld(e,t,n,r,o,i,s){let a=new Date;return a.setUTCHours(r,o,i,s),a.setUTCFullYear(e,t-1,n),a.getTime()}function zs(e,t){if(t==="UTC")return 0;if(e>0&&t===_n())return new Date(e).getTimezoneOffset()*-6e4;let{year:n,month:r,day:o,hour:i,minute:s,second:a}=cd(e,t);return ld(n,r,o,i,s,a,0)-Math.floor(e/1e3)*1e3}var sd=new Map;function cd(e,t){let n=sd.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),sd.set(t,n));let r=n.formatToParts(new Date(e)),o={};for(let i of r)i.type!=="literal"&&(o[i.type]=i.value);return{year:o.era==="BC"||o.era==="B"?-o.year+1:+o.year,month:+o.month,day:+o.day,hour:o.hour==="24"?0:+o.hour,minute:+o.minute,second:+o.second}}var ad=864e5;function ny(e,t,n,r){return(n===r?[n]:[n,r]).filter(i=>ry(e,t,i))}function ry(e,t,n){let r=cd(n,t);return e.year===r.year&&e.month===r.month&&e.day===r.day&&e.hour===r.hour&&e.minute===r.minute&&e.second===r.second}function Ge(e,t,n="compatible"){let r=qe(e);if(t==="UTC")return Ot(r);if(t===_n()&&n==="compatible"){r=ge(r,new Be);let l=new Date,c=si(r.era,r.year);return l.setFullYear(c,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let o=Ot(r),i=zs(o-ad,t),s=zs(o+ad,t),a=ny(r,t,o-i,o-s);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(o-i,o-s);case"compatible":case"later":return Math.max(o-i,o-s);case"reject":throw new RangeError("No such absolute time found")}}function Zs(e,t,n="compatible"){return new Date(Ge(e,t,n))}function Me(e,t){let n=zs(e,t),r=new Date(e+n),o=r.getUTCFullYear(),i=r.getUTCMonth()+1,s=r.getUTCDate(),a=r.getUTCHours(),l=r.getUTCMinutes(),c=r.getUTCSeconds(),d=r.getUTCMilliseconds();return new nn(o<1?"BC":"AD",o<1?-o+1:o,i,s,t,n,a,l,c,d)}function lt(e){return new $e(e.calendar,e.era,e.year,e.month,e.day)}function qe(e,t){let n=0,r=0,o=0,i=0;if("timeZone"in e)({hour:n,minute:r,second:o,millisecond:i}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:r,second:o,millisecond:i}=t),new Bn(e.calendar,e.era,e.year,e.month,e.day,n,r,o,i)}function ge(e,t){if(Fn(e.calendar,t))return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),r=e.copy();return r.calendar=t,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,mt(r),r}function Xs(e,t,n){if(e instanceof nn)return e.timeZone===t?e:Js(e,t);let r=Ge(e,t,n);return Me(r,t)}function ud(e){let t=Ot(e)-e.offset;return new Date(t)}function Js(e,t){let n=Ot(e)-e.offset;return ge(Me(n,t),e.calendar)}var Cr=36e5;function wr(e,t){let n=e.copy(),r="hour"in n?sy(n,t):0;Qs(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,ea(n),fd(n),n.day+=(t.weeks||0)*7,n.day+=t.days||0,n.day+=r,oy(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let o=n.calendar.getYearsInEra(n);if(n.year>o){var i,s;let l=(i=(s=n.calendar).isInverseEra)===null||i===void 0?void 0:i.call(s,n);n.year=o,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function Qs(e,t){var n,r;!((n=(r=e.calendar).isInverseEra)===null||n===void 0)&&n.call(r,e)&&(t=-t),e.year+=t}function ea(e){for(;e.month<1;)Qs(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,Qs(e,1)}function oy(e){for(;e.day<1;)e.month--,ea(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,ea(e)}function fd(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function mt(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),fd(e)}function hd(e){let t={};for(let n in e)typeof e[n]=="number"&&(t[n]=-e[n]);return t}function ta(e,t){return wr(e,hd(t))}function fi(e,t){let n=e.copy();return t.era!=null&&(n.era=t.era),t.year!=null&&(n.year=t.year),t.month!=null&&(n.month=t.month),t.day!=null&&(n.day=t.day),mt(n),n}function Tr(e,t){let n=e.copy();return t.hour!=null&&(n.hour=t.hour),t.minute!=null&&(n.minute=t.minute),t.second!=null&&(n.second=t.second),t.millisecond!=null&&(n.millisecond=t.millisecond),pd(n),n}function iy(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=di(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=di(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=di(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=di(e.hour,24),t}function pd(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function di(e,t){let n=e%t;return n<0&&(n+=t),n}function sy(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,iy(e)}function hi(e,t,n,r){let o=e.copy();switch(t){case"era":{let a=e.calendar.getEras(),l=a.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=vt(l,n,0,a.length-1,r==null?void 0:r.round),o.era=a[l],mt(o);break}case"year":var i,s;!((i=(s=o.calendar).isInverseEra)===null||i===void 0)&&i.call(s,o)&&(n=-n),o.year=vt(e.year,n,-1/0,9999,r==null?void 0:r.round),o.year===-1/0&&(o.year=1),o.calendar.balanceYearMonth&&o.calendar.balanceYearMonth(o,e);break;case"month":o.month=vt(e.month,n,1,e.calendar.getMonthsInYear(e),r==null?void 0:r.round);break;case"day":o.day=vt(e.day,n,1,e.calendar.getDaysInMonth(e),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(o),mt(o),o}function na(e,t,n,r){let o=e.copy();switch(t){case"hour":{let i=e.hour,s=0,a=23;if((r==null?void 0:r.hourCycle)===12){let l=i>=12;s=l?12:0,a=l?23:11}o.hour=vt(i,n,s,a,r==null?void 0:r.round);break}case"minute":o.minute=vt(e.minute,n,0,59,r==null?void 0:r.round);break;case"second":o.second=vt(e.second,n,0,59,r==null?void 0:r.round);break;case"millisecond":o.millisecond=vt(e.millisecond,n,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return o}function vt(e,t,n,r,o=!1){if(o){e+=Math.sign(t),e<n&&(e=r);let i=Math.abs(t);t>0?e=Math.ceil(e/i)*i:e=Math.floor(e/i)*i,e>r&&(e=n)}else e+=t,e<n?e=r-(n-e-1):e>r&&(e=n+(e-r-1));return e}function ra(e,t){let n;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let o=wr(qe(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});n=Ge(o,e.timeZone)}else n=Ot(e)-e.offset;n+=t.milliseconds||0,n+=(t.seconds||0)*1e3,n+=(t.minutes||0)*6e4,n+=(t.hours||0)*36e5;let r=Me(n,e.timeZone);return ge(r,e.calendar)}function gd(e,t){return ra(e,hd(t))}function md(e,t,n,r){switch(t){case"hour":{let o=0,i=23;if((r==null?void 0:r.hourCycle)===12){let f=e.hour>=12;o=f?12:0,i=f?23:11}let s=qe(e),a=ge(Tr(s,{hour:o}),new Be),l=[Ge(a,e.timeZone,"earlier"),Ge(a,e.timeZone,"later")].filter(f=>Me(f,e.timeZone).day===a.day)[0],c=ge(Tr(s,{hour:i}),new Be),d=[Ge(c,e.timeZone,"earlier"),Ge(c,e.timeZone,"later")].filter(f=>Me(f,e.timeZone).day===c.day).pop(),h=Ot(e)-e.offset,p=Math.floor(h/Cr),u=h%Cr;return h=vt(p,n,Math.floor(l/Cr),Math.floor(d/Cr),r==null?void 0:r.round)*Cr+u,ge(Me(h,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return na(e,t,n,r);case"era":case"year":case"month":case"day":{let o=hi(qe(e),t,n,r),i=Ge(o,e.timeZone);return ge(Me(i,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function vd(e,t,n){let r=qe(e),o=Tr(fi(r,t),t);if(o.compare(r)===0)return e;let i=Ge(o,e.timeZone,n);return ge(Me(i,e.timeZone),e.calendar)}var ay=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/;var ly=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/,zw=new RegExp("^((?<negative>-)|\\+)?P((?<years>\\d*)Y)?((?<months>\\d*)M)?((?<weeks>\\d*)W)?((?<days>\\d*)D)?((?<time>T)((?<hours>\\d*[.,]?\\d{1,9})H)?((?<minutes>\\d*[.,]?\\d{1,9})M)?((?<seconds>\\d*[.,]?\\d{1,9})S)?)?$"),cy=["hours","minutes","seconds"],Zw=["years","months","weeks","days",...cy];function ia(e){let t=e.match(ay);if(!t)throw ly.test(e)?new Error(`Invalid ISO 8601 date string: ${e}. Use parseAbsolute() instead.`):new Error("Invalid ISO 8601 date string: "+e);let n=new $e(oa(t[1],0,9999),oa(t[2],1,12),1);return n.day=oa(t[3],1,n.calendar.getDaysInMonth(n)),n}function oa(e,t,n){let r=Number(e);if(r<t||r>n)throw new RangeError(`Value out of range: ${t} <= ${r} <= ${n}`);return r}function yd(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function sa(e){let t=ge(e,new Be),n;return t.era==="BC"?n=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):n=String(t.year).padStart(4,"0"),`${n}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function aa(e){return`${sa(e)}T${yd(e)}`}function uy(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4),o=Math.floor(e%36e5%6e4/1e3),i=`${t}${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`;return o!==0&&(i+=`:${String(o).padStart(2,"0")}`),i}function bd(e){return`${aa(e)}${uy(e.offset)}[${e.timeZone}]`}function Ed(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pi(e,t,n){Ed(e,t),t.set(e,n)}function la(e){let t=typeof e[0]=="object"?e.shift():new Be,n;if(typeof e[0]=="string")n=e.shift();else{let s=t.getEras();n=s[s.length-1]}let r=e.shift(),o=e.shift(),i=e.shift();return[t,n,r,o,i]}var dy=new WeakMap,$e=class e{copy(){return this.era?new e(this.calendar,this.era,this.year,this.month,this.day):new e(this.calendar,this.year,this.month,this.day)}add(t){return wr(this,t)}subtract(t){return ta(this,t)}set(t){return fi(this,t)}cycle(t,n,r){return hi(this,t,n,r)}toDate(t){return Zs(this,t)}toString(){return sa(this)}compare(t){return Ws(this,t)}constructor(...t){pi(this,dy,{writable:!0,value:void 0});let[n,r,o,i,s]=la(t);this.calendar=n,this.era=r,this.year=o,this.month=i,this.day=s,mt(this)}};var fy=new WeakMap,Bn=class e{copy(){return this.era?new e(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new e(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return wr(this,t)}subtract(t){return ta(this,t)}set(t){return fi(Tr(this,t),t)}cycle(t,n,r){switch(t){case"era":case"year":case"month":case"day":return hi(this,t,n,r);default:return na(this,t,n,r)}}toDate(t,n){return Zs(this,t,n)}toString(){return aa(this)}compare(t){let n=Ws(this,t);return n===0?od(this,qe(t)):n}constructor(...t){pi(this,fy,{writable:!0,value:void 0});let[n,r,o,i,s]=la(t);this.calendar=n,this.era=r,this.year=o,this.month=i,this.day=s,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,mt(this)}},hy=new WeakMap,nn=class e{copy(){return this.era?new e(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new e(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return ra(this,t)}subtract(t){return gd(this,t)}set(t,n){return vd(this,t,n)}cycle(t,n,r){return md(this,t,n,r)}toDate(){return ud(this)}toString(){return bd(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-Xs(t,this.timeZone).toDate().getTime()}constructor(...t){pi(this,hy,{writable:!0,value:void 0});let[n,r,o,i,s]=la(t),a=t.shift(),l=t.shift();this.calendar=n,this.era=r,this.year=o,this.month=i,this.day=s,this.timeZone=a,this.offset=l,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,mt(this)}};var ca=new Map,Ce=class{format(t){return this.formatter.format(t)}formatToParts(t){return this.formatter.formatToParts(t)}formatRange(t,n){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.formatter.format(t)} \u2013 ${this.formatter.format(n)}`}formatRangeToParts(t,n){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(t),o=this.formatter.formatToParts(n);return[...r.map(i=>v(m({},i),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...o.map(i=>v(m({},i),{source:"endRange"}))]}resolvedOptions(){let t=this.formatter.resolvedOptions();return my()&&(this.resolvedHourCycle||(this.resolvedHourCycle=vy(t.locale,this.options)),t.hourCycle=this.resolvedHourCycle,t.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),t.calendar==="ethiopic-amete-alem"&&(t.calendar="ethioaa"),t}constructor(t,n={}){this.formatter=Cd(t,n),this.options=n}},py={true:{ja:"h11"},false:{}};function Cd(e,t={}){if(typeof t.hour12=="boolean"&&gy()){t=m({},t);let o=py[String(t.hour12)][e.split("-")[0]],i=t.hour12?"h12":"h23";t.hourCycle=o!=null?o:i,delete t.hour12}let n=e+(t?Object.entries(t).sort((o,i)=>o[0]<i[0]?-1:1).join():"");if(ca.has(n))return ca.get(n);let r=new Intl.DateTimeFormat(e,t);return ca.set(n,r),r}var ua=null;function gy(){return ua==null&&(ua=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),ua}var da=null;function my(){return da==null&&(da=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),da}function vy(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let n=Cd(e,v(m({},t),{timeZone:void 0})),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(i=>i.type==="hour").value,10),o=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(i=>i.type==="hour").value,10);if(r===0&&o===23)return"h23";if(r===24&&o===23)return"h24";if(r===0&&o===11)return"h11";if(r===12&&o===11)return"h12";throw new Error("Unexpected hour cycle result")}function yy(e,t,n,r,o){let i={};for(let a in t){let l=a,c=t[l];c!=null&&(i[l]=Math.floor(c/2),i[l]>0&&c%2===0&&i[l]--)}let s=rn(e,t,n).subtract(i);return Ir(e,s,t,n,r,o)}function rn(e,t,n,r,o){let i=e;return t.years?i=en(e):t.months?i=Qe(e):t.weeks&&(i=tn(e,n)),Ir(e,i,t,n,r,o)}function fa(e,t,n,r,o){let i=m({},t);i.days?i.days--:i.weeks?i.weeks--:i.months?i.months--:i.years&&i.years--;let s=rn(e,t,n).subtract(i);return Ir(e,s,t,n,r,o)}function Ir(e,t,n,r,o,i){return o&&e.compare(o)>=0&&(t=ui(t,rn(lt(o),n,r))),i&&e.compare(i)<=0&&(t=ci(t,fa(lt(i),n,r))),t}function Ue(e,t,n){let r=lt(e);return t&&(r=ui(r,lt(t))),n&&(r=ci(r,lt(n))),r}function ha(e,t,n,r,o,i){switch(t){case"start":return rn(e,n,r,o,i);case"end":return fa(e,n,r,o,i);case"center":default:return yy(e,n,r,o,i)}}function De(e,t){return e==null||t==null?e===t:gt(e,t)}function pa(e,t,n,r,o){return e?t!=null&&t(e,n)?!0:et(e,r,o):!1}function et(e,t,n){return t!=null&&e.compare(t)<0||n!=null&&e.compare(n)>0}function wd(e,t,n){let r=e.subtract({days:1});return gt(r,e)||et(r,t,n)}function Id(e,t,n){let r=e.add({days:1});return gt(r,e)||et(r,t,n)}function gi(e){let t=m({},e);for(let n in t)t[n]=1;return t}function ga(e,t){let n=m({},t);return n.days?n.days--:n.days=-1,e.add(n)}function Sd(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function ma(e,t){let n=qe(Hn(t));return new Ce(e,{weekday:"long",month:"long",year:"numeric",day:"numeric",era:Sd(n),timeZone:t})}function va(e,t){let n=Hn(t);return new Ce(e,{month:"long",year:"numeric",era:Sd(n),calendar:n==null?void 0:n.calendar.identifier,timeZone:t})}function by(e,t,n,r,o){let i=n.formatRangeToParts(e.toDate(o),t.toDate(o)),s=-1;for(let c=0;c<i.length;c++){let d=i[c];if(d.source==="shared"&&d.type==="literal")s=c;else if(d.source==="endRange")break}let a="",l="";for(let c=0;c<i.length;c++)c<s?a+=i[c].value:c>s&&(l+=i[c].value);return r(a,l)}function Sr(e,t,n,r){if(!e)return"";let o=e,i=t!=null?t:e,s=ma(n,r);return gt(o,i)?s.format(o.toDate(r)):by(o,i,s,(a,l)=>`${a} \u2013 ${l}`,r)}var Ey=["sun","mon","tue","wed","thu","fri","sat"];function Od(e){return e!=null?Ey[e]:void 0}function Pd(e,t,n){let r=Od(n);return tn(e,t,r)}function ya(e,t,n,r){let o=t.add({weeks:e}),i=[],s=Pd(o,n,r);for(;i.length<7;){i.push(s);let a=s.add({days:1});if(gt(s,a))break;s=a}return i}function xd(e,t,n,r){let o=Od(r),i=n!=null?n:Ks(e,t,o);return[...new Array(i).keys()].map(a=>ya(a,e,t,r))}function Cy(e,t){let n=new Ce(e,{weekday:"long",timeZone:t}),r=new Ce(e,{weekday:"short",timeZone:t}),o=new Ce(e,{weekday:"narrow",timeZone:t});return i=>{let s=i instanceof Date?i:i.toDate(t);return{value:i,short:r.format(s),long:n.format(s),narrow:o.format(s)}}}function kd(e,t,n,r){let o=Pd(e,r,t),i=[...new Array(7).keys()],s=Cy(r,n);return i.map(a=>s(o.add({days:a})))}function Vd(e,t="long"){let n=new Date(2021,0,1),r=[];for(let o=0;o<12;o++)r.push(n.toLocaleString(e,{month:t})),n.setMonth(n.getMonth()+1);return r}function Ad(e){let t=[];for(let n=e.from;n<=e.to;n+=1)t.push(n);return t}var Ty=10;function wy(e){if(e){if(e.length===3)return e.padEnd(4,"0");if(e.length===2){let t=new Date().getFullYear(),n=Math.floor(t/100)*100,r=parseInt(e.slice(-2),10),o=n+r;return o>t+Ty?(o-100).toString():o.toString()}return e}}function on(e,t){let n=t!=null&&t.strict?10:12,r=e-e%10,o=[];for(let i=0;i<n;i+=1){let s=r+i;o.push(s)}return o}function sn(e){return Hn(e!=null?e:_n())}function Gn(e,t,n,r){return function(i){let{startDate:s,focusedDate:a}=i,l=ga(s,e);return et(a,n,r)?{startDate:s,focusedDate:Ue(a,n,r),endDate:l}:a.compare(s)<0?{startDate:fa(a,e,t,n,r),focusedDate:Ue(a,n,r),endDate:l}:a.compare(l)>0?{startDate:rn(a,e,t,n,r),endDate:l,focusedDate:Ue(a,n,r)}:{startDate:s,endDate:l,focusedDate:Ue(a,n,r)}}}function ba(e,t,n,r,o,i){let s=Gn(n,r,o,i),a=t.add(n);return s({focusedDate:e.add(n),startDate:rn(Ir(e,a,n,r,o,i),n,r)})}function Ea(e,t,n,r,o,i){let s=Gn(n,r,o,i),a=t.subtract(n);return s({focusedDate:e.subtract(n),startDate:rn(Ir(e,a,n,r,o,i),n,r)})}function $d(e,t,n,r,o,i,s){let a=Gn(r,o,i,s);if(!n&&!r.days)return a({focusedDate:e.add(gi(r)),startDate:t});if(r.days)return ba(e,t,r,o,i,s);if(r.weeks)return a({focusedDate:e.add({months:1}),startDate:t});if(r.months||r.years)return a({focusedDate:e.add({years:1}),startDate:t})}function Dd(e,t,n,r,o,i,s){let a=Gn(r,o,i,s);if(!n&&!r.days)return a({focusedDate:e.subtract(gi(r)),startDate:t});if(r.days)return Ea(e,t,r,o,i,s);if(r.weeks)return a({focusedDate:e.subtract({months:1}),startDate:t});if(r.months||r.years)return a({focusedDate:e.subtract({years:1}),startDate:t})}var Td=e=>e!=null&&e.length===4,Iy=e=>e!=null&&parseFloat(e)<=12,Sy=e=>e!=null&&parseFloat(e)<=31;function Ld(e,t,n){var c;let r=Oy(t,n),{year:o,month:i,day:s}=(c=Py(r,e))!=null?c:{};if(o!=null||i!=null||s!=null){let d=new Date;o||(o=d.getFullYear().toString()),i||(i=(d.getMonth()+1).toString()),s||(s=d.getDate().toString())}if(Td(o)||(o=wy(o)),Td(o)&&Iy(i)&&Sy(s))return new $e(+o,+i,+s);let l=Date.parse(e);if(!isNaN(l)){let d=new Date(l);return new $e(d.getFullYear(),d.getMonth()+1,d.getDate())}}function Oy(e,t){return new Ce(e,{day:"numeric",month:"numeric",year:"numeric",timeZone:t}).formatToParts(new Date(2e3,11,25)).map(({type:o,value:i})=>o==="literal"?`${i}?`:`((?!=<${o}>)\\d+)?`).join("")}function Py(e,t){var r;let n=t.match(e);return(r=e.toString().match(/<(.+?)>/g))==null?void 0:r.map(o=>{var s;let i=o.match(/<(.+)>/);return!i||i.length<=0?null:(s=o.match(/<(.+)>/))==null?void 0:s[1]}).reduce((o,i,s)=>(i&&(n&&n.length>s?o[i]=n[s+1]:o[i]=null),o),{})}function Ca(e,t,n){let r=lt(ai(n));switch(e){case"thisWeek":return[tn(r,t),li(r,t)];case"thisMonth":return[Qe(r),r];case"thisQuarter":return[Qe(r).add({months:-((r.month-1)%3)}),r];case"thisYear":return[en(r),r];case"last3Days":return[r.add({days:-2}),r];case"last7Days":return[r.add({days:-6}),r];case"last14Days":return[r.add({days:-13}),r];case"last30Days":return[r.add({days:-29}),r];case"last90Days":return[r.add({days:-89}),r];case"lastMonth":return[Qe(r.add({months:-1})),Er(r.add({months:-1}))];case"lastQuarter":return[Qe(r.add({months:-((r.month-1)%3)-3})),Er(r.add({months:-((r.month-1)%3)-1}))];case"lastWeek":return[tn(r,t).add({weeks:-1}),li(r,t).add({weeks:-1})];case"lastYear":return[en(r.add({years:-1})),js(r.add({years:-1}))];default:throw new Error(`Invalid date range preset: ${e}`)}}var mi="__live-region__";function Rd(e={}){var c;let{level:t="polite",document:n=document,root:r,delay:o=0}=e,i=(c=n.defaultView)!=null?c:window,s=r!=null?r:n.body;function a(d,h){let p=n.getElementById(mi);p==null||p.remove(),h=h!=null?h:o;let u=n.createElement("span");u.id=mi,u.dataset.liveAnnouncer="true";let f=t!=="assertive"?"status":"alert";u.setAttribute("aria-live",t),u.setAttribute("role",f),Object.assign(u.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),s.appendChild(u),i.setTimeout(()=>{u.textContent=d},h)}function l(){let d=n.getElementById(mi);d==null||d.remove()}return{announce:a,destroy:l,toJSON(){return mi}}}var xy=X("date-picker").parts("clearTrigger","content","control","input","label","monthSelect","nextTrigger","positioner","presetTrigger","prevTrigger","rangeText","root","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","view","viewControl","viewTrigger","yearSelect"),ee=xy.build(),ky=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.label)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:label:${t}`},Vy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`datepicker:${e.id}`},Ay=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.table)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:table:${t}`},wa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`datepicker:${e.id}:content`},Ta=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.cellTrigger)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:cell-trigger:${t}`},$y=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.prevTrigger)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:prev:${t}`},Dy=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.nextTrigger)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:next:${t}`},Ly=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.viewTrigger)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:view:${t}`},_d=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`datepicker:${e.id}:clear`},Bd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`datepicker:${e.id}:control`},Md=(e,t)=>{var n,r,o;return(o=(r=(n=e.ids)==null?void 0:n.input)==null?void 0:r.call(n,t))!=null?o:`datepicker:${e.id}:input:${t}`},Gd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`datepicker:${e.id}:trigger`},qd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`datepicker:${e.id}:positioner`},Ud=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.monthSelect)!=null?n:`datepicker:${e.id}:month-select`},Wd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.yearSelect)!=null?n:`datepicker:${e.id}:year-select`},Nd=(e,t)=>pn(Ei(e),`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`),Fd=e=>e.getById(Gd(e)),Ei=e=>e.getById(wa(e)),Or=e=>Ct(jd(e),"[data-part=input]"),Ry=e=>e.getById(Wd(e)),My=e=>e.getById(Ud(e)),Ny=e=>e.getById(_d(e)),Fy=e=>e.getById(qd(e)),jd=e=>e.getById(Bd(e));function Ia(e){let[t,n]=e,r;return!t||!n?r=e:r=t.compare(n)<=0?e:[n,t],r}function qn(e,t){let[n,r]=t;return!n||!r?!1:n.compare(e)<=0&&r.compare(e)>=0}function vi(e){return e.slice().filter(t=>t!=null).sort((t,n)=>t.compare(n))}function Hy(e){return Te(e,{year:"calendar decade",month:"calendar year",day:"calendar month"})}var _y={day:"dd",month:"mm",year:"yyyy"};function By(e){return new Ce(e).formatToParts(new Date).map(t=>{var n;return(n=_y[t.type])!=null?n:t.value}).join("")}var Kd=(e,t)=>e?/\d/.test(e)||e===t||e.length!==1:!0,Hd=e=>!Number.isNaN(e.day)&&!Number.isNaN(e.month)&&!Number.isNaN(e.year),Gy=(e,t)=>e.split("").filter(n=>Kd(n,t)).join("");function qy(e){let r=new Intl.DateTimeFormat(e).formatToParts(new Date).find(o=>o.type==="literal");return r?r.value:"/"}var Uy={dayCell(e){return e.unavailable?`Not available. ${e.formattedDate}`:e.selected?`Selected date. ${e.formattedDate}`:`Choose ${e.formattedDate}`},trigger(e){return e?"Close calendar":"Open calendar"},viewTrigger(e){return Te(e,{year:"Switch to month view",month:"Switch to day view",day:"Switch to year view"})},presetTrigger(e){let[t="",n=""]=e;return`select ${t} to ${n}`},prevTrigger(e){return Te(e,{year:"Switch to previous decade",month:"Switch to previous year",day:"Switch to previous month"})},nextTrigger(e){return Te(e,{year:"Switch to next decade",month:"Switch to next year",day:"Switch to next month"})},placeholder(){return{day:"dd",month:"mm",year:"yyyy"}},content:"calendar",monthSelect:"Select month",yearSelect:"Select year",clearTrigger:"Clear selected dates"};function yt(e,t){return e?e==="day"?0:e==="month"?1:2:t||0}function Sa(e){return e===0?"day":e===1?"month":"year"}function Oa(e,t,n){return Sa(El(yt(e,0),yt(t,0),yt(n,2)))}function Wy(e,t){return yt(e,0)>yt(t,0)}function jy(e,t){return yt(e,0)<yt(t,0)}function Ky(e,t,n){let r=yt(e,0)+1;return Oa(Sa(r),t,n)}function Yy(e,t,n){let r=yt(e,0)-1;return Oa(Sa(r),t,n)}var zy=["day","month","year"];function Zy(e){zy.forEach(t=>e(t))}var Xy=Cl(e=>[e.view,e.startValue.toString(),e.endValue.toString(),e.locale],([e],t)=>{let{startValue:n,endValue:r,locale:o,timeZone:i,selectionMode:s}=t;if(e==="year"){let h=on(n.year,{strict:!0}),p=h.at(0).toString(),u=h.at(-1).toString();return{start:p,end:u,formatted:`${p} - ${u}`}}if(e==="month"){let h=new Ce(o,{year:"numeric",timeZone:i}),p=h.format(n.toDate(i)),u=h.format(r.toDate(i)),f=s==="range"?`${p} - ${u}`:p;return{start:p,end:u,formatted:f}}let a=new Ce(o,{month:"long",year:"numeric",timeZone:i}),l=a.format(n.toDate(i)),c=a.format(r.toDate(i)),d=s==="range"?`${l} - ${c}`:l;return{start:l,end:c,formatted:d}});function Yd(e,t){let{state:n,context:r,prop:o,send:i,computed:s,scope:a}=e,l=r.get("startValue"),c=s("endValue"),d=r.get("value"),h=r.get("focusedValue"),p=r.get("hoveredValue"),u=p?Ia([d[0],p]):[],f=!!o("disabled"),g=!!o("readOnly"),y=!!o("invalid"),w=s("isInteractive"),S=d.length===0,C=o("min"),k=o("max"),V=o("locale"),I=o("timeZone"),P=o("startOfWeek"),R=n.matches("focused"),T=n.matches("open"),D=o("selectionMode")==="range",F=o("isDateUnavailable"),L=r.get("currentPlacement"),M=An(v(m({},o("positioning")),{placement:L})),Y=qy(V),B=m(m({},Uy),o("translations"));function K(A=l){let x=o("fixedWeeks")?6:void 0;return xd(A,V,x,P)}function G(A={}){let{format:x}=A;return Vd(V,x).map(($,N)=>{let Z=N+1,Le=h.set({month:Z}),me=et(Le,C,k);return{label:$,value:Z,disabled:me}})}function fe(){var x,$;return Ad({from:(x=C==null?void 0:C.year)!=null?x:1900,to:($=k==null?void 0:k.year)!=null?$:2100}).map(N=>({label:N.toString(),value:N,disabled:!Yr(N,C==null?void 0:C.year,k==null?void 0:k.year)}))}function de(A){return pa(A,F,V,C,k)}function j(A){let x=l!=null?l:sn(I);i({type:"FOCUS.SET",value:x.set({month:A})})}function le(A){let x=l!=null?l:sn(I);i({type:"FOCUS.SET",value:x.set({year:A})})}function Ne(A){let{value:x,disabled:$}=A,N=h.set({year:x}),Le=!on(l.year,{strict:!0}).includes(x),me=Yr(x,C==null?void 0:C.year,k==null?void 0:k.year),tt={focused:h.year===A.value,selectable:Le||me,outsideRange:Le,selected:!!d.find(Wn=>Wn&&Wn.year===x),valueText:x.toString(),inRange:D&&(qn(N,d)||qn(N,u)),value:N,get disabled(){return $||!tt.selectable}};return tt}function ut(A){let{value:x,disabled:$}=A,N=h.set({month:x}),Z=va(V,I),Le={focused:h.month===A.value,selectable:!et(N,C,k),selected:!!d.find(me=>me&&me.month===x&&me.year===h.year),valueText:Z.format(N.toDate(I)),inRange:D&&(qn(N,d)||qn(N,u)),value:N,get disabled(){return $||!Le.selectable}};return Le}function Un(A){let{value:x,disabled:$,visibleRange:N=s("visibleRange")}=A,Z=ma(V,I),Le=gi(s("visibleDuration")),me=o("outsideDaySelectable"),tt=N.start.add(Le).subtract({days:1}),Wn=et(x,N.start,tt),Ef=D&&qn(x,d),Cf=D&&De(x,d[0]),Tf=D&&De(x,d[1]),ki=D&&u.length>0,$a=ki&&qn(x,u),wf=ki&&De(x,u[0]),If=ki&&De(x,u[1]),jn={invalid:et(x,C,k),disabled:$||!me&&Wn||et(x,C,k),selected:d.some(Sf=>De(x,Sf)),unavailable:pa(x,F,V,C,k)&&!$,outsideRange:Wn,today:qs(x,I),weekend:Ys(x,V),formattedDate:Z.format(x.toDate(I)),get focused(){return De(x,h)&&(!jn.outsideRange||me)},get ariaLabel(){return B.dayCell(jn)},get selectable(){return!jn.disabled&&!jn.unavailable},inRange:Ef||$a,firstInRange:Cf,lastInRange:Tf,inHoveredRange:$a,firstInHoveredRange:wf,lastInHoveredRange:If};return jn}function xi(A){let{view:x="day",id:$}=A;return[x,$].filter(Boolean).join(" ")}return{focused:R,open:T,disabled:f,invalid:y,readOnly:g,inline:!!o("inline"),numOfMonths:o("numOfMonths"),selectionMode:o("selectionMode"),view:r.get("view"),getRangePresetValue(A){return Ca(A,V,I)},getDaysInWeek(A,x=l){return ya(A,x,V,P)},getOffset(A){let x=l.add(A),$=c.add(A),N=va(V,I);return{visibleRange:{start:x,end:$},weeks:K(x),visibleRangeText:{start:N.format(x.toDate(I)),end:N.format($.toDate(I))}}},getMonthWeeks:K,isUnavailable:de,weeks:K(),weekDays:kd(sn(I),P,I,V),visibleRangeText:s("visibleRangeText"),value:d,valueAsDate:d.filter(A=>A!=null).map(A=>A.toDate(I)),valueAsString:s("valueAsString"),focusedValue:h,focusedValueAsDate:h==null?void 0:h.toDate(I),focusedValueAsString:o("format")(h,{locale:V,timeZone:I}),visibleRange:s("visibleRange"),selectToday(){let A=Ue(sn(I),C,k);i({type:"VALUE.SET",value:A})},setValue(A){let x=A.map($=>Ue($,C,k));i({type:"VALUE.SET",value:x})},clearValue(){i({type:"VALUE.CLEAR"})},setFocusedValue(A){i({type:"FOCUS.SET",value:A})},setOpen(A){o("inline")||n.matches("open")===A||i({type:A?"OPEN":"CLOSE"})},focusMonth:j,focusYear:le,getYears:fe,getMonths:G,getYearsGrid(A={}){let{columns:x=1}=A,$=on(l.year,{strict:!0}).map(N=>({label:N.toString(),value:N,disabled:!Yr(N,C==null?void 0:C.year,k==null?void 0:k.year)}));return jr($,x)},getDecade(){let A=on(l.year,{strict:!0});return{start:A.at(0),end:A.at(-1)}},getMonthsGrid(A={}){let{columns:x=1,format:$}=A;return jr(G({format:$}),x)},format(A,x={month:"long",year:"numeric"}){return new Ce(V,x).format(A.toDate(I))},setView(A){i({type:"VIEW.SET",view:A})},goToNext(){i({type:"GOTO.NEXT",view:r.get("view")})},goToPrev(){i({type:"GOTO.PREV",view:r.get("view")})},getRootProps(){return t.element(v(m({},ee.root.attrs),{dir:o("dir"),id:Vy(a),"data-state":T?"open":"closed","data-disabled":b(f),"data-readonly":b(g),"data-empty":b(S)}))},getLabelProps(A={}){let{index:x=0}=A;return t.label(v(m({},ee.label.attrs),{id:ky(a,x),dir:o("dir"),htmlFor:Md(a,x),"data-state":T?"open":"closed","data-index":x,"data-disabled":b(f),"data-readonly":b(g)}))},getControlProps(){return t.element(v(m({},ee.control.attrs),{dir:o("dir"),id:Bd(a),"data-disabled":b(f),"data-placeholder-shown":b(S)}))},getRangeTextProps(){return t.element(v(m({},ee.rangeText.attrs),{dir:o("dir")}))},getContentProps(){return t.element(v(m({},ee.content.attrs),{hidden:!T,dir:o("dir"),"data-state":T?"open":"closed","data-placement":L,"data-inline":b(o("inline")),id:wa(a),tabIndex:-1,role:"application","aria-roledescription":"datepicker","aria-label":B.content}))},getTableProps(A={}){let{view:x="day",columns:$=x==="day"?7:4}=A,N=xi(A);return t.element(v(m({},ee.table.attrs),{role:"grid","data-columns":$,"aria-roledescription":Hy(x),id:Ay(a,N),"aria-readonly":ue(g),"aria-disabled":ue(f),"aria-multiselectable":ue(o("selectionMode")!=="single"),"data-view":x,dir:o("dir"),tabIndex:-1,onKeyDown(Z){if(Z.defaultPrevented)return;let me={Enter(){x==="day"&&de(h)||x==="month"&&!ut({value:h.month}).selectable||x==="year"&&!Ne({value:h.year}).selectable||i({type:"TABLE.ENTER",view:x,columns:$,focus:!0})},ArrowLeft(){i({type:"TABLE.ARROW_LEFT",view:x,columns:$,focus:!0})},ArrowRight(){i({type:"TABLE.ARROW_RIGHT",view:x,columns:$,focus:!0})},ArrowUp(){i({type:"TABLE.ARROW_UP",view:x,columns:$,focus:!0})},ArrowDown(){i({type:"TABLE.ARROW_DOWN",view:x,columns:$,focus:!0})},PageUp(tt){i({type:"TABLE.PAGE_UP",larger:tt.shiftKey,view:x,columns:$,focus:!0})},PageDown(tt){i({type:"TABLE.PAGE_DOWN",larger:tt.shiftKey,view:x,columns:$,focus:!0})},Home(){i({type:"TABLE.HOME",view:x,columns:$,focus:!0})},End(){i({type:"TABLE.END",view:x,columns:$,focus:!0})}}[Oe(Z,{dir:o("dir")})];me&&(me(Z),Z.preventDefault(),Z.stopPropagation())},onPointerLeave(){i({type:"TABLE.POINTER_LEAVE"})},onPointerDown(){i({type:"TABLE.POINTER_DOWN",view:x})},onPointerUp(){i({type:"TABLE.POINTER_UP",view:x})}}))},getTableHeadProps(A={}){let{view:x="day"}=A;return t.element(v(m({},ee.tableHead.attrs),{"aria-hidden":!0,dir:o("dir"),"data-view":x,"data-disabled":b(f)}))},getTableHeaderProps(A={}){let{view:x="day"}=A;return t.element(v(m({},ee.tableHeader.attrs),{dir:o("dir"),"data-view":x,"data-disabled":b(f)}))},getTableBodyProps(A={}){let{view:x="day"}=A;return t.element(v(m({},ee.tableBody.attrs),{"data-view":x,"data-disabled":b(f)}))},getTableRowProps(A={}){let{view:x="day"}=A;return t.element(v(m({},ee.tableRow.attrs),{"aria-disabled":ue(f),"data-disabled":b(f),"data-view":x}))},getDayTableCellState:Un,getDayTableCellProps(A){let{value:x}=A,$=Un(A);return t.element(v(m({},ee.tableCell.attrs),{role:"gridcell","aria-disabled":ue(!$.selectable),"aria-selected":$.selected||$.inRange,"aria-invalid":ue($.invalid),"aria-current":$.today?"date":void 0,"data-value":x.toString()}))},getDayTableCellTriggerProps(A){let{value:x}=A,$=Un(A);return t.element(v(m({},ee.tableCellTrigger.attrs),{id:Ta(a,x.toString()),role:"button",dir:o("dir"),tabIndex:$.focused?0:-1,"aria-label":$.ariaLabel,"aria-disabled":ue(!$.selectable),"aria-invalid":ue($.invalid),"data-disabled":b(!$.selectable),"data-selected":b($.selected),"data-value":x.toString(),"data-view":"day","data-today":b($.today),"data-focus":b($.focused),"data-unavailable":b($.unavailable),"data-range-start":b($.firstInRange),"data-range-end":b($.lastInRange),"data-in-range":b($.inRange),"data-outside-range":b($.outsideRange),"data-weekend":b($.weekend),"data-in-hover-range":b($.inHoveredRange),"data-hover-range-start":b($.firstInHoveredRange),"data-hover-range-end":b($.lastInHoveredRange),onClick(N){N.defaultPrevented||$.selectable&&i({type:"CELL.CLICK",cell:"day",value:x})},onPointerMove:D?N=>{if(N.pointerType==="touch"||!$.selectable)return;let Z=!a.isActiveElement(N.currentTarget);p&&_s(x,p)||i({type:"CELL.POINTER_MOVE",cell:"day",value:x,focus:Z})}:void 0}))},getMonthTableCellState:ut,getMonthTableCellProps(A){let{value:x,columns:$}=A,N=ut(A);return t.element(v(m({},ee.tableCell.attrs),{dir:o("dir"),colSpan:$,role:"gridcell","aria-selected":ue(N.selected||N.inRange),"data-selected":b(N.selected),"aria-disabled":ue(!N.selectable),"data-value":x}))},getMonthTableCellTriggerProps(A){let{value:x}=A,$=ut(A);return t.element(v(m({},ee.tableCellTrigger.attrs),{dir:o("dir"),role:"button",id:Ta(a,x.toString()),"data-selected":b($.selected),"aria-disabled":ue(!$.selectable),"data-disabled":b(!$.selectable),"data-focus":b($.focused),"data-in-range":b($.inRange),"data-outside-range":b($.outsideRange),"aria-label":$.valueText,"data-view":"month","data-value":x,tabIndex:$.focused?0:-1,onClick(N){N.defaultPrevented||$.selectable&&i({type:"CELL.CLICK",cell:"month",value:x})},onPointerMove:D?N=>{if(N.pointerType==="touch"||!$.selectable)return;let Z=!a.isActiveElement(N.currentTarget);p&&$.value&&Bs($.value,p)||i({type:"CELL.POINTER_MOVE",cell:"month",value:$.value,focus:Z})}:void 0}))},getYearTableCellState:Ne,getYearTableCellProps(A){let{value:x,columns:$}=A,N=Ne(A);return t.element(v(m({},ee.tableCell.attrs),{dir:o("dir"),colSpan:$,role:"gridcell","aria-selected":ue(N.selected),"data-selected":b(N.selected),"aria-disabled":ue(!N.selectable),"data-value":x}))},getYearTableCellTriggerProps(A){let{value:x}=A,$=Ne(A);return t.element(v(m({},ee.tableCellTrigger.attrs),{dir:o("dir"),role:"button",id:Ta(a,x.toString()),"data-selected":b($.selected),"data-focus":b($.focused),"data-in-range":b($.inRange),"aria-disabled":ue(!$.selectable),"data-disabled":b(!$.selectable),"aria-label":$.valueText,"data-outside-range":b($.outsideRange),"data-value":x,"data-view":"year",tabIndex:$.focused?0:-1,onClick(N){N.defaultPrevented||$.selectable&&i({type:"CELL.CLICK",cell:"year",value:x})},onPointerMove:D?N=>{if(N.pointerType==="touch"||!$.selectable)return;let Z=!a.isActiveElement(N.currentTarget);p&&$.value&&Gs($.value,p)||i({type:"CELL.POINTER_MOVE",cell:"year",value:$.value,focus:Z})}:void 0}))},getNextTriggerProps(A={}){let{view:x="day"}=A,$=f||!s("isNextVisibleRangeValid");return t.button(v(m({},ee.nextTrigger.attrs),{dir:o("dir"),id:Dy(a,x),type:"button","aria-label":B.nextTrigger(x),disabled:$,"data-disabled":b($),onClick(N){N.defaultPrevented||i({type:"GOTO.NEXT",view:x})}}))},getPrevTriggerProps(A={}){let{view:x="day"}=A,$=f||!s("isPrevVisibleRangeValid");return t.button(v(m({},ee.prevTrigger.attrs),{dir:o("dir"),id:$y(a,x),type:"button","aria-label":B.prevTrigger(x),disabled:$,"data-disabled":b($),onClick(N){N.defaultPrevented||i({type:"GOTO.PREV",view:x})}}))},getClearTriggerProps(){return t.button(v(m({},ee.clearTrigger.attrs),{id:_d(a),dir:o("dir"),type:"button","aria-label":B.clearTrigger,hidden:!d.length,onClick(A){A.defaultPrevented||i({type:"VALUE.CLEAR"})}}))},getTriggerProps(){return t.button(v(m({},ee.trigger.attrs),{id:Gd(a),dir:o("dir"),type:"button","data-placement":L,"aria-label":B.trigger(T),"aria-controls":wa(a),"data-state":T?"open":"closed","data-placeholder-shown":b(S),"aria-haspopup":"grid",disabled:f,onClick(A){A.defaultPrevented||w&&i({type:"TRIGGER.CLICK"})}}))},getViewProps(A={}){let{view:x="day"}=A;return t.element(v(m({},ee.view.attrs),{"data-view":x,hidden:r.get("view")!==x}))},getViewTriggerProps(A={}){let{view:x="day"}=A;return t.button(v(m({},ee.viewTrigger.attrs),{"data-view":x,dir:o("dir"),id:Ly(a,x),type:"button",disabled:f,"aria-label":B.viewTrigger(x),onClick($){$.defaultPrevented||w&&i({type:"VIEW.TOGGLE",src:"viewTrigger"})}}))},getViewControlProps(A={}){let{view:x="day"}=A;return t.element(v(m({},ee.viewControl.attrs),{"data-view":x,dir:o("dir")}))},getInputProps(A={}){let{index:x=0,fixOnBlur:$=!0}=A;return t.input(v(m({},ee.input.attrs),{id:Md(a,x),autoComplete:"off",autoCorrect:"off",spellCheck:"false",dir:o("dir"),name:o("name"),"data-index":x,"data-state":T?"open":"closed","data-placeholder-shown":b(S),readOnly:g,disabled:f,required:o("required"),"aria-invalid":ue(y),"data-invalid":b(y),placeholder:o("placeholder")||By(V),defaultValue:s("valueAsString")[x],onBeforeInput(N){let{data:Z}=Ui(N);Kd(Z,Y)||N.preventDefault()},onFocus(){i({type:"INPUT.FOCUS",index:x})},onBlur(N){let Z=N.currentTarget.value.trim();i({type:"INPUT.BLUR",value:Z,index:x,fixOnBlur:$})},onKeyDown(N){if(N.defaultPrevented||!w)return;let Le={Enter(me){dn(me)||de(h)||me.currentTarget.value.trim()!==""&&i({type:"INPUT.ENTER",value:me.currentTarget.value,index:x})}}[N.key];Le&&(Le(N),N.preventDefault())},onInput(N){let Z=N.currentTarget.value;i({type:"INPUT.CHANGE",value:Gy(Z,Y),index:x})}}))},getMonthSelectProps(){return t.select(v(m({},ee.monthSelect.attrs),{id:Ud(a),"aria-label":B.monthSelect,disabled:f,dir:o("dir"),defaultValue:l.month,onChange(A){j(Number(A.currentTarget.value))}}))},getYearSelectProps(){return t.select(v(m({},ee.yearSelect.attrs),{id:Wd(a),disabled:f,"aria-label":B.yearSelect,dir:o("dir"),defaultValue:l.year,onChange(A){le(Number(A.currentTarget.value))}}))},getPositionerProps(){return t.element(v(m({id:qd(a)},ee.positioner.attrs),{dir:o("dir"),style:M.floating}))},getPresetTriggerProps(A){let x=Array.isArray(A.value)?A.value:Ca(A.value,V,I),$=x.filter(N=>N!=null).map(N=>N.toDate(I).toDateString());return t.button(v(m({},ee.presetTrigger.attrs),{"aria-label":B.presetTrigger($),type:"button",onClick(N){N.defaultPrevented||i({type:"PRESET.CLICK",value:x})}}))}}}var{and:We}=we();function Jy(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!1;let n=Math.max(e.length,t.length);for(let r=0;r<n;r++)if(!De(e[r],t[r]))return!1;return!0}function yi(e,t){return e.map(n=>n==null?"":t("format")(n,{locale:t("locale"),timeZone:t("timeZone")}))}var zd={props({props:e}){let t=e.locale||"en-US",n=e.timeZone||"UTC",r=e.selectionMode||"single",o=e.numOfMonths||1,i=e.defaultValue?vi(e.defaultValue).map(h=>Ue(h,e.min,e.max)):void 0,s=e.value?vi(e.value).map(h=>Ue(h,e.min,e.max)):void 0,a=e.focusedValue||e.defaultFocusedValue||(s==null?void 0:s[0])||(i==null?void 0:i[0])||sn(n);a=Ue(a,e.min,e.max);let l="day",c="year",d=Oa(e.view||l,l,c);return v(m({locale:t,numOfMonths:o,timeZone:n,selectionMode:r,defaultView:d,minView:l,maxView:c,outsideDaySelectable:!1,closeOnSelect:!0,format(h,{locale:p,timeZone:u}){return new Ce(p,{timeZone:u,day:"2-digit",month:"2-digit",year:"numeric"}).format(h.toDate(u))},parse(h,{locale:p,timeZone:u}){return Ld(h,p,u)}},e),{focusedValue:typeof e.focusedValue=="undefined"?void 0:a,defaultFocusedValue:a,value:s,defaultValue:i!=null?i:[],positioning:m({placement:"bottom"},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},refs(){return{announcer:void 0}},context({prop:e,bindable:t,getContext:n}){return{focusedValue:t(()=>({defaultValue:e("defaultFocusedValue"),value:e("focusedValue"),isEqual:De,hash:r=>r.toString(),sync:!0,onChange(r){var l;let o=n(),i=o.get("view"),s=o.get("value"),a=yi(s,e);(l=e("onFocusChange"))==null||l({value:s,valueAsString:a,view:i,focusedValue:r})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:Jy,hash:r=>r.map(o=>{var i;return(i=o==null?void 0:o.toString())!=null?i:""}).join(","),onChange(r){var s;let o=n(),i=yi(r,e);(s=e("onValueChange"))==null||s({value:r,valueAsString:i,view:o.get("view")})}})),inputValue:t(()=>({defaultValue:""})),activeIndex:t(()=>({defaultValue:0,sync:!0})),hoveredValue:t(()=>({defaultValue:null,isEqual:De})),view:t(()=>({defaultValue:e("defaultView"),value:e("view"),onChange(r){var o;(o=e("onViewChange"))==null||o({view:r})}})),startValue:t(()=>{let r=e("focusedValue")||e("defaultFocusedValue");return{defaultValue:ha(r,"start",{months:e("numOfMonths")},e("locale")),isEqual:De,hash:o=>o.toString()}}),currentPlacement:t(()=>({defaultValue:void 0})),restoreFocus:t(()=>({defaultValue:!1}))}},computed:{isInteractive:({prop:e})=>!e("disabled")&&!e("readOnly"),visibleDuration:({prop:e})=>({months:e("numOfMonths")}),endValue:({context:e,computed:t})=>ga(e.get("startValue"),t("visibleDuration")),visibleRange:({context:e,computed:t})=>({start:e.get("startValue"),end:t("endValue")}),visibleRangeText:({context:e,prop:t,computed:n})=>Xy({view:e.get("view"),startValue:e.get("startValue"),endValue:n("endValue"),locale:t("locale"),timeZone:t("timeZone"),selectionMode:t("selectionMode")}),isPrevVisibleRangeValid:({context:e,prop:t})=>!wd(e.get("startValue"),t("min"),t("max")),isNextVisibleRangeValid:({prop:e,computed:t})=>!Id(t("endValue"),e("min"),e("max")),valueAsString:({context:e,prop:t})=>yi(e.get("value"),t)},effects:["setupLiveRegion"],watch({track:e,prop:t,context:n,action:r,computed:o}){e([()=>t("locale")],()=>{r(["setStartValue","syncInputElement"])}),e([()=>n.hash("focusedValue")],()=>{r(["setStartValue","focusActiveCellIfNeeded","setHoveredValueIfKeyboard"])}),e([()=>n.hash("startValue")],()=>{r(["syncMonthSelectElement","syncYearSelectElement","invokeOnVisibleRangeChange"])}),e([()=>n.get("inputValue")],()=>{r(["syncInputValue"])}),e([()=>n.hash("value")],()=>{r(["syncInputElement"])}),e([()=>o("valueAsString").toString()],()=>{r(["announceValueText"])}),e([()=>n.get("view")],()=>{r(["focusActiveCell"])}),e([()=>t("open")],()=>{r(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setDateValue","setFocusedDate"]},"VIEW.SET":{actions:["setView"]},"FOCUS.SET":{actions:["setFocusedDate"]},"VALUE.CLEAR":{actions:["clearDateValue","clearFocusedDate","focusFirstInputElement"]},"INPUT.CHANGE":[{guard:"isInputValueEmpty",actions:["setInputValue","clearDateValue","clearFocusedDate"]},{actions:["setInputValue","focusParsedDate"]}],"INPUT.ENTER":{actions:["focusParsedDate","selectFocusedDate"]},"INPUT.FOCUS":{actions:["setActiveIndex"]},"INPUT.BLUR":[{guard:"shouldFixOnBlur",actions:["setActiveIndexToStart","selectParsedDate"]},{actions:["setActiveIndexToStart"]}],"PRESET.CLICK":[{guard:"isOpenControlled",actions:["setDateValue","setFocusedDate","invokeOnClose"]},{target:"focused",actions:["setDateValue","setFocusedDate","focusInputElement"]}],"GOTO.NEXT":[{guard:"isYearView",actions:["focusNextDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusNextYear","announceVisibleRange"]},{actions:["focusNextPage"]}],"GOTO.PREV":[{guard:"isYearView",actions:["focusPreviousDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusPreviousYear","announceVisibleRange"]},{actions:["focusPreviousPage"]}]},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],exit:["clearHoveredDate","resetView"],on:{"CONTROLLED.CLOSE":[{guard:We("shouldRestoreFocus","isInteractOutsideEvent"),target:"focused",actions:["focusTriggerElement"]},{guard:"shouldRestoreFocus",target:"focused",actions:["focusInputElement"]},{target:"idle"}],"CELL.CLICK":[{guard:"isAboveMinView",actions:["setFocusedValueForView","setPreviousView"]},{guard:We("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","resetSelection","setActiveIndexToEnd"]},{guard:We("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","setRestoreFocus"]},{guard:We("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:We("isRangePicker","isSelectingEndDate"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setFocusedDate","setSelectedDate","setActiveIndexToEnd"]},{guard:"isMultiPicker",actions:["setFocusedDate","toggleSelectedDate"]},{guard:We("closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setFocusedDate","setSelectedDate","invokeOnClose","focusInputElement"]},{actions:["setFocusedDate","setSelectedDate"]}],"CELL.POINTER_MOVE":{guard:We("isRangePicker","isSelectingEndDate"),actions:["setHoveredDate","setFocusedDate"]},"TABLE.POINTER_LEAVE":{guard:"isRangePicker",actions:["clearHoveredDate"]},"TABLE.POINTER_DOWN":{actions:["disableTextSelection"]},"TABLE.POINTER_UP":{actions:["enableTextSelection"]},"TABLE.ESCAPE":[{guard:"isOpenControlled",actions:["focusFirstSelectedDate","invokeOnClose"]},{target:"focused",actions:["focusFirstSelectedDate","invokeOnClose","focusTriggerElement"]}],"TABLE.ENTER":[{guard:"isAboveMinView",actions:["setPreviousView"]},{guard:We("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","clearDateValue","setSelectedDate","setActiveIndexToEnd"]},{guard:We("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose"]},{guard:We("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:We("isRangePicker","isSelectingEndDate"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setSelectedDate","setActiveIndexToEnd","focusNextDay"]},{guard:"isMultiPicker",actions:["toggleSelectedDate"]},{guard:We("closeOnSelect","isOpenControlled"),actions:["selectFocusedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectFocusedDate","invokeOnClose","focusInputElement"]},{actions:["selectFocusedDate"]}],"TABLE.ARROW_RIGHT":[{guard:"isMonthView",actions:["focusNextMonth"]},{guard:"isYearView",actions:["focusNextYear"]},{actions:["focusNextDay","setHoveredDate"]}],"TABLE.ARROW_LEFT":[{guard:"isMonthView",actions:["focusPreviousMonth"]},{guard:"isYearView",actions:["focusPreviousYear"]},{actions:["focusPreviousDay"]}],"TABLE.ARROW_UP":[{guard:"isMonthView",actions:["focusPreviousMonthColumn"]},{guard:"isYearView",actions:["focusPreviousYearColumn"]},{actions:["focusPreviousWeek"]}],"TABLE.ARROW_DOWN":[{guard:"isMonthView",actions:["focusNextMonthColumn"]},{guard:"isYearView",actions:["focusNextYearColumn"]},{actions:["focusNextWeek"]}],"TABLE.PAGE_UP":{actions:["focusPreviousSection"]},"TABLE.PAGE_DOWN":{actions:["focusNextSection"]},"TABLE.HOME":[{guard:"isMonthView",actions:["focusFirstMonth"]},{guard:"isYearView",actions:["focusFirstYear"]},{actions:["focusSectionStart"]}],"TABLE.END":[{guard:"isMonthView",actions:["focusLastMonth"]},{guard:"isYearView",actions:["focusLastYear"]},{actions:["focusSectionEnd"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"VIEW.TOGGLE":{actions:["setNextView"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["setActiveIndexToStart","invokeOnClose","focusTriggerElement"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}]}}},implementations:{guards:{isAboveMinView:({context:e,prop:t})=>Wy(e.get("view"),t("minView")),isDayView:({context:e,event:t})=>(t.view||e.get("view"))==="day",isMonthView:({context:e,event:t})=>(t.view||e.get("view"))==="month",isYearView:({context:e,event:t})=>(t.view||e.get("view"))==="year",isRangePicker:({prop:e})=>e("selectionMode")==="range",hasSelectedRange:({context:e})=>e.get("value").length===2,isMultiPicker:({prop:e})=>e("selectionMode")==="multiple",shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus"),isSelectingEndDate:({context:e})=>e.get("activeIndex")===1,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),isInteractOutsideEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INTERACT_OUTSIDE"},isInputValueEmpty:({event:e})=>e.value.trim()==="",shouldFixOnBlur:({event:e})=>!!e.fixOnBlur},effects:{trackPositioning({context:e,prop:t,scope:n}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);let r=jd(n);return St(r,()=>Fy(n),v(m({},t("positioning")),{defer:!0,onComplete(i){e.set("currentPlacement",i.placement)}}))},setupLiveRegion({scope:e,refs:t}){let n=e.getDoc();return t.set("announcer",Rd({level:"assertive",document:n})),()=>{var r,o;return(o=(r=t.get("announcer"))==null?void 0:r.destroy)==null?void 0:o.call(r)}},trackDismissableElement({scope:e,send:t,context:n,prop:r}){return r("inline")?void 0:It(()=>Ei(e),{type:"popover",defer:!0,exclude:[...Or(e),Fd(e),Ny(e)],onInteractOutside(i){n.set("restoreFocus",!i.detail.focusable)},onDismiss(){t({type:"INTERACT_OUTSIDE"})},onEscapeKeyDown(i){i.preventDefault(),t({type:"TABLE.ESCAPE",src:"dismissable"})}})}},actions:{setNextView({context:e,prop:t}){let n=Ky(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setPreviousView({context:e,prop:t}){let n=Yy(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setView({context:e,event:t}){e.set("view",t.view)},setRestoreFocus({context:e}){e.set("restoreFocus",!0)},announceValueText({context:e,prop:t,refs:n}){var a;let r=e.get("value"),o=t("locale"),i=t("timeZone"),s;if(t("selectionMode")==="range"){let[l,c]=r;l&&c?s=Sr(l,c,o,i):l?s=Sr(l,null,o,i):c?s=Sr(c,null,o,i):s=""}else s=r.map(l=>Sr(l,null,o,i)).filter(Boolean).join(",");(a=n.get("announcer"))==null||a.announce(s,3e3)},announceVisibleRange({computed:e,refs:t}){var r;let{formatted:n}=e("visibleRangeText");(r=t.get("announcer"))==null||r.announce(n)},disableTextSelection({scope:e}){Yi({target:Ei(e),doc:e.getDoc()})},enableTextSelection({scope:e}){Ki({doc:e.getDoc(),target:Ei(e)})},focusFirstSelectedDate(e){let{context:t}=e;t.get("value").length&&ie(e,t.get("value")[0])},syncInputElement({scope:e,computed:t}){H(()=>{Or(e).forEach((r,o)=>{Lt(r,t("valueAsString")[o]||"")})})},setFocusedDate(e){let{event:t}=e,n=Array.isArray(t.value)?t.value[0]:t.value;ie(e,n)},setFocusedValueForView(e){let{context:t,event:n}=e;ie(e,t.get("focusedValue").set({[t.get("view")]:n.value}))},focusNextMonth(e){let{context:t}=e;ie(e,t.get("focusedValue").add({months:1}))},focusPreviousMonth(e){let{context:t}=e;ie(e,t.get("focusedValue").subtract({months:1}))},setDateValue({context:e,event:t,prop:n}){if(!Array.isArray(t.value))return;let r=t.value.map(o=>Ue(o,n("min"),n("max")));e.set("value",r)},clearDateValue({context:e}){e.set("value",[])},setSelectedDate(e){var o;let{context:t,event:n}=e,r=Array.from(t.get("value"));r[t.get("activeIndex")]=Ci(e,(o=n.value)!=null?o:t.get("focusedValue")),t.set("value",Ia(r))},resetSelection(e){var o;let{context:t,event:n}=e,r=Ci(e,(o=n.value)!=null?o:t.get("focusedValue"));t.set("value",[r])},toggleSelectedDate(e){var i;let{context:t,event:n}=e,r=Ci(e,(i=n.value)!=null?i:t.get("focusedValue")),o=t.get("value").findIndex(s=>De(s,r));if(o===-1){let s=[...t.get("value"),r];t.set("value",vi(s))}else{let s=Array.from(t.get("value"));s.splice(o,1),t.set("value",vi(s))}},setHoveredDate({context:e,event:t}){e.set("hoveredValue",t.value)},clearHoveredDate({context:e}){e.set("hoveredValue",null)},selectFocusedDate({context:e,computed:t}){let n=Array.from(e.get("value")),r=e.get("activeIndex");n[r]=e.get("focusedValue").copy(),e.set("value",Ia(n));let o=t("valueAsString");e.set("inputValue",o[r])},focusPreviousDay(e){let{context:t}=e,n=t.get("focusedValue").subtract({days:1});ie(e,n)},focusNextDay(e){let{context:t}=e,n=t.get("focusedValue").add({days:1});ie(e,n)},focusPreviousWeek(e){let{context:t}=e,n=t.get("focusedValue").subtract({weeks:1});ie(e,n)},focusNextWeek(e){let{context:t}=e,n=t.get("focusedValue").add({weeks:1});ie(e,n)},focusNextPage(e){let{context:t,computed:n,prop:r}=e,o=ba(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),r("locale"),r("min"),r("max"));bi(e,o)},focusPreviousPage(e){let{context:t,computed:n,prop:r}=e,o=Ea(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),r("locale"),r("min"),r("max"));bi(e,o)},focusSectionStart(e){let{context:t}=e;ie(e,t.get("startValue").copy())},focusSectionEnd(e){let{computed:t}=e;ie(e,t("endValue").copy())},focusNextSection(e){let{context:t,event:n,computed:r,prop:o}=e,i=$d(t.get("focusedValue"),t.get("startValue"),n.larger,r("visibleDuration"),o("locale"),o("min"),o("max"));i&&bi(e,i)},focusPreviousSection(e){let{context:t,event:n,computed:r,prop:o}=e,i=Dd(t.get("focusedValue"),t.get("startValue"),n.larger,r("visibleDuration"),o("locale"),o("min"),o("max"));i&&bi(e,i)},focusNextYear(e){let{context:t}=e,n=t.get("focusedValue").add({years:1});ie(e,n)},focusPreviousYear(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:1});ie(e,n)},focusNextDecade(e){let{context:t}=e,n=t.get("focusedValue").add({years:10});ie(e,n)},focusPreviousDecade(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:10});ie(e,n)},clearFocusedDate(e){let{prop:t}=e;ie(e,sn(t("timeZone")))},focusPreviousMonthColumn(e){let{context:t,event:n}=e,r=t.get("focusedValue").subtract({months:n.columns});ie(e,r)},focusNextMonthColumn(e){let{context:t,event:n}=e,r=t.get("focusedValue").add({months:n.columns});ie(e,r)},focusPreviousYearColumn(e){let{context:t,event:n}=e,r=t.get("focusedValue").subtract({years:n.columns});ie(e,r)},focusNextYearColumn(e){let{context:t,event:n}=e,r=t.get("focusedValue").add({years:n.columns});ie(e,r)},focusFirstMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:1});ie(e,n)},focusLastMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:12});ie(e,n)},focusFirstYear(e){let{context:t}=e,n=on(t.get("focusedValue").year),r=t.get("focusedValue").set({year:n[0]});ie(e,r)},focusLastYear(e){let{context:t}=e,n=on(t.get("focusedValue").year),r=t.get("focusedValue").set({year:n[n.length-1]});ie(e,r)},setActiveIndex({context:e,event:t}){e.set("activeIndex",t.index)},setActiveIndexToEnd({context:e}){e.set("activeIndex",1)},setActiveIndexToStart({context:e}){e.set("activeIndex",0)},focusActiveCell({scope:e,context:t}){H(()=>{var r;let n=t.get("view");(r=Nd(e,n))==null||r.focus({preventScroll:!0})})},focusActiveCellIfNeeded({scope:e,context:t,event:n}){n.focus&&H(()=>{var o;let r=t.get("view");(o=Nd(e,r))==null||o.focus({preventScroll:!0})})},setHoveredValueIfKeyboard({context:e,event:t,prop:n}){!t.type.startsWith("TABLE.ARROW")||n("selectionMode")!=="range"||e.get("activeIndex")===0||e.set("hoveredValue",e.get("focusedValue").copy())},focusTriggerElement({scope:e}){H(()=>{var t;(t=Fd(e))==null||t.focus({preventScroll:!0})})},focusFirstInputElement({scope:e}){H(()=>{let[t]=Or(e);t==null||t.focus({preventScroll:!0})})},focusInputElement({scope:e}){H(()=>{let t=Or(e),n=t.findLastIndex(i=>i.value!==""),r=Math.max(n,0),o=t[r];o==null||o.focus({preventScroll:!0}),o==null||o.setSelectionRange(o.value.length,o.value.length)})},syncMonthSelectElement({scope:e,context:t}){let n=My(e);Lt(n,t.get("startValue").month.toString())},syncYearSelectElement({scope:e,context:t}){let n=Ry(e);Lt(n,t.get("startValue").year.toString())},setInputValue({context:e,event:t}){e.get("activeIndex")===t.index&&e.set("inputValue",t.value)},syncInputValue({scope:e,context:t,event:n}){queueMicrotask(()=>{var i;let r=Or(e),o=(i=n.index)!=null?i:t.get("activeIndex");Lt(r[o],t.get("inputValue"))})},focusParsedDate(e){let{event:t,prop:n}=e;if(t.index==null)return;let o=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});!o||!Hd(o)||ie(e,o)},selectParsedDate({context:e,event:t,prop:n}){if(t.index==null)return;let o=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});if((!o||!Hd(o))&&t.value&&(o=e.get("focusedValue").copy()),!o)return;o=Ue(o,n("min"),n("max"));let i=Array.from(e.get("value"));i[t.index]=o,e.set("value",i);let s=yi(i,n);e.set("inputValue",s[t.index])},resetView({context:e}){e.set("view",e.initial("view"))},setStartValue({context:e,computed:t,prop:n}){let r=e.get("focusedValue");if(!et(r,e.get("startValue"),t("endValue")))return;let i=ha(r,"start",{months:n("numOfMonths")},n("locale"));e.set("startValue",i)},invokeOnOpen({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},invokeOnVisibleRangeChange({prop:e,context:t,computed:n}){var r;(r=e("onVisibleRangeChange"))==null||r({view:t.get("view"),visibleRange:n("visibleRange")})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}},Ci=(e,t)=>{let{context:n,prop:r}=e,o=n.get("view"),i=typeof t=="number"?n.get("focusedValue").set({[o]:t}):t;return Zy(s=>{jy(s,r("minView"))&&(i=i.set({[s]:s==="day"?1:0}))}),i};function ie(e,t){let{context:n,prop:r,computed:o}=e;if(!t)return;let i=Ci(e,t);if(De(n.get("focusedValue"),i))return;let a=Gn(o("visibleDuration"),r("locale"),r("min"),r("max"))({focusedDate:i,startDate:n.get("startValue")});n.set("startValue",a.startDate),n.set("focusedValue",a.focusedDate)}function bi(e,t){let{context:n}=e;n.set("startValue",t.startDate);let r=n.get("focusedValue");De(r,t.focusedDate)||n.set("focusedValue",t.focusedDate)}function je(e){return Array.isArray(e)?e.map(t=>je(t)):e instanceof Date?new $e(e.getFullYear(),e.getMonth()+1,e.getDate()):ia(e)}var Qy=U()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","parse","placeholder","getRootNode","id","ids","inline","invalid","isDateUnavailable","locale","max","min","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","onVisibleRangeChange","open","defaultOpen","positioning","readOnly","required","selectionMode","startOfWeek","timeZone","translations","value","defaultView","defaultValue","view","defaultFocusedValue","outsideDaySelectable","minView","maxView"]),KI=q(Qy),eb=U()(["index","fixOnBlur"]),YI=q(eb),tb=U()(["value"]),zI=q(tb),nb=U()(["columns","id","view"]),ZI=q(nb),rb=U()(["disabled","value","columns"]),XI=q(rb),ob=U()(["view"]),JI=q(ob);var Ti=class extends Q{constructor(){super(...arguments);W(this,"getDayView",()=>this.el.querySelector('[data-part="day-view"]'));W(this,"getMonthView",()=>this.el.querySelector('[data-part="month-view"]'));W(this,"getYearView",()=>this.el.querySelector('[data-part="year-view"]'));W(this,"syncWeekDays",()=>{let n=this.getDayView();if(!n)return;let r=n.querySelector("thead tr");if(!r)return;this.spreadProps(r,this.api.getTableRowProps({view:"day"}));let o=Array.from(r.querySelectorAll("th"));for(;o.length>this.api.weekDays.length;){let i=o.pop();i&&r.removeChild(i)}this.api.weekDays.forEach((i,s)=>{let a=o[s];a||(a=this.doc.createElement("th"),a.scope="col",r.appendChild(a)),a.setAttribute("aria-label",i.long),a.textContent=i.narrow})});W(this,"syncDayGrid",()=>{let n=this.getDayView();if(!n)return;let r=n.querySelector("tbody");if(!r||(this.spreadProps(r,this.api.getTableBodyProps({view:"day"})),!this.api.weeks))return;let o=Array.from(r.querySelectorAll("tr"));for(;o.length>this.api.weeks.length;){let i=o.pop();i&&r.removeChild(i)}this.api.weeks.forEach((i,s)=>{let a=o[s];a||(a=this.doc.createElement("tr"),r.appendChild(a)),this.spreadProps(a,this.api.getTableRowProps({view:"day"}));let l=Array.from(a.querySelectorAll("td"));for(;l.length>i.length;){let c=l.pop();c&&a.removeChild(c)}i.forEach((c,d)=>{let h=l[d];if(!h){h=this.doc.createElement("td");let u=this.doc.createElement("div");h.appendChild(u),a.appendChild(h)}this.spreadProps(h,this.api.getDayTableCellProps({value:c}));let p=h.querySelector("div");p&&(this.spreadProps(p,this.api.getDayTableCellTriggerProps({value:c})),p.textContent=String(c.day))})})});W(this,"syncMonthGrid",()=>{let n=this.getMonthView();if(!n)return;let r=n.querySelector("tbody");if(!r)return;this.spreadProps(r,this.api.getTableBodyProps({view:"month"}));let o=this.api.getMonthsGrid({columns:4,format:"short"}),i=Array.from(r.querySelectorAll("tr"));for(;i.length>o.length;){let s=i.pop();s&&r.removeChild(s)}o.forEach((s,a)=>{let l=i[a];l||(l=this.doc.createElement("tr"),r.appendChild(l)),this.spreadProps(l,this.api.getTableRowProps());let c=Array.from(l.querySelectorAll("td"));for(;c.length>s.length;){let d=c.pop();d&&l.removeChild(d)}s.forEach((d,h)=>{let p=c[h];if(!p){p=this.doc.createElement("td");let f=this.doc.createElement("div");p.appendChild(f),l.appendChild(p)}this.spreadProps(p,this.api.getMonthTableCellProps(v(m({},d),{columns:4})));let u=p.querySelector("div");u&&(this.spreadProps(u,this.api.getMonthTableCellTriggerProps(v(m({},d),{columns:4}))),u.textContent=d.label)})})});W(this,"syncYearGrid",()=>{let n=this.getYearView();if(!n)return;let r=n.querySelector("tbody");if(!r)return;this.spreadProps(r,this.api.getTableBodyProps());let o=this.api.getYearsGrid({columns:4}),i=Array.from(r.querySelectorAll("tr"));for(;i.length>o.length;){let s=i.pop();s&&r.removeChild(s)}o.forEach((s,a)=>{let l=i[a];l||(l=this.doc.createElement("tr"),r.appendChild(l)),this.spreadProps(l,this.api.getTableRowProps({view:"year"}));let c=Array.from(l.querySelectorAll("td"));for(;c.length>s.length;){let d=c.pop();d&&l.removeChild(d)}s.forEach((d,h)=>{let p=c[h];if(!p){p=this.doc.createElement("td");let f=this.doc.createElement("div");p.appendChild(f),l.appendChild(p)}this.spreadProps(p,this.api.getYearTableCellProps(v(m({},d),{columns:4})));let u=p.querySelector("div");u&&(this.spreadProps(u,this.api.getYearTableCellTriggerProps(v(m({},d),{columns:4}))),u.textContent=d.label)})})})}initMachine(n){return new re(zd,m({},n))}initApi(){return Yd(this.machine.service,ne)}render(){let n=this.el.querySelector('[data-scope="date-picker"][data-part="root"]');n&&this.spreadProps(n,this.api.getRootProps());let r=this.el.querySelector('[data-scope="date-picker"][data-part="label"]');r&&this.spreadProps(r,this.api.getLabelProps());let o=this.el.querySelector('[data-scope="date-picker"][data-part="control"]');o&&this.spreadProps(o,this.api.getControlProps());let i=this.el.querySelector('[data-scope="date-picker"][data-part="input"]');if(i){let p=m({},this.api.getInputProps()),u=this.el.dataset.inputAriaLabel;u&&(p["aria-label"]=u),this.spreadProps(i,p)}let s=this.el.querySelector('[data-scope="date-picker"][data-part="trigger"]');if(s){let p=m({},this.api.getTriggerProps()),u=this.el.dataset.triggerAriaLabel;u&&(p["aria-label"]=u),this.spreadProps(s,p)}let a=this.el.querySelector('[data-scope="date-picker"][data-part="positioner"]');a&&this.spreadProps(a,this.api.getPositionerProps());let l=this.el.querySelector('[data-scope="date-picker"][data-part="content"]');l&&this.spreadProps(l,this.api.getContentProps());let c=this.getDayView();if(c){c.hidden=this.api.view!=="day";let p=c.querySelector('[data-part="view-control"]');p&&this.spreadProps(p,this.api.getViewControlProps({view:"year"}));let u=c.querySelector('[data-part="prev-trigger"]');u&&this.spreadProps(u,this.api.getPrevTriggerProps());let f=c.querySelector('[data-part="view-trigger"]');f&&(this.spreadProps(f,this.api.getViewTriggerProps()),f.textContent=this.api.visibleRangeText.start);let g=c.querySelector('[data-part="next-trigger"]');g&&this.spreadProps(g,this.api.getNextTriggerProps());let y=c.querySelector("table");y&&this.spreadProps(y,this.api.getTableProps({view:"day"}));let w=c.querySelector("thead");w&&this.spreadProps(w,this.api.getTableHeaderProps({view:"day"}))}this.syncWeekDays(),this.syncDayGrid();let d=this.getMonthView();if(d){d.hidden=this.api.view!=="month";let p=d.querySelector('[data-part="view-control"]');p&&this.spreadProps(p,this.api.getViewControlProps({view:"month"}));let u=d.querySelector('[data-part="prev-trigger"]');u&&this.spreadProps(u,this.api.getPrevTriggerProps({view:"month"}));let f=d.querySelector('[data-part="view-trigger"]');f&&(this.spreadProps(f,this.api.getViewTriggerProps({view:"month"})),f.textContent=String(this.api.visibleRange.start.year));let g=d.querySelector('[data-part="next-trigger"]');g&&this.spreadProps(g,this.api.getNextTriggerProps({view:"month"}));let y=d.querySelector("table");y&&this.spreadProps(y,this.api.getTableProps({view:"month",columns:4}))}this.syncMonthGrid();let h=this.getYearView();if(h){h.hidden=this.api.view!=="year";let p=h.querySelector('[data-part="view-control"]');p&&this.spreadProps(p,this.api.getViewControlProps({view:"year"}));let u=h.querySelector('[data-part="prev-trigger"]');u&&this.spreadProps(u,this.api.getPrevTriggerProps({view:"year"}));let f=h.querySelector('[data-part="decade"]');if(f){let w=this.api.getDecade();f.textContent=`${w.start} - ${w.end}`}let g=h.querySelector('[data-part="next-trigger"]');g&&this.spreadProps(g,this.api.getNextTriggerProps({view:"year"}));let y=h.querySelector("table");y&&this.spreadProps(y,this.api.getTableProps({view:"year",columns:4}))}this.syncYearGrid()}};function Xd(e){let t=n=>String(n).padStart(2,"0");return`${e.year}-${t(e.month)}-${t(e.day)}`}var wi={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,r=O(e,"min"),o=O(e,"max"),i=O(e,"positioning"),s=E(e,"controlled"),a=h=>h?h.map(p=>je(p)):void 0,l=h=>h?je(h):void 0,c=a(oe(e,s?"value":"defaultValue")),d=new Ti(e,{id:e.id,defaultValue:c,defaultFocusedValue:l(O(e,"focusedValue")),defaultView:O(e,"defaultView",["day","month","year"]),defaultOpen:e.hasAttribute("data-default-open")?E(e,"defaultOpen"):void 0,dir:O(e,"dir",["ltr","rtl"]),locale:O(e,"locale"),timeZone:O(e,"timeZone"),disabled:E(e,"disabled"),readOnly:E(e,"readOnly"),required:E(e,"required"),invalid:E(e,"invalid"),outsideDaySelectable:E(e,"outsideDaySelectable"),closeOnSelect:E(e,"closeOnSelect"),min:r?je(r):void 0,max:o?je(o):void 0,numOfMonths:xe(e,"numOfMonths"),startOfWeek:xe(e,"startOfWeek"),fixedWeeks:E(e,"fixedWeeks"),selectionMode:O(e,"selectionMode",["single","multiple","range"]),placeholder:O(e,"placeholder"),minView:O(e,"minView",["day","month","year"]),maxView:O(e,"maxView",["day","month","year"]),inline:E(e,"inline"),positioning:i?JSON.parse(i):void 0,onValueChange:h=>{var g;let p=(g=h.value)!=null&&g.length?h.value.map(y=>Xd(y)).join(","):"",u=e.querySelector(`#${e.id}-value`);u&&u.value!==p&&(u.value=p,u.dispatchEvent(new Event("input",{bubbles:!0})),u.dispatchEvent(new Event("change",{bubbles:!0})));let f=O(e,"onValueChange");f&&n.main.isConnected()&&t(f,{id:e.id,value:p||null})},onFocusChange:h=>{var u;let p=O(e,"onFocusChange");p&&n.main.isConnected()&&t(p,{id:e.id,focused:(u=h.focused)!=null?u:!1})},onViewChange:h=>{let p=O(e,"onViewChange");p&&n.main.isConnected()&&t(p,{id:e.id,view:h.view})},onVisibleRangeChange:h=>{let p=O(e,"onVisibleRangeChange");p&&n.main.isConnected()&&t(p,{id:e.id,start:h.start,end:h.end})},onOpenChange:h=>{let p=O(e,"onOpenChange");p&&n.main.isConnected()&&t(p,{id:e.id,open:h.open})}});d.init(),this.datePicker=d,this.handlers=[],this.handlers.push(this.handleEvent("date_picker_set_value",h=>{let p=h.date_picker_id;p&&p!==e.id||d.api.setValue([je(h.value)])})),this.onSetValue=h=>{var u;let p=(u=h.detail)==null?void 0:u.value;typeof p=="string"&&d.api.setValue([je(p)])},e.addEventListener("phx:date-picker:set-value",this.onSetValue)},updated(){var s,a;let e=this.el,t=O(e,"min"),n=O(e,"max"),r=O(e,"positioning"),o=E(e,"controlled"),i=O(e,"focusedValue");if((s=this.datePicker)==null||s.updateProps({id:e.id,defaultFocusedValue:i?je(i):void 0,defaultView:O(e,"defaultView",["day","month","year"]),defaultOpen:e.hasAttribute("data-default-open")?E(e,"defaultOpen"):void 0,dir:O(this.el,"dir",["ltr","rtl"]),locale:O(this.el,"locale"),timeZone:O(this.el,"timeZone"),disabled:E(this.el,"disabled"),readOnly:E(this.el,"readOnly"),required:E(this.el,"required"),invalid:E(this.el,"invalid"),outsideDaySelectable:E(this.el,"outsideDaySelectable"),closeOnSelect:E(this.el,"closeOnSelect"),min:t?je(t):void 0,max:n?je(n):void 0,numOfMonths:xe(this.el,"numOfMonths"),startOfWeek:xe(this.el,"startOfWeek"),fixedWeeks:E(this.el,"fixedWeeks"),selectionMode:O(this.el,"selectionMode",["single","multiple","range"]),placeholder:O(this.el,"placeholder"),minView:O(this.el,"minView",["day","month","year"]),maxView:O(this.el,"maxView",["day","month","year"]),inline:E(this.el,"inline"),positioning:r?JSON.parse(r):void 0}),o&&this.datePicker){let l=oe(e,"value"),c=this.datePicker.api.value,d=c!=null&&c.length?c.map(p=>Xd(p)).join(","):"",h=(a=l==null?void 0:l.join(","))!=null?a:"";h&&h!==d&&this.datePicker.api.setValue(l.map(p=>je(p)))}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:date-picker:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.datePicker)==null||e.destroy()}};var{PI:ib}=Math,Pr=ib+1e-4,Jd=.5,Qd=[1,1];function ef(e,t,n,r=o=>o){return e*r(.5-t*(.5-n))}var{min:Pa}=Math;function uf(e,t,n){let r=Pa(1,t/n);return Pa(1,e+(Pa(1,1-r)-e)*(r*.275))}function sb(e){return[-e[0],-e[1]]}function ct(e,t){return[e[0]+t[0],e[1]+t[1]]}function tf(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Vt(e,t){return[e[0]-t[0],e[1]-t[1]]}function Va(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function kt(e,t){return[e[0]*t,e[1]*t]}function xa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function ab(e,t){return[e[0]/t,e[1]/t]}function df(e){return[e[1],-e[0]]}function ka(e,t){let n=t[0];return e[0]=t[1],e[1]=-n,e}function nf(e,t){return e[0]*t[0]+e[1]*t[1]}function lb(e,t){return e[0]===t[0]&&e[1]===t[1]}function cb(e){return Math.hypot(e[0],e[1])}function rf(e,t){let n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ff(e){return ab(e,cb(e))}function ub(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Aa(e,t,n){let r=Math.sin(n),o=Math.cos(n),i=e[0]-t[0],s=e[1]-t[1],a=i*o-s*r,l=i*r+s*o;return[a+t[0],l+t[1]]}function of(e,t,n,r){let o=Math.sin(r),i=Math.cos(r),s=t[0]-n[0],a=t[1]-n[1],l=s*i-a*o,c=s*o+a*i;return e[0]=l+n[0],e[1]=c+n[1],e}function sf(e,t,n){return ct(e,kt(Vt(t,e),n))}function db(e,t,n,r){let o=n[0]-t[0],i=n[1]-t[1];return e[0]=t[0]+o*r,e[1]=t[1]+i*r,e}function hf(e,t,n){return ct(e,kt(t,n))}var ye=[0,0],Pt=[0,0],xt=[0,0];function fb(e,t){let n=hf(e,ff(df(Vt(e,ct(e,[1,1])))),-t),r=[],o=1/13;for(let i=o;i<=1;i+=o)r.push(Aa(n,e,Pr*2*i));return r}function hb(e,t,n){let r=[],o=1/n;for(let i=o;i<=1;i+=o)r.push(Aa(t,e,Pr*i));return r}function pb(e,t,n){let r=Vt(t,n),o=kt(r,.5),i=kt(r,.51);return[Vt(e,o),Vt(e,i),ct(e,i),ct(e,o)]}function gb(e,t,n,r){let o=[],i=hf(e,t,n),s=1/r;for(let a=s;a<1;a+=s)o.push(Aa(i,e,Pr*3*a));return o}function mb(e,t,n){return[ct(e,kt(t,n)),ct(e,kt(t,n*.99)),Vt(e,kt(t,n*.99)),Vt(e,kt(t,n))]}function af(e,t,n){return e===!1||e===void 0?0:e===!0?Math.max(t,n):e}function vb(e,t,n){return e.slice(0,10).reduce((r,o)=>{let i=o.pressure;return t&&(i=uf(r,o.distance,n)),(r+i)/2},e[0].pressure)}function yb(e,t={}){let{size:n=16,smoothing:r=.5,thinning:o=.5,simulatePressure:i=!0,easing:s=G=>G,start:a={},end:l={},last:c=!1}=t,{cap:d=!0,easing:h=G=>G*(2-G)}=a,{cap:p=!0,easing:u=G=>--G*G*G+1}=l;if(e.length===0||n<=0)return[];let f=e[e.length-1].runningLength,g=af(a.taper,n,f),y=af(l.taper,n,f),w=(n*r)**2,S=[],C=[],k=vb(e,i,n),V=ef(n,o,e[e.length-1].pressure,s),I,P=e[0].vector,R=e[0].point,T=R,D=R,F=T,L=!1;for(let G=0;G<e.length;G++){let{pressure:fe}=e[G],{point:de,vector:j,distance:le,runningLength:Ne}=e[G],ut=G===e.length-1;if(!ut&&f-Ne<3)continue;o?(i&&(fe=uf(k,le,n)),V=ef(n,o,fe,s)):V=n/2,I===void 0&&(I=V);let Un=Ne<g?h(Ne/g):1,xi=f-Ne<y?u((f-Ne)/y):1;V=Math.max(.01,V*Math.min(Un,xi));let A=(ut?e[G]:e[G+1]).vector,x=ut?1:nf(j,A),$=nf(j,P)<0&&!L,N=x!==null&&x<0;if($||N){ka(ye,P),xa(ye,ye,V);for(let Z=0;Z<=1;Z+=.07692307692307693)Va(Pt,de,ye),of(Pt,Pt,de,Pr*Z),D=[Pt[0],Pt[1]],S.push(D),tf(xt,de,ye),of(xt,xt,de,Pr*-Z),F=[xt[0],xt[1]],C.push(F);R=D,T=F,N&&(L=!0);continue}if(L=!1,ut){ka(ye,j),xa(ye,ye,V),S.push(Vt(de,ye)),C.push(ct(de,ye));continue}db(ye,A,j,x),ka(ye,ye),xa(ye,ye,V),Va(Pt,de,ye),D=[Pt[0],Pt[1]],(G<=1||rf(R,D)>w)&&(S.push(D),R=D),tf(xt,de,ye),F=[xt[0],xt[1]],(G<=1||rf(T,F)>w)&&(C.push(F),T=F),k=fe,P=j}let M=[e[0].point[0],e[0].point[1]],Y=e.length>1?[e[e.length-1].point[0],e[e.length-1].point[1]]:ct(e[0].point,[1,1]),B=[],K=[];if(e.length===1){if(!(g||y)||c)return fb(M,I||V)}else{g||y&&e.length===1||(d?B.push(...hb(M,C[0],13)):B.push(...pb(M,S[0],C[0])));let G=df(sb(e[e.length-1].vector));y||g&&e.length===1?K.push(Y):p?K.push(...gb(Y,G,V,29)):K.push(...mb(Y,G,V))}return S.concat(K,C.reverse(),B)}var lf=[0,0];function cf(e){return e!=null&&e>=0}function bb(e,t={}){var p;let{streamline:n=.5,size:r=16,last:o=!1}=t;if(e.length===0)return[];let i=.15+(1-n)*.85,s=Array.isArray(e[0])?e:e.map(({x:u,y:f,pressure:g=Jd})=>[u,f,g]);if(s.length===2){let u=s[1];s=s.slice(0,-1);for(let f=1;f<5;f++)s.push(sf(s[0],u,f/4))}s.length===1&&(s=[...s,[...ct(s[0],Qd),...s[0].slice(2)]]);let a=[{point:[s[0][0],s[0][1]],pressure:cf(s[0][2])?s[0][2]:.25,vector:[...Qd],distance:0,runningLength:0}],l=!1,c=0,d=a[0],h=s.length-1;for(let u=1;u<s.length;u++){let f=o&&u===h?[s[u][0],s[u][1]]:sf(d.point,s[u],i);if(lb(d.point,f))continue;let g=ub(f,d.point);if(c+=g,u<h&&!l){if(c<r)continue;l=!0}Va(lf,d.point,f),d={point:f,pressure:cf(s[u][2])?s[u][2]:Jd,vector:ff(lf),distance:g,runningLength:c},a.push(d)}return a[0].vector=((p=a[1])==null?void 0:p.vector)||[0,0],a}function Eb(e,t={}){return yb(bb(e,t),t)}var pf=Eb;var Cb=X("signature-pad").parts("root","control","segment","segmentPath","guide","clearTrigger","label"),an=Cb.build(),Tb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`signature-${e.id}`},mf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`signature-control-${e.id}`},wb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`signature-label-${e.id}`},gf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`signature-input-${e.id}`},Si=e=>e.getById(mf(e)),Ib=e=>pn(Si(e),"[data-part=segment]"),vf=(e,t)=>Ua(Ib(e),t);function yf(e,t){let{state:n,send:r,prop:o,computed:i,context:s,scope:a}=e,l=n.matches("drawing"),c=i("isEmpty"),d=i("isInteractive"),h=!!o("disabled"),p=!!o("required"),u=o("translations");return{empty:c,drawing:l,currentPath:s.get("currentPath"),paths:s.get("paths"),clear(){r({type:"CLEAR"})},getDataUrl(f,g){return i("isEmpty")?Promise.resolve(""):vf(a,{type:f,quality:g})},getLabelProps(){return t.label(v(m({},an.label.attrs),{id:wb(a),"data-disabled":b(h),"data-required":b(p),htmlFor:gf(a),onClick(f){if(!d||f.defaultPrevented)return;let g=Si(a);g==null||g.focus({preventScroll:!0})}}))},getRootProps(){return t.element(v(m({},an.root.attrs),{"data-disabled":b(h),id:Tb(a)}))},getControlProps(){return t.element(v(m({},an.control.attrs),{tabIndex:h?void 0:0,id:mf(a),role:"application","aria-roledescription":"signature pad","aria-label":u.control,"aria-disabled":h,"data-disabled":b(h),onPointerDown(f){if(!Dt(f)||Ya(f)||!d)return;let g=z(f);if(g!=null&&g.closest("[data-part=clear-trigger]"))return;f.currentTarget.setPointerCapture(f.pointerId);let y={x:f.clientX,y:f.clientY},w=Si(a);if(!w)return;let{offset:S}=ji(y,w);r({type:"POINTER_DOWN",point:S,pressure:f.pressure})},onPointerUp(f){d&&f.currentTarget.hasPointerCapture(f.pointerId)&&f.currentTarget.releasePointerCapture(f.pointerId)},style:{position:"relative",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getSegmentProps(){return t.svg(v(m({},an.segment.attrs),{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",fill:o("drawing").fill}}))},getSegmentPathProps(f){return t.path(v(m({},an.segmentPath.attrs),{d:f.path}))},getGuideProps(){return t.element(v(m({},an.guide.attrs),{"data-disabled":b(h)}))},getClearTriggerProps(){return t.button(v(m({},an.clearTrigger.attrs),{type:"button","aria-label":u.clearTrigger,hidden:!s.get("paths").length||l,disabled:h,onClick(){r({type:"CLEAR"})}}))},getHiddenInputProps(f){return t.input({id:gf(a),type:"text",hidden:!0,disabled:h,required:o("required"),readOnly:!0,name:o("name"),value:f.value})}}}var Ii=(e,t)=>(e+t)/2;function Sb(e,t=!0){let n=e.length;if(n<4)return"";let r=e[0],o=e[1],i=e[2],s=`M${r[0].toFixed(2)},${r[1].toFixed(2)} Q${o[0].toFixed(2)},${o[1].toFixed(2)} ${Ii(o[0],i[0]).toFixed(2)},${Ii(o[1],i[1]).toFixed(2)} T`;for(let a=2,l=n-1;a<l;a++)r=e[a],o=e[a+1],s+=`${Ii(r[0],o[0]).toFixed(2)},${Ii(r[1],o[1]).toFixed(2)} `;return t&&(s+="Z"),s}var bf={props({props:e}){return v(m({defaultPaths:[]},e),{drawing:m({size:2,simulatePressure:!1,thinning:.7,smoothing:.4,streamline:.6},e.drawing),translations:m({control:"signature pad",clearTrigger:"clear signature"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{paths:t(()=>({defaultValue:e("defaultPaths"),value:e("paths"),sync:!0,onChange(n){var r;(r=e("onDraw"))==null||r({paths:n})}})),currentPoints:t(()=>({defaultValue:[]})),currentPath:t(()=>({defaultValue:null}))}},computed:{isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),isEmpty:({context:e})=>e.get("paths").length===0},on:{CLEAR:{actions:["clearPoints","invokeOnDrawEnd","focusCanvasEl"]}},states:{idle:{on:{POINTER_DOWN:{target:"drawing",actions:["addPoint"]}}},drawing:{effects:["trackPointerMove"],on:{POINTER_MOVE:{actions:["addPoint","invokeOnDraw"]},POINTER_UP:{target:"idle",actions:["endStroke","invokeOnDrawEnd"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){let n=e.getDoc();return ol(n,{onPointerMove({event:r,point:o}){let i=Si(e);if(!i)return;let{offset:s}=ji(o,i);t({type:"POINTER_MOVE",point:s,pressure:r.pressure})},onPointerUp(){t({type:"POINTER_UP"})}})}},actions:{addPoint({context:e,event:t,prop:n}){let r=[...e.get("currentPoints"),t.point];e.set("currentPoints",r);let o=pf(r,n("drawing"));e.set("currentPath",Sb(o))},endStroke({context:e}){let t=[...e.get("paths"),e.get("currentPath")];e.set("paths",t),e.set("currentPoints",[]),e.set("currentPath",null)},clearPoints({context:e}){e.set("currentPoints",[]),e.set("paths",[]),e.set("currentPath",null)},focusCanvasEl({scope:e}){queueMicrotask(()=>{var t;(t=e.getActiveElement())==null||t.focus({preventScroll:!0})})},invokeOnDraw({context:e,prop:t}){var n;(n=t("onDraw"))==null||n({paths:[...e.get("paths"),e.get("currentPath")]})},invokeOnDrawEnd({context:e,prop:t,scope:n,computed:r}){var o;(o=t("onDrawEnd"))==null||o({paths:[...e.get("paths")],getDataUrl(i,s=.92){return r("isEmpty")?Promise.resolve(""):vf(n,{type:i,quality:s})}})}}}},Ob=U()(["defaultPaths","dir","disabled","drawing","getRootNode","id","ids","name","onDraw","onDrawEnd","paths","readOnly","required","translations"]),hS=q(Ob);var Oi=class extends Q{constructor(){super(...arguments);W(this,"imageURL","");W(this,"syncPaths",()=>{let n=this.el.querySelector('[data-scope="signature-pad"][data-part="segment"]');if(!n)return;if(this.api.paths.length+(this.api.currentPath?1:0)===0){Array.from(n.querySelectorAll("path")).forEach(a=>n.removeChild(a)),this.imageURL="";return}let o=Array.from(n.querySelectorAll('[data-scope="signature-pad"][data-part="path"], [data-scope="signature-pad"][data-part="current-path"]')),i=[],s=[];for(o.forEach(a=>{(a.getAttribute("data-part")==="current-path"?s:i).push(a)});i.length>this.api.paths.length;){let a=i.pop();a&&n.removeChild(a)}if(this.api.paths.forEach((a,l)=>{let c=i[l];c||(c=document.createElementNS("http://www.w3.org/2000/svg","path"),c.setAttribute("data-scope","signature-pad"),c.setAttribute("data-part","path"),n.appendChild(c)),this.spreadProps(c,this.api.getSegmentPathProps({path:a}))}),this.api.currentPath){let a=s[0];a||(a=document.createElementNS("http://www.w3.org/2000/svg","path"),a.setAttribute("data-scope","signature-pad"),a.setAttribute("data-part","current-path"),n.appendChild(a)),this.spreadProps(a,this.api.getSegmentPathProps({path:this.api.currentPath}))}else s.forEach(a=>n.removeChild(a))})}initMachine(n){return new re(bf,n)}initApi(){return yf(this.machine.service,ne)}render(){let n=this.el.querySelector('[data-scope="signature-pad"][data-part="root"]');if(!n)return;this.spreadProps(n,this.api.getRootProps());let r=n.querySelector('[data-scope="signature-pad"][data-part="label"]');r&&this.spreadProps(r,this.api.getLabelProps());let o=n.querySelector('[data-scope="signature-pad"][data-part="control"]');o&&this.spreadProps(o,this.api.getControlProps());let i=n.querySelector('[data-scope="signature-pad"][data-part="segment"]');i&&this.spreadProps(i,this.api.getSegmentProps());let s=n.querySelector('[data-scope="signature-pad"][data-part="guide"]');s&&this.spreadProps(s,this.api.getGuideProps());let a=n.querySelector('[data-scope="signature-pad"][data-part="clear-trigger"]');a&&this.spreadProps(a,this.api.getClearTriggerProps());let l=n.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');l&&this.spreadProps(l,this.api.getHiddenInputProps({value:this.imageURL})),this.syncPaths()}};var Pi={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Oi(e,{id:e.id,drawing:{fill:O(e,"drawingFill"),size:xe(e,"drawingSize"),simulatePressure:E(e,"drawingSimulatePressure")},onDrawEnd:r=>{r.getDataUrl("image/png").then(o=>{n.imageURL=o;let i=O(e,"onDrawEnd");i&&this.liveSocket.main.isConnected()&&t(i,{id:e.id,paths:r.paths,url:o});let s=O(e,"onDrawEndClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,paths:r.paths,url:o}}))})}});n.init(),this.signaturePad=n,this.onClear=r=>{let{id:o}=r.detail;o&&o!==e.id||n.api.clear()},e.addEventListener("phx:signature-pad:clear",this.onClear),this.handlers=[],this.handlers.push(this.handleEvent("signature_pad_clear",r=>{let o=r.signature_pad_id;o&&o!==e.id||n.api.clear()}))},updated(){var e;(e=this.signaturePad)==null||e.updateProps({id:this.el.id,drawing:{fill:O(this.el,"drawingFill")||"black",size:xe(this.el,"drawingSize")||2,simulatePressure:E(this.el,"drawingSimulatePressure")}})},destroyed(){var e;if(this.onClear&&this.el.removeEventListener("phx:signature-pad:clear",this.onClear),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.signaturePad)==null||e.destroy()}};var Pb={Accordion:ao,ToggleGroup:ho,Toast:lo,Select:xo,Switch:Ro,Combobox:Ho,Checkbox:qo,Tabs:jo,Clipboard:Yo,Collapsible:Xo,Dialog:ni,DatePicker:wi,SignaturePad:Pi},xb=Pb;return Df(kb);})();
