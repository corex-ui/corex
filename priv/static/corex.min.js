"use strict";var Corex=(()=>{var Jr=Object.defineProperty,jf=Object.defineProperties,Xf=Object.getOwnPropertyDescriptor,Zf=Object.getOwnPropertyDescriptors,Jf=Object.getOwnPropertyNames,Zr=Object.getOwnPropertySymbols;var za=Object.prototype.hasOwnProperty,mc=Object.prototype.propertyIsEnumerable;var Wa=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Qf=e=>{throw TypeError(e)};var Ka=(e,t,n)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))za.call(t,n)&&Ka(e,n,t[n]);if(Zr)for(var n of Zr(t))mc.call(t,n)&&Ka(e,n,t[n]);return e},y=(e,t)=>jf(e,Zf(t));var yt=(e,t)=>{var n={};for(var i in e)za.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Zr)for(var i of Zr(e))t.indexOf(i)<0&&mc.call(e,i)&&(n[i]=e[i]);return n};var re=(e,t)=>()=>(e&&(t=e(e=0)),t);var ge=(e,t)=>{for(var n in t)Jr(e,n,{get:t[n],enumerable:!0})},em=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Jf(t))!za.call(e,r)&&r!==n&&Jr(e,r,{get:()=>t[r],enumerable:!(i=Xf(t,r))||i.enumerable});return e};var tm=e=>em(Jr({},"__esModule",{value:!0}),e);var Y=(e,t,n)=>Ka(e,typeof t!="symbol"?t+"":t,n);var xe=(e,t,n)=>new Promise((i,r)=>{var s=l=>{try{o(n.next(l))}catch(c){r(c)}},a=l=>{try{o(n.throw(l))}catch(c){r(c)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(e,t)).next())}),nm=function(e,t){this[0]=e,this[1]=t};var vc=e=>{var t=e[Wa("asyncIterator")],n=!1,i,r={};return t==null?(t=e[Wa("iterator")](),i=s=>r[s]=a=>t[s](a)):(t=t.call(e),i=s=>r[s]=a=>{if(n){if(n=!1,s==="throw")throw a;return a}return n=!0,{done:!1,value:new nm(new Promise(o=>{var l=t[s](a);l instanceof Object||Qf("Object expected"),o(l)}),1)}}),r[Wa("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=s=>{throw s},"return"in t&&i("return"),r};function Ve(e){let t=e.dataset.dir;if(t!==void 0&&im.includes(t))return t;let n=document.documentElement.getAttribute("dir");return n==="ltr"||n==="rtl"?n:"ltr"}function vi(e){if(e)try{if(e.ownerDocument.activeElement!==e)return;let t=e.value.length;e.setSelectionRange(t,t)}catch(t){}}function hm(e){return["html","body","#document"].includes(Ac(e))}function as(e){if(!e)return!1;let t=e.getRootNode();return pn(t)===e}function Vt(e){if(e==null||!de(e))return!1;try{return pm(e)&&e.selectionStart!=null||mm.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch(t){return!1}}function ue(e,t){var i;if(!e||!t||!de(e)||!de(t))return!1;let n=(i=t.getRootNode)==null?void 0:i.call(t);if(e===t||e.contains(t))return!0;if(n&&Un(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Re(e){var t;return cr(e)?e:um(e)?e.document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function vm(e){return Re(e).documentElement}function he(e){var t,n,i;return Un(e)?he(e.host):cr(e)?(t=e.defaultView)!=null?t:window:de(e)&&(i=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?i:window}function pn(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function ym(e){if(Ac(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Un(e)&&e.host||vm(e);return Un(t)?t.host:t}function no(e){var n;let t;try{if(t=e.getRootNode({composed:!0}),cr(t)||Un(t))return t}catch(i){}return(n=e.ownerDocument)!=null?n:document}function lt(e){return Xa.has(e)||Xa.set(e,he(e).getComputedStyle(e)),Xa.get(e)}function hs(e,t){let n=new Set,i=no(e),r=s=>{let a=s.querySelectorAll("[aria-controls]");for(let o of a){if(o.getAttribute("aria-expanded")!=="true")continue;let l=Nc(o);for(let c of l){if(!c||n.has(c))continue;n.add(c);let d=i.getElementById(c);if(d){let h=d.getAttribute("role"),m=d.getAttribute("aria-modal")==="true";if(h&&bm(h)&&!m&&(d===t||d.contains(t)||r(d)))return!0}}}return!1};return r(e)}function ro(e,t){let n=no(e),i=new Set,r=s=>{let a=s.querySelectorAll("[aria-controls]");for(let o of a){if(o.getAttribute("aria-expanded")!=="true")continue;let l=Nc(o);for(let c of l){if(!c||i.has(c))continue;i.add(c);let d=n.getElementById(c);if(d){let h=d.getAttribute("role"),m=d.getAttribute("aria-modal")==="true";h&&io.has(h)&&!m&&(t(d),r(d))}}}};r(e)}function Rc(e){let t=new Set;return ro(e,n=>{e.contains(n)||t.add(n)}),Array.from(t)}function Em(e){let t=e.getAttribute("role");return!!(t&&io.has(t))}function Im(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Dc(e){var t;return Im(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function Lc(e){if(!e.id)return!1;let t=no(e),n=CSS.escape(e.id),i=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(t.querySelector(i)&&Em(e))}function Mc(e,t){let{type:n,quality:i=.92,background:r}=t;if(!e)throw new Error("[zag-js > getDataUrl]: Could not find the svg element");let s=he(e),a=s.document,o=e.getBoundingClientRect(),l=e.cloneNode(!0);l.hasAttribute("viewBox")||l.setAttribute("viewBox",`0 0 ${o.width} ${o.height}`);let d=`<?xml version="1.0" standalone="no"?>\r
`+new s.XMLSerializer().serializeToString(l),h="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(d);if(n==="image/svg+xml")return Promise.resolve(h).then(I=>(l.remove(),I));let m=s.devicePixelRatio||1,u=a.createElement("canvas"),p=new s.Image;p.src=h,u.width=o.width*m,u.height=o.height*m;let v=u.getContext("2d");return(n==="image/jpeg"||r)&&(v.fillStyle=r||"white",v.fillRect(0,0,u.width,u.height)),new Promise(I=>{p.onload=()=>{v==null||v.drawImage(p,0,0,u.width,u.height),I(u.toDataURL(n,i)),l.remove()}})}function Cm(){var t;let e=navigator.userAgentData;return(t=e==null?void 0:e.platform)!=null?t:navigator.platform}function Pm(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function $c(e){let{selectionStart:t,selectionEnd:n,value:i}=e.currentTarget,r=e.data;return i.slice(0,t)+(r!=null?r:"")+i.slice(n)}function xm(e){var t,n,i,r;return(r=(t=e.composedPath)==null?void 0:t.call(e))!=null?r:(i=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n)}function j(e){var n;let t=xm(e);return(n=t==null?void 0:t[0])!=null?n:e.target}function Wn(e){let t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;let i=e.button===1,r=ps(e);return i||r}function ur(e){let t=e.currentTarget;if(!t)return!1;let n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function De(e){return bt(e).isComposing||e.keyCode===229}function ps(e){return yi()?e.metaKey:e.ctrlKey}function Hc(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function Bc(e){return e.pointerType===""&&e.isTrusted?!0:Vm()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function pe(e,t={}){var a;let{dir:n="ltr",orientation:i="horizontal"}=t,r=e.key;return r=(a=Am[r])!=null?a:r,n==="rtl"&&i==="horizontal"&&r in bc&&(r=bc[r]),r}function bt(e){var t;return(t=e.nativeEvent)!=null?t:e}function Ei(e){return e.ctrlKey||e.metaKey?.1:Nm.has(e.key)||e.shiftKey&&Rm.has(e.key)?10:1}function Qe(e,t="client"){let n=km(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}function _c(e,t){var s;let{type:n="HTMLInputElement",property:i="value"}=t,r=he(e)[n].prototype;return(s=Object.getOwnPropertyDescriptor(r,i))!=null?s:{}}function Dm(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Fe(e,t,n="value"){var r;if(!e)return;let i=Dm(e);i&&((r=_c(e,{type:i,property:n}).set)==null||r.call(e,t)),e.setAttribute(n,t)}function hr(e,t){var i;if(!e)return;(i=_c(e,{type:"HTMLInputElement",property:"checked"}).set)==null||i.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function Gc(e,t){let{value:n,bubbles:i=!0}=t;if(!e)return;let r=he(e);if(!(e instanceof r.HTMLInputElement))return;Fe(e,`${n}`);let s=new r.Event("input",{bubbles:i});e.dispatchEvent(fs(s))}function Ii(e,t){let{checked:n,bubbles:i=!0}=t;if(!e)return;let r=he(e);if(!(e instanceof r.HTMLInputElement))return;hr(e,n);let s=new r.Event("click",{bubbles:i});e.dispatchEvent(fs(s))}function Lm(e){return e.matches("textarea, input, select, button")}function Mm(e,t){if(!e)return;let n=Lm(e)?e.form:e.closest("form"),i=r=>{r.defaultPrevented||t()};return n==null||n.addEventListener("reset",i,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",i)}function Fm(e,t){let n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);let i=he(n),r=new i.MutationObserver(()=>t(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function xt(e,t){if(!e)return;let{onFieldsetDisabledChange:n,onFormReset:i}=t,r=[Mm(e,i),Fm(e,n)];return()=>r.forEach(s=>s==null?void 0:s())}function lo(e){return Object.prototype.hasOwnProperty.call(e,Uc)}function fs(e){return lo(e)||Object.defineProperty(e,Uc,{value:!0}),e}function Wc(e){let t=e.getAttribute("tabindex");return t?parseInt(t,10):NaN}function _m(e,t){if(!t)return null;if(t===!0)return e.shadowRoot||null;let n=t(e);return(n===!0?e.shadowRoot:n)||null}function Kc(e,t,n){let i=[...e],r=[...e],s=new Set,a=new Map;e.forEach((l,c)=>a.set(l,c));let o=0;for(;o<r.length;){let l=r[o++];if(!l||s.has(l))continue;s.add(l);let c=_m(l,t);if(c){let d=Array.from(c.querySelectorAll(ms)).filter(n),h=a.get(l);if(h!==void 0){let m=h+1;i.splice(m,0,...d),d.forEach((u,p)=>{a.set(u,m+p)});for(let u=m+d.length;u<i.length;u++)a.set(i[u],u)}else{let m=i.length;i.push(...d),d.forEach((u,p)=>{a.set(u,m+p)})}r.push(...d)}}return i}function Je(e){return!de(e)||e.closest("[inert]")?!1:e.matches(ms)&&fm(e)}function Xt(e,t={}){if(!e)return[];let{includeContainer:n,getShadowRoot:i}=t,r=Array.from(e.querySelectorAll(ms));n&&gn(e)&&r.unshift(e);let s=[];for(let a of r)if(gn(a)){if(qc(a)&&a.contentDocument){let o=a.contentDocument.body;s.push(...Xt(o,{getShadowRoot:i}));continue}s.push(a)}if(i){let a=Kc(s,i,gn);return!a.length&&n?r:a}return!s.length&&n?r:s}function gn(e){return de(e)&&e.tabIndex>0?!0:Je(e)&&!Bm(e)}function Gm(e,t={}){let n=Xt(e,t),i=n[0]||null,r=n[n.length-1]||null;return[i,r]}function Ci(e){return e.tabIndex<0&&($m.test(e.localName)||Vt(e))&&!Hm(e)?0:e.tabIndex}function vs(e){let{root:t,getInitialEl:n,filter:i,enabled:r=!0}=e;if(!r)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!s){let a=Xt(t);s=i?a.filter(i)[0]:a[0]}return s||t||void 0}function ys(e){let t=e.currentTarget;if(!t)return!1;let[n,i]=Gm(t);return!(as(n)&&e.shiftKey||as(i)&&!e.shiftKey||!n&&!i)}function H(e){let t=co.create();return t.request(e),t.cleanup}function Kn(e){let t=new Set;function n(i){let r=globalThis.requestAnimationFrame(i);t.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(e)),function(){t.forEach(r=>r())}}function Um(e,t,n){let i=H(()=>{e.removeEventListener(t,r,!0),n()}),r=()=>{i(),n()};return e.addEventListener(t,r,{once:!0,capture:!0}),i}function qm(e,t){if(!e)return;let{attributes:n,callback:i}=t,r=e.ownerDocument.defaultView||window,s=new r.MutationObserver(a=>{for(let o of a)o.type==="attributes"&&o.attributeName&&n.includes(o.attributeName)&&i(o)});return s.observe(e,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function ct(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(qm(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Wm(e,t){let{callback:n}=t;if(!e)return;let i=e.ownerDocument.defaultView||window,r=new i.MutationObserver(n);return r.observe(e,{childList:!0,subtree:!0}),()=>r.disconnect()}function bs(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(Wm(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Pi(e){let t=()=>{let n=he(e);e.dispatchEvent(new n.MouseEvent("click"))};wm()?Um(e,"keyup",t):queueMicrotask(t)}function Es(e){let t=ym(e);return hm(t)?Re(t).body:de(t)&&Yc(t)?t:Es(t)}function Yc(e){let t=he(e),{overflow:n,overflowX:i,overflowY:r,display:s}=t.getComputedStyle(e);return Km.test(n+r+i)&&!zm.has(s)}function Ym(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Zt(e,t){let r=t||{},{rootEl:n}=r,i=yt(r,["rootEl"]);!e||!n||!Yc(n)||!Ym(n)||e.scrollIntoView(i)}function uo(e,t){let{left:n,top:i,width:r,height:s}=t.getBoundingClientRect(),a={x:e.x-n,y:e.y-i},o={x:yc(a.x/r),y:yc(a.y/s)};function l(c={}){let{dir:d="ltr",orientation:h="horizontal",inverted:m}=c,u=typeof m=="object"?m.x:m,p=typeof m=="object"?m.y:m;return h==="horizontal"?d==="rtl"||u?1-o.x:o.x:p?1-o.y:o.y}return{offset:a,percent:o,getPercentValue:l}}function jc(e,t){let n=e.body,i="pointerLockElement"in e||"mozPointerLockElement"in e,r=()=>!!e.pointerLockElement;function s(){t==null||t(r())}function a(l){r()&&(t==null||t(!1)),console.error("PointerLock error occurred:",l),e.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch(l){}let o=[Q(e,"pointerlockchange",s,!1),Q(e,"pointerlockerror",a,!1)];return()=>{o.forEach(l=>l()),e.exitPointerLock()}}function jm(e={}){let{target:t,doc:n}=e,i=n!=null?n:document,r=i.documentElement;return dr()?(mi==="default"&&(Ja=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),mi="disabled"):t&&(ns.set(t,t.style.userSelect),t.style.userSelect="none"),()=>ho({target:t,doc:i})}function ho(e={}){let{target:t,doc:n}=e,r=(n!=null?n:document).documentElement;if(dr()){if(mi!=="disabled")return;mi="restoring",setTimeout(()=>{Kn(()=>{mi==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=Ja||""),Ja="",mi="default")})},300)}else if(t&&ns.has(t)){let s=ns.get(t);t.style.userSelect==="none"&&(t.style.userSelect=s!=null?s:""),t.getAttribute("style")===""&&t.removeAttribute("style"),ns.delete(t)}}function go(e={}){let a=e,{defer:t,target:n}=a,i=yt(a,["defer","target"]),r=t?H:o=>o(),s=[];return s.push(r(()=>{let o=typeof n=="function"?n():n;s.push(jm(y(g({},i),{target:o})))})),()=>{s.forEach(o=>o==null?void 0:o())}}function fn(e,t){let{onPointerMove:n,onPointerUp:i}=t,r=o=>{let l=Qe(o),c=Math.sqrt(l.x**2+l.y**2),d=o.pointerType==="touch"?10:5;if(!(c<d)){if(o.pointerType==="mouse"&&o.buttons===0){s(o);return}n({point:l,event:o})}},s=o=>{let l=Qe(o);i({point:l,event:o})},a=[Q(e,"pointermove",r,!1),Q(e,"pointerup",s,!1),Q(e,"pointercancel",s,!1),Q(e,"contextmenu",s,!1),go({doc:e})];return()=>{a.forEach(o=>o())}}function Is(e){let{pointerNode:t,keyboardNode:n=t,onPress:i,onPressStart:r,onPressEnd:s,isValidKey:a=w=>w.key==="Enter"}=e;if(!t)return Kt;let o=he(t),l=Kt,c=Kt,d=Kt,h=w=>({point:Qe(w),event:w});function m(w){r==null||r(h(w))}function u(w){s==null||s(h(w))}let v=Q(t,"pointerdown",w=>{c();let f=Q(o,"pointerup",C=>{let V=j(C);ue(t,V)?i==null||i(h(C)):s==null||s(h(C))},{passive:!i,once:!0}),S=Q(o,"pointercancel",u,{passive:!s,once:!0});c=ja(f,S),as(n)&&w.pointerType==="mouse"&&w.preventDefault(),m(w)},{passive:!r}),I=Q(n,"focus",T);l=ja(v,I);function T(){let w=C=>{if(!a(C))return;let V=x=>{if(!a(x))return;let A=new o.PointerEvent("pointerup"),N=h(A);i==null||i(N),s==null||s(N)};c(),c=Q(n,"keyup",V);let k=new o.PointerEvent("pointerdown");m(k)},b=()=>{let C=new o.PointerEvent("pointercancel");u(C)},f=Q(n,"keydown",w),S=Q(n,"blur",b);d=ja(f,S)}return()=>{l(),c(),d()}}function $e(e,t){var n;return Array.from((n=e==null?void 0:e.querySelectorAll(t))!=null?n:[])}function Si(e,t){var n;return(n=e==null?void 0:e.querySelector(t))!=null?n:null}function fo(e,t,n=po){return e.find(i=>n(i)===t)}function mo(e,t,n=po){let i=fo(e,t,n);return i?e.indexOf(i):-1}function Ti(e,t,n=!0){let i=mo(e,t);return i=n?(i+1)%e.length:Math.min(i+1,e.length-1),e[i]}function Oi(e,t,n=!0){let i=mo(e,t);return i===-1?n?e[e.length-1]:null:(i=n?(i-1+e.length)%e.length:Math.max(0,i-1),e[i])}function Xm(e){let t=new WeakMap,n,i=new WeakMap,r=o=>n||(n=new o.ResizeObserver(l=>{for(let c of l){i.set(c.target,c);let d=t.get(c.target);if(d)for(let h of d)h(c)}}),n);return{observe:(o,l)=>{let c=t.get(o)||new Set;c.add(l),t.set(o,c);let d=he(o);return r(d).observe(o,e),()=>{let h=t.get(o);h&&(h.delete(l),h.size===0&&(t.delete(o),r(d).unobserve(o)))}},unobserve:o=>{t.delete(o),n==null||n.unobserve(o)}}}function ev(e,t,n,i=po){let r=n?mo(e,n,i):-1,s=n?om(e,r):e;return t.length===1&&(s=s.filter(o=>i(o)!==n)),s.find(o=>Qm(Jm(o),t))}function Xc(e,t,n){let i=e.getAttribute(t),r=i!=null;return i===n?Kt:(e.setAttribute(t,n),()=>{r?e.setAttribute(t,i):e.removeAttribute(t)})}function zn(e,t){if(!e)return Kt;let n=Object.keys(t).reduce((i,r)=>(i[r]=e.style.getPropertyValue(r),i),{});return tv(n,t)?Kt:(Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")})}function Zc(e,t,n){if(!e)return Kt;let i=e.style.getPropertyValue(t);return i===n?Kt:(e.style.setProperty(t,n),()=>{e.style.setProperty(t,i),e.style.length===0&&e.removeAttribute("style")})}function tv(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function nv(e,t){let{state:n,activeId:i,key:r,timeout:s=350,itemToId:a}=t,o=n.keysSoFar+r,c=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,d=e.slice(),h=ev(d,c,i,a);function m(){clearTimeout(n.timer),n.timer=-1}function u(p){n.keysSoFar=p,m(),p!==""&&(n.timer=+setTimeout(()=>{u(""),m()},s))}return u(o),h}function iv(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function rv(e,t,n){let{signal:i}=t;return[new Promise((a,o)=>{let l=setTimeout(()=>{o(new Error(`Timeout of ${n}ms exceeded`))},n);i.addEventListener("abort",()=>{clearTimeout(l),o(new Error("Promise aborted"))}),e.then(c=>{i.aborted||(clearTimeout(l),a(c))}).catch(c=>{i.aborted||(clearTimeout(l),o(c))})}),()=>t.abort()]}function Jc(e,t){let{timeout:n,rootNode:i}=t,r=he(i),s=Re(i),a=new r.AbortController;return rv(new Promise(o=>{let l=e();if(l){o(l);return}let c=new r.MutationObserver(()=>{let d=e();d&&d.isConnected&&(c.disconnect(),o(d))});c.observe(s.body,{childList:!0,subtree:!0})}),a,n)}function pr(e){return e==null?[]:Array.isArray(e)?e:[e]}function wi(e,t,n={}){let{step:i=1,loop:r=!0}=n,s=t+i,a=e.length,o=a-1;return t===-1?i>0?0:o:s<0?r?o:0:s>=a?r?0:t>a?a:t:s}function ed(e,t,n={}){return e[wi(e,t,n)]}function fr(e,t,n={}){let{step:i=1,loop:r=!0}=n;return wi(e,t,{step:-i,loop:r})}function td(e,t,n={}){return e[fr(e,t,n)]}function mr(e,t){return e.reduce((n,i,r)=>{var s;return r%t===0?n.push([i]):(s=Et(n))==null||s.push(i),n},[])}function vo(e,t){return e.reduce(([n,i],r)=>(t(r)?n.push(r):i.push(r),[n,i]),[[],[]])}function Se(e,t,...n){var r;if(e in t){let s=t[e];return zt(s)?s(...n):s}let i=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(r=Error.captureStackTrace)==null||r.call(Error,i,Se),i}function od(e,t=0){let n=0,i=null;return(...r)=>{let s=Date.now(),a=s-n;a>=t?(i&&(clearTimeout(i),i=null),e(...r),n=s):i||(i=setTimeout(()=>{e(...r),n=Date.now(),i=null},t-a))}}function Ai(e){if(!or(e)||e===void 0)return e;let t=Reflect.ownKeys(e).filter(i=>typeof i=="string"),n={};for(let i of t){let r=e[i];r!==void 0&&(n[i]=Ai(r))}return n}function yn(e,t){let n={};for(let i of t){let r=e[i];r!==void 0&&(n[i]=r)}return n}function Iv(e,t){let n={},i={},r=new Set(t),s=Reflect.ownKeys(e);for(let a of s)r.has(a)?i[a]=e[a]:n[a]=e[a];return[i,n]}function yd(e,t){let n=new vd(({now:i,deltaMs:r})=>{if(r>=t){let s=t>0?i-r%t:i;n.setStartMs(s),e({startMs:s,deltaMs:r})}});return n.start(),()=>n.stop()}function bn(e,t){let n=new vd(({deltaMs:i})=>{if(i>=t)return e(),!1});return n.start(),()=>n.stop()}function jt(...e){let t=e.length===1?e[0]:e[1];(e.length===2?e[0]:!0)&&console.warn(t)}function Ss(...e){let t=e.length===1?e[0]:e[1];if(e.length===2?e[0]:!0)throw new Error(t)}function En(e,t){if(e==null)throw new Error(t())}function In(e,t,n){let i=[];for(let r of t)e[r]==null&&i.push(r);if(i.length>0)throw new Error(`[zag-js${n?` > ${n}`:""}] missing required props: ${i.join(", ")}`)}function bd(...e){let t={};for(let n of e){if(!n)continue;for(let r in t){if(r.startsWith("on")&&typeof t[r]=="function"&&typeof n[r]=="function"){t[r]=Nt(n[r],t[r]);continue}if(r==="className"||r==="class"){t[r]=Cv(t[r],n[r]);continue}if(r==="style"){t[r]=Sv(t[r],n[r]);continue}t[r]=n[r]!==void 0?n[r]:t[r]}for(let r in n)t[r]===void 0&&(t[r]=n[r]);let i=Object.getOwnPropertySymbols(n);for(let r of i)t[r]=n[r]}return t}function Yn(e,t,n){let i=[],r;return s=>{var l;let a=e(s);return(a.length!==i.length||a.some((c,d)=>!me(i[d],c)))&&(i=a,r=t(a,s),(l=n==null?void 0:n.onChange)==null||l.call(n,r)),r}}function Ie(){return{and:(...e)=>function(n){return e.every(i=>n.guard(i))},or:(...e)=>function(n){return e.some(i=>n.guard(i))},not:e=>function(n){return!n.guard(e)}}}function ht(){return{guards:Ie(),createMachine:e=>e,choose:e=>function({choose:n}){var i;return(i=n(e))==null?void 0:i.actions}}}function Tv(e){let t=()=>{var a,o;return(o=(a=e.getRootNode)==null?void 0:a.call(e))!=null?o:document},n=()=>Re(t()),i=()=>{var a;return(a=n().defaultView)!=null?a:window},r=()=>pn(t()),s=a=>t().getElementById(a);return y(g({},e),{getRootNode:t,getDoc:n,getWin:i,getActiveElement:r,isActiveElement:as,getById:s})}function Ov(e){return new Proxy({},{get(t,n){return n==="style"?i=>e({style:i}).style:e}})}function kv(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function Ed(e,t){let n=kv();return n?(n[e]||(n[e]=t()),n[e]):t()}function Ts(e={}){return Mv(e)}function ls(e,t,n){let i=Gn.get(e);os()&&!i&&console.warn("Please use proxy object");let r,s=[],a=i[3],o=!1,c=a(d=>{if(s.push(d),n){t(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,o&&t(s.splice(0))}))});return o=!0,()=>{o=!1,c()}}function Fv(e){let t=Gn.get(e);os()&&!t&&console.warn("Please use proxy object");let[n,i,r]=t;return r(n,i())}function qv(e,t,n){let i=n||"default",r=es.get(e);r||(r=new Map,es.set(e,r));let s=r.get(i)||{},a=Object.keys(t),o=(v,I)=>{e.addEventListener(v.toLowerCase(),I)},l=(v,I)=>{e.removeEventListener(v.toLowerCase(),I)},c=v=>v.startsWith("on"),d=v=>!v.startsWith("on"),h=v=>o(v.substring(2),t[v]),m=v=>l(v.substring(2),t[v]),u=v=>{let I=t[v],T=s[v];if(I!==T){if(v==="class"){e.className=I!=null?I:"";return}if(kc.has(v)){e[v]=I!=null?I:"";return}if(typeof I=="boolean"&&!v.includes("aria-")){e.toggleAttribute(ts(e,v),I);return}if(v==="children"){e.innerHTML=I;return}if(I!=null){e.setAttribute(ts(e,v),I);return}e.removeAttribute(ts(e,v))}};for(let v in s)t[v]==null&&(v==="class"?e.className="":kc.has(v)?e[v]="":e.removeAttribute(ts(e,v)));return Object.keys(s).filter(c).forEach(v=>{l(v.substring(2),s[v])}),a.filter(c).forEach(h),a.filter(d).forEach(u),r.set(i,t),function(){a.filter(c).forEach(m);let I=es.get(e);I&&(I.delete(i),I.size===0&&es.delete(e))}}function cs(e){var s,a;let t=(s=e().value)!=null?s:e().defaultValue;e().debug&&console.log(`[bindable > ${e().debug}] initial`,t);let n=(a=e().isEqual)!=null?a:Object.is,i=Ts({value:t}),r=()=>e().value!==void 0;return{initial:t,ref:i,get(){return r()?e().value:i.value},set(o){var d,h;let l=i.value,c=zt(o)?o(l):o;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:c,prev:l}),r()||(i.value=c),n(c,l)||(h=(d=e()).onChange)==null||h.call(d,c,l)},invoke(o,l){var c,d;(d=(c=e()).onChange)==null||d.call(c,o,l)},hash(o){var l,c,d;return(d=(c=(l=e()).hash)==null?void 0:c.call(l,o))!=null?d:String(o)}}}function Wv(e){let t={current:e};return{get(n){return t.current[n]},set(n,i){t.current[n]=i}}}function Id(e,t){if(!or(e)||!or(t))return t===void 0?e:t;let n=g({},e);for(let i of Object.keys(t)){let r=t[i],s=e[i];r!==void 0&&(or(s)&&or(r)?n[i]=Id(s,r):n[i]=r)}return n}var im,O,J,z,P,qn,U,fi,rm,sm,am,Ya,yc,om,ja,Kt,ds,us,E,X,lm,cm,dm,de,cr,um,Ac,gm,Un,pm,ot,fm,mm,Xa,io,bm,Nc,gs,so,Fc,Sm,ao,Tm,Om,dr,oo,yi,et,wm,Vm,fe,bi,ke,km,Am,bc,Nm,Rm,Q,Uc,qc,$m,Hm,Bm,ms,gr,co,Km,zm,mi,Ja,ns,po,mn,Zm,Jm,Qm,qe,kt,sv,Qc,av,hn,ov,Ec,lv,dt,Et,cv,tt,ut,It,Cs,Ct,Ic,dv,me,vn,nd,id,At,is,zt,rd,He,uv,sd,hv,or,gv,pv,fv,Yt,yo,mv,ad,Nt,vr,ld,Cc,cd,vv,yv,bv,Ev,Qa,Vi,dd,ud,hd,xi,Be,Pc,ki,gd,Ps,Sc,pd,fd,md,be,_,Qr,rs,vd,Cv,Pv,Tc,Sv,lr,Za,G,p0,wv,Oc,eo,Vv,xv,wc,ss,Av,Nv,Rv,Dv,to,Vc,os,Gn,Lv,Mv,$v,Hv,le,xc,Bv,_v,q,es,kc,Gv,Uv,ts,W,K,ae=re(()=>{"use strict";im=["ltr","rtl"];O=(e,t,n)=>{let i=e.dataset[t];if(i!==void 0&&(!n||n.includes(i)))return i},J=(e,t)=>{let n=e.dataset[t];if(typeof n=="string")return n.split(",").map(i=>i.trim()).filter(i=>i.length>0)},z=(e,t,n)=>{let i=e.dataset[t];if(i===void 0)return;let r=Number(i);if(!Number.isNaN(r))return n&&!n.includes(r)?0:r},P=(e,t)=>{let n=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.hasAttribute(`data-${n}`)},qn=(e,t="element")=>e!=null&&e.id?e.id:`${t}-${Math.random().toString(36).substring(2,9)}`,U=(e,t=[])=>({parts:(...n)=>{if(rm(t))return U(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>U(e,[...t,...n]),omit:(...n)=>U(e,t.filter(i=>!n.includes(i))),rename:n=>U(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${fi(e)}"][data-part="${fi(i)}"]`,`& [data-scope="${fi(e)}"][data-part="${fi(i)}"]`].join(", "),attrs:{"data-scope":fi(e),"data-part":fi(i)}}}),{})}),fi=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),rm=e=>e.length===0,sm=Object.defineProperty,am=(e,t,n)=>t in e?sm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ya=(e,t,n)=>am(e,typeof t!="symbol"?t+"":t,n);yc=e=>Math.max(0,Math.min(1,e)),om=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]),ja=(...e)=>t=>e.reduce((n,i)=>i(n),t),Kt=()=>{},ds=e=>typeof e=="object"&&e!==null,us=2147483647,E=e=>e?"":void 0,X=e=>e?"true":void 0,lm=1,cm=9,dm=11,de=e=>ds(e)&&e.nodeType===lm&&typeof e.nodeName=="string",cr=e=>ds(e)&&e.nodeType===cm,um=e=>ds(e)&&e===e.window,Ac=e=>de(e)?e.localName||"":"#document";gm=e=>ds(e)&&e.nodeType!==void 0,Un=e=>gm(e)&&e.nodeType===dm&&"host"in e,pm=e=>de(e)&&e.localName==="input",ot=e=>!!(e!=null&&e.matches("a[href]")),fm=e=>de(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;mm=/(textarea|select)/;Xa=new WeakMap;io=new Set(["menu","listbox","dialog","grid","tree","region"]),bm=e=>io.has(e),Nc=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};gs=()=>typeof document!="undefined";so=e=>gs()&&e.test(Cm()),Fc=e=>gs()&&e.test(Pm()),Sm=e=>gs()&&e.test(navigator.vendor),ao=()=>gs()&&!!navigator.maxTouchPoints,Tm=()=>so(/^iPhone/i),Om=()=>so(/^iPad/i)||yi()&&navigator.maxTouchPoints>1,dr=()=>Tm()||Om(),oo=()=>yi()||dr(),yi=()=>so(/^Mac/i),et=()=>oo()&&Sm(/apple/i),wm=()=>Fc(/Firefox/i),Vm=()=>Fc(/Android/i);fe=e=>e.button===0,bi=e=>e.button===2||yi()&&e.ctrlKey&&e.button===0,ke=e=>e.ctrlKey||e.altKey||e.metaKey,km=e=>"touches"in e&&e.touches.length>0,Am={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},bc={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};Nm=new Set(["PageUp","PageDown"]),Rm=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);Q=(e,t,n,i)=>{let r=typeof e=="function"?e():e;return r==null||r.addEventListener(t,n,i),()=>{r==null||r.removeEventListener(t,n,i)}};Uc=Symbol.for("zag.changeEvent");qc=e=>de(e)&&e.tagName==="IFRAME",$m=/^(audio|video|details)$/;Hm=e=>!Number.isNaN(Wc(e)),Bm=e=>Wc(e)<0;ms="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",gr=(e,t={})=>{if(!e)return[];let{includeContainer:n=!1,getShadowRoot:i}=t,r=Array.from(e.querySelectorAll(ms));(n==!0||n=="if-empty"&&r.length===0)&&de(e)&&Je(e)&&r.unshift(e);let a=[];for(let o of r)if(Je(o)){if(qc(o)&&o.contentDocument){let l=o.contentDocument.body;a.push(...gr(l,{getShadowRoot:i}));continue}a.push(o)}return i?Kc(a,i,Je):a};co=class zc{constructor(){Ya(this,"id",null),Ya(this,"fn_cleanup"),Ya(this,"cleanup",()=>{this.cancel()})}static create(){return new zc}request(t){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=t==null?void 0:t()})}cancel(){var t;this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),(t=this.fn_cleanup)==null||t.call(this),this.fn_cleanup=void 0}isActive(){return this.id!==null}};Km=/auto|scroll|overlay|hidden|clip/,zm=new Set(["inline","contents"]);mi="default",Ja="",ns=new WeakMap;po=e=>e.id;mn=Xm({box:"border-box"}),Zm=e=>e.split("").map(t=>{let n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Jm=e=>{var t,n,i;return Zm((i=(n=(t=e.dataset)==null?void 0:t.valuetext)!=null?n:e.textContent)!=null?i:"")},Qm=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());qe=Object.assign(nv,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:iv});kt={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};sv=Object.defineProperty,Qc=e=>{throw TypeError(e)},av=(e,t,n)=>t in e?sv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hn=(e,t,n)=>av(e,typeof t!="symbol"?t+"":t,n),ov=(e,t,n)=>t.has(e)||Qc("Cannot "+n),Ec=(e,t,n)=>(ov(e,t,"read from private field"),t.get(e)),lv=(e,t,n)=>t.has(e)?Qc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);dt=e=>e[0],Et=e=>e[e.length-1],cv=(e,t)=>e.indexOf(t)!==-1,tt=(e,...t)=>e.concat(t),ut=(e,...t)=>e.filter(n=>!t.includes(n)),It=e=>Array.from(new Set(e)),Cs=(e,t)=>{let n=new Set(t);return e.filter(i=>!n.has(i))},Ct=(e,t)=>cv(e,t)?ut(e,t):tt(e,t);Ic=e=>(e==null?void 0:e.constructor.name)==="Array",dv=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!me(e[n],t[n]))return!1;return!0},me=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(Ic(e)&&Ic(t))return dv(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(t!=null?t:Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(e,n[r]))return!1;for(let r=0;r<i;r++){let s=n[r];if(!me(e[s],t[s]))return!1}return!0},vn=e=>Array.isArray(e),nd=e=>e===!0||e===!1,id=e=>e!=null&&typeof e=="object",At=e=>id(e)&&!vn(e),is=e=>typeof e=="string",zt=e=>typeof e=="function",rd=e=>e==null,He=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),uv=e=>Object.prototype.toString.call(e),sd=Function.prototype.toString,hv=sd.call(Object),or=e=>{if(!id(e)||uv(e)!="[object Object]"||fv(e))return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let n=He(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&sd.call(n)==hv},gv=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,pv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,fv=e=>gv(e)||pv(e),Yt=(e,...t)=>{let n=typeof e=="function"?e(...t):e;return n!=null?n:void 0},yo=e=>e,mv=e=>e(),ad=()=>{},Nt=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},vr=(()=>{let e=0;return()=>(e++,e.toString(36))})();({floor:ld,abs:Cc,round:cd,min:vv,max:yv,pow:bv,sign:Ev}=Math),Qa=e=>Number.isNaN(e),Vi=e=>Qa(e)?0:e,dd=(e,t)=>(e%t+t)%t,ud=(e,t)=>Vi(e)>=t,hd=(e,t)=>Vi(e)<=t,xi=(e,t,n)=>{let i=Vi(e),r=t==null||i>=t,s=n==null||i<=n;return r&&s},Be=(e,t,n)=>vv(yv(Vi(e),t),n),Pc=(e,t)=>{let n=e,i=t.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){let a=bv(10,s);n=cd(n*a)/a}return n},ki=(e,t)=>typeof t=="number"?ld(e*t+.5)/t:cd(e),gd=(e,t,n,i)=>{let r=t!=null?Number(t):0,s=Number(n),a=(e-r)%i,o=Cc(a)*2>=i?e+Ev(a)*(i-Cc(a)):e-a;if(o=Pc(o,i),!Qa(r)&&o<r)o=r;else if(!Qa(s)&&o>s){let l=ld((s-r)/i),c=r+l*i;o=l<=0||c<r?s:c}return Pc(o,i)},Ps=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)],Sc=e=>{if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n},pd=(e,t,n)=>{let i=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){let r=10**Math.max(Sc(e),Sc(n));e=Math.round(e*r),n=Math.round(n*r),i=t==="+"?e+n:e-n,i/=r}return i},fd=(e,t)=>pd(Vi(e),"+",t),md=(e,t)=>pd(Vi(e),"-",t),be=e=>typeof e=="number"?`${e}px`:e;_=e=>function(n){return Iv(n,e)},Qr=()=>performance.now(),vd=class{constructor(e){this.onTick=e,hn(this,"frameId",null),hn(this,"pausedAtMs",null),hn(this,"context"),hn(this,"cancelFrame",()=>{this.frameId!==null&&(cancelAnimationFrame(this.frameId),this.frameId=null)}),hn(this,"setStartMs",t=>{this.context.startMs=t}),hn(this,"start",()=>{if(this.frameId!==null)return;let t=Qr();this.pausedAtMs!==null?(this.context.startMs+=t-this.pausedAtMs,this.pausedAtMs=null):this.context.startMs=t,this.frameId=requestAnimationFrame(Ec(this,rs))}),hn(this,"pause",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=Qr())}),hn(this,"stop",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=null)}),lv(this,rs,t=>{if(this.context.now=t,this.context.deltaMs=t-this.context.startMs,this.onTick(this.context)===!1){this.stop();return}this.frameId=requestAnimationFrame(Ec(this,rs))}),this.context={now:0,startMs:Qr(),deltaMs:0}}get elapsedMs(){return this.pausedAtMs!==null?this.pausedAtMs-this.context.startMs:Qr()-this.context.startMs}};rs=new WeakMap;Cv=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),Pv=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Tc=e=>{let t={},n;for(;n=Pv.exec(e);)t[n[1]]=n[2];return t},Sv=(e,t)=>{if(is(e)){if(is(t))return`${e};${t}`;e=Tc(e)}else is(t)&&(t=Tc(t));return Object.assign({},e!=null?e:{},t!=null?t:{})};lr=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(lr||{}),Za="__init__";G=()=>e=>Array.from(new Set(e)),p0=Symbol(),wv=Symbol(),Oc=Object.getPrototypeOf,eo=new WeakMap,Vv=e=>e&&(eo.has(e)?eo.get(e):Oc(e)===Object.prototype||Oc(e)===Array.prototype),xv=e=>Vv(e)&&e[wv]||null,wc=(e,t=!0)=>{eo.set(e,t)};ss=Ed("__zag__refSet",()=>new WeakSet),Av=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Nv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Rv=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Dv=e=>Av(e)||Nv(e)||Rv(e),to=e=>e!==null&&typeof e=="object",Vc=e=>to(e)&&!ss.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Dv(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise)&&!(e instanceof File)&&!(e instanceof Blob)&&!(e instanceof AbortController),os=()=>!0,Gn=Ed("__zag__proxyStateMap",()=>new WeakMap),Lv=(e=Object.is,t=(o,l)=>new Proxy(o,l),n=new WeakMap,i=(o,l)=>{let c=n.get(o);if((c==null?void 0:c[0])===l)return c[1];let d=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return wc(d,!0),n.set(o,[l,d]),Reflect.ownKeys(o).forEach(h=>{let m=Reflect.get(o,h);ss.has(m)?(wc(m,!1),d[h]=m):Gn.has(m)?d[h]=Fv(m):d[h]=m}),Object.freeze(d)},r=new WeakMap,s=[1,1],a=o=>{if(!to(o))throw new Error("object required");let l=r.get(o);if(l)return l;let c=s[0],d=new Set,h=(V,k=++s[0])=>{c!==k&&(c=k,d.forEach(x=>x(V,k)))},m=s[1],u=(V=++s[1])=>(m!==V&&!d.size&&(m=V,v.forEach(([k])=>{let x=k[1](V);x>c&&(c=x)})),c),p=V=>(k,x)=>{let A=[...k];A[1]=[V,...A[1]],h(A,x)},v=new Map,I=(V,k)=>{if(os()&&v.has(V))throw new Error("prop listener already exists");if(d.size){let x=k[3](p(V));v.set(V,[k,x])}else v.set(V,[k])},T=V=>{var x;let k=v.get(V);k&&(v.delete(V),(x=k[1])==null||x.call(k))},w=V=>(d.add(V),d.size===1&&v.forEach(([x,A],N)=>{if(os()&&A)throw new Error("remove already exists");let D=x[3](p(N));v.set(N,[x,D])}),()=>{d.delete(V),d.size===0&&v.forEach(([x,A],N)=>{A&&(A(),v.set(N,[x]))})}),b=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),S=t(b,{deleteProperty(V,k){let x=Reflect.get(V,k);T(k);let A=Reflect.deleteProperty(V,k);return A&&h(["delete",[k],x]),A},set(V,k,x,A){var ee;let N=Reflect.has(V,k),D=Reflect.get(V,k,A);if(N&&(e(D,x)||r.has(x)&&e(D,r.get(x))))return!0;T(k),to(x)&&(x=xv(x)||x);let $=x;if(!((ee=Object.getOwnPropertyDescriptor(V,k))!=null&&ee.set)){!Gn.has(x)&&Vc(x)&&($=Ts(x));let te=!ss.has($)&&Gn.get($);te&&I(k,te)}return Reflect.set(V,k,$,A),h(["set",[k],x,D]),!0}});r.set(o,S);let C=[b,u,i,w];return Gn.set(S,C),Reflect.ownKeys(o).forEach(V=>{let k=Object.getOwnPropertyDescriptor(o,V);k.get||k.set?Object.defineProperty(b,V,k):S[V]=o[V]}),S})=>[a,Gn,ss,e,t,Vc,n,i,r,s],[Mv]=Lv();$v=Object.defineProperty,Hv=(e,t,n)=>t in e?$v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,le=(e,t,n)=>Hv(e,typeof t!="symbol"?t+"":t,n),xc={onFocus:"onFocusin",onBlur:"onFocusout",onChange:"onInput",onDoubleClick:"onDblclick",htmlFor:"for",className:"class",defaultValue:"value",defaultChecked:"checked"},Bv=new Set(["viewBox","preserveAspectRatio"]),_v=e=>{let t="";for(let n in e){let i=e[n];i!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)),t+=`${n}:${i};`)}return t},q=Ov(e=>Object.entries(e).reduce((t,[n,i])=>{if(i===void 0)return t;if(n in xc&&(n=xc[n]),n==="style"&&typeof i=="object")return t.style=_v(i),t;let r=Bv.has(n)?n:n.toLowerCase();return t[r]=i,t},{})),es=new WeakMap,kc=new Set(["value","checked","selected"]),Gv=new Set(["viewBox","preserveAspectRatio","clipPath","clipRule","fillRule","strokeWidth","strokeLinecap","strokeLinejoin","strokeDasharray","strokeDashoffset","strokeMiterlimit"]),Uv=e=>e.tagName==="svg"||e.namespaceURI==="http://www.w3.org/2000/svg",ts=(e,t)=>Uv(e)&&Gv.has(t)?t:t.toLowerCase();cs.cleanup=e=>{};cs.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};W=class{constructor(e,t={}){var h,m,u;this.machine=e,le(this,"scope"),le(this,"context"),le(this,"prop"),le(this,"state"),le(this,"refs"),le(this,"computed"),le(this,"event",{type:""}),le(this,"previousEvent",{type:""}),le(this,"effects",new Map),le(this,"transition",null),le(this,"cleanups",[]),le(this,"subscriptions",[]),le(this,"userPropsRef"),le(this,"getEvent",()=>y(g({},this.event),{current:()=>this.event,previous:()=>this.previousEvent})),le(this,"getStateConfig",p=>this.machine.states[p]),le(this,"getState",()=>y(g({},this.state),{matches:(...p)=>p.includes(this.state.get()),hasTag:p=>{var v,I;return!!((I=(v=this.getStateConfig(this.state.get()))==null?void 0:v.tags)!=null&&I.includes(p))}})),le(this,"debug",(...p)=>{this.machine.debug&&console.log(...p)}),le(this,"notify",()=>{this.publish()}),le(this,"send",p=>{this.status===lr.Started&&queueMicrotask(()=>{var S,C,V,k,x;if(!p)return;this.previousEvent=this.event,this.event=p,this.debug("send",p);let v=this.state.get(),I=p.type,T=(k=(C=(S=this.getStateConfig(v))==null?void 0:S.on)==null?void 0:C[I])!=null?k:(V=this.machine.on)==null?void 0:V[I],w=this.choose(T);if(!w)return;this.transition=w;let b=(x=w.target)!=null?x:v;this.debug("transition",w);let f=b!==v;f?this.state.set(b):w.reenter&&!f?this.state.invoke(v,v):this.action(w.actions)})}),le(this,"action",p=>{let v=zt(p)?p(this.getParams()):p;if(!v)return;let I=v.map(T=>{var b,f;let w=(f=(b=this.machine.implementations)==null?void 0:b.actions)==null?void 0:f[T];return w||jt(`[zag-js] No implementation found for action "${JSON.stringify(T)}"`),w});for(let T of I)T==null||T(this.getParams())}),le(this,"guard",p=>{var v,I;return zt(p)?p(this.getParams()):(I=(v=this.machine.implementations)==null?void 0:v.guards)==null?void 0:I[p](this.getParams())}),le(this,"effect",p=>{let v=zt(p)?p(this.getParams()):p;if(!v)return;let I=v.map(w=>{var f,S;let b=(S=(f=this.machine.implementations)==null?void 0:f.effects)==null?void 0:S[w];return b||jt(`[zag-js] No implementation found for effect "${JSON.stringify(w)}"`),b}),T=[];for(let w of I){let b=w==null?void 0:w(this.getParams());b&&T.push(b)}return()=>T.forEach(w=>w==null?void 0:w())}),le(this,"choose",p=>pr(p).find(v=>{let I=!v.guard;return is(v.guard)?I=!!this.guard(v.guard):zt(v.guard)&&(I=v.guard(this.getParams())),I})),le(this,"subscribe",p=>(this.subscriptions.push(p),()=>{let v=this.subscriptions.indexOf(p);v>-1&&this.subscriptions.splice(v,1)})),le(this,"status",lr.NotStarted),le(this,"publish",()=>{this.callTrackers(),this.subscriptions.forEach(p=>p(this.service))}),le(this,"trackers",[]),le(this,"setupTrackers",()=>{var p,v;(v=(p=this.machine).watch)==null||v.call(p,this.getParams())}),le(this,"callTrackers",()=>{this.trackers.forEach(({deps:p,fn:v})=>{let I=p.map(T=>T());me(v.prev,I)||(v(),v.prev=I)})}),le(this,"getParams",()=>({state:this.getState(),context:this.context,event:this.getEvent(),prop:this.prop,send:this.send,action:this.action,guard:this.guard,track:(p,v)=>{v.prev=p.map(I=>I()),this.trackers.push({deps:p,fn:v})},refs:this.refs,computed:this.computed,flush:mv,scope:this.scope,choose:this.choose})),this.userPropsRef={current:t};let{id:n,ids:i,getRootNode:r}=Yt(t);this.scope=Tv({id:n,ids:i,getRootNode:r});let s=p=>{var T,w;let v=Yt(this.userPropsRef.current);return((w=(T=e.props)==null?void 0:T.call(e,{props:Ai(v),scope:this.scope}))!=null?w:v)[p]};this.prop=s;let a=(h=e.context)==null?void 0:h.call(e,{prop:s,bindable:cs,scope:this.scope,flush(p){queueMicrotask(p)},getContext(){return o},getComputed(){return l},getRefs(){return c},getEvent:this.getEvent.bind(this)});a&&Object.values(a).forEach(p=>{let v=ls(p.ref,()=>this.notify());this.cleanups.push(v)});let o={get(p){return a==null?void 0:a[p].get()},set(p,v){a==null||a[p].set(v)},initial(p){return a==null?void 0:a[p].initial},hash(p){let v=a==null?void 0:a[p].get();return a==null?void 0:a[p].hash(v)}};this.context=o;let l=p=>{var v,I;return(I=(v=e.computed)==null?void 0:v[p]({context:o,event:this.getEvent(),prop:s,refs:this.refs,scope:this.scope,computed:l}))!=null?I:{}};this.computed=l;let c=Wv((u=(m=e.refs)==null?void 0:m.call(e,{prop:s,context:o}))!=null?u:{});this.refs=c;let d=cs(()=>({defaultValue:e.initialState({prop:s}),onChange:(p,v)=>{var T,w,b,f;if(v){let S=this.effects.get(v);S==null||S(),this.effects.delete(v)}v&&this.action((T=this.getStateConfig(v))==null?void 0:T.exit),this.action((w=this.transition)==null?void 0:w.actions);let I=this.effect((b=this.getStateConfig(p))==null?void 0:b.effects);if(I&&this.effects.set(p,I),v===Za){this.action(e.entry);let S=this.effect(e.effects);S&&this.effects.set(Za,S)}this.action((f=this.getStateConfig(p))==null?void 0:f.entry)}}));this.state=d,this.cleanups.push(ls(this.state.ref,()=>this.notify()))}updateProps(e){let t=this.userPropsRef.current;this.userPropsRef.current=()=>{let n=Yt(t),i=Yt(e);return Id(n,i)},this.notify()}start(){this.status=lr.Started,this.debug("initializing..."),this.state.invoke(this.state.initial,Za),this.setupTrackers()}stop(){this.effects.forEach(e=>e==null?void 0:e()),this.effects.clear(),this.transition=null,this.action(this.machine.exit),this.cleanups.forEach(e=>e()),this.cleanups=[],this.subscriptions=[],this.status=lr.Stopped,this.debug("unmounting...")}get service(){return{state:this.getState(),send:this.send,context:this.context,prop:this.prop,scope:this.scope,refs:this.refs,computed:this.computed,event:this.getEvent(),getStatus:()=>this.status}}},K=class{constructor(e,t){Y(this,"el");Y(this,"doc");Y(this,"machine");Y(this,"api");Y(this,"init",()=>{this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start()});Y(this,"destroy",()=>{this.machine.stop()});Y(this,"spreadProps",(e,t)=>{qv(e,t,this.machine.scope.id)});Y(this,"updateProps",e=>{this.machine.updateProps(e)});if(!e)throw new Error("Root element not found");this.el=e,this.doc=document,this.machine=this.initMachine(t),this.api=this.initApi()}}});var Cd={};ge(Cd,{Accordion:()=>ay});function Qv(e,t){let{send:n,context:i,prop:r,scope:s,computed:a}=e,o=i.get("focusedValue"),l=i.get("value"),c=r("multiple");function d(m){let u=m;!c&&u.length>1&&(u=[u[0]]),n({type:"VALUE.SET",value:u})}function h(m){var u;return{expanded:l.includes(m.value),focused:o===m.value,disabled:!!((u=m.disabled)!=null?u:r("disabled"))}}return{focusedValue:o,value:l,setValue:d,getItemState:h,getRootProps(){return t.element(y(g({},yr.root.attrs),{dir:r("dir"),id:Os(s),"data-orientation":r("orientation")}))},getItemProps(m){let u=h(m);return t.element(y(g({},yr.item.attrs),{dir:r("dir"),id:zv(s,m.value),"data-state":u.expanded?"open":"closed","data-focus":E(u.focused),"data-disabled":E(u.disabled),"data-orientation":r("orientation")}))},getItemContentProps(m){let u=h(m);return t.element(y(g({},yr.itemContent.attrs),{dir:r("dir"),role:"region",id:bo(s,m.value),"aria-labelledby":ws(s,m.value),hidden:!u.expanded,"data-state":u.expanded?"open":"closed","data-disabled":E(u.disabled),"data-focus":E(u.focused),"data-orientation":r("orientation")}))},getItemIndicatorProps(m){let u=h(m);return t.element(y(g({},yr.itemIndicator.attrs),{dir:r("dir"),"aria-hidden":!0,"data-state":u.expanded?"open":"closed","data-disabled":E(u.disabled),"data-focus":E(u.focused),"data-orientation":r("orientation")}))},getItemTriggerProps(m){let{value:u}=m,p=h(m);return t.button(y(g({},yr.itemTrigger.attrs),{type:"button",dir:r("dir"),id:ws(s,u),"aria-controls":bo(s,u),"data-controls":bo(s,u),"aria-expanded":p.expanded,disabled:p.disabled,"data-orientation":r("orientation"),"aria-disabled":p.disabled,"data-state":p.expanded?"open":"closed","data-ownedby":Os(s),onFocus(){p.disabled||n({type:"TRIGGER.FOCUS",value:u})},onBlur(){p.disabled||n({type:"TRIGGER.BLUR"})},onClick(v){p.disabled||(et()&&v.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:u}))},onKeyDown(v){if(v.defaultPrevented||p.disabled)return;let I={ArrowDown(){a("isHorizontal")||n({type:"GOTO.NEXT",value:u})},ArrowUp(){a("isHorizontal")||n({type:"GOTO.PREV",value:u})},ArrowRight(){a("isHorizontal")&&n({type:"GOTO.NEXT",value:u})},ArrowLeft(){a("isHorizontal")&&n({type:"GOTO.PREV",value:u})},Home(){n({type:"GOTO.FIRST",value:u})},End(){n({type:"GOTO.LAST",value:u})}},T=pe(v,{dir:r("dir"),orientation:r("orientation")}),w=I[T];w&&(w(v),v.preventDefault())}}))}}}var Kv,yr,Os,zv,bo,ws,Yv,Vs,jv,Xv,Zv,Jv,ey,ty,ny,iy,I0,ry,C0,sy,ay,Pd=re(()=>{"use strict";ae();Kv=U("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),yr=Kv.build(),Os=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`accordion:${e.id}`},zv=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:item:${t}`},bo=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:content:${t}`},ws=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:trigger:${t}`},Yv=e=>e.getById(Os(e)),Vs=e=>{let n=`[data-controls][data-ownedby='${CSS.escape(Os(e))}']:not([disabled])`;return $e(Yv(e),n)},jv=e=>dt(Vs(e)),Xv=e=>Et(Vs(e)),Zv=(e,t)=>Ti(Vs(e),ws(e,t)),Jv=(e,t)=>Oi(Vs(e),ws(e,t));({and:ey,not:ty}=Ie()),ny={props({props:e}){return g({collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){var i;(i=e("onFocusChange"))==null||i({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:ey("isExpanded","canToggle"),actions:["collapse"]},{guard:ty("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){let i=t("multiple")?ut(e.get("value"),n.value):[];e.set("value",i)},expand({context:e,prop:t,event:n}){let i=t("multiple")?tt(e.get("value"),n.value):[n.value];e.set("value",i)},focusFirstTrigger({scope:e}){var t;(t=jv(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=Xv(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let i=Zv(t,n);i==null||i.focus()},focusPrevTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let i=Jv(t,n);i==null||i.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(jt("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}},iy=G()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]),I0=_(iy),ry=G()(["value","disabled"]),C0=_(ry),sy=class extends K{initMachine(e){return new W(ny,e)}initApi(){return Qv(this.machine.service,q)}render(){var i;let e=(i=this.el.querySelector('[data-scope="accordion"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.getItemsList(),n=e.querySelectorAll('[data-scope="accordion"][data-part="item"]');for(let r=0;r<n.length;r++){let s=n[r],a=t[r];if(!(a!=null&&a.value))continue;let{value:o,disabled:l}=a;this.spreadProps(s,this.api.getItemProps({value:o,disabled:l}));let c=s.querySelector('[data-scope="accordion"][data-part="item-trigger"]');c&&this.spreadProps(c,this.api.getItemTriggerProps({value:o,disabled:l}));let d=s.querySelector('[data-scope="accordion"][data-part="item-indicator"]');d&&this.spreadProps(d,this.api.getItemIndicatorProps({value:o,disabled:l}));let h=s.querySelector('[data-scope="accordion"][data-part="item-content"]');h&&this.spreadProps(h,this.api.getItemContentProps({value:o,disabled:l}))}}getItemsList(){let e=this.el.getAttribute("data-items");if(!e)return[];try{return JSON.parse(e)}catch(t){return[]}}},ay={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new sy(e,y(g({id:e.id},P(e,"controlled")?{value:J(e,"value")}:{defaultValue:J(e,"defaultValue")}),{collapsible:P(e,"collapsible"),multiple:P(e,"multiple"),orientation:O(e,"orientation",["horizontal","vertical"]),dir:Ve(e),onValueChange:i=>{var a,o;let r=O(e,"onValueChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.value)!=null?a:null});let s=O(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.value)!=null?o:null}}))},onFocusChange:i=>{var a,o;let r=O(e,"onFocusChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.value)!=null?a:null});let s=O(e,"onFocusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.value)!=null?o:null}}))}}));n.init(),this.accordion=n,this.onSetValue=i=>{let{value:r}=i.detail;n.api.setValue(r)},e.addEventListener("phx:accordion:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("accordion_set_value",i=>{let r=i.accordion_id;r&&!(e.id===r||e.id===`accordion:${r}`)||n.api.setValue(i.value)})),this.handlers.push(this.handleEvent("accordion_value",()=>{this.pushEvent("accordion_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("accordion_focused_value",()=>{this.pushEvent("accordion_focused_value_response",{value:n.api.focusedValue})}))},updated(){var t,n,i,r;let e=P(this.el,"controlled");(r=this.accordion)==null||r.updateProps(y(g({id:this.el.id},e?{value:J(this.el,"value")}:{defaultValue:(i=(n=(t=this.accordion)==null?void 0:t.api)==null?void 0:n.value)!=null?i:J(this.el,"defaultValue")}),{collapsible:P(this.el,"collapsible"),multiple:P(this.el,"multiple"),orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:Ve(this.el)}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:accordion:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.accordion)==null||e.destroy()}}});function Ad(e,t,n=e.center){let i=t.x-n.x,r=t.y-n.y;return 360-(Math.atan2(i,r)*(180/Math.PI)+180)}function Cn(e){let{x:t,y:n,width:i,height:r}=e,s=t+i/2,a=n+r/2;return{x:t,y:n,width:i,height:r,minX:t,minY:n,maxX:t+i,maxY:n+r,midX:s,midY:a,center:jn(s,a)}}function uy(e){let t=jn(e.minX,e.minY),n=jn(e.maxX,e.minY),i=jn(e.maxX,e.maxY),r=jn(e.minX,e.maxY);return{top:t,right:n,bottom:i,left:r}}function hy(e){if(!Eo.has(e)){let t=e.ownerDocument.defaultView||window;Eo.set(e,t.getComputedStyle(e))}return Eo.get(e)}function Po(e,t={}){return Cn(gy(e,t))}function gy(e,t={}){let{excludeScrollbar:n=!1,excludeBorders:i=!1}=t,{x:r,y:s,width:a,height:o}=e.getBoundingClientRect(),l={x:r,y:s,width:a,height:o},c=hy(e),{borderLeftWidth:d,borderTopWidth:h,borderRightWidth:m,borderBottomWidth:u}=c,p=Od(d,m),v=Od(h,u);if(i&&(l.width-=p,l.height-=v,l.x+=Io(d),l.y+=Io(h)),n){let I=e.offsetWidth-e.clientWidth-p,T=e.offsetHeight-e.clientHeight-v;l.width-=I,l.height-=T}return l}function Md(e,t={}){return Cn(py(e,t))}function py(e,t){let{excludeScrollbar:n=!1}=t,{innerWidth:i,innerHeight:r,document:s,visualViewport:a}=e,o=(a==null?void 0:a.width)||i,l=(a==null?void 0:a.height)||r,c={x:0,y:0,width:o,height:l};if(n){let d=i-s.documentElement.clientWidth,h=r-s.documentElement.clientHeight;c.width-=d,c.height-=h}return c}function Fd(e,t){let n=Cn(e),{top:i,right:r,left:s,bottom:a}=uy(n),[o]=t.split("-");return{top:[s,i,r,a],right:[i,r,a,s],bottom:[i,s,a,r],left:[r,i,s,a]}[o]}function So(e,t){let{x:n,y:i}=t,r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){let o=e[s].x,l=e[s].y,c=e[a].x,d=e[a].y;l>i!=d>i&&n<(c-o)*(i-l)/(d-l)+o&&(r=!r)}return r}function xd(e,t){let{minX:n,minY:i,maxX:r,maxY:s,midX:a,midY:o}=e,l=t.includes("w")?n:t.includes("e")?r:a,c=t.includes("n")?i:t.includes("s")?s:o;return{x:l,y:c}}function my(e){return fy[e]}function $d(e,t,n,i){let{scalingOriginMode:r,lockAspectRatio:s}=i,a=xd(e,n),o=my(n),l=xd(e,o);r==="center"&&(t={x:t.x*2,y:t.y*2});let c={x:a.x+t.x,y:a.y+t.y},d={x:wd[n].x*2-1,y:wd[n].y*2-1},h={width:c.x-l.x,height:c.y-l.y},m=d.x*h.width/e.width,u=d.y*h.height/e.height,p=Ni(m)>Ni(u)?m:u,v=s?{x:p,y:p}:{x:a.x===l.x?1:m,y:a.y===l.y?1:u};switch(a.y===l.y?v.y=Ni(v.y):xs(v.y)!==xs(u)&&(v.y*=-1),a.x===l.x?v.x=Ni(v.x):xs(v.x)!==xs(m)&&(v.x*=-1),r){case"extent":return kd(e,Sd.scale(v.x,v.y,l),!1);case"center":return kd(e,Sd.scale(v.x,v.y,{x:e.midX,y:e.midY}),!1)}}function vy(e,t,n=!0){return n?{x:Vd(t.x,e.x),y:Vd(t.y,e.y),width:Ni(t.x-e.x),height:Ni(t.y-e.y)}:{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}}function kd(e,t,n=!0){let i=t.applyTo({x:e.minX,y:e.minY}),r=t.applyTo({x:e.maxX,y:e.maxY});return vy(i,r,n)}var oy,ly,Jt,Sd,Td,br,cy,dy,Er,jn,Co,Nd,Rd,Dd,Ld,Eo,Io,Od,T0,O0,wd,fy,xs,Ni,Vd,ks=re(()=>{"use strict";oy=Object.defineProperty,ly=(e,t,n)=>t in e?oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jt=(e,t,n)=>ly(e,typeof t!="symbol"?t+"":t,n),Sd=class Ae{constructor([t,n,i,r,s,a]=[0,0,0,0,0,0]){Jt(this,"m00"),Jt(this,"m01"),Jt(this,"m02"),Jt(this,"m10"),Jt(this,"m11"),Jt(this,"m12"),Jt(this,"rotate",(...o)=>this.prepend(Ae.rotate(...o))),Jt(this,"scale",(...o)=>this.prepend(Ae.scale(...o))),Jt(this,"translate",(...o)=>this.prepend(Ae.translate(...o))),this.m00=t,this.m01=n,this.m02=i,this.m10=r,this.m11=s,this.m12=a}applyTo(t){let{x:n,y:i}=t,{m00:r,m01:s,m02:a,m10:o,m11:l,m12:c}=this;return{x:r*n+s*i+a,y:o*n+l*i+c}}prepend(t){return new Ae([this.m00*t.m00+this.m01*t.m10,this.m00*t.m01+this.m01*t.m11,this.m00*t.m02+this.m01*t.m12+this.m02,this.m10*t.m00+this.m11*t.m10,this.m10*t.m01+this.m11*t.m11,this.m10*t.m02+this.m11*t.m12+this.m12])}append(t){return new Ae([t.m00*this.m00+t.m01*this.m10,t.m00*this.m01+t.m01*this.m11,t.m00*this.m02+t.m01*this.m12+t.m02,t.m10*this.m00+t.m11*this.m10,t.m10*this.m01+t.m11*this.m11,t.m10*this.m02+t.m11*this.m12+t.m12])}get determinant(){return this.m00*this.m11-this.m01*this.m10}get isInvertible(){let t=this.determinant;return isFinite(t)&&isFinite(this.m02)&&isFinite(this.m12)&&t!==0}invert(){let t=this.determinant;return new Ae([this.m11/t,-this.m01/t,(this.m01*this.m12-this.m11*this.m02)/t,-this.m10/t,this.m00/t,(this.m10*this.m02-this.m00*this.m12)/t])}get array(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,0,0,1]}get float32Array(){return new Float32Array(this.array)}static get identity(){return new Ae([1,0,0,0,1,0])}static rotate(t,n){let i=new Ae([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0]);return n&&(n.x!==0||n.y!==0)?Ae.multiply(Ae.translate(n.x,n.y),i,Ae.translate(-n.x,-n.y)):i}static scale(t,n=t,i={x:0,y:0}){let r=new Ae([t,0,0,0,n,0]);return i.x!==0||i.y!==0?Ae.multiply(Ae.translate(i.x,i.y),r,Ae.translate(-i.x,-i.y)):r}static translate(t,n){return new Ae([1,0,t,0,1,n])}static multiply(...[t,...n]){return t?n.reduce((i,r)=>i.prepend(r),t):Ae.identity}get a(){return this.m00}get b(){return this.m10}get c(){return this.m01}get d(){return this.m11}get tx(){return this.m02}get ty(){return this.m12}get scaleComponents(){return{x:this.a,y:this.d}}get translationComponents(){return{x:this.tx,y:this.ty}}get skewComponents(){return{x:this.c,y:this.b}}toString(){return`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`}};Td=(e,t,n)=>Math.min(Math.max(e,t),n),br=(e,t,n)=>{let i=Td(e.x,n.x,n.x+n.width-t.width),r=Td(e.y,n.y,n.y+n.height-t.height);return{x:i,y:r}},cy={width:0,height:0},dy={width:1/0,height:1/0},Er=(e,t=cy,n=dy)=>({width:Math.min(Math.max(e.width,t.width),n.width),height:Math.min(Math.max(e.height,t.height),n.height)}),jn=(e,t)=>({x:e,y:t}),Co=(e,t)=>t?jn(e.x-t.x,e.y-t.y):e,Nd=(e,t)=>jn(e.x+t.x,e.y+t.y);Rd=(e,t)=>{let n=Math.max(t.x,Math.min(e.x,t.x+t.width-e.width)),i=Math.max(t.y,Math.min(e.y,t.y+t.height-e.height));return{x:n,y:i,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},Dd=(e,t)=>e.width===(t==null?void 0:t.width)&&e.height===(t==null?void 0:t.height),Ld=(e,t)=>e.x===(t==null?void 0:t.x)&&e.y===(t==null?void 0:t.y),Eo=new WeakMap;Io=e=>parseFloat(e.replace("px","")),Od=(...e)=>e.reduce((t,n)=>t+(n?Io(n):0),0),{min:T0,max:O0}=Math;wd={n:{x:.5,y:0},ne:{x:1,y:0},e:{x:1,y:.5},se:{x:1,y:1},s:{x:.5,y:1},sw:{x:0,y:1},w:{x:0,y:.5},nw:{x:0,y:0}},fy={n:"s",ne:"sw",e:"w",se:"nw",s:"n",sw:"ne",w:"e",nw:"se"},{sign:xs,abs:Ni,min:Vd}=Math});var Wd={};ge(Wd,{AngleSlider:()=>Vy});function Ud(e,t,n){let i=Cn(e.getBoundingClientRect()),r=Ad(i,t);return n!=null?r-n:r}function qd(e){return Math.min(Math.max(e,As),Ns)}function Py(e,t){let n=qd(e),i=Math.ceil(n/t),r=Math.round(n/t);return i>=n/t?i*t===Ns?As:i*t:r*t}function Bd(e,t){return gd(e,As,Ns,t)}function Sy(e,t){let{state:n,send:i,context:r,prop:s,computed:a,scope:o}=e,l=n.matches("dragging"),c=r.get("value"),d=a("valueAsDegree"),h=s("disabled"),m=s("invalid"),u=s("readOnly"),p=a("interactive"),v=s("aria-label"),I=s("aria-labelledby");return{value:c,valueAsDegree:d,dragging:l,setValue(T){i({type:"VALUE.SET",value:T})},getRootProps(){return t.element(y(g({},Xn.root.attrs),{id:by(o),"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),style:{"--value":c,"--angle":d}}))},getLabelProps(){return t.label(y(g({},Xn.label.attrs),{id:Hd(o),htmlFor:To(o),"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),onClick(T){var w;p&&(T.preventDefault(),(w=Oo(o))==null||w.focus())}}))},getHiddenInputProps(){return t.element({type:"hidden",value:c,name:s("name"),id:To(o)})},getControlProps(){return t.element(y(g({},Xn.control.attrs),{role:"presentation",id:Gd(o),"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),onPointerDown(T){if(!p||!fe(T))return;let w=Qe(T),b=T.currentTarget,f=Oo(o),S=bt(T).composedPath(),C=f&&S.includes(f),V=null;C&&(V=Ud(b,w)-c),i({type:"CONTROL.POINTER_DOWN",point:w,angularOffset:V}),T.stopPropagation()},style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getThumbProps(){return t.element(y(g({},Xn.thumb.attrs),{id:_d(o),role:"slider","aria-label":v,"aria-labelledby":I!=null?I:Hd(o),"aria-valuemax":360,"aria-valuemin":0,"aria-valuenow":c,tabIndex:u||p?0:void 0,"data-disabled":E(h),"data-invalid":E(m),"data-readonly":E(u),onFocus(){i({type:"THUMB.FOCUS"})},onBlur(){i({type:"THUMB.BLUR"})},onKeyDown(T){if(!p)return;let w=Ei(T)*s("step");switch(T.key){case"ArrowLeft":case"ArrowUp":T.preventDefault(),i({type:"THUMB.ARROW_DEC",step:w});break;case"ArrowRight":case"ArrowDown":T.preventDefault(),i({type:"THUMB.ARROW_INC",step:w});break;case"Home":T.preventDefault(),i({type:"THUMB.HOME"});break;case"End":T.preventDefault(),i({type:"THUMB.END"});break}},style:{rotate:"var(--angle)"}}))},getValueTextProps(){return t.element(y(g({},Xn.valueText.attrs),{id:Ey(o)}))},getMarkerGroupProps(){return t.element(g({},Xn.markerGroup.attrs))},getMarkerProps(T){let w;return T.value<c?w="under-value":T.value>c?w="over-value":w="at-value",t.element(y(g({},Xn.marker.attrs),{"data-value":T.value,"data-state":w,"data-disabled":E(h),style:{"--marker-value":T.value,rotate:"calc(var(--marker-value) * 1deg)"}}))}}}var yy,Xn,by,_d,To,Gd,Ey,Hd,Iy,Cy,Oo,As,Ns,Ty,Oy,k0,wy,Vy,Kd=re(()=>{"use strict";ks();ae();yy=U("angle-slider").parts("root","label","thumb","valueText","control","track","markerGroup","marker"),Xn=yy.build(),by=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`angle-slider:${e.id}`},_d=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.thumb)!=null?n:`angle-slider:${e.id}:thumb`},To=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`angle-slider:${e.id}:input`},Gd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`angle-slider:${e.id}:control`},Ey=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.valueText)!=null?n:`angle-slider:${e.id}:value-text`},Hd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`angle-slider:${e.id}:label`},Iy=e=>e.getById(To(e)),Cy=e=>e.getById(Gd(e)),Oo=e=>e.getById(_d(e)),As=0,Ns=359;Ty={props({props:e}){return g({step:1,defaultValue:0},e)},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n,valueAsDegree:`${n}deg`})}}))}},refs(){return{thumbDragOffset:null}},computed:{interactive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsDegree:({context:e})=>`${e.get("value")}deg`},watch({track:e,context:t,action:n}){e([()=>t.get("value")],()=>{n(["syncInputElement"])})},initialState(){return"idle"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"CONTROL.POINTER_DOWN":{target:"dragging",actions:["setThumbDragOffset","setPointerValue","focusThumb"]},"THUMB.FOCUS":{target:"focused"}}},focused:{on:{"CONTROL.POINTER_DOWN":{target:"dragging",actions:["setThumbDragOffset","setPointerValue","focusThumb"]},"THUMB.ARROW_DEC":{actions:["decrementValue","invokeOnChangeEnd"]},"THUMB.ARROW_INC":{actions:["incrementValue","invokeOnChangeEnd"]},"THUMB.HOME":{actions:["setValueToMin","invokeOnChangeEnd"]},"THUMB.END":{actions:["setValueToMax","invokeOnChangeEnd"]},"THUMB.BLUR":{target:"idle"}}},dragging:{entry:["focusThumb"],effects:["trackPointerMove"],on:{"DOC.POINTER_UP":{target:"focused",actions:["invokeOnChangeEnd","clearThumbDragOffset"]},"DOC.POINTER_MOVE":{actions:["setPointerValue"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){return fn(e.getDoc(),{onPointerMove(n){t({type:"DOC.POINTER_MOVE",point:n.point})},onPointerUp(){t({type:"DOC.POINTER_UP"})}})}},actions:{syncInputElement({scope:e,context:t}){let n=Iy(e);Fe(n,t.get("value").toString())},invokeOnChangeEnd({context:e,prop:t,computed:n}){var i;(i=t("onValueChangeEnd"))==null||i({value:e.get("value"),valueAsDegree:n("valueAsDegree")})},setPointerValue({scope:e,event:t,context:n,prop:i,refs:r}){let s=Cy(e);if(!s)return;let a=r.get("thumbDragOffset"),o=Ud(s,t.point,a);n.set("value",Py(o,i("step")))},setValueToMin({context:e}){e.set("value",As)},setValueToMax({context:e}){e.set("value",Ns)},setValue({context:e,event:t}){e.set("value",qd(t.value))},decrementValue({context:e,event:t,prop:n}){var r;let i=Bd(e.get("value")-t.step,(r=t.step)!=null?r:n("step"));e.set("value",i)},incrementValue({context:e,event:t,prop:n}){var r;let i=Bd(e.get("value")+t.step,(r=t.step)!=null?r:n("step"));e.set("value",i)},focusThumb({scope:e}){H(()=>{var t;(t=Oo(e))==null||t.focus({preventScroll:!0})})},setThumbDragOffset({refs:e,event:t}){var n;e.set("thumbDragOffset",(n=t.angularOffset)!=null?n:null)},clearThumbDragOffset({refs:e}){e.set("thumbDragOffset",null)}}}},Oy=G()(["aria-label","aria-labelledby","dir","disabled","getRootNode","id","ids","invalid","name","onValueChange","onValueChangeEnd","readOnly","step","value","defaultValue"]),k0=_(Oy),wy=class extends K{initMachine(e){return new W(Ty,e)}initApi(){return Sy(this.machine.service,q)}render(){var o;let e=(o=this.el.querySelector('[data-scope="angle-slider"][data-part="root"]'))!=null?o:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="angle-slider"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="angle-slider"][data-part="hidden-input"]');n&&this.spreadProps(n,this.api.getHiddenInputProps());let i=this.el.querySelector('[data-scope="angle-slider"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="angle-slider"][data-part="thumb"]');r&&this.spreadProps(r,this.api.getThumbProps());let s=this.el.querySelector('[data-scope="angle-slider"][data-part="value-text"]');if(s){this.spreadProps(s,this.api.getValueTextProps());let l=s.querySelector('[data-scope="angle-slider"][data-part="value"]');l&&l.textContent!==String(this.api.value)&&(l.textContent=String(this.api.value))}let a=this.el.querySelector('[data-scope="angle-slider"][data-part="marker-group"]');a&&this.spreadProps(a,this.api.getMarkerGroupProps()),this.el.querySelectorAll('[data-scope="angle-slider"][data-part="marker"]').forEach(l=>{let c=l.dataset.value;if(c==null)return;let d=Number(c);Number.isNaN(d)||this.spreadProps(l,this.api.getMarkerProps({value:d}))})}},Vy={mounted(){var s;let e=this.el,t=z(e,"value"),n=z(e,"defaultValue"),i=P(e,"controlled"),r=new wy(e,y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:n!=null?n:0}),{step:(s=z(e,"step"))!=null?s:1,disabled:P(e,"disabled"),readOnly:P(e,"readOnly"),invalid:P(e,"invalid"),name:O(e,"name"),dir:O(e,"dir",["ltr","rtl"]),"aria-label":O(e,"aria-label"),"aria-labelledby":O(e,"aria-labelledby"),onValueChange:a=>{let o=O(e,"onValueChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:a.value,valueAsDegree:a.valueAsDegree,id:e.id});let l=O(e,"onValueChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:{value:a,id:e.id}}))},onValueChangeEnd:a=>{let o=O(e,"onValueChangeEnd");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:a.value,valueAsDegree:a.valueAsDegree,id:e.id});let l=O(e,"onValueChangeEndClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:{value:a,id:e.id}}))}}));r.init(),this.angleSlider=r,this.handlers=[],this.onSetValue=a=>{let{value:o}=a.detail;r.api.setValue(o)},e.addEventListener("phx:angle-slider:set-value",this.onSetValue),this.handlers.push(this.handleEvent("angle_slider_set_value",a=>{let o=a.angle_slider_id;o&&!(e.id===o||e.id===`angle-slider:${o}`)||r.api.setValue(a.value)})),this.handlers.push(this.handleEvent("angle_slider_value",()=>{this.pushEvent("angle_slider_value_response",{value:r.api.value,valueAsDegree:r.api.valueAsDegree,dragging:r.api.dragging})}))},updated(){var i,r;let e=z(this.el,"value"),t=z(this.el,"defaultValue"),n=P(this.el,"controlled");(r=this.angleSlider)==null||r.updateProps(y(g({id:this.el.id},n&&e!==void 0?{value:e}:{defaultValue:t!=null?t:0}),{step:(i=z(this.el,"step"))!=null?i:1,disabled:P(this.el,"disabled"),readOnly:P(this.el,"readOnly"),invalid:P(this.el,"invalid"),name:O(this.el,"name"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:angle-slider:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.angleSlider)==null||e.destroy()}}});var jd={};ge(jd,{Avatar:()=>Fy});function Ny(e,t){let{state:n,send:i,prop:r,scope:s}=e,a=n.matches("loaded");return{loaded:a,setSrc(o){let l=Vo(s);l==null||l.setAttribute("src",o)},setLoaded(){i({type:"img.loaded",src:"api"})},setError(){i({type:"img.error",src:"api"})},getRootProps(){return t.element(y(g({},wo.root.attrs),{dir:r("dir"),id:zd(s)}))},getImageProps(){return t.img(y(g({},wo.image.attrs),{hidden:!a,dir:r("dir"),id:Yd(s),"data-state":a?"visible":"hidden",onLoad(){i({type:"img.loaded",src:"element"})},onError(){i({type:"img.error",src:"element"})}}))},getFallbackProps(){return t.element(y(g({},wo.fallback.attrs),{dir:r("dir"),id:ky(s),hidden:a,"data-state":a?"hidden":"visible"}))}}}function Dy(e){return e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}var xy,wo,zd,Yd,ky,Ay,Vo,Ry,Ly,D0,My,Fy,Xd=re(()=>{"use strict";ae();xy=U("avatar").parts("root","image","fallback"),wo=xy.build(),zd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`avatar:${e.id}`},Yd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.image)!=null?n:`avatar:${e.id}:image`},ky=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.fallback)!=null?n:`avatar:${e.id}:fallback`},Ay=e=>e.getById(zd(e)),Vo=e=>e.getById(Yd(e));Ry={initialState(){return"loading"},effects:["trackImageRemoval","trackSrcChange"],on:{"src.change":{target:"loading"},"img.unmount":{target:"error"}},states:{loading:{entry:["checkImageStatus"],on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]},"img.error":{target:"error",actions:["invokeOnError"]}}},error:{on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{on:{"img.error":{target:"error",actions:["invokeOnError"]}}}},implementations:{actions:{invokeOnLoad({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"loaded"})},invokeOnError({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"error"})},checkImageStatus({send:e,scope:t}){let n=Vo(t);if(!(n!=null&&n.complete))return;let i=Dy(n)?"img.loaded":"img.error";e({type:i,src:"ssr"})}},effects:{trackImageRemoval({send:e,scope:t}){let n=Ay(t);return bs(n,{callback(i){Array.from(i[0].removedNodes).find(a=>a.nodeType===Node.ELEMENT_NODE&&a.matches("[data-scope=avatar][data-part=image]"))&&e({type:"img.unmount"})}})},trackSrcChange({send:e,scope:t}){let n=Vo(t);return ct(n,{attributes:["src","srcset"],callback(){e({type:"src.change"})}})}}}};Ly=G()(["dir","id","ids","onStatusChange","getRootNode"]),D0=_(Ly),My=class extends K{initMachine(e){return new W(Ry,e)}initApi(){return Ny(this.machine.service,q)}render(){var r;let e=(r=this.el.querySelector('[data-scope="avatar"][data-part="root"]'))!=null?r:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="avatar"][data-part="image"]');t&&this.spreadProps(t,this.api.getImageProps());let n=this.el.querySelector('[data-scope="avatar"][data-part="fallback"]');n&&this.spreadProps(n,this.api.getFallbackProps());let i=this.el.querySelector('[data-scope="avatar"][data-part="skeleton"]');if(i){let s=this.machine.service.state,a=s.matches("loaded"),o=s.matches("error");i.hidden=a||o,i.setAttribute("data-state",a||o?"hidden":"visible")}}},Fy={mounted(){let e=this.el,t=O(e,"src"),n=new My(e,g({id:e.id,onStatusChange:i=>{let r=O(e,"onStatusChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(r,{status:i.status,id:e.id});let s=O(e,"onStatusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}},t!==void 0?{}:{}));n.init(),this.avatar=n,t!==void 0&&n.api.setSrc(t),this.handlers=[]},updated(){let e=O(this.el,"src");e!==void 0&&this.avatar&&this.avatar.api.setSrc(e)},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.avatar)==null||e.destroy()}}});var iu={};ge(iu,{Carousel:()=>tb});function Qd(e){let t=lt(e),n=e.getBoundingClientRect(),i=t.getPropertyValue("scroll-padding-left").replace("auto","0px"),r=t.getPropertyValue("scroll-padding-top").replace("auto","0px"),s=t.getPropertyValue("scroll-padding-right").replace("auto","0px"),a=t.getPropertyValue("scroll-padding-bottom").replace("auto","0px");function o(m,u){let p=parseFloat(m);return/%/.test(m)&&(p/=100,p*=u),Number.isNaN(p)?0:p}let l=o(i,n.width),c=o(r,n.height),d=o(s,n.width),h=o(a,n.height);return{x:{before:l,after:d},y:{before:c,after:h}}}function $y(e,t,n="both"){return n==="x"&&e.right>=t.left&&e.left<=t.right||n==="y"&&e.bottom>=t.top&&e.top<=t.bottom||n==="both"&&e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}function eu(e){let t=[];for(let n of e.children)t=t.concat(n,eu(n));return t}function tu(e,t=!1){let n=e.getBoundingClientRect(),r=Ao(e)==="rtl",s={x:{start:[],center:[],end:[]},y:{start:[],center:[],end:[]}},a=t?eu(e):e.children;for(let o of["x","y"]){let l=o==="x"?"y":"x",c=o==="x"?"left":"top",d=o==="x"?"right":"bottom",h=o==="x"?"width":"height",m=o==="x"?"scrollLeft":"scrollTop",u=r&&o==="x";for(let p of a){let v=p.getBoundingClientRect();if(!$y(n,v,l))continue;let I=lt(p),[T,w]=I.getPropertyValue("scroll-snap-align").split(" ");typeof w=="undefined"&&(w=T);let b=o==="x"?w:T,f,S,C;if(u){let V=Math.abs(e[m]),k=n[d]-v[d]+V;f=k,S=k+v[h],C=k+v[h]/2}else f=v[c]-n[c]+e[m],S=f+v[h],C=f+v[h]/2;switch(b){case"none":break;case"start":s[o].start.push({node:p,position:f});break;case"center":s[o].center.push({node:p,position:C});break;case"end":s[o].end.push({node:p,position:S});break}}}return s}function Hy(e){let t=Ao(e),n=e.getBoundingClientRect(),i=Qd(e),r=tu(e),s={x:e.scrollWidth-e.offsetWidth,y:e.scrollHeight-e.offsetHeight},a=t==="rtl",o=a&&e.scrollLeft<=0,l;return a?(l=xo([...r.x.start.map(c=>c.position-i.x.after),...r.x.center.map(c=>c.position-n.width/2),...r.x.end.map(c=>c.position-n.width+i.x.before)].map(ko(0,s.x))),o&&(l=l.map(c=>-c))):l=xo([...r.x.start.map(c=>c.position-i.x.before),...r.x.center.map(c=>c.position-n.width/2),...r.x.end.map(c=>c.position-n.width+i.x.after)].map(ko(0,s.x))),{x:l,y:xo([...r.y.start.map(c=>c.position-i.y.before),...r.y.center.map(c=>c.position-n.height/2),...r.y.end.map(c=>c.position-n.height+i.y.after)].map(ko(0,s.y)))}}function By(e,t,n){let i=Ao(e),r=Qd(e),s=tu(e),a=[...s[t].start,...s[t].center,...s[t].end],o=i==="rtl",l=o&&t==="x"&&e.scrollLeft<=0;for(let c of a)if(n(c.node)){let d;return t==="x"&&o?(d=c.position-r.x.after,l&&(d=-d)):d=c.position-(t==="x"?r.x.before:r.y.before),d}}function Yy(e,t){let{state:n,context:i,computed:r,send:s,scope:a,prop:o}=e,l=n.matches("autoplay"),c=n.matches("dragging"),d=r("canScrollNext"),h=r("canScrollPrev"),m=r("isHorizontal"),u=o("autoSize"),p=Array.from(i.get("pageSnapPoints")),v=i.get("page"),I=o("slidesPerPage"),T=o("padding"),w=o("translations");return{isPlaying:l,isDragging:c,page:v,pageSnapPoints:p,canScrollNext:d,canScrollPrev:h,getProgress(){return v/p.length},getProgressText(){var f,S;let b={page:v+1,totalPages:p.length};return(S=(f=w.progressText)==null?void 0:f.call(w,b))!=null?S:""},scrollToIndex(b,f){s({type:"INDEX.SET",index:b,instant:f})},scrollTo(b,f){s({type:"PAGE.SET",index:b,instant:f})},scrollNext(b){s({type:"PAGE.NEXT",instant:b})},scrollPrev(b){s({type:"PAGE.PREV",instant:b})},play(){s({type:"AUTOPLAY.START"})},pause(){s({type:"AUTOPLAY.PAUSE"})},isInView(b){return Array.from(i.get("slidesInView")).includes(b)},refresh(){s({type:"SNAP.REFRESH"})},getRootProps(){return t.element(y(g({},Rt.root.attrs),{id:Gy(a),role:"region","aria-roledescription":"carousel","data-orientation":o("orientation"),dir:o("dir"),style:{"--slides-per-page":I,"--slide-spacing":o("spacing"),"--slide-item-size":u?"auto":"calc(100% / var(--slides-per-page) - var(--slide-spacing) * (var(--slides-per-page) - 1) / var(--slides-per-page))"}}))},getItemGroupProps(){return t.element(y(g({},Rt.itemGroup.attrs),{id:Rs(a),"data-orientation":o("orientation"),"data-dragging":E(c),dir:o("dir"),"aria-live":l?"off":"polite",onFocus(b){ue(b.currentTarget,j(b))&&s({type:"VIEWPORT.FOCUS"})},onBlur(b){ue(b.currentTarget,b.relatedTarget)||s({type:"VIEWPORT.BLUR"})},onMouseDown(b){if(b.defaultPrevented||!o("allowMouseDrag")||!fe(b))return;let f=j(b);Je(f)&&f!==b.currentTarget||(b.preventDefault(),s({type:"DRAGGING.START"}))},onWheel:od(b=>{let f=o("orientation")==="horizontal"?"deltaX":"deltaY";b[f]<0&&!r("canScrollPrev")||b[f]>0&&!r("canScrollNext")||s({type:"USER.SCROLL"})},150),onTouchStart(){s({type:"USER.SCROLL"})},style:{display:u?"flex":"grid",gap:"var(--slide-spacing)",scrollSnapType:[m?"x":"y",o("snapType")].join(" "),gridAutoFlow:m?"column":"row",scrollbarWidth:"none",overscrollBehaviorX:"contain",[m?"gridAutoColumns":"gridAutoRows"]:u?void 0:"var(--slide-item-size)",[m?"scrollPaddingInline":"scrollPaddingBlock"]:T,[m?"paddingInline":"paddingBlock"]:T,[m?"overflowX":"overflowY"]:"auto"}}))},getItemProps(b){let f=i.get("slidesInView").includes(b.index);return t.element(y(g({},Rt.item.attrs),{id:Uy(a,b.index),dir:o("dir"),role:"group","data-index":b.index,"data-inview":E(f),"aria-roledescription":"slide","data-orientation":o("orientation"),"aria-label":w.item(b.index,o("slideCount")),"aria-hidden":X(!f),style:{flex:"0 0 auto",[m?"maxWidth":"maxHeight"]:"100%",scrollSnapAlign:(()=>{var x;let S=(x=b.snapAlign)!=null?x:"start",C=o("slidesPerMove"),V=C==="auto"?Math.floor(o("slidesPerPage")):C;return(b.index+V)%V===0?S:void 0})()}}))},getControlProps(){return t.element(y(g({},Rt.control.attrs),{"data-orientation":o("orientation")}))},getPrevTriggerProps(){return t.button(y(g({},Rt.prevTrigger.attrs),{id:Wy(a),type:"button",disabled:!h,dir:o("dir"),"aria-label":w.prevTrigger,"data-orientation":o("orientation"),"aria-controls":Rs(a),onClick(b){b.defaultPrevented||s({type:"PAGE.PREV",src:"trigger"})}}))},getNextTriggerProps(){return t.button(y(g({},Rt.nextTrigger.attrs),{dir:o("dir"),id:qy(a),type:"button","aria-label":w.nextTrigger,"data-orientation":o("orientation"),"aria-controls":Rs(a),disabled:!d,onClick(b){b.defaultPrevented||s({type:"PAGE.NEXT",src:"trigger"})}}))},getIndicatorGroupProps(){return t.element(y(g({},Rt.indicatorGroup.attrs),{dir:o("dir"),id:Ky(a),"data-orientation":o("orientation"),onKeyDown(b){if(b.defaultPrevented)return;let f="indicator",S={ArrowDown(k){m||(s({type:"PAGE.NEXT",src:f}),k.preventDefault())},ArrowUp(k){m||(s({type:"PAGE.PREV",src:f}),k.preventDefault())},ArrowRight(k){m&&(s({type:"PAGE.NEXT",src:f}),k.preventDefault())},ArrowLeft(k){m&&(s({type:"PAGE.PREV",src:f}),k.preventDefault())},Home(k){s({type:"PAGE.SET",index:0,src:f}),k.preventDefault()},End(k){s({type:"PAGE.SET",index:p.length-1,src:f}),k.preventDefault()}},C=pe(b,{dir:o("dir"),orientation:o("orientation")}),V=S[C];V==null||V(b)}}))},getIndicatorProps(b){return t.button(y(g({},Rt.indicator.attrs),{dir:o("dir"),id:nu(a,b.index),type:"button","data-orientation":o("orientation"),"data-index":b.index,"data-readonly":E(b.readOnly),"data-current":E(b.index===v),"aria-label":w.indicator(b.index),onClick(f){f.defaultPrevented||b.readOnly||s({type:"PAGE.SET",index:b.index,src:"indicator"})}}))},getAutoplayTriggerProps(){return t.button(y(g({},Rt.autoplayTrigger.attrs),{type:"button","data-orientation":o("orientation"),"data-pressed":E(l),"aria-label":l?w.autoplayStop:w.autoplayStart,onClick(b){b.defaultPrevented||s({type:l?"AUTOPLAY.PAUSE":"AUTOPLAY.START"})}}))},getProgressTextProps(){return t.element(g({},Rt.progressText.attrs))}}}function Xy(e,t,n){if(e==null||n<=0)return[];let i=[],r=t==="auto"?Math.floor(n):t;if(r<=0)return[];for(let s=0;s<e&&!(s+n>e);s+=r)i.push(s);return i}var Ao,xo,ko,_y,Rt,Gy,Uy,Rs,qy,Wy,Ky,nu,We,Zd,zy,Jd,jy,Zy,$0,Jy,H0,Qy,B0,eb,tb,ru=re(()=>{"use strict";ae();Ao=e=>lt(e).direction;xo=e=>[...new Set(e)],ko=(e,t)=>n=>Math.max(e,Math.min(t,n)),_y=U("carousel").parts("root","itemGroup","item","control","nextTrigger","prevTrigger","indicatorGroup","indicator","autoplayTrigger","progressText"),Rt=_y.build(),Gy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`carousel:${e.id}`},Uy=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`carousel:${e.id}:item:${t}`},Rs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.itemGroup)!=null?n:`carousel:${e.id}:item-group`},qy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.nextTrigger)!=null?n:`carousel:${e.id}:next-trigger`},Wy=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.prevTrigger)!=null?n:`carousel:${e.id}:prev-trigger`},Ky=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicatorGroup)!=null?n:`carousel:${e.id}:indicator-group`},nu=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.indicator)==null?void 0:i.call(n,t))!=null?r:`carousel:${e.id}:indicator:${t}`},We=e=>e.getById(Rs(e)),Zd=e=>$e(We(e),"[data-part=item]"),zy=(e,t)=>e.getById(nu(e,t)),Jd=e=>{let t=We(e);if(!t)return;let n=Xt(t);t.setAttribute("tabindex",n.length>0?"-1":"0")};jy={props({props:e}){return In(e,["slideCount"],"carousel"),y(g({dir:"ltr",defaultPage:0,orientation:"horizontal",snapType:"mandatory",loop:!!e.autoplay,slidesPerPage:1,slidesPerMove:"auto",spacing:"0px",autoplay:!1,allowMouseDrag:!1,inViewThreshold:.6,autoSize:!1},e),{translations:g({nextTrigger:"Next slide",prevTrigger:"Previous slide",indicator:t=>`Go to slide ${t+1}`,item:(t,n)=>`${t+1} of ${n}`,autoplayStart:"Start slide rotation",autoplayStop:"Stop slide rotation",progressText:({page:t,totalPages:n})=>`${t} / ${n}`},e.translations)})},refs(){return{timeoutRef:void 0}},initialState({prop:e}){return e("autoplay")?"autoplay":"idle"},context({prop:e,bindable:t,getContext:n}){return{page:t(()=>({defaultValue:e("defaultPage"),value:e("page"),onChange(i){var a;let s=n().get("pageSnapPoints");(a=e("onPageChange"))==null||a({page:i,pageSnapPoint:s[i]})}})),pageSnapPoints:t(()=>({defaultValue:e("autoSize")?Array.from({length:e("slideCount")},(i,r)=>r):Xy(e("slideCount"),e("slidesPerMove"),e("slidesPerPage"))})),slidesInView:t(()=>({defaultValue:[]}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isHorizontal:({prop:e})=>e("orientation")==="horizontal",canScrollNext:({prop:e,context:t})=>e("loop")||t.get("page")<t.get("pageSnapPoints").length-1,canScrollPrev:({prop:e,context:t})=>e("loop")||t.get("page")>0,autoplayInterval:({prop:e})=>{let t=e("autoplay");return At(t)?t.delay:4e3}},watch({track:e,action:t,context:n,prop:i,send:r}){e([()=>i("slidesPerPage"),()=>i("slidesPerMove")],()=>{t(["setSnapPoints"])}),e([()=>n.get("page")],()=>{t(["scrollToPage","focusIndicatorEl"])}),e([()=>i("orientation"),()=>i("autoSize"),()=>i("dir")],()=>{t(["setSnapPoints","scrollToPage"])}),e([()=>i("slideCount")],()=>{r({type:"SNAP.REFRESH",src:"slide.count"})}),e([()=>!!i("autoplay")],()=>{r({type:i("autoplay")?"AUTOPLAY.START":"AUTOPLAY.PAUSE",src:"autoplay.prop.change"})})},on:{"PAGE.NEXT":{target:"idle",actions:["clearScrollEndTimer","setNextPage"]},"PAGE.PREV":{target:"idle",actions:["clearScrollEndTimer","setPrevPage"]},"PAGE.SET":{target:"idle",actions:["clearScrollEndTimer","setPage"]},"INDEX.SET":{target:"idle",actions:["clearScrollEndTimer","setMatchingPage"]},"SNAP.REFRESH":{actions:["setSnapPoints","clampPage"]},"PAGE.SCROLL":{actions:["scrollToPage"]}},effects:["trackSlideMutation","trackSlideIntersections","trackSlideResize"],entry:["setSnapPoints","setPage"],exit:["clearScrollEndTimer"],states:{idle:{on:{"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"AUTOPLAY.START":{target:"autoplay",actions:["invokeAutoplayStart"]},"USER.SCROLL":{target:"userScroll"},"VIEWPORT.FOCUS":{target:"focus"}}},focus:{effects:["trackKeyboardScroll"],on:{"VIEWPORT.BLUR":{target:"idle"},"PAGE.NEXT":{actions:["clearScrollEndTimer","setNextPage"]},"PAGE.PREV":{actions:["clearScrollEndTimer","setPrevPage"]},"PAGE.SET":{actions:["clearScrollEndTimer","setPage"]},"INDEX.SET":{actions:["clearScrollEndTimer","setMatchingPage"]},"USER.SCROLL":{target:"userScroll"}}},dragging:{effects:["trackPointerMove"],entry:["disableScrollSnap"],on:{DRAGGING:{actions:["scrollSlides","invokeDragging"]},"DRAGGING.END":{target:"idle",actions:["endDragging","invokeDraggingEnd"]}}},userScroll:{effects:["trackScroll"],on:{"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"SCROLL.END":[{guard:"isFocused",target:"focus",actions:["setClosestPage"]},{target:"idle",actions:["setClosestPage"]}]}},autoplay:{effects:["trackDocumentVisibility","trackScroll","autoUpdateSlide"],exit:["invokeAutoplayEnd"],on:{"AUTOPLAY.TICK":{actions:["setNextPage","invokeAutoplay"]},"DRAGGING.START":{target:"dragging",actions:["invokeDragStart"]},"AUTOPLAY.PAUSE":{target:"idle"}}}},implementations:{guards:{isFocused:({scope:e})=>e.isActiveElement(We(e))},effects:{autoUpdateSlide({computed:e,send:t}){let n=setInterval(()=>{t({type:e("canScrollNext")?"AUTOPLAY.TICK":"AUTOPLAY.PAUSE",src:"autoplay.interval"})},e("autoplayInterval"));return()=>clearInterval(n)},trackSlideMutation({scope:e,send:t}){let n=We(e);if(!n)return;let i=e.getWin(),r=new i.MutationObserver(()=>{t({type:"SNAP.REFRESH",src:"slide.mutation"}),Jd(e)});return Jd(e),r.observe(n,{childList:!0,subtree:!0}),()=>r.disconnect()},trackSlideResize({scope:e,send:t}){if(!We(e))return;let i=()=>{t({type:"SNAP.REFRESH",src:"slide.resize"})};H(()=>{i(),H(()=>{t({type:"PAGE.SCROLL",instant:!0})})});let r=Zd(e);r.forEach(i);let s=r.map(a=>mn.observe(a,i));return Nt(...s)},trackSlideIntersections({scope:e,prop:t,context:n}){let i=We(e),r=e.getWin(),s=new r.IntersectionObserver(a=>{let o=a.reduce((l,c)=>{var m;let d=c.target,h=Number((m=d.dataset.index)!=null?m:"-1");return h==null||Number.isNaN(h)||h===-1?l:c.isIntersecting?tt(l,h):ut(l,h)},n.get("slidesInView"));n.set("slidesInView",It(o))},{root:i,threshold:t("inViewThreshold")});return Zd(e).forEach(a=>s.observe(a)),()=>s.disconnect()},trackScroll({send:e,refs:t,scope:n}){let i=We(n);return i?Q(i,"scroll",()=>{clearTimeout(t.get("timeoutRef")),t.set("timeoutRef",void 0),t.set("timeoutRef",setTimeout(()=>{e({type:"SCROLL.END"})},150))},{passive:!0}):void 0},trackDocumentVisibility({scope:e,send:t}){let n=e.getDoc();return Q(n,"visibilitychange",()=>{n.visibilityState!=="visible"&&t({type:"AUTOPLAY.PAUSE",src:"doc.hidden"})})},trackPointerMove({scope:e,send:t}){let n=e.getDoc();return fn(n,{onPointerMove({event:i}){t({type:"DRAGGING",left:-i.movementX,top:-i.movementY})},onPointerUp(){t({type:"DRAGGING.END"})}})},trackKeyboardScroll({scope:e,send:t,context:n}){let i=e.getWin();return Q(i,"keydown",s=>{switch(s.key){case"ArrowRight":s.preventDefault(),t({type:"PAGE.NEXT"});break;case"ArrowLeft":s.preventDefault(),t({type:"PAGE.PREV"});break;case"Home":s.preventDefault(),t({type:"PAGE.SET",index:0});break;case"End":s.preventDefault(),t({type:"PAGE.SET",index:n.get("pageSnapPoints").length-1})}},{capture:!0})}},actions:{clearScrollEndTimer({refs:e}){e.get("timeoutRef")!=null&&(clearTimeout(e.get("timeoutRef")),e.set("timeoutRef",void 0))},scrollToPage({context:e,event:t,scope:n,computed:i,flush:r}){var c;let s=t.instant?"instant":"smooth",a=Be((c=t.index)!=null?c:e.get("page"),0,e.get("pageSnapPoints").length-1),o=We(n);if(!o)return;let l=i("isHorizontal")?"left":"top";r(()=>{o.scrollTo({[l]:e.get("pageSnapPoints")[a],behavior:s})})},setClosestPage({context:e,scope:t,computed:n}){let i=We(t);if(!i)return;let r=n("isHorizontal")?i.scrollLeft:i.scrollTop,s=e.get("pageSnapPoints").findIndex(a=>Math.abs(a-r)<1);s!==-1&&e.set("page",s)},setNextPage({context:e,prop:t,state:n}){let i=n.matches("autoplay")||t("loop"),r=wi(e.get("pageSnapPoints"),e.get("page"),{loop:i});e.set("page",r)},setPrevPage({context:e,prop:t,state:n}){let i=n.matches("autoplay")||t("loop"),r=fr(e.get("pageSnapPoints"),e.get("page"),{loop:i});e.set("page",r)},setMatchingPage({context:e,event:t,computed:n,scope:i}){let r=We(i);if(!r)return;let s=By(r,n("isHorizontal")?"x":"y",o=>o.dataset.index===t.index.toString());if(s==null)return;let a=e.get("pageSnapPoints").findIndex(o=>Math.abs(o-s)<1);e.set("page",a)},setPage({context:e,event:t}){var i;let n=(i=t.index)!=null?i:e.get("page");e.set("page",n)},clampPage({context:e}){let t=Be(e.get("page"),0,e.get("pageSnapPoints").length-1);e.set("page",t)},setSnapPoints({context:e,computed:t,scope:n}){let i=We(n);if(!i)return;let r=Hy(i);e.set("pageSnapPoints",t("isHorizontal")?r.x:r.y)},disableScrollSnap({scope:e}){let t=We(e);if(!t)return;let n=getComputedStyle(t);t.dataset.scrollSnapType=n.getPropertyValue("scroll-snap-type"),t.style.setProperty("scroll-snap-type","none")},scrollSlides({scope:e,event:t}){let n=We(e);n==null||n.scrollBy({left:t.left,top:t.top,behavior:"instant"})},endDragging({scope:e,context:t,computed:n}){let i=We(e);if(!i)return;let r=n("isHorizontal"),s=r?i.scrollLeft:i.scrollTop,a=t.get("pageSnapPoints"),o=a.reduce((l,c)=>Math.abs(c-s)<Math.abs(l-s)?c:l,a[0]);H(()=>{i.scrollTo({left:r?o:i.scrollLeft,top:r?i.scrollTop:o,behavior:"smooth"}),t.set("page",a.indexOf(o));let l=i.dataset.scrollSnapType;l&&(i.style.setProperty("scroll-snap-type",l),delete i.dataset.scrollSnapType)})},focusIndicatorEl({context:e,event:t,scope:n}){if(t.src!=="indicator")return;let i=zy(n,e.get("page"));i&&H(()=>i.focus({preventScroll:!0}))},invokeDragStart({context:e,prop:t}){var n;(n=t("onDragStatusChange"))==null||n({type:"dragging.start",isDragging:!0,page:e.get("page")})},invokeDragging({context:e,prop:t}){var n;(n=t("onDragStatusChange"))==null||n({type:"dragging",isDragging:!0,page:e.get("page")})},invokeDraggingEnd({context:e,prop:t}){var n;(n=t("onDragStatusChange"))==null||n({type:"dragging.end",isDragging:!1,page:e.get("page")})},invokeAutoplay({context:e,prop:t}){var n;(n=t("onAutoplayStatusChange"))==null||n({type:"autoplay",isPlaying:!0,page:e.get("page")})},invokeAutoplayStart({context:e,prop:t}){var n;(n=t("onAutoplayStatusChange"))==null||n({type:"autoplay.start",isPlaying:!0,page:e.get("page")})},invokeAutoplayEnd({context:e,prop:t}){var n;(n=t("onAutoplayStatusChange"))==null||n({type:"autoplay.stop",isPlaying:!1,page:e.get("page")})}}}};Zy=G()(["dir","getRootNode","id","ids","loop","page","defaultPage","onPageChange","orientation","slideCount","slidesPerPage","slidesPerMove","spacing","padding","autoplay","allowMouseDrag","inViewThreshold","translations","snapType","autoSize","onDragStatusChange","onAutoplayStatusChange"]),$0=_(Zy),Jy=G()(["index","readOnly"]),H0=_(Jy),Qy=G()(["index","snapAlign"]),B0=_(Qy),eb=class extends K{initMachine(e){return new W(jy,e)}initApi(){return Yy(this.machine.service,q)}render(){var d;let e=(d=this.el.querySelector('[data-scope="carousel"][data-part="root"]'))!=null?d:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="carousel"][data-part="control"]');t&&this.spreadProps(t,this.api.getControlProps());let n=this.el.querySelector('[data-scope="carousel"][data-part="item-group"]');n&&this.spreadProps(n,this.api.getItemGroupProps());let i=Number(this.el.dataset.slideCount)||0;for(let h=0;h<i;h++){let m=this.el.querySelector(`[data-scope="carousel"][data-part="item"][data-index="${h}"]`);m&&this.spreadProps(m,this.api.getItemProps({index:h}))}let r=this.el.querySelector('[data-scope="carousel"][data-part="prev-trigger"]');r&&this.spreadProps(r,this.api.getPrevTriggerProps());let s=this.el.querySelector('[data-scope="carousel"][data-part="next-trigger"]');s&&this.spreadProps(s,this.api.getNextTriggerProps());let a=this.el.querySelector('[data-scope="carousel"][data-part="autoplay-trigger"]');a&&this.spreadProps(a,this.api.getAutoplayTriggerProps());let o=this.el.querySelector('[data-scope="carousel"][data-part="indicator-group"]');o&&this.spreadProps(o,this.api.getIndicatorGroupProps());let l=this.api.pageSnapPoints.length;for(let h=0;h<l;h++){let m=this.el.querySelector(`[data-scope="carousel"][data-part="indicator"][data-index="${h}"]`);m&&this.spreadProps(m,this.api.getIndicatorProps({index:h}))}let c=this.el.querySelector('[data-scope="carousel"][data-part="progress-text"]');c&&this.spreadProps(c,this.api.getProgressTextProps())}},tb={mounted(){var a,o,l,c;let e=this.el,t=z(e,"page"),n=z(e,"defaultPage"),i=P(e,"controlled"),r=z(e,"slideCount");if(r==null||r<1)return;let s=new eb(e,y(g({id:e.id,slideCount:r},i&&t!==void 0?{page:t}:{defaultPage:n!=null?n:0}),{dir:Ve(e),orientation:O(e,"orientation",["horizontal","vertical"]),slidesPerPage:(a=z(e,"slidesPerPage"))!=null?a:1,slidesPerMove:O(e,"slidesPerMove")==="auto"?"auto":z(e,"slidesPerMove"),loop:P(e,"loop"),autoplay:P(e,"autoplay")?{delay:(o=z(e,"autoplayDelay"))!=null?o:4e3}:!1,allowMouseDrag:P(e,"allowMouseDrag"),spacing:(l=O(e,"spacing"))!=null?l:"0px",padding:O(e,"padding"),inViewThreshold:(c=z(e,"inViewThreshold"))!=null?c:.6,snapType:O(e,"snapType",["proximity","mandatory"]),autoSize:P(e,"autoSize"),onPageChange:d=>{let h=O(e,"onPageChange");h&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(h,{page:d.page,pageSnapPoint:d.pageSnapPoint,id:e.id});let m=O(e,"onPageChangeClient");m&&e.dispatchEvent(new CustomEvent(m,{bubbles:!0,detail:{value:d,id:e.id}}))}}));s.init(),this.carousel=s,this.handlers=[]},updated(){var i,r;let e=z(this.el,"slideCount");if(e==null||e<1)return;let t=z(this.el,"page"),n=P(this.el,"controlled");(r=this.carousel)==null||r.updateProps(y(g({id:this.el.id,slideCount:e},n&&t!==void 0?{page:t}:{}),{dir:Ve(this.el),orientation:O(this.el,"orientation",["horizontal","vertical"]),slidesPerPage:(i=z(this.el,"slidesPerPage"))!=null?i:1,loop:P(this.el,"loop"),allowMouseDrag:P(this.el,"allowMouseDrag")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.carousel)==null||e.destroy()}}});function nb(e){return!(e.metaKey||!yi()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function rb(e,t,n){let i=n?j(n):null,r=Re(i),s=he(i),a=pn(r);return e=e||a instanceof s.HTMLInputElement&&!ib.has(a==null?void 0:a.type)||a instanceof s.HTMLTextAreaElement||a instanceof s.HTMLElement&&a.isContentEditable,!(e&&t==="keyboard"&&n instanceof s.KeyboardEvent&&!Reflect.has(ab,n.key))}function Ms(e,t){for(let n of No)n(e,t)}function Ls(e){Zn=!0,nb(e)&&(Qt="keyboard",Ms("keyboard",e))}function gt(e){Qt="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Zn=!0,Ms("pointer",e))}function su(e){Bc(e)&&(Zn=!0,Qt="virtual")}function au(e){let t=j(e);t===he(t)||t===Re(t)||sb||!e.isTrusted||(!Zn&&!Ro&&(Qt="virtual",Ms("virtual",e)),Zn=!1,Ro=!1)}function ou(){Zn=!1,Ro=!0}function ob(e){if(typeof window=="undefined"||Ds.get(he(e)))return;let t=he(e),n=Re(e),i=t.HTMLElement.prototype.focus;function r(){Zn=!0,i.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:r})}catch(s){}n.addEventListener("keydown",Ls,!0),n.addEventListener("keyup",Ls,!0),n.addEventListener("click",su,!0),t.addEventListener("focus",au,!0),t.addEventListener("blur",ou,!1),typeof t.PointerEvent!="undefined"?(n.addEventListener("pointerdown",gt,!0),n.addEventListener("pointermove",gt,!0),n.addEventListener("pointerup",gt,!0)):(n.addEventListener("mousedown",gt,!0),n.addEventListener("mousemove",gt,!0),n.addEventListener("mouseup",gt,!0)),t.addEventListener("beforeunload",()=>{lb(e)},{once:!0}),Ds.set(t,{focus:i})}function Sn(){return Qt}function Tn(e){Qt=e,Ms(e,null)}function Pn(){return Qt==="keyboard"||Qt==="virtual"}function Ke(e={}){let{isTextInput:t,autoFocus:n,onChange:i,root:r}=e;ob(r),i==null||i({isFocusVisible:n||Pn(),modality:Qt});let s=(a,o)=>{rb(!!t,a,o)&&(i==null||i({isFocusVisible:Pn(),modality:a}))};return No.add(s),()=>{No.delete(s)}}var ib,Qt,No,Ds,Zn,Ro,sb,ab,lb,On=re(()=>{"use strict";ae();ib=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);Qt=null,No=new Set,Ds=new Map,Zn=!1,Ro=!1,sb=!1,ab={Tab:!0,Escape:!0};lb=(e,t)=>{let n=he(e),i=Re(e),r=Ds.get(n);if(r){try{Object.defineProperty(n.HTMLElement.prototype,"focus",{configurable:!0,value:r.focus})}catch(s){}i.removeEventListener("keydown",Ls,!0),i.removeEventListener("keyup",Ls,!0),i.removeEventListener("click",su,!0),n.removeEventListener("focus",au,!0),n.removeEventListener("blur",ou,!1),typeof n.PointerEvent!="undefined"?(i.removeEventListener("pointerdown",gt,!0),i.removeEventListener("pointermove",gt,!0),i.removeEventListener("pointerup",gt,!0)):(i.removeEventListener("mousedown",gt,!0),i.removeEventListener("mousemove",gt,!0),i.removeEventListener("mouseup",gt,!0)),Ds.delete(n)}}});var uu={};ge(uu,{Checkbox:()=>vb});function hb(e,t){let{send:n,context:i,prop:r,computed:s,scope:a}=e,o=!!r("disabled"),l=!!r("readOnly"),c=!!r("required"),d=!!r("invalid"),h=!o&&i.get("focused"),m=!o&&i.get("focusVisible"),u=s("checked"),p=s("indeterminate"),v=i.get("checked"),I={"data-active":E(i.get("active")),"data-focus":E(h),"data-focus-visible":E(m),"data-readonly":E(l),"data-hover":E(i.get("hovered")),"data-disabled":E(o),"data-state":p?"indeterminate":u?"checked":"unchecked","data-invalid":E(d),"data-required":E(c)};return{checked:u,disabled:o,indeterminate:p,focused:h,checkedState:v,setChecked(T){n({type:"CHECKED.SET",checked:T,isTrusted:!1})},toggleChecked(){n({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label(y(g(g({},Fs.root.attrs),I),{dir:r("dir"),id:du(a),htmlFor:Do(a),onPointerMove(){o||n({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){o||n({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(T){j(T)===Ir(a)&&T.stopPropagation()}}))},getLabelProps(){return t.element(y(g(g({},Fs.label.attrs),I),{dir:r("dir"),id:lu(a)}))},getControlProps(){return t.element(y(g(g({},Fs.control.attrs),I),{dir:r("dir"),id:db(a),"aria-hidden":!0}))},getIndicatorProps(){return t.element(y(g(g({},Fs.indicator.attrs),I),{dir:r("dir"),hidden:!p&&!u}))},getHiddenInputProps(){return t.input({id:Do(a),type:"checkbox",required:r("required"),defaultChecked:u,disabled:o,"aria-labelledby":lu(a),"aria-invalid":d,name:r("name"),form:r("form"),value:r("value"),style:kt,onFocus(){let T=Pn();n({type:"CONTEXT.SET",context:{focused:!0,focusVisible:T}})},onBlur(){n({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(T){if(l){T.preventDefault();return}let w=T.currentTarget.checked;n({type:"CHECKED.SET",checked:w,isTrusted:!0})}})}}}function $s(e){return e==="indeterminate"}function pb(e){return $s(e)?!1:!!e}var cb,Fs,du,lu,db,Do,ub,Ir,cu,gb,fb,z0,mb,vb,hu=re(()=>{"use strict";On();ae();cb=U("checkbox").parts("root","label","control","indicator"),Fs=cb.build(),du=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`checkbox:${e.id}`},lu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`checkbox:${e.id}:label`},db=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`checkbox:${e.id}:control`},Do=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`checkbox:${e.id}:input`},ub=e=>e.getById(du(e)),Ir=e=>e.getById(Do(e));({not:cu}=Ie()),gb={props({props:e}){var t;return y(g({value:"on"},e),{defaultChecked:(t=e.defaultChecked)!=null?t:!1})},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var i;(i=e("onCheckedChange"))==null||i({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:n,action:i}){e([()=>n("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:cu("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:cu("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>$s(e.get("checked")),checked:({context:e})=>pb(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:n}){if(!t("disabled"))return Is({pointerNode:ub(n),keyboardNode:Ir(n),isValidKey:i=>i.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var n;if(!e("disabled"))return Ke({root:(n=t.getRootNode)==null?void 0:n.call(t)})},trackFormControlState({context:e,scope:t}){return xt(Ir(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,computed:t,scope:n}){let i=Ir(n);i&&(hr(i,t("checked")),i.indeterminate=$s(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){let n=$s(t("checked"))?!0:!t("checked");e.set("checked",n)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{let n=Ir(t);Ii(n,{checked:e("checked")})})}}}};fb=G()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),z0=_(fb),mb=class extends K{initMachine(e){return new W(gb,e)}initApi(){return hb(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="checkbox"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector(':scope > [data-scope="checkbox"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let n=e.querySelector(':scope > [data-scope="checkbox"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=e.querySelector(':scope > [data-scope="checkbox"][data-part="control"]');if(i){this.spreadProps(i,this.api.getControlProps());let r=i.querySelector(':scope > [data-scope="checkbox"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}}},vb={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new mb(e,y(g({id:e.id},P(e,"controlled")?{checked:P(e,"checked")}:{defaultChecked:P(e,"defaultChecked")}),{disabled:P(e,"disabled"),name:O(e,"name"),form:O(e,"form"),value:O(e,"value"),dir:Ve(e),invalid:P(e,"invalid"),required:P(e,"required"),readOnly:P(e,"readOnly"),onCheckedChange:i=>{let r=O(e,"onCheckedChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{checked:i.checked,id:e.id});let s=O(e,"onCheckedChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}}));n.init(),this.checkbox=n,this.onSetChecked=i=>{let{checked:r}=i.detail;n.api.setChecked(r)},e.addEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked=()=>{n.api.toggleChecked()},e.addEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers=[],this.handlers.push(this.handleEvent("checkbox_set_checked",i=>{let r=i.id;r&&r!==e.id||n.api.setChecked(i.checked)})),this.handlers.push(this.handleEvent("checkbox_toggle_checked",i=>{let r=i.id;r&&r!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("checkbox_checked",()=>{this.pushEvent("checkbox_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("checkbox_focused",()=>{this.pushEvent("checkbox_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("checkbox_disabled",()=>{this.pushEvent("checkbox_disabled_response",{value:n.api.disabled})}))},updated(){var e;(e=this.checkbox)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlled")?{checked:P(this.el,"checked")}:{defaultChecked:P(this.el,"defaultChecked")}),{disabled:P(this.el,"disabled"),name:O(this.el,"name"),form:O(this.el,"form"),value:O(this.el,"value"),dir:Ve(this.el),invalid:P(this.el,"invalid"),required:P(this.el,"required"),readOnly:P(this.el,"readOnly"),label:O(this.el,"label")}))},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked&&this.el.removeEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.checkbox)==null||e.destroy()}}});var gu={};ge(gu,{Clipboard:()=>Ab});function Pb(e,t){let n=e.createElement("pre");return Object.assign(n.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),n.textContent=t,n}function Sb(e){let n=he(e).getSelection();if(n==null)return Promise.reject(new Error);n.removeAllRanges();let i=e.ownerDocument,r=i.createRange();return r.selectNodeContents(e),n.addRange(r),i.execCommand("copy"),n.removeAllRanges(),Promise.resolve()}function Tb(e,t){var r;let n=e.defaultView||window;if(((r=n.navigator.clipboard)==null?void 0:r.writeText)!==void 0)return n.navigator.clipboard.writeText(t);if(!e.body)return Promise.reject(new Error);let i=Pb(e,t);return e.body.appendChild(i),Sb(i),e.body.removeChild(i),Promise.resolve()}function Ob(e,t){let{state:n,send:i,context:r,scope:s}=e,a=n.matches("copied");return{copied:a,value:r.get("value"),setValue(o){i({type:"VALUE.SET",value:o})},copy(){i({type:"COPY"})},getRootProps(){return t.element(y(g({},Ri.root.attrs),{"data-copied":E(a),id:bb(s)}))},getLabelProps(){return t.label(y(g({},Ri.label.attrs),{htmlFor:Lo(s),"data-copied":E(a),id:Eb(s)}))},getControlProps(){return t.element(y(g({},Ri.control.attrs),{"data-copied":E(a)}))},getInputProps(){return t.input(y(g({},Ri.input.attrs),{defaultValue:r.get("value"),"data-copied":E(a),readOnly:!0,"data-readonly":"true",id:Lo(s),onFocus(o){o.currentTarget.select()},onCopy(){i({type:"INPUT.COPY"})}}))},getTriggerProps(){return t.button(y(g({},Ri.trigger.attrs),{type:"button","aria-label":a?"Copied to clipboard":"Copy to clipboard","data-copied":E(a),onClick(){i({type:"COPY"})}}))},getIndicatorProps(o){return t.element(y(g({},Ri.indicator.attrs),{hidden:o.copied!==a}))}}}var yb,Ri,bb,Lo,Eb,Ib,Cb,wb,Vb,Z0,xb,J0,kb,Ab,pu=re(()=>{"use strict";ae();yb=U("clipboard").parts("root","control","trigger","indicator","input","label"),Ri=yb.build(),bb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`clip:${e.id}`},Lo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`clip:${e.id}:input`},Eb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`clip:${e.id}:label`},Ib=e=>e.getById(Lo(e)),Cb=(e,t)=>Tb(e.getDoc(),t);wb={props({props:e}){return g({timeout:3e3,defaultValue:""},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}}))}},watch({track:e,context:t,action:n}){e([()=>t.get("value")],()=>{n(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:e,send:t}){return bn(()=>{t({type:"COPY.DONE"})},e("timeout"))}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},copyToClipboard({context:e,scope:t}){Cb(t,e.get("value"))},invokeOnCopy({prop:e}){var t;(t=e("onStatusChange"))==null||t({copied:!0})},syncInputElement({context:e,scope:t}){let n=Ib(t);n&&Fe(n,e.get("value"))}}}},Vb=G()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]),Z0=_(Vb),xb=G()(["copied"]),J0=_(xb),kb=class extends K{initMachine(e){return new W(wb,e)}initApi(){return Ob(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="clipboard"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="clipboard"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=e.querySelector('[data-scope="clipboard"][data-part="control"]');if(n){this.spreadProps(n,this.api.getControlProps());let i=n.querySelector('[data-scope="clipboard"][data-part="input"]');if(i){let s=g({},this.api.getInputProps()),a=this.el.dataset.inputAriaLabel;a&&(s["aria-label"]=a),this.spreadProps(i,s)}let r=n.querySelector('[data-scope="clipboard"][data-part="trigger"]');if(r){let s=g({},this.api.getTriggerProps()),a=this.el.dataset.triggerAriaLabel;a&&(s["aria-label"]=a),this.spreadProps(r,s)}}}}},Ab={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,i=new kb(e,y(g({id:e.id,timeout:z(e,"timeout")},P(e,"controlled")?{value:O(e,"value")}:{defaultValue:O(e,"defaultValue")}),{onValueChange:r=>{var a;let s=O(e,"onValueChange");s&&n.main.isConnected()&&t(s,{id:e.id,value:(a=r.value)!=null?a:null})},onStatusChange:r=>{let s=O(e,"onStatusChange");s&&n.main.isConnected()&&t(s,{id:e.id,copied:r.copied});let a=O(e,"onStatusChangeClient");a&&e.dispatchEvent(new CustomEvent(a,{bubbles:!0}))}}));i.init(),this.clipboard=i,this.onCopy=()=>{i.api.copy()},e.addEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue=r=>{let{value:s}=r.detail;i.api.setValue(s)},e.addEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("clipboard_copy",r=>{let s=r.clipboard_id;s&&s!==e.id||i.api.copy()})),this.handlers.push(this.handleEvent("clipboard_set_value",r=>{let s=r.clipboard_id;s&&s!==e.id||i.api.setValue(r.value)})),this.handlers.push(this.handleEvent("clipboard_copied",()=>{this.pushEvent("clipboard_copied_response",{value:i.api.copied})}))},updated(){var e;(e=this.clipboard)==null||e.updateProps(y(g({id:this.el.id,timeout:z(this.el,"timeout")},P(this.el,"controlled")?{value:O(this.el,"value")}:{defaultValue:O(this.el,"value")}),{dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onCopy&&this.el.removeEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue&&this.el.removeEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.clipboard)==null||e.destroy()}}});var fu={};ge(fu,{Collapsible:()=>Hb});function Lb(e,t){let{state:n,send:i,context:r,scope:s,prop:a}=e,o=n.matches("open")||n.matches("closing"),l=n.matches("open"),c=n.matches("closed"),{width:d,height:h}=r.get("size"),m=!!a("disabled"),u=a("collapsedHeight"),p=a("collapsedWidth"),v=u!=null,I=p!=null,T=v||I,w=!r.get("initial")&&l;return{disabled:m,visible:o,open:l,measureSize(){i({type:"size.measure"})},setOpen(b){n.matches("open")!==b&&i({type:b?"open":"close"})},getRootProps(){return t.element(y(g({},Hs.root.attrs),{"data-state":l?"open":"closed",dir:a("dir"),id:Rb(s)}))},getContentProps(){return t.element(y(g({},Hs.content.attrs),{id:Mo(s),"data-collapsible":"","data-state":w?void 0:l?"open":"closed","data-disabled":E(m),"data-has-collapsed-size":E(T),hidden:!o&&!T,dir:a("dir"),style:g(g({"--height":be(h),"--width":be(d),"--collapsed-height":be(u),"--collapsed-width":be(p)},c&&v&&{overflow:"hidden",minHeight:be(u),maxHeight:be(u)}),c&&I&&{overflow:"hidden",minWidth:be(p),maxWidth:be(p)})}))},getTriggerProps(){return t.element(y(g({},Hs.trigger.attrs),{id:Db(s),dir:a("dir"),type:"button","data-state":l?"open":"closed","data-disabled":E(m),"aria-controls":Mo(s),"aria-expanded":o||!1,onClick(b){b.defaultPrevented||m||i({type:l?"close":"open"})}}))},getIndicatorProps(){return t.element(y(g({},Hs.indicator.attrs),{dir:a("dir"),"data-state":l?"open":"closed","data-disabled":E(m)}))}}}var Nb,Hs,Rb,Mo,Db,Cr,Mb,Fb,nx,$b,Hb,mu=re(()=>{"use strict";ae();Nb=U("collapsible").parts("root","trigger","content","indicator"),Hs=Nb.build(),Rb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`collapsible:${e.id}`},Mo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`collapsible:${e.id}:content`},Db=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`collapsible:${e.id}:trigger`},Cr=e=>e.getById(Mo(e));Mb={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["cleanupNode"],states:{closed:{effects:["trackTabbableElements"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n,i=H(()=>{let r=Cr(t);if(!r)return;let s=lt(r).animationName;if(!s||s==="none"){e({type:"animation.end"});return}let o=l=>{j(l)===r&&e({type:"animation.end"})};r.addEventListener("animationend",o),n=()=>{r.removeEventListener("animationend",o)}});return()=>{i(),n==null||n()}},trackExitAnimation:({send:e,scope:t})=>{let n,i=H(()=>{let r=Cr(t);if(!r)return;let s=lt(r).animationName;if(!s||s==="none"){e({type:"animation.end"});return}let o=c=>{j(c)===r&&e({type:"animation.end"})};r.addEventListener("animationend",o);let l=zn(r,{animationFillMode:"forwards"});n=()=>{r.removeEventListener("animationend",o),Kn(()=>l())}});return()=>{i(),n==null||n()}},trackTabbableElements:({scope:e,prop:t})=>{if(!t("collapsedHeight")&&!t("collapsedWidth"))return;let n=Cr(e);if(!n)return;let i=()=>{let o=Xt(n).map(l=>Xc(l,"inert",""));return()=>{o.forEach(l=>l())}},r=i(),s=bs(n,{callback(){r(),r=i()}});return()=>{r(),s()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{let n=Cr(t);if(!n)return;let{height:i,width:r}=n.getBoundingClientRect();e.set("size",{height:i,width:r})},computeSize:({refs:e,scope:t,context:n})=>{var r;(r=e.get("cleanup"))==null||r();let i=H(()=>{let s=Cr(t);if(!s)return;let a=s.hidden;s.style.animationName="none",s.style.animationDuration="0s",s.hidden=!1;let o=s.getBoundingClientRect();n.set("size",{height:o.height,width:o.width}),n.get("initial")&&(s.style.animationName="",s.style.animationDuration=""),s.hidden=a});e.set("cleanup",i)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}},Fb=G()(["dir","disabled","getRootNode","id","ids","collapsedHeight","collapsedWidth","onExitComplete","onOpenChange","defaultOpen","open"]),nx=_(Fb),$b=class extends K{initMachine(e){return new W(Mb,e)}initApi(){return Lb(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="collapsible"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="collapsible"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=e.querySelector('[data-scope="collapsible"][data-part="content"]');n&&this.spreadProps(n,this.api.getContentProps())}}},Hb={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new $b(e,y(g({id:e.id},P(e,"controlled")?{open:P(e,"open")}:{defaultOpen:P(e,"defaultOpen")}),{disabled:P(e,"disabled"),dir:O(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let r=O(e,"onOpenChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,open:i.open});let s=O(e,"onOpenChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));n.init(),this.collapsible=n,this.onSetOpen=i=>{let{open:r}=i.detail;n.api.setOpen(r)},e.addEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("collapsible_set_open",i=>{let r=i.collapsible_id;r&&r!==e.id||n.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("collapsible_open",()=>{this.pushEvent("collapsible_open_response",{value:n.api.open})}))},updated(){var e;(e=this.collapsible)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlled")?{open:P(this.el,"open")}:{defaultOpen:P(this.el,"defaultOpen")}),{disabled:P(this.el,"disabled"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.collapsible)==null||e.destroy()}}});function Pr(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}function Bs(e,t,n){t=[...t].sort((r,s)=>r-s);let i=t.map(r=>e[r]);for(let r=t.length-1;r>=0;r--)e=[...e.slice(0,t[r]),...e.slice(t[r]+1)];return n=Math.max(0,n-t.filter(r=>r<n).length),[...e.slice(0,n),...i,...e.slice(n)]}function wn(e){return He(e,"columnCount")&&He(e,"getRows")}function Iu(e,t,n){for(let i=0;i<t.length;i++)e=n.getChildren(e,t.slice(i+1))[t[i]];return e}function Ub(e){let t=qb(e),n=[],i=new Set;for(let r of t){let s=r.join();i.has(s)||(i.add(s),n.push(r))}return n}function Cu(e,t){for(let n=0;n<Math.min(e.length,t.length);n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.length-t.length}function qb(e){return e.sort(Cu)}function Wb(e,t){let n;return nt(e,y(g({},t),{onEnter:(i,r)=>{if(t.predicate(i,r))return n=i,"stop"}})),n}function Kb(e,t){let n=[];return nt(e,{onEnter:(i,r)=>{t.predicate(i,r)&&n.push(i)},getChildren:t.getChildren}),n}function vu(e,t){let n;return nt(e,{onEnter:(i,r)=>{if(t.predicate(i,r))return n=[...r],"stop"},getChildren:t.getChildren}),n}function zb(e,t){let n=t.initialResult;return nt(e,y(g({},t),{onEnter:(i,r)=>{n=t.nextResult(n,i,r)}})),n}function Yb(e,t){return zb(e,y(g({},t),{initialResult:[],nextResult:(n,i,r)=>(n.push(...t.transform(i,r)),n)}))}function jb(e,t){let{predicate:n,create:i,getChildren:r}=t,s=(a,o)=>{let l=r(a,o),c=[];l.forEach((u,p)=>{let v=[...o,p],I=s(u,v);I&&c.push(I)});let d=o.length===0,h=n(a,o),m=c.length>0;return d||h||m?i(a,c,o):null};return s(e,[])||i(e,[],[])}function Xb(e,t){let n=[],i=0,r=new Map,s=new Map;return nt(e,{getChildren:t.getChildren,onEnter:(a,o)=>{r.has(a)||r.set(a,i++);let l=t.getChildren(a,o);l.forEach(u=>{s.has(u)||s.set(u,a),r.has(u)||r.set(u,i++)});let c=l.length>0?l.map(u=>r.get(u)):void 0,d=s.get(a),h=d?r.get(d):void 0,m=r.get(a);n.push(y(g({},a),{_children:c,_parent:h,_index:m}))}}),n}function Zb(e,t){return{type:"insert",index:e,nodes:t}}function Jb(e){return{type:"remove",indexes:e}}function $o(){return{type:"replace"}}function Pu(e){return[e.slice(0,-1),e[e.length-1]]}function Su(e,t,n=new Map){var a;let[i,r]=Pu(e);for(let o=i.length-1;o>=0;o--){let l=i.slice(0,o).join();switch((a=n.get(l))==null?void 0:a.type){case"remove":continue}n.set(l,$o())}let s=n.get(i.join());switch(s==null?void 0:s.type){case"remove":n.set(i.join(),{type:"removeThenInsert",removeIndexes:s.indexes,insertIndex:r,insertNodes:t});break;default:n.set(i.join(),Zb(r,t))}return n}function Tu(e){var i;let t=new Map,n=new Map;for(let r of e){let s=r.slice(0,-1).join(),a=(i=n.get(s))!=null?i:[];a.push(r[r.length-1]),n.set(s,a.sort((o,l)=>o-l))}for(let r of e)for(let s=r.length-2;s>=0;s--){let a=r.slice(0,s).join();t.has(a)||t.set(a,$o())}for(let[r,s]of n)t.set(r,Jb(s));return t}function Qb(e,t){let n=new Map,[i,r]=Pu(e);for(let s=i.length-1;s>=0;s--){let a=i.slice(0,s).join();n.set(a,$o())}return n.set(i.join(),{type:"removeThenInsert",removeIndexes:[r],insertIndex:r,insertNodes:[t]}),n}function Us(e,t,n){return eE(e,y(g({},n),{getChildren:(i,r)=>{let s=r.join(),a=t.get(s);switch(a==null?void 0:a.type){case"replace":case"remove":case"removeThenInsert":case"insert":return n.getChildren(i,r);default:return[]}},transform:(i,r,s)=>{let a=s.join(),o=t.get(a);switch(o==null?void 0:o.type){case"remove":return n.create(i,r.filter((d,h)=>!o.indexes.includes(h)),s);case"removeThenInsert":let l=r.filter((d,h)=>!o.removeIndexes.includes(h)),c=o.removeIndexes.reduce((d,h)=>h<d?d-1:d,o.insertIndex);return n.create(i,yu(l,c,0,...o.insertNodes),s);case"insert":return n.create(i,yu(r,o.index,0,...o.nodes),s);case"replace":return n.create(i,r,s);default:return i}}}))}function yu(e,t,n,...i){return[...e.slice(0,t),...i,...e.slice(t+n)]}function eE(e,t){let n={};return nt(e,y(g({},t),{onLeave:(i,r)=>{var d,h;let s=[0,...r],a=s.join(),o=t.transform(i,(d=n[a])!=null?d:[],r),l=s.slice(0,-1).join(),c=(h=n[l])!=null?h:[];c.push(o),n[l]=c}})),n[""][0]}function tE(e,t){let{nodes:n,at:i}=t;if(i.length===0)throw new Error("Can't insert nodes at the root");let r=Su(i,n);return Us(e,r,t)}function nE(e,t){if(t.at.length===0)return t.node;let n=Qb(t.at,t.node);return Us(e,n,t)}function iE(e,t){if(t.indexPaths.length===0)return e;for(let i of t.indexPaths)if(i.length===0)throw new Error("Can't remove the root node");let n=Tu(t.indexPaths);return Us(e,n,t)}function rE(e,t){if(t.indexPaths.length===0)return e;for(let s of t.indexPaths)if(s.length===0)throw new Error("Can't move the root node");if(t.to.length===0)throw new Error("Can't move nodes to the root");let n=Ub(t.indexPaths),i=n.map(s=>Iu(e,s,t)),r=Su(t.to,i,Tu(n));return Us(e,r,t)}function nt(e,t){let{onEnter:n,onLeave:i,getChildren:r}=t,s=[],a=[{node:e}],o=t.reuseIndexPath?()=>s:()=>s.slice();for(;a.length>0;){let l=a[a.length-1];if(l.state===void 0){let d=n==null?void 0:n(l.node,o());if(d==="stop")return;l.state=d==="skip"?-1:0}let c=l.children||r(l.node,o());if(l.children||(l.children=c),l.state!==-1){if(l.state<c.length){let h=l.state;s.push(h),a.push({node:c[h]}),l.state=h+1;continue}if((i==null?void 0:i(l.node,o()))==="stop")return}s.pop(),a.pop()}}var Bb,_b,M,_s,Dt,Gb,Fo,Eu,Ho,Di,Sr=re(()=>{"use strict";ae();Bb=Object.defineProperty,_b=(e,t,n)=>t in e?Bb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t,n)=>_b(e,typeof t!="symbol"?t+"":t,n),_s={itemToValue(e){return typeof e=="string"?e:At(e)&&He(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:At(e)&&He(e,"label")?e.label:_s.itemToValue(e)},isItemDisabled(e){return At(e)&&He(e,"disabled")?!!e.disabled:!1}},Dt=class bu{constructor(t){this.options=t,M(this,"items"),M(this,"indexMap",null),M(this,"copy",n=>new bu(y(g({},this.options),{items:n!=null?n:[...this.items]}))),M(this,"isEqual",n=>me(this.items,n.items)),M(this,"setItems",n=>this.copy(n)),M(this,"getValues",(n=this.items)=>{let i=[];for(let r of n){let s=this.getItemValue(r);s!=null&&i.push(s)}return i}),M(this,"find",n=>{if(n==null)return null;let i=this.indexOf(n);return i!==-1?this.at(i):null}),M(this,"findMany",n=>{let i=[];for(let r of n){let s=this.find(r);s!=null&&i.push(s)}return i}),M(this,"at",n=>{var s;if(!this.options.groupBy&&!this.options.groupSort)return(s=this.items[n])!=null?s:null;let i=0,r=this.group();for(let[,a]of r)for(let o of a){if(i===n)return o;i++}return null}),M(this,"sortFn",(n,i)=>{let r=this.indexOf(n),s=this.indexOf(i);return(r!=null?r:0)-(s!=null?s:0)}),M(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),M(this,"getItemValue",n=>{var i,r,s;return n==null?null:(s=(r=(i=this.options).itemToValue)==null?void 0:r.call(i,n))!=null?s:_s.itemToValue(n)}),M(this,"getItemDisabled",n=>{var i,r,s;return n==null?!1:(s=(r=(i=this.options).isItemDisabled)==null?void 0:r.call(i,n))!=null?s:_s.isItemDisabled(n)}),M(this,"stringifyItem",n=>{var i,r,s;return n==null?null:(s=(r=(i=this.options).itemToString)==null?void 0:r.call(i,n))!=null?s:_s.itemToString(n)}),M(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),M(this,"stringifyItems",(n,i=", ")=>{let r=[];for(let s of n){let a=this.stringifyItem(s);a!=null&&r.push(a)}return r.join(i)}),M(this,"stringifyMany",(n,i)=>this.stringifyItems(this.findMany(n),i)),M(this,"has",n=>this.indexOf(n)!==-1),M(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),M(this,"group",()=>{let{groupBy:n,groupSort:i}=this.options;if(!n)return[["",[...this.items]]];let r=new Map;this.items.forEach((a,o)=>{let l=n(a,o);r.has(l)||r.set(l,[]),r.get(l).push(a)});let s=Array.from(r.entries());return i&&s.sort(([a],[o])=>{if(typeof i=="function")return i(a,o);if(Array.isArray(i)){let l=i.indexOf(a),c=i.indexOf(o);return l===-1?1:c===-1?-1:l-c}return i==="asc"?a.localeCompare(o):i==="desc"?o.localeCompare(a):0}),s}),M(this,"getNextValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.min(s+i,this.size-1):s+i;s<=this.size&&this.getItemDisabled(this.at(s));)s++;return this.getItemValue(this.at(s))}),M(this,"getPreviousValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.max(s-i,0):s-i;s>=0&&this.getItemDisabled(this.at(s));)s--;return this.getItemValue(this.at(s))}),M(this,"indexOf",n=>{var i;if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(r=>this.getItemValue(r)===n);if(!this.indexMap){this.indexMap=new Map;let r=0,s=this.group();for(let[,a]of s)for(let o of a){let l=this.getItemValue(o);l!=null&&this.indexMap.set(l,r),r++}}return(i=this.indexMap.get(n))!=null?i:-1}),M(this,"getByText",(n,i)=>{let r=i!=null?this.indexOf(i):-1,s=n.length===1;for(let a=0;a<this.items.length;a++){let o=this.items[(r+a+1)%this.items.length];if(!(s&&this.getItemValue(o)===i)&&!this.getItemDisabled(o)&&Gb(this.stringifyItem(o),n))return o}}),M(this,"search",(n,i)=>{let{state:r,currentValue:s,timeout:a=350}=i,o=r.keysSoFar+n,c=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,d=this.getByText(c,s),h=this.getItemValue(d);function m(){clearTimeout(r.timer),r.timer=-1}function u(p){r.keysSoFar=p,m(),p!==""&&(r.timer=+setTimeout(()=>{u(""),m()},a))}return u(o),h}),M(this,"update",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy([...this.items.slice(0,r),i,...this.items.slice(r+1)])}),M(this,"upsert",(n,i,r="append")=>{let s=this.indexOf(n);return s===-1?(r==="append"?this.append:this.prepend)(i):this.copy([...this.items.slice(0,s),i,...this.items.slice(s+1)])}),M(this,"insert",(n,...i)=>this.copy(Pr(this.items,n,...i))),M(this,"insertBefore",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(Pr(this.items,r,...i))}),M(this,"insertAfter",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(Pr(this.items,r+1,...i))}),M(this,"prepend",(...n)=>this.copy(Pr(this.items,0,...n))),M(this,"append",(...n)=>this.copy(Pr(this.items,this.items.length,...n))),M(this,"filter",n=>{let i=this.items.filter((r,s)=>n(this.stringifyItem(r),s,r));return this.copy(i)}),M(this,"remove",(...n)=>{let i=n.map(r=>typeof r=="string"?r:this.getItemValue(r));return this.copy(this.items.filter(r=>{let s=this.getItemValue(r);return s==null?!1:!i.includes(s)}))}),M(this,"move",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy(Bs(this.items,[r],i))}),M(this,"moveBefore",(n,...i)=>{let r=this.items.findIndex(a=>this.getItemValue(a)===n);if(r===-1)return this;let s=i.map(a=>this.items.findIndex(o=>this.getItemValue(o)===a)).sort((a,o)=>a-o);return this.copy(Bs(this.items,s,r))}),M(this,"moveAfter",(n,...i)=>{let r=this.items.findIndex(a=>this.getItemValue(a)===n);if(r===-1)return this;let s=i.map(a=>this.items.findIndex(o=>this.getItemValue(o)===a)).sort((a,o)=>a-o);return this.copy(Bs(this.items,s,r+1))}),M(this,"reorder",(n,i)=>this.copy(Bs(this.items,[n],i))),M(this,"compareValue",(n,i)=>{let r=this.indexOf(n),s=this.indexOf(i);return r<s?-1:r>s?1:0}),M(this,"range",(n,i)=>{let r=[],s=n;for(;s!=null;){if(this.find(s)&&r.push(s),s===i)return r;s=this.getNextValue(s)}return[]}),M(this,"getValueRange",(n,i)=>n&&i?this.compareValue(n,i)<=0?this.range(n,i):this.range(i,n):[]),M(this,"toString",()=>{let n="";for(let i of this.items){let r=this.getItemValue(i),s=this.stringifyItem(i),a=this.getItemDisabled(i),o=[r,s,a].filter(Boolean).join(":");n+=o+","}return n}),M(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*vc(this.items)}},Gb=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase()));Fo=class extends Dt{constructor(e){let{columnCount:t}=e;super(e),M(this,"columnCount"),M(this,"rows",null),M(this,"getRows",()=>(this.rows||(this.rows=mr([...this.items],this.columnCount)),this.rows)),M(this,"getRowCount",()=>Math.ceil(this.items.length/this.columnCount)),M(this,"getCellIndex",(n,i)=>n*this.columnCount+i),M(this,"getCell",(n,i)=>this.at(this.getCellIndex(n,i))),M(this,"getValueCell",n=>{let i=this.indexOf(n);if(i===-1)return null;let r=Math.floor(i/this.columnCount),s=i%this.columnCount;return{row:r,column:s}}),M(this,"getLastEnabledColumnIndex",n=>{for(let i=this.columnCount-1;i>=0;i--){let r=this.getCell(n,i);if(r&&!this.getItemDisabled(r))return i}return null}),M(this,"getFirstEnabledColumnIndex",n=>{for(let i=0;i<this.columnCount;i++){let r=this.getCell(n,i);if(r&&!this.getItemDisabled(r))return i}return null}),M(this,"getPreviousRowValue",(n,i=!1)=>{let r=this.getValueCell(n);if(r===null)return null;let s=this.getRows(),a=s.length,o=r.row,l=r.column;for(let c=1;c<=a;c++){o=fr(s,o,{loop:i});let d=s[o];if(!d)continue;if(!d[l]){let u=this.getLastEnabledColumnIndex(o);u!=null&&(l=u)}let m=this.getCell(o,l);if(!this.getItemDisabled(m))return this.getItemValue(m)}return this.firstValue}),M(this,"getNextRowValue",(n,i=!1)=>{let r=this.getValueCell(n);if(r===null)return null;let s=this.getRows(),a=s.length,o=r.row,l=r.column;for(let c=1;c<=a;c++){o=wi(s,o,{loop:i});let d=s[o];if(!d)continue;if(!d[l]){let u=this.getLastEnabledColumnIndex(o);u!=null&&(l=u)}let m=this.getCell(o,l);if(!this.getItemDisabled(m))return this.getItemValue(m)}return this.lastValue}),this.columnCount=t}};Eu=class Gs extends Set{constructor(t=[]){super(t),M(this,"selectionMode","single"),M(this,"deselectable",!0),M(this,"copy",()=>{let n=new Gs([...this]);return this.sync(n)}),M(this,"sync",n=>(n.selectionMode=this.selectionMode,n.deselectable=this.deselectable,n)),M(this,"isEmpty",()=>this.size===0),M(this,"isSelected",n=>this.selectionMode==="none"||n==null?!1:this.has(n)),M(this,"canSelect",(n,i)=>this.selectionMode!=="none"||!n.getItemDisabled(n.find(i))),M(this,"firstSelectedValue",n=>{let i=null;for(let r of this)(!i||n.compareValue(r,i)<0)&&(i=r);return i}),M(this,"lastSelectedValue",n=>{let i=null;for(let r of this)(!i||n.compareValue(r,i)>0)&&(i=r);return i}),M(this,"extendSelection",(n,i,r)=>{if(this.selectionMode==="none")return this;if(this.selectionMode==="single")return this.replaceSelection(n,r);let s=this.copy(),a=Array.from(this).pop();for(let o of n.getValueRange(i,a!=null?a:r))s.delete(o);for(let o of n.getValueRange(r,i))this.canSelect(n,o)&&s.add(o);return s}),M(this,"toggleSelection",(n,i)=>{if(this.selectionMode==="none")return this;if(this.selectionMode==="single"&&!this.isSelected(i))return this.replaceSelection(n,i);let r=this.copy();return r.has(i)?r.delete(i):r.canSelect(n,i)&&r.add(i),r}),M(this,"replaceSelection",(n,i)=>{if(this.selectionMode==="none")return this;if(i==null)return this;if(!this.canSelect(n,i))return this;let r=new Gs([i]);return this.sync(r)}),M(this,"setSelection",n=>{if(this.selectionMode==="none")return this;let i=new Gs;for(let r of n)if(r!=null&&(i.add(r),this.selectionMode==="single"))break;return this.sync(i)}),M(this,"clearSelection",()=>{let n=this.copy();return n.deselectable&&n.size>0&&n.clear(),n}),M(this,"select",(n,i,r)=>this.selectionMode==="none"?this:this.selectionMode==="single"?this.isSelected(i)&&this.deselectable?this.toggleSelection(n,i):this.replaceSelection(n,i):this.selectionMode==="multiple"||r?this.toggleSelection(n,i):this.replaceSelection(n,i)),M(this,"deselect",n=>{let i=this.copy();return i.delete(n),i}),M(this,"isEqual",n=>me(Array.from(this),Array.from(n)))}};Ho=class Ou{constructor(t){this.options=t,M(this,"rootNode"),M(this,"isEqual",n=>me(this.rootNode,n.rootNode)),M(this,"getNodeChildren",n=>{var i,r,s,a;return(a=(s=(r=(i=this.options).nodeToChildren)==null?void 0:r.call(i,n))!=null?s:Di.nodeToChildren(n))!=null?a:[]}),M(this,"resolveIndexPath",n=>typeof n=="string"?this.getIndexPath(n):n),M(this,"resolveNode",n=>{let i=this.resolveIndexPath(n);return i?this.at(i):void 0}),M(this,"getNodeChildrenCount",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToChildrenCount)==null?void 0:r.call(i,n))!=null?s:Di.nodeToChildrenCount(n)}),M(this,"getNodeValue",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToValue)==null?void 0:r.call(i,n))!=null?s:Di.nodeToValue(n)}),M(this,"getNodeDisabled",n=>{var i,r,s;return(s=(r=(i=this.options).isNodeDisabled)==null?void 0:r.call(i,n))!=null?s:Di.isNodeDisabled(n)}),M(this,"stringify",n=>{let i=this.findNode(n);return i?this.stringifyNode(i):null}),M(this,"stringifyNode",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToString)==null?void 0:r.call(i,n))!=null?s:Di.nodeToString(n)}),M(this,"getFirstNode",(n=this.rootNode,i={})=>{let r;return nt(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{var o;if(!this.isSameNode(s,n)){if((o=i.skip)!=null&&o.call(i,{value:this.getNodeValue(s),node:s,indexPath:a}))return"skip";if(!r&&a.length>0&&!this.getNodeDisabled(s))return r=s,"stop"}}}),r}),M(this,"getLastNode",(n=this.rootNode,i={})=>{let r;return nt(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{var o;if(!this.isSameNode(s,n)){if((o=i.skip)!=null&&o.call(i,{value:this.getNodeValue(s),node:s,indexPath:a}))return"skip";a.length>0&&!this.getNodeDisabled(s)&&(r=s)}}}),r}),M(this,"at",n=>Iu(this.rootNode,n,{getChildren:this.getNodeChildren})),M(this,"findNode",(n,i=this.rootNode)=>Wb(i,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===n})),M(this,"findNodes",(n,i=this.rootNode)=>{let r=new Set(n.filter(s=>s!=null));return Kb(i,{getChildren:this.getNodeChildren,predicate:s=>r.has(this.getNodeValue(s))})}),M(this,"sort",n=>n.reduce((i,r)=>{let s=this.getIndexPath(r);return s&&i.push({value:r,indexPath:s}),i},[]).sort((i,r)=>Cu(i.indexPath,r.indexPath)).map(({value:i})=>i)),M(this,"getValue",n=>{let i=this.at(n);return i?this.getNodeValue(i):void 0}),M(this,"getValuePath",n=>{if(!n)return[];let i=[],r=[...n];for(;r.length>0;){let s=this.at(r);s&&i.unshift(this.getNodeValue(s)),r.pop()}return i}),M(this,"getDepth",n=>{var r;let i=vu(this.rootNode,{getChildren:this.getNodeChildren,predicate:s=>this.getNodeValue(s)===n});return(r=i==null?void 0:i.length)!=null?r:0}),M(this,"isSameNode",(n,i)=>this.getNodeValue(n)===this.getNodeValue(i)),M(this,"isRootNode",n=>this.isSameNode(n,this.rootNode)),M(this,"contains",(n,i)=>!n||!i?!1:i.slice(0,n.length).every((r,s)=>n[s]===i[s])),M(this,"getNextNode",(n,i={})=>{let r=!1,s;return nt(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{var c;if(this.isRootNode(a))return;let l=this.getNodeValue(a);if((c=i.skip)!=null&&c.call(i,{value:l,node:a,indexPath:o}))return l===n&&(r=!0),"skip";if(r&&!this.getNodeDisabled(a))return s=a,"stop";l===n&&(r=!0)}}),s}),M(this,"getPreviousNode",(n,i={})=>{let r,s=!1;return nt(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{var c;if(this.isRootNode(a))return;let l=this.getNodeValue(a);if((c=i.skip)!=null&&c.call(i,{value:l,node:a,indexPath:o}))return"skip";if(l===n)return s=!0,"stop";this.getNodeDisabled(a)||(r=a)}}),s?r:void 0}),M(this,"getParentNodes",n=>{var s;let i=(s=this.resolveIndexPath(n))==null?void 0:s.slice();if(!i)return[];let r=[];for(;i.length>0;){i.pop();let a=this.at(i);a&&!this.isRootNode(a)&&r.unshift(a)}return r}),M(this,"getDescendantNodes",(n,i)=>{let r=this.resolveNode(n);if(!r)return[];let s=[];return nt(r,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{o.length!==0&&(!(i!=null&&i.withBranch)&&this.isBranchNode(a)||s.push(a))}}),s}),M(this,"getDescendantValues",(n,i)=>this.getDescendantNodes(n,i).map(s=>this.getNodeValue(s))),M(this,"getParentIndexPath",n=>n.slice(0,-1)),M(this,"getParentNode",n=>{let i=this.resolveIndexPath(n);return i?this.at(this.getParentIndexPath(i)):void 0}),M(this,"visit",n=>{let s=n,{skip:i}=s,r=yt(s,["skip"]);nt(this.rootNode,y(g({},r),{getChildren:this.getNodeChildren,onEnter:(a,o)=>{var l;if(!this.isRootNode(a))return i!=null&&i({value:this.getNodeValue(a),node:a,indexPath:o})?"skip":(l=r.onEnter)==null?void 0:l.call(r,a,o)}}))}),M(this,"getPreviousSibling",n=>{let i=this.getParentNode(n);if(!i)return;let r=this.getNodeChildren(i),s=n[n.length-1];for(;--s>=0;){let a=r[s];if(!this.getNodeDisabled(a))return a}}),M(this,"getNextSibling",n=>{let i=this.getParentNode(n);if(!i)return;let r=this.getNodeChildren(i),s=n[n.length-1];for(;++s<r.length;){let a=r[s];if(!this.getNodeDisabled(a))return a}}),M(this,"getSiblingNodes",n=>{let i=this.getParentNode(n);return i?this.getNodeChildren(i):[]}),M(this,"getValues",(n=this.rootNode)=>Yb(n,{getChildren:this.getNodeChildren,transform:r=>[this.getNodeValue(r)]}).slice(1)),M(this,"isValidDepth",(n,i)=>i==null?!0:typeof i=="function"?i(n.length):n.length===i),M(this,"isBranchNode",n=>this.getNodeChildren(n).length>0||this.getNodeChildrenCount(n)!=null),M(this,"getBranchValues",(n=this.rootNode,i={})=>{let r=[];return nt(n,{getChildren:this.getNodeChildren,onEnter:(s,a)=>{var l;if(a.length===0)return;let o=this.getNodeValue(s);if((l=i.skip)!=null&&l.call(i,{value:o,node:s,indexPath:a}))return"skip";this.isBranchNode(s)&&this.isValidDepth(a,i.depth)&&r.push(this.getNodeValue(s))}}),r}),M(this,"flatten",(n=this.rootNode)=>Xb(n,{getChildren:this.getNodeChildren})),M(this,"_create",(n,i)=>this.getNodeChildren(n).length>0||i.length>0?y(g({},n),{children:i}):g({},n)),M(this,"_insert",(n,i,r)=>this.copy(tE(n,{at:i,nodes:r,getChildren:this.getNodeChildren,create:this._create}))),M(this,"copy",n=>new Ou(y(g({},this.options),{rootNode:n}))),M(this,"_replace",(n,i,r)=>this.copy(nE(n,{at:i,node:r,getChildren:this.getNodeChildren,create:this._create}))),M(this,"_move",(n,i,r)=>this.copy(rE(n,{indexPaths:i,to:r,getChildren:this.getNodeChildren,create:this._create}))),M(this,"_remove",(n,i)=>this.copy(iE(n,{indexPaths:i,getChildren:this.getNodeChildren,create:this._create}))),M(this,"replace",(n,i)=>this._replace(this.rootNode,n,i)),M(this,"remove",n=>this._remove(this.rootNode,n)),M(this,"insertBefore",(n,i)=>this.getParentNode(n)?this._insert(this.rootNode,n,i):void 0),M(this,"insertAfter",(n,i)=>{if(!this.getParentNode(n))return;let s=[...n.slice(0,-1),n[n.length-1]+1];return this._insert(this.rootNode,s,i)}),M(this,"move",(n,i)=>this._move(this.rootNode,n,i)),M(this,"filter",n=>{let i=jb(this.rootNode,{predicate:n,getChildren:this.getNodeChildren,create:this._create});return this.copy(i)}),M(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=t.rootNode}getIndexPath(t){if(Array.isArray(t)){if(t.length===0)return[];let n=[],i=this.getNodeChildren(this.rootNode);for(let r=0;r<t.length;r++){let s=t[r],a=i.findIndex(o=>this.getNodeValue(o)===s);if(a===-1)break;if(n.push(a),r<t.length-1){let o=i[a];i=this.getNodeChildren(o)}}return n}else return vu(this.rootNode,{getChildren:this.getNodeChildren,predicate:n=>this.getNodeValue(n)===t})}},Di={nodeToValue(e){return typeof e=="string"?e:At(e)&&He(e,"value")?e.value:""},nodeToString(e){return typeof e=="string"?e:At(e)&&He(e,"label")?e.label:Di.nodeToValue(e)},isNodeDisabled(e){return At(e)&&He(e,"disabled")?!!e.disabled:!1},nodeToChildren(e){return e.children},nodeToChildrenCount(e){if(At(e)&&He(e,"childrenCount"))return e.childrenCount}}});function _o(e,t,n){return it(e,Vn(t,n))}function tn(e,t){return typeof e=="function"?e(t):e}function nn(e){return e.split("-")[0]}function $i(e){return e.split("-")[1]}function qo(e){return e==="x"?"y":"x"}function Wo(e){return e==="y"?"height":"width"}function Lt(e){return lE.has(nn(e))?"y":"x"}function Ko(e){return qo(Lt(e))}function cE(e,t,n){n===void 0&&(n=!1);let i=$i(e),r=Ko(e),s=Wo(r),a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Ks(a)),[a,Ks(a)]}function dE(e){let t=Ks(e);return[Go(e),t,Go(t)]}function Go(e){return e.replace(/start|end/g,t=>oE[t])}function gE(e,t,n){switch(e){case"top":case"bottom":return n?t?Vu:wu:t?wu:Vu;case"left":case"right":return t?uE:hE;default:return[]}}function pE(e,t,n,i){let r=$i(e),s=gE(nn(e),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),t&&(s=s.concat(s.map(Go)))),s}function Ks(e){return e.replace(/left|right|bottom|top/g,t=>aE[t])}function fE(e){return g({top:0,right:0,bottom:0,left:0},e)}function $u(e){return typeof e!="number"?fE(e):{top:e,right:e,bottom:e,left:e}}function zs(e){let{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function xu(e,t,n){let{reference:i,floating:r}=e,s=Lt(t),a=Ko(t),o=Wo(a),l=nn(t),c=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,m=i[o]/2-r[o]/2,u;switch(l){case"top":u={x:d,y:i.y-r.height};break;case"bottom":u={x:d,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:h};break;case"left":u={x:i.x-r.width,y:h};break;default:u={x:i.x,y:i.y}}switch($i(t)){case"start":u[a]-=m*(n&&c?-1:1);break;case"end":u[a]+=m*(n&&c?-1:1);break}return u}function mE(e,t){return xe(this,null,function*(){var n;t===void 0&&(t={});let{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:u=0}=tn(t,e),p=$u(u),I=o[m?h==="floating"?"reference":"floating":h],T=zs(yield s.getClippingRect({element:(n=yield s.isElement==null?void 0:s.isElement(I))==null||n?I:I.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,b=yield s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating),f=(yield s.isElement==null?void 0:s.isElement(b))?(yield s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=zs(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:b,strategy:l}):w);return{top:(T.top-S.top+p.top)/f.y,bottom:(S.bottom-T.bottom+p.bottom)/f.y,left:(T.left-S.left+p.left)/f.x,right:(S.right-T.right+p.right)/f.x}})}function ku(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Au(e){return sE.some(t=>e[t]>=0)}function IE(e,t){return xe(this,null,function*(){let{placement:n,platform:i,elements:r}=e,s=yield i.isRTL==null?void 0:i.isRTL(r.floating),a=nn(n),o=$i(n),l=Lt(n)==="y",c=Hu.has(a)?-1:1,d=s&&l?-1:1,h=tn(t,e),{mainAxis:m,crossAxis:u,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof p=="number"&&(u=o==="end"?p*-1:p),l?{x:u*d,y:m*c}:{x:m*c,y:u*d}})}function Ys(){return typeof window!="undefined"}function Hi(e){return Bu(e)?(e.nodeName||"").toLowerCase():"#document"}function rt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $t(e){var t;return(t=(Bu(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bu(e){return Ys()?e instanceof Node||e instanceof rt(e).Node:!1}function Pt(e){return Ys()?e instanceof Element||e instanceof rt(e).Element:!1}function Ft(e){return Ys()?e instanceof HTMLElement||e instanceof rt(e).HTMLElement:!1}function Nu(e){return!Ys()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof rt(e).ShadowRoot}function wr(e){let{overflow:t,overflowX:n,overflowY:i,display:r}=St(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!OE.has(r)}function VE(e){return wE.has(Hi(e))}function js(e){return xE.some(t=>{try{return e.matches(t)}catch(n){return!1}})}function zo(e){let t=Yo(),n=Pt(e)?St(e):e;return kE.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AE.some(i=>(n.willChange||"").includes(i))||NE.some(i=>(n.contain||"").includes(i))}function RE(e){let t=xn(e);for(;Ft(t)&&!Fi(t);){if(zo(t))return t;if(js(t))return null;t=xn(t)}return null}function Yo(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fi(e){return DE.has(Hi(e))}function St(e){return rt(e).getComputedStyle(e)}function Xs(e){return Pt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xn(e){if(Hi(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Nu(e)&&e.host||$t(e);return Nu(t)?t.host:t}function _u(e){let t=xn(e);return Fi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ft(t)&&wr(t)?t:_u(t)}function Or(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);let r=_u(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),a=rt(r);if(s){let o=Uo(a);return t.concat(a,a.visualViewport||[],wr(r)?r:[],o&&n?Or(o):[])}return t.concat(r,Or(r,[],n))}function Uo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Gu(e){let t=St(e),n=parseFloat(t.width)||0,i=parseFloat(t.height)||0,r=Ft(e),s=r?e.offsetWidth:n,a=r?e.offsetHeight:i,o=Ws(n)!==s||Ws(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function jo(e){return Pt(e)?e:e.contextElement}function Mi(e){let t=jo(e);if(!Ft(t))return Mt(1);let n=t.getBoundingClientRect(),{width:i,height:r,$:s}=Gu(t),a=(s?Ws(n.width):n.width)/i,o=(s?Ws(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}function Uu(e){let t=rt(e);return!Yo()||!t.visualViewport?LE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ME(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rt(e)?!1:t}function Jn(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);let r=e.getBoundingClientRect(),s=jo(e),a=Mt(1);t&&(i?Pt(i)&&(a=Mi(i)):a=Mi(e));let o=ME(s,n,i)?Uu(s):Mt(0),l=(r.left+o.x)/a.x,c=(r.top+o.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(s){let m=rt(s),u=i&&Pt(i)?rt(i):i,p=m,v=Uo(p);for(;v&&i&&u!==p;){let I=Mi(v),T=v.getBoundingClientRect(),w=St(v),b=T.left+(v.clientLeft+parseFloat(w.paddingLeft))*I.x,f=T.top+(v.clientTop+parseFloat(w.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,h*=I.y,l+=b,c+=f,p=rt(v),v=Uo(p)}}return zs({width:d,height:h,x:l,y:c})}function Zs(e,t){let n=Xs(e).scrollLeft;return t?t.left+n:Jn($t(e)).left+n}function qu(e,t){let n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Zs(e,n),r=n.top+t.scrollTop;return{x:i,y:r}}function FE(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e,s=r==="fixed",a=$t(i),o=t?js(t.floating):!1;if(i===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Mt(1),d=Mt(0),h=Ft(i);if((h||!h&&!s)&&((Hi(i)!=="body"||wr(a))&&(l=Xs(i)),Ft(i))){let u=Jn(i);c=Mi(i),d.x=u.x+i.clientLeft,d.y=u.y+i.clientTop}let m=a&&!h&&!s?qu(a,l):Mt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function $E(e){return Array.from(e.getClientRects())}function HE(e){let t=$t(e),n=Xs(e),i=e.ownerDocument.body,r=it(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=it(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),a=-n.scrollLeft+Zs(e),o=-n.scrollTop;return St(i).direction==="rtl"&&(a+=it(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}function BE(e,t){let n=rt(e),i=$t(e),r=n.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;let d=Yo();(!d||d&&t==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}let c=Zs(i);if(c<=0){let d=i.ownerDocument,h=d.body,m=getComputedStyle(h),u=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,p=Math.abs(i.clientWidth-h.clientWidth-u);p<=Ru&&(s-=p)}else c<=Ru&&(s+=c);return{width:s,height:a,x:o,y:l}}function GE(e,t){let n=Jn(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=Ft(e)?Mi(e):Mt(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:a,height:o,x:l,y:c}}function Du(e,t,n){let i;if(t==="viewport")i=BE(e,n);else if(t==="document")i=HE($t(e));else if(Pt(t))i=GE(t,n);else{let r=Uu(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return zs(i)}function Wu(e,t){let n=xn(e);return n===t||!Pt(n)||Fi(n)?!1:St(n).position==="fixed"||Wu(n,t)}function UE(e,t){let n=t.get(e);if(n)return n;let i=Or(e,[],!1).filter(o=>Pt(o)&&Hi(o)!=="body"),r=null,s=St(e).position==="fixed",a=s?xn(e):e;for(;Pt(a)&&!Fi(a);){let o=St(a),l=zo(a);!l&&o.position==="fixed"&&(r=null),(s?!l&&!r:!l&&o.position==="static"&&!!r&&_E.has(r.position)||wr(a)&&!l&&Wu(e,a))?i=i.filter(d=>d!==a):r=o,a=xn(a)}return t.set(e,i),i}function qE(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e,a=[...n==="clippingAncestors"?js(t)?[]:UE(t,this._c):[].concat(n),i],o=a[0],l=a.reduce((c,d)=>{let h=Du(t,d,r);return c.top=it(h.top,c.top),c.right=Vn(h.right,c.right),c.bottom=Vn(h.bottom,c.bottom),c.left=it(h.left,c.left),c},Du(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function WE(e){let{width:t,height:n}=Gu(e);return{width:t,height:n}}function KE(e,t,n){let i=Ft(t),r=$t(t),s=n==="fixed",a=Jn(e,!0,s,t),o={scrollLeft:0,scrollTop:0},l=Mt(0);function c(){l.x=Zs(r)}if(i||!i&&!s)if((Hi(t)!=="body"||wr(r))&&(o=Xs(t)),i){let u=Jn(t,!0,s,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else r&&c();s&&!i&&r&&c();let d=r&&!i&&!s?qu(r,o):Mt(0),h=a.left+o.scrollLeft-l.x-d.x,m=a.top+o.scrollTop-l.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function Bo(e){return St(e).position==="static"}function Lu(e,t){if(!Ft(e)||St(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $t(e)===n&&(n=n.ownerDocument.body),n}function Ku(e,t){let n=rt(e);if(js(e))return n;if(!Ft(e)){let r=xn(e);for(;r&&!Fi(r);){if(Pt(r)&&!Bo(r))return r;r=xn(r)}return n}let i=Lu(e,t);for(;i&&VE(i)&&Bo(i);)i=Lu(i,t);return i&&Fi(i)&&Bo(i)&&!zo(i)?n:i||RE(e)||n}function YE(e){return St(e).direction==="rtl"}function zu(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XE(e,t){let n=null,i,r=$t(e);function s(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();let c=e.getBoundingClientRect(),{left:d,top:h,width:m,height:u}=c;if(o||t(),!m||!u)return;let p=qs(h),v=qs(r.clientWidth-(d+m)),I=qs(r.clientHeight-(h+u)),T=qs(d),b={rootMargin:-p+"px "+-v+"px "+-I+"px "+-T+"px",threshold:it(0,Vn(1,l))||1},f=!0;function S(C){let V=C[0].intersectionRatio;if(V!==l){if(!f)return a();V?a(!1,V):i=setTimeout(()=>{a(!1,1e-7)},1e3)}V===1&&!zu(c,e.getBoundingClientRect())&&a(),f=!1}try{n=new IntersectionObserver(S,y(g({},b),{root:r.ownerDocument}))}catch(C){n=new IntersectionObserver(S,b)}n.observe(e)}return a(!0),s}function ZE(e,t,n,i){i===void 0&&(i={});let{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=jo(e),d=r||s?[...c?Or(c):[],...Or(t)]:[];d.forEach(T=>{r&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});let h=c&&o?XE(c,n):null,m=-1,u=null;a&&(u=new ResizeObserver(T=>{let[w]=T;w&&w.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(t)})),n()}),c&&!l&&u.observe(c),u.observe(t));let p,v=l?Jn(e):null;l&&I();function I(){let T=Jn(e);v&&!zu(v,T)&&n(),v=T,p=requestAnimationFrame(I)}return n(),()=>{var T;d.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(T=u)==null||T.disconnect(),u=null,l&&cancelAnimationFrame(p)}}function Mu(e=0,t=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,i);let r={x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:t+i,left:e};return y(g({},r),{toJSON:()=>r})}function aI(e){if(!e)return Mu();let{x:t,y:n,width:i,height:r}=e;return Mu(t,n,i,r)}function oI(e,t){return{contextElement:de(e)?e:e==null?void 0:e.contextElement,getBoundingClientRect:()=>{let n=e,i=t==null?void 0:t(n);return i||!n?aI(i):n.getBoundingClientRect()}}}function cI(e,t){return{name:"transformOrigin",fn(n){var x,A,N,D,$;let{elements:i,middlewareData:r,placement:s,rects:a,y:o}=n,l=s.split("-")[0],c=lI(l),d=((x=r.arrow)==null?void 0:x.x)||0,h=((A=r.arrow)==null?void 0:A.y)||0,m=(t==null?void 0:t.clientWidth)||0,u=(t==null?void 0:t.clientHeight)||0,p=d+m/2,v=h+u/2,I=Math.abs(((N=r.shift)==null?void 0:N.y)||0),T=a.reference.height/2,w=u/2,b=($=(D=e.offset)==null?void 0:D.mainAxis)!=null?$:e.gutter,f=typeof b=="number"?b+w:b!=null?b:w,S=I>f,C={top:`${p}px calc(100% + ${f}px)`,bottom:`${p}px ${-f}px`,left:`calc(100% + ${f}px) ${v}px`,right:`${-f}px ${v}px`}[l],V=`${p}px ${a.reference.y+T-o}px`,k=!!e.overlap&&c==="y"&&S;return i.floating.style.setProperty(en.transformOrigin.variable,k?V:C),{data:{transformOrigin:k?V:C}}}}}function hI(e){let[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function Yu(e){return e.split("-")[0]}function Fu(e,t){let n=e.devicePixelRatio||1;return Math.round(t*n)/n}function Li(e,t){return e!=null&&Math.abs(e-t)<.5}function Xo(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function pI(e,t,n){let i=e||t.createElement("div");return iI({element:i,padding:n.arrowPadding})}function fI(e,t){var n;if(!rd((n=t.offset)!=null?n:t.gutter))return JE(({placement:i})=>{var d,h,m,u;let r=((e==null?void 0:e.clientHeight)||0)/2,s=(h=(d=t.offset)==null?void 0:d.mainAxis)!=null?h:t.gutter,a=typeof s=="number"?s+r:s!=null?s:r,{hasAlign:o}=hI(i),l=o?void 0:t.shift,c=(u=(m=t.offset)==null?void 0:m.crossAxis)!=null?u:l;return Ai({crossAxis:c,mainAxis:a,alignmentAxis:t.shift})})}function mI(e){if(!e.flip)return;let t=Xo(e.boundary);return eI(y(g({},t?{boundary:t}:void 0),{padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip}))}function vI(e){if(!e.slide&&!e.overlap)return;let t=Xo(e.boundary);return QE(y(g({},t?{boundary:t}:void 0),{mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:rI()}))}function yI(e){if(e.sizeMiddleware===!1&&!e.sameWidth&&!e.fitViewport)return;let t,n,i,r;return tI({padding:e.overflowPadding,apply({elements:s,rects:a,availableHeight:o,availableWidth:l}){let c=s.floating,d=Math.round(a.reference.width),h=Math.round(a.reference.height);l=Math.floor(l),o=Math.floor(o),Li(t,d)||(c.style.setProperty("--reference-width",`${d}px`),t=d),Li(n,h)||(c.style.setProperty("--reference-height",`${h}px`),n=h),Li(i,l)||(c.style.setProperty("--available-width",`${l}px`),i=l),Li(r,o)||(c.style.setProperty("--available-height",`${o}px`),r=o)}})}function bI(e){var t;if(e.hideWhenDetached)return nI({strategy:"referenceHidden",boundary:(t=Xo(e.boundary))!=null?t:"clippingAncestors"})}function EI(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function II(e,t,n={}){var b,f;let i=(f=(b=n.getAnchorElement)==null?void 0:b.call(n))!=null?f:e,r=oI(i,n.getAnchorRect);if(!t||!r)return;let s=Object.assign({},gI,n),a=t.querySelector("[data-part=arrow]"),o=[fI(a,s),mI(s),vI(s),pI(a,t.ownerDocument,s),uI(a),cI({gutter:s.gutter,offset:s.offset,overlap:s.overlap},a),yI(s),bI(s),dI],{placement:l,strategy:c,onComplete:d,onPositioned:h}=s,m,u,p=!1,v=()=>xe(null,null,function*(){var x;if(!r||!t)return;let S=yield sI(r,t,{placement:l,middleware:o,strategy:c});d==null||d(S);let C=he(t),V=Fu(C,S.x),k=Fu(C,S.y);if(t.style.transform=`translate3d(${V}px, ${k}px, 0)`,Li(m,V)||(t.style.setProperty("--x",`${V}px`),m=V),Li(u,k)||(t.style.setProperty("--y",`${k}px`),u=k),s.hideWhenDetached&&(((x=S.middlewareData.hide)==null?void 0:x.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events"))),!p){let A=t.firstElementChild;A&&(t.style.setProperty("--z-index",lt(A).zIndex),p=!0)}}),I=()=>xe(null,null,function*(){n.updatePosition?(yield n.updatePosition({updatePosition:v,floatingElement:t}),h==null||h({placed:!0})):yield v()}),T=EI(s.listeners),w=s.listeners?ZE(r,t,I,T):ad;return I(),()=>{w==null||w(),h==null||h({placed:!1})}}function Tt(e,t,n={}){let o=n,{defer:i}=o,r=yt(o,["defer"]),s=i?H:l=>l(),a=[];return a.push(s(()=>{let l=typeof e=="function"?e():e,c=typeof t=="function"?t():t;a.push(II(l,c,r))})),()=>{a.forEach(l=>l==null?void 0:l())}}function kn(e={}){let{placement:t,sameWidth:n,fitViewport:i,strategy:r="absolute"}=e;return{arrow:{position:"absolute",width:en.arrowSize.reference,height:en.arrowSize.reference,[en.arrowSizeHalf.variable]:`calc(${en.arrowSize.reference} / 2)`,[en.arrowOffset.variable]:`calc(${en.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?CI[t.split("-")[0]]:void 0,background:en.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:r,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var sE,Vn,it,Ws,qs,Mt,aE,oE,lE,wu,Vu,uE,hE,vE,yE,bE,EE,Hu,CE,PE,SE,TE,OE,wE,xE,kE,AE,NE,DE,LE,Ru,_E,zE,jE,JE,QE,eI,tI,nI,iI,rI,sI,Tr,en,lI,dI,uI,gI,CI,Vr=re(()=>{"use strict";ae();sE=["top","right","bottom","left"],Vn=Math.min,it=Math.max,Ws=Math.round,qs=Math.floor,Mt=e=>({x:e,y:e}),aE={left:"right",right:"left",bottom:"top",top:"bottom"},oE={start:"end",end:"start"};lE=new Set(["top","bottom"]);wu=["left","right"],Vu=["right","left"],uE=["top","bottom"],hE=["bottom","top"];vE=(e,t,n)=>xe(null,null,function*(){let{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=yield a.isRTL==null?void 0:a.isRTL(t),c=yield a.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:h}=xu(c,i,l),m=i,u={},p=0;for(let I=0;I<o.length;I++){var v;let{name:T,fn:w}=o[I],{x:b,y:f,data:S,reset:C}=yield w({x:d,y:h,initialPlacement:i,placement:m,strategy:r,middlewareData:u,rects:c,platform:y(g({},a),{detectOverflow:(v=a.detectOverflow)!=null?v:mE}),elements:{reference:e,floating:t}});d=b!=null?b:d,h=f!=null?f:h,u=y(g({},u),{[T]:g(g({},u[T]),S)}),C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(c=C.rects===!0?yield a.getElementRects({reference:e,floating:t,strategy:r}):C.rects),{x:d,y:h}=xu(c,m,l)),I=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:u}}),yE=e=>({name:"arrow",options:e,fn(n){return xe(this,null,function*(){let{x:i,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=tn(e,n)||{};if(d==null)return{};let m=$u(h),u={x:i,y:r},p=Ko(s),v=Wo(p),I=yield o.getDimensions(d),T=p==="y",w=T?"top":"left",b=T?"bottom":"right",f=T?"clientHeight":"clientWidth",S=a.reference[v]+a.reference[p]-u[p]-a.floating[v],C=u[p]-a.reference[p],V=yield o.getOffsetParent==null?void 0:o.getOffsetParent(d),k=V?V[f]:0;(!k||!(yield o.isElement==null?void 0:o.isElement(V)))&&(k=l.floating[f]||a.floating[v]);let x=S/2-C/2,A=k/2-I[v]/2-1,N=Vn(m[w],A),D=Vn(m[b],A),$=N,ee=k-I[v]-D,te=k/2-I[v]/2+x,oe=_o($,te,ee),Z=!c.arrow&&$i(s)!=null&&te!==oe&&a.reference[v]/2-(te<$?N:D)-I[v]/2<0,ie=Z?te<$?te-$:te-ee:0;return{[p]:u[p]+ie,data:g({[p]:oe,centerOffset:te-oe-ie},Z&&{alignmentOffset:ie}),reset:Z}})}}),bE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return xe(this,null,function*(){var i,r;let{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=n,te=tn(e,n),{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:I=!0}=te,T=yt(te,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=a.arrow)!=null&&i.alignmentOffset)return{};let w=nn(s),b=Lt(l),f=nn(l)===l,S=yield c.isRTL==null?void 0:c.isRTL(d.floating),C=u||(f||!I?[Ks(l)]:dE(l)),V=v!=="none";!u&&V&&C.push(...pE(l,I,v,S));let k=[l,...C],x=yield c.detectOverflow(n,T),A=[],N=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&A.push(x[w]),m){let oe=cE(s,o,S);A.push(x[oe[0]],x[oe[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(oe=>oe<=0)){var D,$;let oe=(((D=a.flip)==null?void 0:D.index)||0)+1,Z=k[oe];if(Z&&(!(m==="alignment"?b!==Lt(Z):!1)||N.every(ne=>Lt(ne.placement)===b?ne.overflows[0]>0:!0)))return{data:{index:oe,overflows:N},reset:{placement:Z}};let ie=($=N.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,ne)=>Ce.overflows[1]-ne.overflows[1])[0])==null?void 0:$.placement;if(!ie)switch(p){case"bestFit":{var ee;let Ce=(ee=N.filter(ne=>{if(V){let Pe=Lt(ne.placement);return Pe===b||Pe==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(Pe=>Pe>0).reduce((Pe,vt)=>Pe+vt,0)]).sort((ne,Pe)=>ne[1]-Pe[1])[0])==null?void 0:ee[0];Ce&&(ie=Ce);break}case"initialPlacement":ie=l;break}if(s!==ie)return{reset:{placement:ie}}}return{}})}}};EE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return xe(this,null,function*(){let{rects:i,platform:r}=n,o=tn(e,n),{strategy:s="referenceHidden"}=o,a=yt(o,["strategy"]);switch(s){case"referenceHidden":{let l=yield r.detectOverflow(n,y(g({},a),{elementContext:"reference"})),c=ku(l,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Au(c)}}}case"escaped":{let l=yield r.detectOverflow(n,y(g({},a),{altBoundary:!0})),c=ku(l,i.floating);return{data:{escapedOffsets:c,escaped:Au(c)}}}default:return{}}})}}},Hu=new Set(["left","top"]);CE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return xe(this,null,function*(){var i,r;let{x:s,y:a,placement:o,middlewareData:l}=n,c=yield IE(n,e);return o===((i=l.offset)==null?void 0:i.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:y(g({},c),{placement:o})}})}}},PE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return xe(this,null,function*(){let{x:i,y:r,placement:s,platform:a}=n,w=tn(e,n),{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:f,y:S}=b;return{x:f,y:S}}}}=w,d=yt(w,["mainAxis","crossAxis","limiter"]),h={x:i,y:r},m=yield a.detectOverflow(n,d),u=Lt(nn(s)),p=qo(u),v=h[p],I=h[u];if(o){let b=p==="y"?"top":"left",f=p==="y"?"bottom":"right",S=v+m[b],C=v-m[f];v=_o(S,v,C)}if(l){let b=u==="y"?"top":"left",f=u==="y"?"bottom":"right",S=I+m[b],C=I-m[f];I=_o(S,I,C)}let T=c.fn(y(g({},n),{[p]:v,[u]:I}));return y(g({},T),{data:{x:T.x-i,y:T.y-r,enabled:{[p]:o,[u]:l}}})})}}},SE=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:i,placement:r,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=tn(e,t),d={x:n,y:i},h=Lt(r),m=qo(h),u=d[m],p=d[h],v=tn(o,t),I=typeof v=="number"?{mainAxis:v,crossAxis:0}:g({mainAxis:0,crossAxis:0},v);if(l){let b=m==="y"?"height":"width",f=s.reference[m]-s.floating[b]+I.mainAxis,S=s.reference[m]+s.reference[b]-I.mainAxis;u<f?u=f:u>S&&(u=S)}if(c){var T,w;let b=m==="y"?"width":"height",f=Hu.has(nn(r)),S=s.reference[h]-s.floating[b]+(f&&((T=a.offset)==null?void 0:T[h])||0)+(f?0:I.crossAxis),C=s.reference[h]+s.reference[b]+(f?0:((w=a.offset)==null?void 0:w[h])||0)-(f?I.crossAxis:0);p<S?p=S:p>C&&(p=C)}return{[m]:u,[h]:p}}}},TE=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return xe(this,null,function*(){var i,r;let{placement:s,rects:a,platform:o,elements:l}=n,N=tn(e,n),{apply:c=()=>{}}=N,d=yt(N,["apply"]),h=yield o.detectOverflow(n,d),m=nn(s),u=$i(s),p=Lt(s)==="y",{width:v,height:I}=a.floating,T,w;m==="top"||m==="bottom"?(T=m,w=u===((yield o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,T=u==="end"?"top":"bottom");let b=I-h.top-h.bottom,f=v-h.left-h.right,S=Vn(I-h[T],b),C=Vn(v-h[w],f),V=!n.middlewareData.shift,k=S,x=C;if((i=n.middlewareData.shift)!=null&&i.enabled.x&&(x=f),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(k=b),V&&!u){let D=it(h.left,0),$=it(h.right,0),ee=it(h.top,0),te=it(h.bottom,0);p?x=v-2*(D!==0||$!==0?D+$:it(h.left,h.right)):k=I-2*(ee!==0||te!==0?ee+te:it(h.top,h.bottom))}yield c(y(g({},n),{availableWidth:x,availableHeight:k}));let A=yield o.getDimensions(l.floating);return v!==A.width||I!==A.height?{reset:{rects:!0}}:{}})}}};OE=new Set(["inline","contents"]);wE=new Set(["table","td","th"]);xE=[":popover-open",":modal"];kE=["transform","translate","scale","rotate","perspective"],AE=["transform","translate","scale","rotate","perspective","filter"],NE=["paint","layout","strict","content"];DE=new Set(["html","body","#document"]);LE=Mt(0);Ru=25;_E=new Set(["absolute","fixed"]);zE=function(e){return xe(this,null,function*(){let t=this.getOffsetParent||Ku,n=this.getDimensions,i=yield n(e.floating);return{reference:KE(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};jE={convertOffsetParentRelativeRectToViewportRelativeRect:FE,getDocumentElement:$t,getClippingRect:qE,getOffsetParent:Ku,getElementRects:zE,getClientRects:$E,getDimensions:WE,getScale:Mi,isElement:Pt,isRTL:YE};JE=CE,QE=PE,eI=bE,tI=TE,nI=EE,iI=yE,rI=SE,sI=(e,t,n)=>{let i=new Map,r=g({platform:jE},n),s=y(g({},r.platform),{_c:i});return vE(e,t,y(g({},r),{platform:s}))};Tr=e=>({variable:e,reference:`var(${e})`}),en={arrowSize:Tr("--arrow-size"),arrowSizeHalf:Tr("--arrow-size-half"),arrowBg:Tr("--arrow-background"),transformOrigin:Tr("--transform-origin"),arrowOffset:Tr("--arrow-offset")},lI=e=>e==="top"||e==="bottom"?"y":"x";dI={name:"rects",fn({rects:e}){return{data:e}}},uI=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};let{x:i,y:r}=n.arrow,s=t.split("-")[0];return Object.assign(e.style,{left:i!=null?`${i}px`:"",top:r!=null?`${r}px`:"",[s]:`calc(100% + ${en.arrowOffset.reference})`}),{}}}};gI={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};CI={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"}});function PI(e){let t={each(n){var i;for(let r=0;r<((i=e.frames)==null?void 0:i.length);r+=1){let s=e.frames[r];s&&n(s)}},addEventListener(n,i,r){return t.each(s=>{try{s.document.addEventListener(n,i,r)}catch(a){}}),()=>{try{t.removeEventListener(n,i,r)}catch(s){}}},removeEventListener(n,i,r){t.each(s=>{try{s.document.removeEventListener(n,i,r)}catch(a){}})}};return t}function SI(e){let t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,i,r)=>{try{t==null||t.addEventListener(n,i,r)}catch(s){}return()=>{try{t==null||t.removeEventListener(n,i,r)}catch(s){}}},removeEventListener:(n,i,r)=>{try{t==null||t.removeEventListener(n,i,r)}catch(s){}}}}function TI(e){for(let t of e)if(de(t)&&Je(t))return!0;return!1}function OI(e,t){if(!Qu(t)||!e)return!1;let n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function wI(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function Zu(e,t){if(!t||!Qu(e))return!1;let n=t.scrollHeight>t.clientHeight,i=n&&e.clientX>t.offsetLeft+t.clientWidth,r=t.scrollWidth>t.clientWidth,s=r&&e.clientY>t.offsetTop+t.clientHeight,a={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(r?16:0)},o={x:e.clientX,y:e.clientY};return wI(a,o)?i||s:!1}function VI(e,t){let{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:a,followControlledElements:o=!0}=t;if(!e)return;let l=Re(e),c=he(e),d=PI(c),h=SI(c);function m(b,f){if(!de(f)||!f.isConnected||ue(e,f)||OI(e,b)||o&&hs(e,f))return!1;let S=l.querySelector(`[aria-controls="${e.id}"]`);if(S){let V=Es(S);if(Zu(b,V))return!1}let C=Es(e);return Zu(b,C)?!1:!(n!=null&&n(f))}let u=new Set,p=Un(e==null?void 0:e.getRootNode());function v(b){function f(S){var x,A;let C=a&&!ao()?H:N=>N(),V=S!=null?S:b,k=(A=(x=V==null?void 0:V.composedPath)==null?void 0:x.call(V))!=null?A:[V==null?void 0:V.target];C(()=>{let N=p?k[0]:j(b);if(!(!e||!m(b,N))){if(r||s){let D=Nt(r,s);e.addEventListener(ju,D,{once:!0})}Ju(e,ju,{bubbles:!1,cancelable:!0,detail:{originalEvent:V,contextmenu:bi(V),focusable:TI(k),target:N}})}})}b.pointerType==="touch"?(u.forEach(S=>S()),u.add(Q(l,"click",f,{once:!0})),u.add(h.addEventListener("click",f,{once:!0})),u.add(d.addEventListener("click",f,{once:!0}))):f()}let I=new Set,T=setTimeout(()=>{I.add(Q(l,"pointerdown",v,!0)),I.add(h.addEventListener("pointerdown",v,!0)),I.add(d.addEventListener("pointerdown",v,!0))},0);function w(b){(a?H:S=>S())(()=>{var V,k;let S=(k=(V=b==null?void 0:b.composedPath)==null?void 0:V.call(b))!=null?k:[b==null?void 0:b.target],C=p?S[0]:j(b);if(!(!e||!m(b,C))){if(i||s){let x=Nt(i,s);e.addEventListener(Xu,x,{once:!0})}Ju(e,Xu,{bubbles:!1,cancelable:!0,detail:{originalEvent:b,contextmenu:!1,focusable:Je(C),target:C}})}})}return ao()||(I.add(Q(l,"focusin",w,!0)),I.add(h.addEventListener("focusin",w,!0)),I.add(d.addEventListener("focusin",w,!0))),()=>{clearTimeout(T),u.forEach(b=>b()),I.forEach(b=>b())}}function Js(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(VI(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Ju(e,t,n){let i=e.ownerDocument.defaultView||window,r=new i.CustomEvent(t,n);return e.dispatchEvent(r)}var ju,Xu,Qu,rn=re(()=>{"use strict";ae();ju="pointerdown.outside",Xu="focus.outside";Qu=e=>"clientY"in e});function xI(e,t){let n=i=>{i.key==="Escape"&&(i.isComposing||t==null||t(i))};return Q(Re(e),"keydown",n,{capture:!0})}function kI(e,t,n){let i=e.ownerDocument.defaultView||window,r=new i.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(r)}function AI(e,t,n){e.addEventListener(t,n,{once:!0})}function nh(){ze.layers.forEach(({node:e})=>{e.style.pointerEvents=ze.isBelowPointerBlockingLayer(e)?"none":"auto"})}function NI(e){e.style.pointerEvents=""}function RI(e,t){let n=Re(e),i=[];return ze.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(th=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(r=>{let[s,a]=Jc(()=>{let o=r();return de(o)?o:null},{timeout:1e3});s.then(o=>i.push(zn(o,{pointerEvents:"auto"}))),i.push(a)}),()=>{ze.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=th,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function DI(e,t){let{warnOnMissingNode:n=!0}=t;if(n&&!e){jt("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;let{onDismiss:i,onRequestDismiss:r,pointerBlocking:s,exclude:a,debug:o,type:l="dialog"}=t,c={dismiss:i,node:e,type:l,pointerBlocking:s,requestDismiss:r};ze.add(c),nh();function d(v){var T,w;let I=j(v.detail.originalEvent);ze.isBelowPointerBlockingLayer(e)||ze.isInBranch(I)||((T=t.onPointerDownOutside)==null||T.call(t,v),(w=t.onInteractOutside)==null||w.call(t,v),!v.defaultPrevented&&(o&&console.log("onPointerDownOutside:",v.detail.originalEvent),i==null||i()))}function h(v){var T,w;let I=j(v.detail.originalEvent);ze.isInBranch(I)||((T=t.onFocusOutside)==null||T.call(t,v),(w=t.onInteractOutside)==null||w.call(t,v),!v.defaultPrevented&&(o&&console.log("onFocusOutside:",v.detail.originalEvent),i==null||i()))}function m(v){var I;ze.isTopMost(e)&&((I=t.onEscapeKeyDown)==null||I.call(t,v),!v.defaultPrevented&&i&&(v.preventDefault(),i()))}function u(v){var b;if(!e)return!1;let I=typeof a=="function"?a():a,T=Array.isArray(I)?I:[I],w=(b=t.persistentElements)==null?void 0:b.map(f=>f()).filter(de);return w&&T.push(...w),T.some(f=>ue(f,v))||ze.isInNestedLayer(e,v)}let p=[s?RI(e,t.persistentElements):void 0,xI(e,m),Js(e,{exclude:u,onFocusOutside:h,onPointerDownOutside:d,defer:t.defer})];return()=>{ze.remove(e),nh(),NI(e),p.forEach(v=>v==null?void 0:v())}}function Ht(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=zt(e)?e():e;r.push(DI(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function ih(e,t={}){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=zt(e)?e():e;if(!s){jt("[@zag-js/dismissable] branch node is `null` or `undefined`");return}ze.addBranch(s),r.push(()=>{ze.removeBranch(s)})})),()=>{r.forEach(s=>s==null?void 0:s())}}var eh,ze,th,Qn=re(()=>{"use strict";rn();ae();eh="layer:request-dismiss",ze={layers:[],branches:[],recentlyRemoved:new Set,count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var i;let t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return t<n},isTopMost(e){let t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){let n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(i=>i.type===t)},getParentLayerOfType(e,t){let n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(i=>i.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return!!(this.getNestedLayers(e).some(i=>ue(i.node,t))||this.recentlyRemoved.size>0)},isInBranch(e){return Array.from(this.branches).some(t=>ue(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){let t=this.indexOf(e);t<0||(this.recentlyRemoved.add(e),Kn(()=>this.recentlyRemoved.delete(e)),t<this.count()-1&&this.getNestedLayers(e).forEach(i=>ze.dismiss(i.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){let t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);let i=this.countNestedLayersOfType(e.node,e.type);i>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${i}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){let n=this.indexOf(e);if(n===-1)return;let i=this.layers[n];AI(e,eh,r=>{var s;(s=i.requestDismiss)==null||s.call(i,r),r.defaultPrevented||i==null||i.dismiss()}),kI(e,eh,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}}});var gh={};ge(gh,{Combobox:()=>JI});function BI(e,t){let{context:n,prop:i,state:r,send:s,scope:a,computed:o,event:l}=e,c=i("translations"),d=i("collection"),h=!!i("disabled"),m=o("isInteractive"),u=!!i("invalid"),p=!!i("required"),v=!!i("readOnly"),I=r.hasTag("open"),T=r.hasTag("focused"),w=i("composite"),b=n.get("highlightedValue"),f=kn(y(g({},i("positioning")),{placement:n.get("currentPlacement")}));function S(C){let V=d.getItemDisabled(C.item),k=d.getItemValue(C.item);return En(k,()=>`[zag-js] No value found for item ${JSON.stringify(C.item)}`),{value:k,disabled:!!(h||V),highlighted:b===k,selected:n.get("value").includes(k)}}return{focused:T,open:I,inputValue:n.get("inputValue"),highlightedValue:b,highlightedItem:n.get("highlightedItem"),value:n.get("value"),valueAsString:o("valueAsString"),hasSelectedItems:o("hasSelectedItems"),selectedItems:n.get("selectedItems"),collection:i("collection"),multiple:!!i("multiple"),disabled:!!h,syncSelectedItems(){s({type:"SELECTED_ITEMS.SYNC"})},reposition(C={}){s({type:"POSITIONING.SET",options:C})},setHighlightValue(C){s({type:"HIGHLIGHTED_VALUE.SET",value:C})},clearHighlightValue(){s({type:"HIGHLIGHTED_VALUE.CLEAR"})},selectValue(C){s({type:"ITEM.SELECT",value:C})},setValue(C){s({type:"VALUE.SET",value:C})},setInputValue(C,V="script"){s({type:"INPUT_VALUE.SET",value:C,src:V})},clearValue(C){C!=null?s({type:"ITEM.CLEAR",value:C}):s({type:"VALUE.CLEAR"})},focus(){var C;(C=_i(a))==null||C.focus()},setOpen(C,V="script"){r.hasTag("open")!==C&&s({type:C?"OPEN":"CLOSE",src:V})},getRootProps(){return t.element(y(g({},Ye.root.attrs),{dir:i("dir"),id:MI(a),"data-invalid":E(u),"data-readonly":E(v)}))},getLabelProps(){return t.label(y(g({},Ye.label.attrs),{dir:i("dir"),htmlFor:Qs(a),id:Zo(a),"data-readonly":E(v),"data-disabled":E(h),"data-invalid":E(u),"data-required":E(p),"data-focus":E(T),onClick(C){var V;w||(C.preventDefault(),(V=xr(a))==null||V.focus({preventScroll:!0}))}}))},getControlProps(){return t.element(y(g({},Ye.control.attrs),{dir:i("dir"),id:ch(a),"data-state":I?"open":"closed","data-focus":E(T),"data-disabled":E(h),"data-invalid":E(u)}))},getPositionerProps(){return t.element(y(g({},Ye.positioner.attrs),{dir:i("dir"),id:dh(a),style:f.floating}))},getInputProps(){return t.input(y(g({},Ye.input.attrs),{dir:i("dir"),"aria-invalid":X(u),"data-invalid":E(u),"data-autofocus":E(i("autoFocus")),name:i("name"),form:i("form"),disabled:h,required:i("required"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:v,placeholder:i("placeholder"),id:Qs(a),type:"text",role:"combobox",defaultValue:n.get("inputValue"),"aria-autocomplete":o("autoComplete")?"both":"list","aria-controls":ea(a),"aria-expanded":I,"data-state":I?"open":"closed","aria-activedescendant":b?sh(a,b):void 0,onClick(C){C.defaultPrevented||i("openOnClick")&&m&&s({type:"INPUT.CLICK",src:"input-click"})},onFocus(){h||s({type:"INPUT.FOCUS"})},onBlur(){h||s({type:"INPUT.BLUR"})},onChange(C){s({type:"INPUT.CHANGE",value:C.currentTarget.value,src:"input-change"})},onKeyDown(C){if(C.defaultPrevented||!m||C.ctrlKey||C.shiftKey||De(C))return;let V=i("openOnKeyPress"),k=C.ctrlKey||C.metaKey||C.shiftKey,x=!0,A={ArrowDown($){!V&&!I||(s({type:$.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:x,src:"arrow-key"}),$.preventDefault())},ArrowUp(){!V&&!I||(s({type:C.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:x,src:"arrow-key"}),C.preventDefault())},Home($){k||(s({type:"INPUT.HOME",keypress:x}),I&&$.preventDefault())},End($){k||(s({type:"INPUT.END",keypress:x}),I&&$.preventDefault())},Enter($){var ie;s({type:"INPUT.ENTER",keypress:x,src:"item-select"});let ee=o("isCustomValue")&&i("allowCustomValue"),te=b!=null,oe=i("alwaysSubmitOnEnter");if(I&&!ee&&!oe&&te&&$.preventDefault(),b==null)return;let Z=Bi(a,b);ot(Z)&&((ie=i("navigate"))==null||ie({value:b,node:Z,href:Z.href}))},Escape(){s({type:"INPUT.ESCAPE",keypress:x,src:"escape-key"}),C.preventDefault()}},N=pe(C,{dir:i("dir")}),D=A[N];D==null||D(C)}}))},getTriggerProps(C={}){return t.button(y(g({},Ye.trigger.attrs),{dir:i("dir"),id:uh(a),"aria-haspopup":w?"listbox":"dialog",type:"button",tabIndex:C.focusable?void 0:-1,"aria-label":c.triggerLabel,"aria-expanded":I,"data-state":I?"open":"closed","aria-controls":I?ea(a):void 0,disabled:h,"data-invalid":E(u),"data-focusable":E(C.focusable),"data-readonly":E(v),"data-disabled":E(h),onFocus(){C.focusable&&s({type:"INPUT.FOCUS",src:"trigger"})},onClick(V){V.defaultPrevented||m&&fe(V)&&s({type:"TRIGGER.CLICK",src:"trigger-click"})},onPointerDown(V){m&&V.pointerType!=="touch"&&fe(V)&&(V.preventDefault(),queueMicrotask(()=>{Jo(a)}))},onKeyDown(V){if(V.defaultPrevented||w)return;let k={ArrowDown(){s({type:"INPUT.ARROW_DOWN",src:"arrow-key"})},ArrowUp(){s({type:"INPUT.ARROW_UP",src:"arrow-key"})}},x=pe(V,{dir:i("dir")}),A=k[x];A&&(A(V),V.preventDefault())}}))},getContentProps(){return t.element(y(g({},Ye.content.attrs),{dir:i("dir"),id:ea(a),role:w?"listbox":"dialog",tabIndex:-1,hidden:!I,"data-state":I?"open":"closed","data-placement":n.get("currentPlacement"),"aria-labelledby":Zo(a),"aria-multiselectable":i("multiple")&&w?!0:void 0,"data-empty":E(d.size===0),onPointerDown(C){fe(C)&&C.preventDefault()}}))},getListProps(){return t.element(y(g({},Ye.list.attrs),{role:w?void 0:"listbox","data-empty":E(d.size===0),"aria-labelledby":Zo(a),"aria-multiselectable":i("multiple")&&!w?!0:void 0}))},getClearTriggerProps(){return t.button(y(g({},Ye.clearTrigger.attrs),{dir:i("dir"),id:hh(a),type:"button",tabIndex:-1,disabled:h,"data-invalid":E(u),"aria-label":c.clearTriggerLabel,"aria-controls":Qs(a),hidden:!n.get("value").length,onPointerDown(C){fe(C)&&C.preventDefault()},onClick(C){C.defaultPrevented||m&&s({type:"VALUE.CLEAR",src:"clear-trigger"})}}))},getItemState:S,getItemProps(C){let V=S(C),k=V.value;return t.element(y(g({},Ye.item.attrs),{dir:i("dir"),id:sh(a,k),role:"option",tabIndex:-1,"data-highlighted":E(V.highlighted),"data-state":V.selected?"checked":"unchecked","aria-selected":X(V.selected),"aria-disabled":X(V.disabled),"data-disabled":E(V.disabled),"data-value":V.value,onPointerMove(){V.disabled||V.highlighted||s({type:"ITEM.POINTER_MOVE",value:k})},onPointerLeave(){if(C.persistFocus||V.disabled)return;let x=l.previous();x!=null&&x.type.includes("POINTER")&&s({type:"ITEM.POINTER_LEAVE",value:k})},onClick(x){ur(x)||Wn(x)||bi(x)||V.disabled||s({type:"ITEM.CLICK",src:"item-select",value:k})}}))},getItemTextProps(C){let V=S(C);return t.element(y(g({},Ye.itemText.attrs),{dir:i("dir"),"data-state":V.selected?"checked":"unchecked","data-disabled":E(V.disabled),"data-highlighted":E(V.highlighted)}))},getItemIndicatorProps(C){let V=S(C);return t.element(y(g({"aria-hidden":!0},Ye.itemIndicator.attrs),{dir:i("dir"),"data-state":V.selected?"checked":"unchecked",hidden:!V.selected}))},getItemGroupProps(C){let{id:V}=C;return t.element(y(g({},Ye.itemGroup.attrs),{dir:i("dir"),id:FI(a,V),"aria-labelledby":rh(a,V),"data-empty":E(d.size===0),role:"group"}))},getItemGroupLabelProps(C){let{htmlFor:V}=C;return t.element(y(g({},Ye.itemGroupLabel.attrs),{dir:i("dir"),id:rh(a,V),role:"presentation"}))}}}function lh(e){return(e.previousEvent||e).src}function XI(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function ZI(e){let t={};for(let[n,i]of Object.entries(e)){let r=XI(n);t[r]=i}return t}var LI,Ye,ta,MI,Zo,ch,Qs,ea,dh,uh,hh,FI,rh,sh,ei,_i,ah,oh,xr,$I,Bi,Jo,HI,_I,GI,UI,we,st,qI,WI,Px,KI,Sx,zI,Tx,YI,Ox,jI,JI,ph=re(()=>{"use strict";Sr();Vr();Qn();rn();On();ae();LI=U("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),Ye=LI.build(),ta=e=>new Dt(e);ta.empty=()=>new Dt({items:[]});MI=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`combobox:${e.id}`},Zo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`combobox:${e.id}:label`},ch=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`combobox:${e.id}:control`},Qs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`combobox:${e.id}:input`},ea=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`combobox:${e.id}:content`},dh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`combobox:${e.id}:popper`},uh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`combobox:${e.id}:toggle-btn`},hh=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`combobox:${e.id}:clear-btn`},FI=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:optgroup:${t}`},rh=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:optgroup-label:${t}`},sh=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:option:${t}`},ei=e=>e.getById(ea(e)),_i=e=>e.getById(Qs(e)),ah=e=>e.getById(dh(e)),oh=e=>e.getById(ch(e)),xr=e=>e.getById(uh(e)),$I=e=>e.getById(hh(e)),Bi=(e,t)=>{if(t==null)return null;let n=`[role=option][data-value="${CSS.escape(t)}"]`;return Si(ei(e),n)},Jo=e=>{let t=_i(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0}),vi(t)},HI=e=>{let t=xr(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})};({guards:_I,createMachine:GI,choose:UI}=ht()),{and:we,not:st}=_I,qI=GI({props({props:e}){return y(g({loopFocus:!0,openOnClick:!1,defaultValue:[],defaultInputValue:"",closeOnSelect:!e.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:e.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:t}){Pi(t)},collection:ta.empty()},e),{positioning:g({placement:"bottom",sameWidth:!0},e.positioning),translations:g({triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value"},e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"suggesting":"idle"},context({prop:e,bindable:t,getContext:n,getEvent:i}){return{currentPlacement:t(()=>({defaultValue:void 0})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:me,hash(r){return r.join(",")},onChange(r){var d;let s=n(),a=s.get("selectedItems"),o=e("collection"),c=(e("value")||r).map(h=>a.find(u=>o.getItemValue(u)===h)||o.find(h));s.set("selectedItems",c),(d=e("onValueChange"))==null||d({value:r,items:c})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(r){var a;let s=e("collection").find(r);(a=e("onHighlightChange"))==null||a({highlightedValue:r,highlightedItem:s})}})),inputValue:t(()=>{let r=e("inputValue")||e("defaultInputValue"),s=e("value")||e("defaultValue");if(!r.trim()&&!e("multiple")){let a=e("collection").stringifyMany(s);r=Se(e("selectionBehavior"),{preserve:r||a,replace:a,clear:""})}return{defaultValue:r,value:e("inputValue"),onChange(a){var c;let o=i(),l=(o.previousEvent||o).src;(c=e("onInputValueChange"))==null||c({inputValue:a,reason:l})}}}),highlightedItem:t(()=>{let r=e("highlightedValue");return{defaultValue:e("collection").find(r)}}),selectedItems:t(()=>{let r=e("value")||e("defaultValue")||[];return{defaultValue:e("collection").findMany(r)}})}},computed:{isInputValueEmpty:({context:e})=>e.get("inputValue").length===0,isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),autoComplete:({prop:e})=>e("inputBehavior")==="autocomplete",autoHighlight:({prop:e})=>e("inputBehavior")==="autohighlight",hasSelectedItems:({context:e})=>e.get("value").length>0,valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems")),isCustomValue:({context:e,computed:t})=>e.get("inputValue")!==t("valueAsString")},watch({context:e,prop:t,track:n,action:i,send:r}){n([()=>e.hash("value")],()=>{i(["syncSelectedItems"])}),n([()=>e.get("inputValue")],()=>{i(["syncInputValue"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem","autofillInputValue"])}),n([()=>t("open")],()=>{i(["toggleVisibility"])}),n([()=>t("collection").toString()],()=>{r({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:UI([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:we("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:we("isCustomValue",st("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:we("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:we("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["trackFocusVisible","scrollToHighlightedItem","trackDismissableLayer","trackPlacement"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:we("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:we("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:we("isOpenControlled","isCustomValue",st("hasHighlightedItem"),st("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",st("hasHighlightedItem"),st("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:we("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:we("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:we("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:we("isOpenControlled","isCustomValue",st("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",st("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackFocusVisible","trackDismissableLayer","scrollToHighlightedItem","trackPlacement"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:we("isHighlightedItemRemoved","hasCollectionItems","autoHighlight"),actions:["clearHighlightedValue","highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{guard:"autoHighlight",actions:["highlightFirstItem"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:we("isOpenControlled","isCustomValue",st("hasHighlightedItem"),st("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",st("hasHighlightedItem"),st("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:we("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:we("isOpenControlled","isCustomValue",st("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:we("isCustomValue",st("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:we("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:e})=>e("isInputValueEmpty"),autoComplete:({computed:e,prop:t})=>e("autoComplete")&&!t("multiple"),autoHighlight:({computed:e})=>e("autoHighlight"),isFirstItemHighlighted:({prop:e,context:t})=>e("collection").firstValue===t.get("highlightedValue"),isLastItemHighlighted:({prop:e,context:t})=>e("collection").lastValue===t.get("highlightedValue"),isCustomValue:({computed:e})=>e("isCustomValue"),allowCustomValue:({prop:e})=>!!e("allowCustomValue"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null,openOnChange:({prop:e,context:t})=>{let n=e("openOnChange");return nd(n)?n:!!(n!=null&&n({inputValue:t.get("inputValue")}))},restoreFocus:({event:e})=>{var n,i;let t=(i=e.restoreFocus)!=null?i:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null?!0:!!t},isChangeEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INPUT.CHANGE"},autoFocus:({prop:e})=>!!e("autoFocus"),isHighlightedItemRemoved:({prop:e,context:t})=>!e("collection").has(t.get("highlightedValue")),hasCollectionItems:({prop:e})=>e("collection").size>0},effects:{trackFocusVisible({scope:e}){var t;return Ke({root:(t=e.getRootNode)==null?void 0:t.call(e)})},trackDismissableLayer({send:e,prop:t,scope:n}){return t("disableLayer")?void 0:Ht(()=>ei(n),{type:"listbox",defer:!0,exclude:()=>[_i(n),xr(n),$I(n)],onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside:t("onInteractOutside"),onEscapeKeyDown(r){r.preventDefault(),r.stopPropagation(),e({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){e({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},trackPlacement({context:e,prop:t,scope:n}){let i=()=>oh(n)||xr(n),r=()=>ah(n);return e.set("currentPlacement",t("positioning").placement),Tt(i,r,y(g({},t("positioning")),{defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n}){let i=_i(n),r=[],s=l=>{if(Sn()==="pointer")return;let d=e.get("highlightedValue");if(!d)return;let h=ei(n),m=t("scrollToIndexFn");if(m){let v=t("collection").indexOf(d);m({index:v,immediate:l,getElement:()=>Bi(n,d)});return}let u=Bi(n,d),p=H(()=>{Zt(u,{rootEl:h,block:"nearest"})});r.push(p)},a=H(()=>{Tn("virtual"),s(!0)});r.push(a);let o=ct(i,{attributes:["aria-activedescendant"],callback:()=>s(!1)});return r.push(o),()=>{r.forEach(l=>l())}}},actions:{reposition({context:e,prop:t,scope:n,event:i}){Tt(()=>oh(n),()=>ah(n),y(g(g({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(a){e.set("currentPlacement",a.placement)}}))},setHighlightedValue({context:e,event:t}){t.value!=null&&e.set("highlightedValue",t.value)},clearHighlightedValue({context:e}){e.set("highlightedValue",null)},selectHighlightedItem(e){var o;let{context:t,prop:n}=e,i=n("collection"),r=t.get("highlightedValue");if(!r||!i.has(r))return;let s=n("multiple")?Ct(t.get("value"),r):[r];(o=n("onSelect"))==null||o({value:s,itemValue:r}),t.set("value",s);let a=Se(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(s),clear:""});t.set("inputValue",a)},scrollToHighlightedItem({context:e,prop:t,scope:n}){Kn(()=>{let i=e.get("highlightedValue");if(i==null)return;let r=Bi(n,i),s=ei(n),a=t("scrollToIndexFn");if(a){let o=t("collection").indexOf(i);a({index:o,immediate:!0,getElement:()=>Bi(n,i)});return}Zt(r,{rootEl:s,block:"nearest"})})},selectItem(e){let{context:t,event:n,flush:i,prop:r}=e;n.value!=null&&i(()=>{var o;let s=r("multiple")?Ct(t.get("value"),n.value):[n.value];(o=r("onSelect"))==null||o({value:s,itemValue:n.value}),t.set("value",s);let a=Se(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});t.set("inputValue",a)})},clearItem(e){let{context:t,event:n,flush:i,prop:r}=e;n.value!=null&&i(()=>{let s=ut(t.get("value"),n.value);t.set("value",s);let a=Se(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});t.set("inputValue",a)})},setInitialFocus({scope:e}){H(()=>{Jo(e)})},setFinalFocus({scope:e}){H(()=>{let t=xr(e);(t==null?void 0:t.dataset.focusable)==null?Jo(e):HI(e)})},syncInputValue({context:e,scope:t,event:n}){let i=_i(t);i&&(i.value=e.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&vi(i)}))},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearInputValue({context:e}){e.set("inputValue","")},revertInputValue({context:e,prop:t,computed:n}){let i=t("selectionBehavior"),r=Se(i,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:e.get("inputValue"),clear:""});e.set("inputValue",r)},setValue(e){let{context:t,flush:n,event:i,prop:r}=e;n(()=>{t.set("value",i.value);let s=Se(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(i.value),clear:""});t.set("inputValue",s)})},clearSelectedItems(e){let{context:t,flush:n,prop:i}=e;n(()=>{t.set("value",[]);let r=Se(i("selectionBehavior"),{preserve:t.get("inputValue"),replace:i("collection").stringifyMany([]),clear:""});t.set("inputValue",r)})},scrollContentToTop({prop:e,scope:t}){let n=e("scrollToIndexFn");if(n){let i=e("collection").firstValue;n({index:0,immediate:!0,getElement:()=>Bi(t,i)})}else{let i=ei(t);if(!i)return;i.scrollTop=0}},invokeOnOpen({prop:e,event:t,context:n}){var r;let i=lh(t);(r=e("onOpenChange"))==null||r({open:!0,reason:i,value:n.get("value")})},invokeOnClose({prop:e,event:t,context:n}){var r;let i=lh(t);(r=e("onOpenChange"))==null||r({open:!1,reason:i,value:n.get("value")})},highlightFirstItem({context:e,prop:t,scope:n}){(ei(n)?queueMicrotask:H)(()=>{let r=t("collection").firstValue;r&&e.set("highlightedValue",r)})},highlightFirstItemIfNeeded({computed:e,action:t}){e("autoHighlight")&&t(["highlightFirstItem"])},highlightLastItem({context:e,prop:t,scope:n}){(ei(n)?queueMicrotask:H)(()=>{let r=t("collection").lastValue;r&&e.set("highlightedValue",r)})},highlightNextItem({context:e,prop:t}){let n=null,i=e.get("highlightedValue"),r=t("collection");i?(n=r.getNextValue(i),!n&&t("loopFocus")&&(n=r.firstValue)):n=r.firstValue,n&&e.set("highlightedValue",n)},highlightPrevItem({context:e,prop:t}){let n=null,i=e.get("highlightedValue"),r=t("collection");i?(n=r.getPreviousValue(i),!n&&t("loopFocus")&&(n=r.lastValue)):n=r.lastValue,n&&e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t}){H(()=>{let[n]=t("collection").sort(e.get("value"));n&&e.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let i=null;n("hasSelectedItems")?i=t("collection").sort(e.get("value"))[0]:i=t("collection").firstValue,i&&e.set("highlightedValue",i)})},highlightLastOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let i=t("collection"),r=null;n("hasSelectedItems")?r=i.sort(e.get("value"))[0]:r=i.lastValue,r&&e.set("highlightedValue",r)})},autofillInputValue({context:e,computed:t,prop:n,event:i,scope:r}){let s=_i(r),a=n("collection");if(!t("autoComplete")||!s||!i.keypress)return;let o=a.stringify(e.get("highlightedValue"));H(()=>{s.value=o||e.get("inputValue")})},syncSelectedItems(e){queueMicrotask(()=>{let{context:t,prop:n}=e,i=n("collection"),r=t.get("value"),s=r.map(o=>t.get("selectedItems").find(c=>i.getItemValue(c)===o)||i.find(o));t.set("selectedItems",s);let a=Se(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(r),clear:""});t.set("inputValue",a)})},syncHighlightedItem({context:e,prop:t}){let n=t("collection").find(e.get("highlightedValue"));e.set("highlightedItem",n)},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});WI=G()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]),Px=_(WI),KI=G()(["htmlFor"]),Sx=_(KI),zI=G()(["id"]),Tx=_(zI),YI=G()(["item","persistFocus"]),Ox=_(YI),jI=class extends K{constructor(){super(...arguments);Y(this,"options",[]);Y(this,"allOptions",[]);Y(this,"hasGroups",!1)}setAllOptions(t){this.allOptions=t,this.options=t}getCollection(){let t=this.options||this.allOptions||[];return this.hasGroups?ta({items:t,itemToValue:n=>{var i;return(i=n.id)!=null?i:""},itemToString:n=>n.label,isItemDisabled:n=>{var i;return(i=n.disabled)!=null?i:!1},groupBy:n=>{var i;return(i=n.group)!=null?i:""}}):ta({items:t,itemToValue:n=>{var i;return(i=n.id)!=null?i:""},itemToString:n=>n.label,isItemDisabled:n=>{var i;return(i=n.disabled)!=null?i:!1}})}initMachine(t){let n=this;return new W(qI,y(g({},t),{get collection(){return n.getCollection()},onOpenChange:i=>{i.open&&(n.options=n.allOptions),t.onOpenChange&&t.onOpenChange(i)},onInputValueChange:i=>{if(t.onInputValueChange)t.onInputValueChange(i);else{let r=n.allOptions.filter(s=>s.label.toLowerCase().includes(i.inputValue.toLowerCase()));n.options=r.length>0?r:n.allOptions}}}))}initApi(){return BI(this.machine.service,q)}renderItems(){var i,r,s,a;let t=this.el.querySelector('[data-scope="combobox"][data-part="content"]');if(!t)return;let n=this.el.querySelector('[data-templates="combobox"]');if(n)if(t.querySelectorAll('[data-scope="combobox"][data-part="item"]:not([data-template])').forEach(o=>o.remove()),t.querySelectorAll('[data-scope="combobox"][data-part="item-group"]:not([data-template])').forEach(o=>o.remove()),this.hasGroups){let o=(s=(r=(i=this.api.collection).group)==null?void 0:r.call(i))!=null?s:[];this.renderGroupedItems(t,n,o)}else{let o=(a=this.options)!=null&&a.length?this.options:this.allOptions;this.renderFlatItems(t,n,o)}}buildOrderedBlocks(t){var r;let n=[],i=null;for(let s of t){let a=(r=s.group)!=null?r:"";a===""?((i==null?void 0:i.type)!=="default"&&(i={type:"default",items:[]},n.push(i)),i.items.push(s)):(((i==null?void 0:i.type)!=="group"||i.groupId!==a)&&(i={type:"group",groupId:a,items:[]},n.push(i)),i.items.push(s))}return n}renderGroupedItems(t,n,i){var a;let r=(a=this.options)!=null&&a.length?this.options:this.allOptions,s=this.buildOrderedBlocks(r);for(let o of s){let l=o.type==="default"?"default":o.groupId,c=n.querySelector(`[data-scope="combobox"][data-part="item-group"][data-id="${l}"][data-template]`);if(!c)continue;let d=c.cloneNode(!0);d.removeAttribute("data-template"),this.spreadProps(d,this.api.getItemGroupProps({id:l}));let h=d.querySelector('[data-scope="combobox"][data-part="item-group-label"]');h&&this.spreadProps(h,this.api.getItemGroupLabelProps({htmlFor:l}));let m=d.querySelector('[data-scope="combobox"][data-part="item-group-content"]');if(m){m.innerHTML="";for(let u of o.items){let p=this.cloneItem(n,u);p&&m.appendChild(p)}t.appendChild(d)}}}renderFlatItems(t,n,i){for(let r of i){let s=this.cloneItem(n,r);s&&t.appendChild(s)}}cloneItem(t,n){var l,c,d,h;let i=(h=(d=(c=(l=this.api.collection).getItemValue)==null?void 0:c.call(l,n))!=null?d:n.id)!=null?h:"",r=t.querySelector(`[data-scope="combobox"][data-part="item"][data-value="${i}"][data-template]`);if(!r)return null;let s=r.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemProps({item:n}));let a=s.querySelector('[data-scope="combobox"][data-part="item-text"]');a&&(this.spreadProps(a,this.api.getItemTextProps({item:n})),a.children.length===0&&(a.textContent=n.label||""));let o=s.querySelector('[data-scope="combobox"][data-part="item-indicator"]');return o&&this.spreadProps(o,this.api.getItemIndicatorProps({item:n})),s}render(){let t=this.el.querySelector('[data-scope="combobox"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps()),["label","control","input","trigger","clear-trigger","positioner"].forEach(i=>{let r=this.el.querySelector(`[data-scope="combobox"][data-part="${i}"]`);if(!r)return;let s="get"+i.split("-").map(a=>a[0].toUpperCase()+a.slice(1)).join("")+"Props";this.spreadProps(r,this.api[s]())});let n=this.el.querySelector('[data-scope="combobox"][data-part="content"]');n&&(this.spreadProps(n,this.api.getContentProps()),this.renderItems())}};JI={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=JSON.parse(e.dataset.collection||"[]"),i=n.some(a=>!!a.group),r=y(g({id:e.id},P(e,"controlled")?{value:J(e,"value")}:{defaultValue:J(e,"defaultValue")}),{disabled:P(e,"disabled"),placeholder:O(e,"placeholder"),alwaysSubmitOnEnter:P(e,"alwaysSubmitOnEnter"),autoFocus:P(e,"autoFocus"),closeOnSelect:P(e,"closeOnSelect"),dir:O(e,"dir",["ltr","rtl"]),inputBehavior:O(e,"inputBehavior",["autohighlight","autocomplete","none"]),loopFocus:P(e,"loopFocus"),multiple:P(e,"multiple"),invalid:P(e,"invalid"),allowCustomValue:!1,selectionBehavior:"replace",name:O(e,"name"),form:O(e,"form"),readOnly:P(e,"readOnly"),required:P(e,"required"),positioning:(()=>{let a=e.dataset.positioning;if(a)try{let o=JSON.parse(a);return ZI(o)}catch(o){return}})(),onOpenChange:a=>{let o=O(e,"onOpenChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(o,{open:a.open,reason:a.reason,value:a.value,id:e.id});let l=O(e,"onOpenChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:P(e,"bubble"),detail:{open:a.open,reason:a.reason,value:a.value,id:e.id}}))},onInputValueChange:a=>{let o=O(e,"onInputValueChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(o,{value:a.inputValue,reason:a.reason,id:e.id});let l=O(e,"onInputValueChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:P(e,"bubble"),detail:{value:a.inputValue,reason:a.reason,id:e.id}}))},onValueChange:a=>{let o=e.querySelector('[data-scope="combobox"][data-part="input"]');o&&o.dispatchEvent(new Event("change",{bubbles:!0}));let l=O(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{value:a.value,items:a.items,id:e.id});let c=O(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:P(e,"bubble"),detail:{value:a.value,items:a.items,id:e.id}}))}}),s=new jI(e,r);s.hasGroups=i,s.setAllOptions(n),s.init(),this.combobox=s,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>!!n.group);this.combobox&&(this.combobox.hasGroups=t,this.combobox.setAllOptions(e),this.combobox.render(),this.combobox.updateProps(y(g({},P(this.el,"controlled")?{value:J(this.el,"value")}:{defaultValue:J(this.el,"defaultValue")}),{collection:this.combobox.getCollection(),name:O(this.el,"name"),form:O(this.el,"form"),disabled:P(this.el,"disabled"),multiple:P(this.el,"multiple"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:P(this.el,"invalid"),required:P(this.el,"required"),readOnly:P(this.el,"readOnly")})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.combobox)==null||e.destroy()}}});var hg={};ge(hg,{DatePicker:()=>GP});function Qo(e,t){return e-t*Math.floor(e/t)}function na(e,t,n,i){t=vl(e,t);let r=t-1,s=-2;return n<=2?s=0:da(t)&&(s=-1),kh-1+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)+Math.floor((367*n-362)/12+s+i)}function da(e){return e%4===0&&(e%100!==0||e%400===0)}function vl(e,t){return e==="BC"?1-t:t}function QI(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}function ii(e,t){return t=at(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function nC(e,t){return t=at(t,e.calendar),e=an(e),t=an(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function iC(e,t){return t=at(t,e.calendar),e=Nr(e),t=Nr(t),e.era===t.era&&e.year===t.year}function rC(e,t){return pa(e.calendar,t.calendar)&&ii(e,t)}function sC(e,t){return pa(e.calendar,t.calendar)&&nC(e,t)}function aC(e,t){return pa(e.calendar,t.calendar)&&iC(e,t)}function pa(e,t){var n,i,r,s;return(s=(r=(n=e.isEqual)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:(i=t.isEqual)===null||i===void 0?void 0:i.call(t,e))!==null&&s!==void 0?s:e.identifier===t.identifier}function oC(e,t){return ii(e,fa(t))}function Ah(e,t,n){let i=e.calendar.toJulianDay(e),r=n?lC[n]:uC(t),s=Math.ceil(i+1-r)%7;return s<0&&(s+=7),s}function Nh(e){return on(Date.now(),e)}function fa(e){return ti(Nh(e))}function Rh(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function cC(e,t){return fh(e)-fh(t)}function fh(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}function yl(){return el==null&&(el=new Intl.DateTimeFormat().resolvedOptions().timeZone),el}function an(e){return e.subtract({days:e.day-1})}function ll(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function Nr(e){return an(e.subtract({months:e.month-1}))}function dC(e){return ll(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function An(e,t,n){let i=Ah(e,t,n);return e.subtract({days:i})}function mh(e,t,n){return An(e,t,n).add({days:6})}function Dh(e){if(Intl.Locale){let n=vh.get(e);return n||(n=new Intl.Locale(e).maximize().region,n&&vh.set(e,n)),n}let t=e.split("-")[1];return t==="u"?void 0:t}function uC(e){let t=tl.get(e);if(!t){if(Intl.Locale){let i=new Intl.Locale(e);if("getWeekInfo"in i&&(t=i.getWeekInfo(),t))return tl.set(e,t),t.firstDay}let n=Dh(e);if(e.includes("-fw-")){let i=e.split("-fw-")[1].split("-")[0];i==="mon"?t={firstDay:1}:i==="tue"?t={firstDay:2}:i==="wed"?t={firstDay:3}:i==="thu"?t={firstDay:4}:i==="fri"?t={firstDay:5}:i==="sat"?t={firstDay:6}:t={firstDay:0}}else e.includes("-ca-iso8601")?t={firstDay:1}:t={firstDay:n&&tC[n]||0};tl.set(e,t)}return t.firstDay}function hC(e,t,n){let i=e.calendar.getDaysInMonth(e);return Math.ceil((Ah(an(e),t,n)+i)/7)}function Lh(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function Mh(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function pC(e,t){let n=e.calendar.toJulianDay(e),i=Math.ceil(n+1)%7;i<0&&(i+=7);let r=Dh(t),[s,a]=gC[r]||[6,0];return i===s||i===a}function Ki(e){e=at(e,new Wi);let t=vl(e.era,e.year);return Fh(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function Fh(e,t,n,i,r,s,a){let o=new Date;return o.setUTCHours(i,r,s,a),o.setUTCFullYear(e,t-1,n),o.getTime()}function cl(e,t){if(t==="UTC")return 0;if(e>0&&t===yl())return new Date(e).getTimezoneOffset()*-6e4;let{year:n,month:i,day:r,hour:s,minute:a,second:o}=$h(e,t);return Fh(n,i,r,s,a,o,0)-Math.floor(e/1e3)*1e3}function $h(e,t){let n=yh.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),yh.set(t,n));let i=n.formatToParts(new Date(e)),r={};for(let s of i)s.type!=="literal"&&(r[s.type]=s.value);return{year:r.era==="BC"||r.era==="B"?-r.year+1:+r.year,month:+r.month,day:+r.day,hour:r.hour==="24"?0:+r.hour,minute:+r.minute,second:+r.second}}function fC(e,t,n,i){return(n===i?[n]:[n,i]).filter(s=>mC(e,t,s))}function mC(e,t,n){let i=$h(n,t);return e.year===i.year&&e.month===i.month&&e.day===i.day&&e.hour===i.hour&&e.minute===i.minute&&e.second===i.second}function sn(e,t,n="compatible"){let i=_t(e);if(t==="UTC")return Ki(i);if(t===yl()&&n==="compatible"){i=at(i,new Wi);let l=new Date,c=vl(i.era,i.year);return l.setFullYear(c,i.month-1,i.day),l.setHours(i.hour,i.minute,i.second,i.millisecond),l.getTime()}let r=Ki(i),s=cl(r-bh,t),a=cl(r+bh,t),o=fC(i,t,r-s,r-a);if(o.length===1)return o[0];if(o.length>1)switch(n){case"compatible":case"earlier":return o[0];case"later":return o[o.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(r-s,r-a);case"compatible":case"later":return Math.max(r-s,r-a);case"reject":throw new RangeError("No such absolute time found")}}function Hh(e,t,n="compatible"){return new Date(sn(e,t,n))}function on(e,t){let n=cl(e,t),i=new Date(e+n),r=i.getUTCFullYear(),s=i.getUTCMonth()+1,a=i.getUTCDate(),o=i.getUTCHours(),l=i.getUTCMinutes(),c=i.getUTCSeconds(),d=i.getUTCMilliseconds();return new Yh(r<1?"BC":"AD",r<1?-r+1:r,s,a,t,n,o,l,c,d)}function ti(e){return new zi(e.calendar,e.era,e.year,e.month,e.day)}function _t(e,t){let n=0,i=0,r=0,s=0;if("timeZone"in e)({hour:n,minute:i,second:r,millisecond:s}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:i,second:r,millisecond:s}=t),new MC(e.calendar,e.era,e.year,e.month,e.day,n,i,r,s)}function at(e,t){if(pa(e.calendar,t))return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),i=e.copy();return i.calendar=t,i.era=n.era,i.year=n.year,i.month=n.month,i.day=n.day,ni(i),i}function Bh(e,t,n){if(e instanceof Yh)return e.timeZone===t?e:yC(e,t);let i=sn(e,t,n);return on(i,t)}function vC(e){let t=Ki(e)-e.offset;return new Date(t)}function yC(e,t){let n=Ki(e)-e.offset;return at(on(n,t),e.calendar)}function ma(e,t){let n=e.copy(),i="hour"in n?CC(n,t):0;dl(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,ul(n),_h(n),n.day+=(t.weeks||0)*7,n.day+=t.days||0,n.day+=i,bC(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let r=n.calendar.getYearsInEra(n);if(n.year>r){var s,a;let l=(s=(a=n.calendar).isInverseEra)===null||s===void 0?void 0:s.call(a,n);n.year=r,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let o=n.calendar.getMonthsInYear(n);return n.month>o&&(n.month=o,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function dl(e,t){var n,i;!((n=(i=e.calendar).isInverseEra)===null||n===void 0)&&n.call(i,e)&&(t=-t),e.year+=t}function ul(e){for(;e.month<1;)dl(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,dl(e,1)}function bC(e){for(;e.day<1;)e.month--,ul(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,ul(e)}function _h(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function ni(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),_h(e)}function Gh(e){let t={};for(let n in e)typeof e[n]=="number"&&(t[n]=-e[n]);return t}function Uh(e,t){return ma(e,Gh(t))}function bl(e,t){let n=e.copy();return t.era!=null&&(n.era=t.era),t.year!=null&&(n.year=t.year),t.month!=null&&(n.month=t.month),t.day!=null&&(n.day=t.day),ni(n),n}function ga(e,t){let n=e.copy();return t.hour!=null&&(n.hour=t.hour),t.minute!=null&&(n.minute=t.minute),t.second!=null&&(n.second=t.second),t.millisecond!=null&&(n.millisecond=t.millisecond),IC(n),n}function EC(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=ia(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=ia(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=ia(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=ia(e.hour,24),t}function IC(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function ia(e,t){let n=e%t;return n<0&&(n+=t),n}function CC(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,EC(e)}function El(e,t,n,i){let r=e.copy();switch(t){case"era":{let o=e.calendar.getEras(),l=o.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=ln(l,n,0,o.length-1,i==null?void 0:i.round),r.era=o[l],ni(r);break}case"year":var s,a;!((s=(a=r.calendar).isInverseEra)===null||s===void 0)&&s.call(a,r)&&(n=-n),r.year=ln(e.year,n,-1/0,9999,i==null?void 0:i.round),r.year===-1/0&&(r.year=1),r.calendar.balanceYearMonth&&r.calendar.balanceYearMonth(r,e);break;case"month":r.month=ln(e.month,n,1,e.calendar.getMonthsInYear(e),i==null?void 0:i.round);break;case"day":r.day=ln(e.day,n,1,e.calendar.getDaysInMonth(e),i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(r),ni(r),r}function qh(e,t,n,i){let r=e.copy();switch(t){case"hour":{let s=e.hour,a=0,o=23;if((i==null?void 0:i.hourCycle)===12){let l=s>=12;a=l?12:0,o=l?23:11}r.hour=ln(s,n,a,o,i==null?void 0:i.round);break}case"minute":r.minute=ln(e.minute,n,0,59,i==null?void 0:i.round);break;case"second":r.second=ln(e.second,n,0,59,i==null?void 0:i.round);break;case"millisecond":r.millisecond=ln(e.millisecond,n,0,999,i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return r}function ln(e,t,n,i,r=!1){if(r){e+=Math.sign(t),e<n&&(e=i);let s=Math.abs(t);t>0?e=Math.ceil(e/s)*s:e=Math.floor(e/s)*s,e>i&&(e=n)}else e+=t,e<n?e=i-(n-e-1):e>i&&(e=n+(e-i-1));return e}function Wh(e,t){let n;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let r=ma(_t(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});n=sn(r,e.timeZone)}else n=Ki(e)-e.offset;n+=t.milliseconds||0,n+=(t.seconds||0)*1e3,n+=(t.minutes||0)*6e4,n+=(t.hours||0)*36e5;let i=on(n,e.timeZone);return at(i,e.calendar)}function PC(e,t){return Wh(e,Gh(t))}function SC(e,t,n,i){switch(t){case"hour":{let r=0,s=23;if((i==null?void 0:i.hourCycle)===12){let p=e.hour>=12;r=p?12:0,s=p?23:11}let a=_t(e),o=at(ga(a,{hour:r}),new Wi),l=[sn(o,e.timeZone,"earlier"),sn(o,e.timeZone,"later")].filter(p=>on(p,e.timeZone).day===o.day)[0],c=at(ga(a,{hour:s}),new Wi),d=[sn(c,e.timeZone,"earlier"),sn(c,e.timeZone,"later")].filter(p=>on(p,e.timeZone).day===c.day).pop(),h=Ki(e)-e.offset,m=Math.floor(h/kr),u=h%kr;return h=ln(m,n,Math.floor(l/kr),Math.floor(d/kr),i==null?void 0:i.round)*kr+u,at(on(h,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return qh(e,t,n,i);case"era":case"year":case"month":case"day":{let r=El(_t(e),t,n,i),s=sn(r,e.timeZone);return at(on(s,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function TC(e,t,n){let i=_t(e),r=ga(bl(i,t),t);if(r.compare(i)===0)return e;let s=sn(r,e.timeZone,n);return at(on(s,e.timeZone),e.calendar)}function xC(e){let t=e.match(OC);if(!t)throw wC.test(e)?new Error(`Invalid ISO 8601 date string: ${e}. Use parseAbsolute() instead.`):new Error("Invalid ISO 8601 date string: "+e);let n=new zi(nl(t[1],0,9999),nl(t[2],1,12),1);return n.day=nl(t[3],1,n.calendar.getDaysInMonth(n)),n}function nl(e,t,n){let i=Number(e);if(i<t||i>n)throw new RangeError(`Value out of range: ${t} <= ${i} <= ${n}`);return i}function kC(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function Kh(e){let t=at(e,new Wi),n;return t.era==="BC"?n=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):n=String(t.year).padStart(4,"0"),`${n}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function zh(e){return`${Kh(e)}T${kC(e)}`}function AC(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let n=Math.floor(e/36e5),i=Math.floor(e%36e5/6e4),r=Math.floor(e%36e5%6e4/1e3),s=`${t}${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`;return r!==0&&(s+=`:${String(r).padStart(2,"0")}`),s}function NC(e){return`${zh(e)}${AC(e.offset)}[${e.timeZone}]`}function RC(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Il(e,t,n){RC(e,t),t.set(e,n)}function Cl(e){let t=typeof e[0]=="object"?e.shift():new Wi,n;if(typeof e[0]=="string")n=e.shift();else{let a=t.getEras();n=a[a.length-1]}let i=e.shift(),r=e.shift(),s=e.shift();return[t,n,i,r,s]}function jh(e,t={}){if(typeof t.hour12=="boolean"&&HC()){t=g({},t);let r=$C[String(t.hour12)][e.split("-")[0]],s=t.hour12?"h12":"h23";t.hourCycle=r!=null?r:s,delete t.hour12}let n=e+(t?Object.entries(t).sort((r,s)=>r[0]<s[0]?-1:1).join():"");if(il.has(n))return il.get(n);let i=new Intl.DateTimeFormat(e,t);return il.set(n,i),i}function HC(){return rl==null&&(rl=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),rl}function BC(){return sl==null&&(sl=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),sl}function _C(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let n=jh(e,y(g({},t),{timeZone:void 0})),i=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(s=>s.type==="hour").value,10),r=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(s=>s.type==="hour").value,10);if(i===0&&r===23)return"h23";if(i===24&&r===23)return"h24";if(i===0&&r===11)return"h11";if(i===12&&r===11)return"h12";throw new Error("Unexpected hour cycle result")}function GC(e,t,n,i,r){let s={};for(let o in t){let l=o,c=t[l];c!=null&&(s[l]=Math.floor(c/2),s[l]>0&&c%2===0&&s[l]--)}let a=ri(e,t,n).subtract(s);return Rr(e,a,t,n,i,r)}function ri(e,t,n,i,r){let s=e;return t.years?s=Nr(e):t.months?s=an(e):t.weeks&&(s=An(e,n)),Rr(e,s,t,n,i,r)}function Pl(e,t,n,i,r){let s=g({},t);s.days?s.days--:s.weeks?s.weeks--:s.months?s.months--:s.years&&s.years--;let a=ri(e,t,n).subtract(s);return Rr(e,a,t,n,i,r)}function Rr(e,t,n,i,r,s){return r&&e.compare(r)>=0&&(t=Mh(t,ri(ti(r),n,i))),s&&e.compare(s)<=0&&(t=Lh(t,Pl(ti(s),n,i))),t}function ft(e,t,n){let i=ti(e),r=t?ti(t):void 0,s=n?ti(n):void 0,a=i;return r&&(a=Mh(a,r)),s&&(a=Lh(a,s)),a.compare(i)===0?e:"hour"in e?e.set({year:a.year,month:a.month,day:a.day}):a}function Eh(e,t,n,i,r,s){switch(t){case"start":return ri(e,n,i,r,s);case"end":return Pl(e,n,i,r,s);case"center":default:return GC(e,n,i,r,s)}}function Xe(e,t){return e==null||t==null?e===t:ii(e,t)}function Ih(e,t,n,i,r){return e?t!=null&&t(e,n)?!0:Bt(e,i,r):!1}function Bt(e,t,n){return t!=null&&e.compare(t)<0||n!=null&&e.compare(n)>0}function UC(e,t,n){let i=e.subtract({days:1});return ii(i,e)||Bt(i,t,n)}function qC(e,t,n){let i=e.add({days:1});return ii(i,e)||Bt(i,t,n)}function Sl(e){let t=g({},e);for(let n in t)t[n]=1;return t}function Xh(e,t){let n=g({},t);return n.days?n.days--:n.days=-1,e.add(n)}function Zh(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function Jh(e,t){let n=_t(fa(t));return new Ot(e,{weekday:"long",month:"long",year:"numeric",day:"numeric",era:Zh(n),timeZone:t})}function Ch(e,t){let n=fa(t);return new Ot(e,{month:"long",year:"numeric",era:Zh(n),calendar:n==null?void 0:n.calendar.identifier,timeZone:t})}function WC(e,t,n,i,r){let s=n.formatRangeToParts(e.toDate(r),t.toDate(r)),a=-1;for(let c=0;c<s.length;c++){let d=s[c];if(d.source==="shared"&&d.type==="literal")a=c;else if(d.source==="endRange")break}let o="",l="";for(let c=0;c<s.length;c++)c<a?o+=s[c].value:c>a&&(l+=s[c].value);return i(o,l)}function ra(e,t,n,i){if(!e)return"";let r=e,s=t!=null?t:e,a=Jh(n,i);return ii(r,s)?a.format(r.toDate(i)):WC(r,s,a,(o,l)=>`${o} \u2013 ${l}`,i)}function Qh(e){return e!=null?KC[e]:void 0}function eg(e,t,n){let i=Qh(n);return An(e,t,i)}function tg(e,t,n,i){let r=t.add({weeks:e}),s=[],a=eg(r,n,i);for(;s.length<7;){s.push(a);let o=a.add({days:1});if(ii(a,o))break;a=o}return s}function zC(e,t,n,i){let r=Qh(i),s=n!=null?n:hC(e,t,r);return[...new Array(s).keys()].map(o=>tg(o,e,t,i))}function YC(e,t){let n=new Ot(e,{weekday:"long",timeZone:t}),i=new Ot(e,{weekday:"short",timeZone:t}),r=new Ot(e,{weekday:"narrow",timeZone:t});return s=>{let a=s instanceof Date?s:s.toDate(t);return{value:s,short:i.format(a),long:n.format(a),narrow:r.format(a)}}}function jC(e,t,n,i){let r=eg(e,i,t),s=[...new Array(7).keys()],a=YC(i,n);return s.map(o=>a(r.add({days:o})))}function XC(e,t="long"){let n=new Date(2021,0,1),i=[];for(let r=0;r<12;r++)i.push(n.toLocaleString(e,{month:t})),n.setMonth(n.getMonth()+1);return i}function Ph(e,t){let n=An(e,t,"mon"),i=n.year,r=n.set({month:1,day:4}),s=An(r,t,"mon"),a=n.calendar.toJulianDay(n),o=s.calendar.toJulianDay(s);if(a>=o)return 1+Math.floor((a-o)/7);let l=n.set({year:i-1,month:1,day:4}),c=An(l,t,"mon"),d=c.calendar.toJulianDay(c);return 1+Math.floor((a-d)/7)}function ZC(e){let t=[];for(let n=e.from;n<=e.to;n+=1)t.push(n);return t}function QC(e){if(e){if(e.length===3)return e.padEnd(4,"0");if(e.length===2){let t=new Date().getFullYear(),n=Math.floor(t/100)*100,i=parseInt(e.slice(-2),10),r=n+i;return r>t+JC?(r-100).toString():r.toString()}return e}}function qi(e,t){let n=t!=null&&t.strict?10:12,i=e-e%10,r=[];for(let s=0;s<n;s+=1){let a=i+s;r.push(a)}return r}function Ui(e){return fa(e!=null?e:yl())}function Dr(e,t,n,i){return function(s){let{startDate:a,focusedDate:o}=s,l=Xh(a,e);return Bt(o,n,i)?{startDate:a,focusedDate:ft(o,n,i),endDate:l}:o.compare(a)<0?{startDate:Pl(o,e,t,n,i),focusedDate:ft(o,n,i),endDate:l}:o.compare(l)>0?{startDate:ri(o,e,t,n,i),endDate:l,focusedDate:ft(o,n,i)}:{startDate:a,endDate:l,focusedDate:ft(o,n,i)}}}function ng(e,t,n,i,r,s){let a=Dr(n,i,r,s),o=t.add(n);return a({focusedDate:e.add(n),startDate:ri(Rr(e,o,n,i,r,s),n,i)})}function ig(e,t,n,i,r,s){let a=Dr(n,i,r,s),o=t.subtract(n);return a({focusedDate:e.subtract(n),startDate:ri(Rr(e,o,n,i,r,s),n,i)})}function eP(e,t,n,i,r,s,a){let o=Dr(i,r,s,a);if(!n&&!i.days)return o({focusedDate:e.add(Sl(i)),startDate:t});if(i.days)return ng(e,t,i,r,s,a);if(i.weeks)return o({focusedDate:e.add({months:1}),startDate:t});if(i.months||i.years)return o({focusedDate:e.add({years:1}),startDate:t})}function tP(e,t,n,i,r,s,a){let o=Dr(i,r,s,a);if(!n&&!i.days)return o({focusedDate:e.subtract(Sl(i)),startDate:t});if(i.days)return ig(e,t,i,r,s,a);if(i.weeks)return o({focusedDate:e.subtract({months:1}),startDate:t});if(i.months||i.years)return o({focusedDate:e.subtract({years:1}),startDate:t})}function rP(e,t,n){var c;let i=sP(t,n),{year:r,month:s,day:a}=(c=aP(i,e))!=null?c:{};if(r!=null||s!=null||a!=null){let d=new Date;r||(r=d.getFullYear().toString()),s||(s=(d.getMonth()+1).toString()),a||(a=d.getDate().toString())}if(Sh(r)||(r=QC(r)),Sh(r)&&nP(s)&&iP(a))return new zi(+r,+s,+a);let l=Date.parse(e);if(!isNaN(l)){let d=new Date(l);return new zi(d.getFullYear(),d.getMonth()+1,d.getDate())}}function sP(e,t){return new Ot(e,{day:"numeric",month:"numeric",year:"numeric",timeZone:t}).formatToParts(new Date(2e3,11,25)).map(({type:r,value:s})=>r==="literal"?`${s}?`:`((?!=<${r}>)\\d+)?`).join("")}function aP(e,t){var i;let n=t.match(e);return(i=e.toString().match(/<(.+?)>/g))==null?void 0:i.map(r=>{var a;let s=r.match(/<(.+)>/);return!s||s.length<=0?null:(a=r.match(/<(.+)>/))==null?void 0:a[1]}).reduce((r,s,a)=>(s&&(n&&n.length>a?r[s]=n[a+1]:r[s]=null),r),{})}function Th(e,t,n){let i=ti(Nh(n));switch(e){case"thisWeek":return[An(i,t),mh(i,t)];case"thisMonth":return[an(i),i];case"thisQuarter":return[an(i).add({months:-((i.month-1)%3)}),i];case"thisYear":return[Nr(i),i];case"last3Days":return[i.add({days:-2}),i];case"last7Days":return[i.add({days:-6}),i];case"last14Days":return[i.add({days:-13}),i];case"last30Days":return[i.add({days:-29}),i];case"last90Days":return[i.add({days:-89}),i];case"lastMonth":return[an(i.add({months:-1})),ll(i.add({months:-1}))];case"lastQuarter":return[an(i.add({months:-((i.month-1)%3)-3})),ll(i.add({months:-((i.month-1)%3)-1}))];case"lastWeek":return[An(i,t).add({weeks:-1}),mh(i,t).add({weeks:-1})];case"lastYear":return[Nr(i.add({years:-1})),dC(i.add({years:-1}))];default:throw new Error(`Invalid date range preset: ${e}`)}}function oP(e={}){var c;let{level:t="polite",document:n=document,root:i,delay:r=0}=e,s=(c=n.defaultView)!=null?c:window,a=i!=null?i:n.body;function o(d,h){let m=n.getElementById(sa);m==null||m.remove(),h=h!=null?h:r;let u=n.createElement("span");u.id=sa,u.dataset.liveAnnouncer="true";let p=t!=="assertive"?"status":"alert";u.setAttribute("aria-live",t),u.setAttribute("role",p),Object.assign(u.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),a.appendChild(u),s.setTimeout(()=>{u.textContent=d},h)}function l(){let d=n.getElementById(sa);d==null||d.remove()}return{announce:o,destroy:l,toJSON(){return sa}}}function ml(e){let[t,n]=e,i;return!t||!n?i=e:i=t.compare(n)<=0?e:[n,t],i}function Gi(e,t){let[n,i]=t;return!n||!i?!1:n.compare(e)<=0&&i.compare(e)>=0}function oa(e){return e.slice().filter(t=>t!=null).sort((t,n)=>t.compare(n))}function bP(e){return Se(e,{year:"calendar decade",month:"calendar year",day:"calendar month"})}function IP(e){return new Ot(e).formatToParts(new Date).map(t=>{var n;return(n=EP[t.type])!=null?n:t.value}).join("")}function PP(e){let i=new Intl.DateTimeFormat(e).formatToParts(new Date).find(r=>r.type==="literal");return i?i.value:"/"}function cn(e,t){return e?e==="day"?0:e==="month"?1:2:t||0}function Tl(e){return e===0?"day":e===1?"month":"year"}function Ol(e,t,n){return Tl(Be(cn(e,0),cn(t,0),cn(n,2)))}function TP(e,t){return cn(e,0)>cn(t,0)}function OP(e,t){return cn(e,0)<cn(t,0)}function wP(e,t,n){let i=cn(e,0)+1;return Ol(Tl(i),t,n)}function VP(e,t,n){let i=cn(e,0)-1;return Ol(Tl(i),t,n)}function kP(e){xP.forEach(t=>e(t))}function NP(e,t){let{state:n,context:i,prop:r,send:s,computed:a,scope:o}=e,l=i.get("startValue"),c=a("endValue"),d=i.get("value"),h=i.get("focusedValue"),m=i.get("hoveredValue"),u=m?ml([d[0],m]):[],p=!!r("disabled"),v=!!r("readOnly"),I=!!r("invalid"),T=a("isInteractive"),w=d.length===0,b=r("min"),f=r("max"),S=r("locale"),C=r("timeZone"),V=r("startOfWeek"),k=n.matches("focused"),x=n.matches("open"),A=r("selectionMode")==="range",N=r("selectionMode")==="multiple",D=r("isDateUnavailable"),$=r("maxSelectedDates"),ee=N&&$!=null&&d.length>=$,te=i.get("currentPlacement"),oe=kn(y(g({},r("positioning")),{placement:te})),Z=PP(S),ie=g(g({},SP),r("translations"));function Ce(L=l){let R=r("fixedWeeks")?6:void 0;return zC(L,S,R,V)}function ne(L={}){let{format:R}=L;return XC(S,R).map((F,B)=>{let se=B+1,Me=h.set({month:se}),Te=Bt(Me,b,f);return{label:F,value:se,disabled:Te}})}function Pe(){var R,F;return ZC({from:(R=b==null?void 0:b.year)!=null?R:1900,to:(F=f==null?void 0:f.year)!=null?F:2100}).map(B=>({label:B.toString(),value:B,disabled:!xi(B,b==null?void 0:b.year,f==null?void 0:f.year)}))}function vt(L){return Ih(L,D,S,b,f)}function Hn(L){let R=l!=null?l:Ui(C);s({type:"FOCUS.SET",value:R.set({month:L})})}function Xr(L){let R=l!=null?l:Ui(C);s({type:"FOCUS.SET",value:R.set({year:L})})}function pi(L){let{value:R,disabled:F}=L,B=h.set({year:R}),Me=!qi(l.year,{strict:!0}).includes(R),Te=xi(R,b==null?void 0:b.year,f==null?void 0:f.year),Ze={focused:h.year===L.value,selectable:Me||Te,outsideRange:Me,selected:!!d.find(sr=>sr&&sr.year===R),valueText:R.toString(),inRange:A&&(Gi(B,d)||Gi(B,u)),value:B,get disabled(){return F||!Ze.selectable}};return Ze}function Bn(L){let{value:R,disabled:F}=L,B=h.set({month:R}),se=Ch(S,C),Me={focused:h.month===L.value,selectable:!Bt(B,b,f),selected:!!d.find(Te=>Te&&Te.month===R&&Te.year===h.year),valueText:se.format(B.toDate(C)),inRange:A&&(Gi(B,d)||Gi(B,u)),value:B,get disabled(){return F||!Me.selectable}};return Me}function _n(L){let{value:R,disabled:F,visibleRange:B=a("visibleRange")}=L,se=Jh(S,C),Me=Sl(a("visibleDuration")),Te=r("outsideDaySelectable"),Ze=B.start.add(Me).subtract({days:1}),sr=Bt(R,B.start,Ze),Uf=A&&Gi(R,d),qf=A&&Xe(R,d[0]),Wf=A&&Xe(R,d[1]),qa=A&&u.length>0,pc=qa&&Gi(R,u),Kf=qa&&Xe(R,u[0]),zf=qa&&Xe(R,u[1]),fc=d.some(Yf=>Xe(R,Yf)),ar={invalid:Bt(R,b,f),disabled:F||!Te&&sr||Bt(R,b,f)||ee&&!fc,selected:fc,unavailable:Ih(R,D,S,b,f)&&!F,outsideRange:sr,today:oC(R,C),weekend:pC(R,S),formattedDate:se.format(R.toDate(C)),get focused(){return Xe(R,h)&&(!ar.outsideRange||Te)},get ariaLabel(){return ie.dayCell(ar)},get selectable(){return!ar.disabled&&!ar.unavailable},inRange:Uf||pc,firstInRange:qf,lastInRange:Wf,inHoveredRange:pc,firstInHoveredRange:Kf,lastInHoveredRange:zf};return ar}function Ua(L){let{view:R="day",id:F}=L;return[R,F].filter(Boolean).join(" ")}return{focused:k,open:x,disabled:p,invalid:I,readOnly:v,inline:!!r("inline"),numOfMonths:r("numOfMonths"),showWeekNumbers:!!r("showWeekNumbers"),selectionMode:r("selectionMode"),maxSelectedDates:$,isMaxSelected:ee,view:i.get("view"),getRangePresetValue(L){return Th(L,S,C)},getWeekNumber(L){let R=L[0];return R?Ph(R,S):0},getDaysInWeek(L,R=l){return tg(L,R,S,V)},getOffset(L){let R=l.add(L),F=c.add(L),B=Ch(S,C);return{visibleRange:{start:R,end:F},weeks:Ce(R),visibleRangeText:{start:B.format(R.toDate(C)),end:B.format(F.toDate(C))}}},getMonthWeeks:Ce,isUnavailable:vt,weeks:Ce(),weekDays:jC(Ui(C),V,C,S),visibleRangeText:a("visibleRangeText"),value:d,valueAsDate:d.filter(L=>L!=null).map(L=>L.toDate(C)),valueAsString:a("valueAsString"),focusedValue:h,focusedValueAsDate:h==null?void 0:h.toDate(C),focusedValueAsString:r("format")(h,{locale:S,timeZone:C}),visibleRange:a("visibleRange"),selectToday(){let L=ft(Ui(C),b,f);s({type:"VALUE.SET",value:[L]})},setValue(L){let R=L.map(F=>ft(F,b,f));s({type:"VALUE.SET",value:R})},setTime(L,R=0){var se,Me,Te,Ze;let F=Array.from(d),B=F[R];B&&("hour"in B||(B=_t(B)),B=B.set({hour:(se=L.hour)!=null?se:"hour"in B?B.hour:0,minute:(Me=L.minute)!=null?Me:"minute"in B?B.minute:0,second:(Te=L.second)!=null?Te:"second"in B?B.second:0,millisecond:(Ze=L.millisecond)!=null?Ze:"millisecond"in B?B.millisecond:0}),F[R]=ft(B,b,f),s({type:"VALUE.SET",value:F}))},clearValue(L={}){let{focus:R=!0}=L;s({type:"VALUE.CLEAR",focus:R})},setFocusedValue(L){s({type:"FOCUS.SET",value:L})},setOpen(L){r("inline")||n.matches("open")===L||s({type:L?"OPEN":"CLOSE"})},focusMonth:Hn,focusYear:Xr,getYears:Pe,getMonths:ne,getYearsGrid(L={}){let{columns:R=1}=L,F=qi(l.year,{strict:!0}).map(B=>({label:B.toString(),value:B,disabled:!xi(B,b==null?void 0:b.year,f==null?void 0:f.year)}));return mr(F,R)},getDecade(){let L=qi(l.year,{strict:!0});return{start:L.at(0),end:L.at(-1)}},getMonthsGrid(L={}){let{columns:R=1,format:F}=L;return mr(ne({format:F}),R)},format(L,R={month:"long",year:"numeric"}){return new Ot(S,R).format(L.toDate(C))},setView(L){s({type:"VIEW.SET",view:L})},goToNext(){s({type:"GOTO.NEXT",view:i.get("view")})},goToPrev(){s({type:"GOTO.PREV",view:i.get("view")})},getRootProps(){return t.element(y(g({},ce.root.attrs),{dir:r("dir"),id:dP(o),"data-state":x?"open":"closed","data-disabled":E(p),"data-readonly":E(v),"data-empty":E(w)}))},getLabelProps(L={}){let{index:R=0}=L;return t.label(y(g({},ce.label.attrs),{id:cP(o,R),dir:r("dir"),htmlFor:Oh(o,R),"data-state":x?"open":"closed","data-index":R,"data-disabled":E(p),"data-readonly":E(v)}))},getControlProps(){return t.element(y(g({},ce.control.attrs),{dir:r("dir"),id:sg(o),"data-disabled":E(p),"data-placeholder-shown":E(w)}))},getRangeTextProps(){return t.element(y(g({},ce.rangeText.attrs),{dir:r("dir")}))},getContentProps(){return t.element(y(g({},ce.content.attrs),{hidden:!x,dir:r("dir"),"data-state":x?"open":"closed","data-placement":te,"data-inline":E(r("inline")),id:fl(o),tabIndex:-1,role:"application","aria-roledescription":"datepicker","aria-label":ie.content}))},getTableProps(L={}){let{view:R="day",columns:F=R==="day"?7:4}=L,B=Ua(L);return t.element(y(g({},ce.table.attrs),{role:"grid","data-columns":F,"aria-roledescription":bP(R),id:uP(o,B),"aria-readonly":X(v),"aria-disabled":X(p),"aria-multiselectable":X(r("selectionMode")!=="single"),"data-view":R,dir:r("dir"),tabIndex:-1,onKeyDown(se){if(se.defaultPrevented)return;let Te={Enter(){R==="day"&&vt(h)||R==="month"&&!Bn({value:h.month}).selectable||R==="year"&&!pi({value:h.year}).selectable||s({type:"TABLE.ENTER",view:R,columns:F,focus:!0})},ArrowLeft(){s({type:"TABLE.ARROW_LEFT",view:R,columns:F,focus:!0})},ArrowRight(){s({type:"TABLE.ARROW_RIGHT",view:R,columns:F,focus:!0})},ArrowUp(){s({type:"TABLE.ARROW_UP",view:R,columns:F,focus:!0})},ArrowDown(){s({type:"TABLE.ARROW_DOWN",view:R,columns:F,focus:!0})},PageUp(Ze){s({type:"TABLE.PAGE_UP",larger:Ze.shiftKey,view:R,columns:F,focus:!0})},PageDown(Ze){s({type:"TABLE.PAGE_DOWN",larger:Ze.shiftKey,view:R,columns:F,focus:!0})},Home(){s({type:"TABLE.HOME",view:R,columns:F,focus:!0})},End(){s({type:"TABLE.END",view:R,columns:F,focus:!0})}}[pe(se,{dir:r("dir")})];Te&&(Te(se),se.preventDefault(),se.stopPropagation())},onPointerLeave(){s({type:"TABLE.POINTER_LEAVE"})},onPointerDown(){s({type:"TABLE.POINTER_DOWN",view:R})},onPointerUp(){s({type:"TABLE.POINTER_UP",view:R})}}))},getTableHeadProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.tableHead.attrs),{"aria-hidden":!0,dir:r("dir"),"data-view":R,"data-disabled":E(p)}))},getTableHeaderProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.tableHeader.attrs),{dir:r("dir"),"data-view":R,"data-disabled":E(p)}))},getTableBodyProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.tableBody.attrs),{"data-view":R,"data-disabled":E(p)}))},getTableRowProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.tableRow.attrs),{"aria-disabled":X(p),"data-disabled":E(p),"data-view":R}))},getWeekNumberHeaderCellProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.tableCell.attrs),{scope:"col","aria-label":ie.weekColumnHeader,"data-view":R,"data-disabled":E(p)}))},getWeekNumberCellProps(L){var se;let{weekIndex:R,week:F}=L,B=F[0]?Ph(F[0],S):0;return t.element(y(g({},ce.tableCell.attrs),{role:"rowheader","aria-label":(se=ie.weekNumberCell)==null?void 0:se.call(ie,B),"data-view":"day","data-week-index":R,"data-disabled":E(p)}))},getDayTableCellState:_n,getDayTableCellProps(L){let{value:R}=L,F=_n(L);return t.element(y(g({},ce.tableCell.attrs),{role:"gridcell","aria-disabled":X(!F.selectable),"aria-selected":F.selected||F.inRange,"aria-invalid":X(F.invalid),"aria-current":F.today?"date":void 0,"data-value":R.toString()}))},getDayTableCellTriggerProps(L){let{value:R}=L,F=_n(L);return t.element(y(g({},ce.tableCellTrigger.attrs),{id:al(o,R.toString()),role:"button",dir:r("dir"),tabIndex:F.focused?0:-1,"aria-label":F.ariaLabel,"aria-disabled":X(!F.selectable),"aria-invalid":X(F.invalid),"data-disabled":E(!F.selectable),"data-selected":E(F.selected),"data-value":R.toString(),"data-view":"day","data-today":E(F.today),"data-focus":E(F.focused),"data-unavailable":E(F.unavailable),"data-range-start":E(F.firstInRange),"data-range-end":E(F.lastInRange),"data-in-range":E(F.inRange),"data-outside-range":E(F.outsideRange),"data-weekend":E(F.weekend),"data-in-hover-range":E(F.inHoveredRange),"data-hover-range-start":E(F.firstInHoveredRange),"data-hover-range-end":E(F.lastInHoveredRange),onClick(B){B.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"day",value:R})},onPointerMove:A?B=>{if(B.pointerType==="touch"||!F.selectable)return;let se=!o.isActiveElement(B.currentTarget);m&&rC(R,m)||s({type:"CELL.POINTER_MOVE",cell:"day",value:R,focus:se})}:void 0}))},getMonthTableCellState:Bn,getMonthTableCellProps(L){let{value:R,columns:F}=L,B=Bn(L);return t.element(y(g({},ce.tableCell.attrs),{dir:r("dir"),colSpan:F,role:"gridcell","aria-selected":X(B.selected||B.inRange),"data-selected":E(B.selected),"aria-disabled":X(!B.selectable),"data-value":R}))},getMonthTableCellTriggerProps(L){let{value:R}=L,F=Bn(L);return t.element(y(g({},ce.tableCellTrigger.attrs),{dir:r("dir"),role:"button",id:al(o,R.toString()),"data-selected":E(F.selected),"aria-disabled":X(!F.selectable),"data-disabled":E(!F.selectable),"data-focus":E(F.focused),"data-in-range":E(F.inRange),"data-outside-range":E(F.outsideRange),"aria-label":F.valueText,"data-view":"month","data-value":R,tabIndex:F.focused?0:-1,onClick(B){B.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"month",value:R})},onPointerMove:A?B=>{if(B.pointerType==="touch"||!F.selectable)return;let se=!o.isActiveElement(B.currentTarget);m&&F.value&&sC(F.value,m)||s({type:"CELL.POINTER_MOVE",cell:"month",value:F.value,focus:se})}:void 0}))},getYearTableCellState:pi,getYearTableCellProps(L){let{value:R,columns:F}=L,B=pi(L);return t.element(y(g({},ce.tableCell.attrs),{dir:r("dir"),colSpan:F,role:"gridcell","aria-selected":X(B.selected),"data-selected":E(B.selected),"aria-disabled":X(!B.selectable),"data-value":R}))},getYearTableCellTriggerProps(L){let{value:R}=L,F=pi(L);return t.element(y(g({},ce.tableCellTrigger.attrs),{dir:r("dir"),role:"button",id:al(o,R.toString()),"data-selected":E(F.selected),"data-focus":E(F.focused),"data-in-range":E(F.inRange),"aria-disabled":X(!F.selectable),"data-disabled":E(!F.selectable),"aria-label":F.valueText,"data-outside-range":E(F.outsideRange),"data-value":R,"data-view":"year",tabIndex:F.focused?0:-1,onClick(B){B.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"year",value:R})},onPointerMove:A?B=>{if(B.pointerType==="touch"||!F.selectable)return;let se=!o.isActiveElement(B.currentTarget);m&&F.value&&aC(F.value,m)||s({type:"CELL.POINTER_MOVE",cell:"year",value:F.value,focus:se})}:void 0}))},getNextTriggerProps(L={}){let{view:R="day"}=L,F=p||!a("isNextVisibleRangeValid");return t.button(y(g({},ce.nextTrigger.attrs),{dir:r("dir"),id:gP(o,R),type:"button","aria-label":ie.nextTrigger(R),disabled:F,"data-disabled":E(F),onClick(B){B.defaultPrevented||s({type:"GOTO.NEXT",view:R})}}))},getPrevTriggerProps(L={}){let{view:R="day"}=L,F=p||!a("isPrevVisibleRangeValid");return t.button(y(g({},ce.prevTrigger.attrs),{dir:r("dir"),id:hP(o,R),type:"button","aria-label":ie.prevTrigger(R),disabled:F,"data-disabled":E(F),onClick(B){B.defaultPrevented||s({type:"GOTO.PREV",view:R})}}))},getClearTriggerProps(){return t.button(y(g({},ce.clearTrigger.attrs),{id:rg(o),dir:r("dir"),type:"button","aria-label":ie.clearTrigger,hidden:!d.length,onClick(L){L.defaultPrevented||s({type:"VALUE.CLEAR"})}}))},getTriggerProps(){return t.button(y(g({},ce.trigger.attrs),{id:ag(o),dir:r("dir"),type:"button","data-placement":te,"aria-label":ie.trigger(x),"aria-controls":fl(o),"data-state":x?"open":"closed","data-placeholder-shown":E(w),"aria-haspopup":"grid",disabled:p,onClick(L){L.defaultPrevented||T&&s({type:"TRIGGER.CLICK"})}}))},getViewProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.view.attrs),{"data-view":R,hidden:i.get("view")!==R}))},getViewTriggerProps(L={}){let{view:R="day"}=L;return t.button(y(g({},ce.viewTrigger.attrs),{"data-view":R,dir:r("dir"),id:pP(o,R),type:"button",disabled:p,"aria-label":ie.viewTrigger(R),onClick(F){F.defaultPrevented||T&&s({type:"VIEW.TOGGLE",src:"viewTrigger"})}}))},getViewControlProps(L={}){let{view:R="day"}=L;return t.element(y(g({},ce.viewControl.attrs),{"data-view":R,dir:r("dir")}))},getInputProps(L={}){let{index:R=0,fixOnBlur:F=!0}=L;return t.input(y(g({},ce.input.attrs),{id:Oh(o,R),autoComplete:"off",autoCorrect:"off",spellCheck:"false",dir:r("dir"),name:r("name"),"data-index":R,"data-state":x?"open":"closed","data-placeholder-shown":E(w),readOnly:v,disabled:p,required:r("required"),"aria-invalid":X(I),"data-invalid":E(I),placeholder:r("placeholder")||IP(S),defaultValue:a("valueAsString")[R],onBeforeInput(B){let{data:se}=bt(B);ug(se,Z)||B.preventDefault()},onClick(B){B.defaultPrevented||r("openOnClick")&&T&&s({type:"OPEN",src:"input.click"})},onFocus(){s({type:"INPUT.FOCUS",index:R})},onBlur(B){let se=B.currentTarget.value.trim();s({type:"INPUT.BLUR",value:se,index:R,fixOnBlur:F})},onKeyDown(B){if(B.defaultPrevented||!T)return;let Me={Enter(Te){De(Te)||vt(h)||Te.currentTarget.value.trim()!==""&&s({type:"INPUT.ENTER",value:Te.currentTarget.value,index:R})}}[B.key];Me&&(Me(B),B.preventDefault())},onInput(B){let se=B.currentTarget.value;s({type:"INPUT.CHANGE",value:CP(se,Z),index:R})}}))},getMonthSelectProps(){return t.select(y(g({},ce.monthSelect.attrs),{id:lg(o),"aria-label":ie.monthSelect,disabled:p,dir:r("dir"),defaultValue:l.month,onChange(L){Hn(Number(L.currentTarget.value))}}))},getYearSelectProps(){return t.select(y(g({},ce.yearSelect.attrs),{id:cg(o),disabled:p,"aria-label":ie.yearSelect,dir:r("dir"),defaultValue:l.year,onChange(L){Xr(Number(L.currentTarget.value))}}))},getPositionerProps(){return t.element(y(g({id:og(o)},ce.positioner.attrs),{dir:r("dir"),style:oe.floating}))},getPresetTriggerProps(L){let R=Array.isArray(L.value)?L.value:Th(L.value,S,C),F=R.filter(B=>B!=null).map(B=>B.toDate(C).toDateString());return t.button(y(g({},ce.presetTrigger.attrs),{"aria-label":ie.presetTrigger(F),type:"button",onClick(B){B.defaultPrevented||s({type:"PRESET.CLICK",value:R})}}))}}}function RP(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!1;let n=Math.max(e.length,t.length);for(let i=0;i<n;i++)if(!Xe(e[i],t[i]))return!1;return!0}function la(e,t){return e.map(n=>n==null?"":t("format")(n,{locale:t("locale"),timeZone:t("timeZone")}))}function ye(e,t){let{context:n,prop:i,computed:r}=e;if(!t)return;let s=ha(e,t);if(Xe(n.get("focusedValue"),s))return;let o=Dr(r("visibleDuration"),i("locale"),i("min"),i("max"))({focusedDate:s,startDate:n.get("startValue")});n.set("startValue",o.startDate),n.set("focusedValue",o.focusedDate)}function ca(e,t){let{context:n}=e;n.set("startValue",t.startDate);let i=n.get("focusedValue");Xe(i,t.focusedDate)||n.set("focusedValue",t.focusedDate)}function pt(e){return Array.isArray(e)?e.map(t=>pt(t)):e instanceof Date?new zi(e.getFullYear(),e.getMonth()+1,e.getDate()):xC(e)}function xh(e){let t=n=>String(n).padStart(2,"0");return`${e.year}-${t(e.month)}-${t(e.day)}`}var kh,eC,Wi,tC,lC,el,vh,tl,gC,yh,bh,kr,OC,wC,VC,Rx,DC,zi,LC,MC,FC,Yh,il,Ot,$C,rl,sl,KC,JC,Sh,nP,iP,sa,lP,ce,cP,dP,uP,fl,al,hP,gP,pP,rg,sg,Oh,ag,og,lg,cg,wh,aa,ua,Ar,fP,mP,vP,yP,dg,EP,ug,Vh,CP,SP,xP,AP,je,DP,ha,ol,LP,Dx,MP,Lx,FP,Mx,$P,Fx,HP,$x,BP,Hx,_P,GP,gg=re(()=>{"use strict";Vr();Qn();rn();ae();kh=1721426;eC={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]},Wi=class{fromJulianDay(e){let t=e,n=t-kh,i=Math.floor(n/146097),r=Qo(n,146097),s=Math.floor(r/36524),a=Qo(r,36524),o=Math.floor(a/1461),l=Qo(a,1461),c=Math.floor(l/365),d=i*400+s*100+o*4+c+(s!==4&&c!==4?1:0),[h,m]=QI(d),u=t-na(h,m,1,1),p=2;t<na(h,m,3,1)?p=0:da(m)&&(p=1);let v=Math.floor(((u+p)*12+373)/367),I=t-na(h,m,v,1)+1;return new zi(h,m,v,I)}toJulianDay(e){return na(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return eC[da(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return da(e.year)?366:365}getMaximumMonthsInYear(){return 12}getMaximumDaysInMonth(){return 31}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}},tC={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};lC={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};el=null;vh=new Map,tl=new Map;gC={AF:[4,5],AE:[5,6],BH:[5,6],DZ:[5,6],EG:[5,6],IL:[5,6],IQ:[5,6],IR:[5,5],JO:[5,6],KW:[5,6],LY:[5,6],OM:[5,6],QA:[5,6],SA:[5,6],SD:[5,6],SY:[5,6],YE:[5,6]};yh=new Map;bh=864e5;kr=36e5;OC=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,wC=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/,VC=["hours","minutes","seconds"],Rx=["years","months","weeks","days",...VC];DC=new WeakMap,zi=class hl{copy(){return this.era?new hl(this.calendar,this.era,this.year,this.month,this.day):new hl(this.calendar,this.year,this.month,this.day)}add(t){return ma(this,t)}subtract(t){return Uh(this,t)}set(t){return bl(this,t)}cycle(t,n,i){return El(this,t,n,i)}toDate(t){return Hh(this,t)}toString(){return Kh(this)}compare(t){return Rh(this,t)}constructor(...t){Il(this,DC,{writable:!0,value:void 0});let[n,i,r,s,a]=Cl(t);this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=a,ni(this)}},LC=new WeakMap,MC=class gl{copy(){return this.era?new gl(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new gl(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return ma(this,t)}subtract(t){return Uh(this,t)}set(t){return bl(ga(this,t),t)}cycle(t,n,i){switch(t){case"era":case"year":case"month":case"day":return El(this,t,n,i);default:return qh(this,t,n,i)}}toDate(t,n){return Hh(this,t,n)}toString(){return zh(this)}compare(t){let n=Rh(this,t);return n===0?cC(this,_t(t)):n}constructor(...t){Il(this,LC,{writable:!0,value:void 0});let[n,i,r,s,a]=Cl(t);this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=a,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,ni(this)}},FC=new WeakMap,Yh=class pl{copy(){return this.era?new pl(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new pl(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return Wh(this,t)}subtract(t){return PC(this,t)}set(t,n){return TC(this,t,n)}cycle(t,n,i){return SC(this,t,n,i)}toDate(){return vC(this)}toString(){return NC(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-Bh(t,this.timeZone).toDate().getTime()}constructor(...t){Il(this,FC,{writable:!0,value:void 0});let[n,i,r,s,a]=Cl(t),o=t.shift(),l=t.shift();this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=a,this.timeZone=o,this.offset=l,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,ni(this)}},il=new Map,Ot=class{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} \u2013 ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...n.map(r=>y(g({},r),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(r=>y(g({},r),{source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return BC()&&(this.resolvedHourCycle||(this.resolvedHourCycle=_C(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=jh(e,t),this.options=t}},$C={true:{ja:"h11"},false:{}};rl=null;sl=null;KC=["sun","mon","tue","wed","thu","fri","sat"];JC=10;Sh=e=>e!=null&&e.length===4,nP=e=>e!=null&&parseFloat(e)<=12,iP=e=>e!=null&&parseFloat(e)<=31;sa="__live-region__";lP=U("date-picker").parts("clearTrigger","content","control","input","label","monthSelect","nextTrigger","positioner","presetTrigger","prevTrigger","rangeText","root","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","view","viewControl","viewTrigger","yearSelect"),ce=lP.build(),cP=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.label)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:label:${t}`},dP=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`datepicker:${e.id}`},uP=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.table)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:table:${t}`},fl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`datepicker:${e.id}:content`},al=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.cellTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:cell-trigger:${t}`},hP=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.prevTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:prev:${t}`},gP=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.nextTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:next:${t}`},pP=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.viewTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:view:${t}`},rg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`datepicker:${e.id}:clear`},sg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`datepicker:${e.id}:control`},Oh=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.input)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:input:${t}`},ag=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`datepicker:${e.id}:trigger`},og=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`datepicker:${e.id}:positioner`},lg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.monthSelect)!=null?n:`datepicker:${e.id}:month-select`},cg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.yearSelect)!=null?n:`datepicker:${e.id}:year-select`},wh=(e,t)=>Si(ua(e),`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`),aa=e=>e.getById(ag(e)),ua=e=>e.getById(fl(e)),Ar=e=>$e(dg(e),"[data-part=input]"),fP=e=>e.getById(cg(e)),mP=e=>e.getById(lg(e)),vP=e=>e.getById(rg(e)),yP=e=>e.getById(og(e)),dg=e=>e.getById(sg(e));EP={day:"dd",month:"mm",year:"yyyy"};ug=(e,t)=>e?/\d/.test(e)||e===t||e.length!==1:!0,Vh=e=>!Number.isNaN(e.day)&&!Number.isNaN(e.month)&&!Number.isNaN(e.year),CP=(e,t)=>e.split("").filter(n=>ug(n,t)).join("");SP={dayCell(e){return e.unavailable?`Not available. ${e.formattedDate}`:e.selected?`Selected date. ${e.formattedDate}`:`Choose ${e.formattedDate}`},trigger(e){return e?"Close calendar":"Open calendar"},viewTrigger(e){return Se(e,{year:"Switch to month view",month:"Switch to day view",day:"Switch to year view"})},presetTrigger(e){let[t="",n=""]=e;return`select ${t} to ${n}`},prevTrigger(e){return Se(e,{year:"Switch to previous decade",month:"Switch to previous year",day:"Switch to previous month"})},nextTrigger(e){return Se(e,{year:"Switch to next decade",month:"Switch to next year",day:"Switch to next month"})},placeholder(){return{day:"dd",month:"mm",year:"yyyy"}},content:"calendar",monthSelect:"Select month",yearSelect:"Select year",clearTrigger:"Clear selected dates",weekColumnHeader:"Wk",weekNumberCell(e){return`Week ${e}`}};xP=["day","month","year"];AP=Yn(e=>[e.view,e.startValue.toString(),e.endValue.toString(),e.locale],([e],t)=>{let{startValue:n,endValue:i,locale:r,timeZone:s,selectionMode:a}=t;if(e==="year"){let h=qi(n.year,{strict:!0}),m=h.at(0).toString(),u=h.at(-1).toString();return{start:m,end:u,formatted:`${m} - ${u}`}}if(e==="month"){let h=new Ot(r,{year:"numeric",timeZone:s}),m=h.format(n.toDate(s)),u=h.format(i.toDate(s)),p=a==="range"?`${m} - ${u}`:m;return{start:m,end:u,formatted:p}}let o=new Ot(r,{month:"long",year:"numeric",timeZone:s}),l=o.format(n.toDate(s)),c=o.format(i.toDate(s)),d=a==="range"?`${l} - ${c}`:l;return{start:l,end:c,formatted:d}});({and:je}=Ie());DP={props({props:e}){let t=e.locale||"en-US",n=e.timeZone||"UTC",i=e.selectionMode||"single",r=e.numOfMonths||1,s=e.defaultValue?oa(e.defaultValue).map(h=>ft(h,e.min,e.max)):void 0,a=e.value?oa(e.value).map(h=>ft(h,e.min,e.max)):void 0,o=e.focusedValue||e.defaultFocusedValue||(a==null?void 0:a[0])||(s==null?void 0:s[0])||Ui(n);o=ft(o,e.min,e.max);let l="day",c="year",d=Ol(e.view||l,l,c);return y(g({locale:t,numOfMonths:r,timeZone:n,selectionMode:i,defaultView:d,minView:l,maxView:c,outsideDaySelectable:!1,closeOnSelect:!0,format(h,{locale:m,timeZone:u}){return new Ot(m,{timeZone:u,day:"2-digit",month:"2-digit",year:"numeric"}).format(h.toDate(u))},parse(h,{locale:m,timeZone:u}){return rP(h,m,u)}},e),{focusedValue:typeof e.focusedValue=="undefined"?void 0:o,defaultFocusedValue:o,value:a,defaultValue:s!=null?s:[],positioning:g({placement:"bottom"},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},refs(){return{announcer:void 0}},context({prop:e,bindable:t,getContext:n}){return{focusedValue:t(()=>({defaultValue:e("defaultFocusedValue"),value:e("focusedValue"),isEqual:Xe,hash:i=>i.toString(),sync:!0,onChange(i){var l;let r=n(),s=r.get("view"),a=r.get("value"),o=la(a,e);(l=e("onFocusChange"))==null||l({value:a,valueAsString:o,view:s,focusedValue:i})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:RP,hash:i=>i.map(r=>{var s;return(s=r==null?void 0:r.toString())!=null?s:""}).join(","),onChange(i){var a;let r=n(),s=la(i,e);(a=e("onValueChange"))==null||a({value:i,valueAsString:s,view:r.get("view")})}})),inputValue:t(()=>({defaultValue:""})),activeIndex:t(()=>({defaultValue:0,sync:!0})),hoveredValue:t(()=>({defaultValue:null,isEqual:Xe})),view:t(()=>({defaultValue:e("defaultView"),value:e("view"),onChange(i){var r;(r=e("onViewChange"))==null||r({view:i})}})),startValue:t(()=>{let i=e("focusedValue")||e("defaultFocusedValue");return{defaultValue:Eh(i,"start",{months:e("numOfMonths")},e("locale")),isEqual:Xe,hash:r=>r.toString()}}),currentPlacement:t(()=>({defaultValue:void 0})),restoreFocus:t(()=>({defaultValue:!1}))}},computed:{isInteractive:({prop:e})=>!e("disabled")&&!e("readOnly"),visibleDuration:({prop:e})=>({months:e("numOfMonths")}),endValue:({context:e,computed:t})=>Xh(e.get("startValue"),t("visibleDuration")),visibleRange:({context:e,computed:t})=>({start:e.get("startValue"),end:t("endValue")}),visibleRangeText:({context:e,prop:t,computed:n})=>AP({view:e.get("view"),startValue:e.get("startValue"),endValue:n("endValue"),locale:t("locale"),timeZone:t("timeZone"),selectionMode:t("selectionMode")}),isPrevVisibleRangeValid:({context:e,prop:t})=>!UC(e.get("startValue"),t("min"),t("max")),isNextVisibleRangeValid:({prop:e,computed:t})=>!qC(t("endValue"),e("min"),e("max")),valueAsString:({context:e,prop:t})=>la(e.get("value"),t)},effects:["setupLiveRegion"],watch({track:e,prop:t,context:n,action:i,computed:r}){e([()=>t("locale")],()=>{i(["setStartValue","syncInputElement"])}),e([()=>n.hash("focusedValue")],()=>{i(["setStartValue","focusActiveCellIfNeeded","setHoveredValueIfKeyboard"])}),e([()=>n.hash("startValue")],()=>{i(["syncMonthSelectElement","syncYearSelectElement","invokeOnVisibleRangeChange"])}),e([()=>n.get("inputValue")],()=>{i(["syncInputValue"])}),e([()=>n.hash("value")],()=>{i(["syncInputElement"])}),e([()=>r("valueAsString").toString()],()=>{i(["announceValueText"])}),e([()=>n.get("view")],()=>{i(["focusActiveCell"])}),e([()=>t("open")],()=>{i(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setDateValue","setFocusedDate"]},"VIEW.SET":{actions:["setView"]},"FOCUS.SET":{actions:["setFocusedDate"]},"VALUE.CLEAR":{actions:["clearDateValue","clearFocusedDate","focusFirstInputElement"]},"INPUT.CHANGE":[{guard:"isInputValueEmpty",actions:["setInputValue","clearDateValue","clearFocusedDate"]},{actions:["setInputValue","focusParsedDate"]}],"INPUT.ENTER":{actions:["focusParsedDate","selectFocusedDate"]},"INPUT.FOCUS":{actions:["setActiveIndex"]},"INPUT.BLUR":[{guard:"shouldFixOnBlur",actions:["setActiveIndexToStart","selectParsedDate"]},{actions:["setActiveIndexToStart"]}],"PRESET.CLICK":[{guard:"isOpenControlled",actions:["setDateValue","setFocusedDate","invokeOnClose"]},{target:"focused",actions:["setDateValue","setFocusedDate","focusInputElement"]}],"GOTO.NEXT":[{guard:"isYearView",actions:["focusNextDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusNextYear","announceVisibleRange"]},{actions:["focusNextPage"]}],"GOTO.PREV":[{guard:"isYearView",actions:["focusPreviousDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusPreviousYear","announceVisibleRange"]},{actions:["focusPreviousPage"]}]},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],exit:["clearHoveredDate","resetView"],on:{"CONTROLLED.CLOSE":[{guard:je("shouldRestoreFocus","isInteractOutsideEvent"),target:"focused",actions:["focusTriggerElement"]},{guard:"shouldRestoreFocus",target:"focused",actions:["focusInputElement"]},{target:"idle"}],"CELL.CLICK":[{guard:"isAboveMinView",actions:["setFocusedValueForView","setPreviousView"]},{guard:je("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","resetSelection","setActiveIndexToEnd"]},{guard:je("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","setRestoreFocus"]},{guard:je("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:je("isRangePicker","isSelectingEndDate"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setFocusedDate","setSelectedDate","setActiveIndexToEnd"]},{guard:je("isMultiPicker","canSelectDate"),actions:["setFocusedDate","toggleSelectedDate"]},{guard:"isMultiPicker",actions:["setFocusedDate"]},{guard:je("closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setFocusedDate","setSelectedDate","invokeOnClose","focusInputElement"]},{actions:["setFocusedDate","setSelectedDate"]}],"CELL.POINTER_MOVE":{guard:je("isRangePicker","isSelectingEndDate"),actions:["setHoveredDate","setFocusedDate"]},"TABLE.POINTER_LEAVE":{guard:"isRangePicker",actions:["clearHoveredDate"]},"TABLE.POINTER_DOWN":{actions:["disableTextSelection"]},"TABLE.POINTER_UP":{actions:["enableTextSelection"]},"TABLE.ESCAPE":[{guard:"isOpenControlled",actions:["focusFirstSelectedDate","invokeOnClose"]},{target:"focused",actions:["focusFirstSelectedDate","invokeOnClose","focusTriggerElement"]}],"TABLE.ENTER":[{guard:"isAboveMinView",actions:["setPreviousView"]},{guard:je("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","clearDateValue","setSelectedDate","setActiveIndexToEnd"]},{guard:je("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose"]},{guard:je("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:je("isRangePicker","isSelectingEndDate"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setSelectedDate","setActiveIndexToEnd","focusNextDay"]},{guard:je("isMultiPicker","canSelectDate"),actions:["toggleSelectedDate"]},{guard:"isMultiPicker"},{guard:je("closeOnSelect","isOpenControlled"),actions:["selectFocusedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectFocusedDate","invokeOnClose","focusInputElement"]},{actions:["selectFocusedDate"]}],"TABLE.ARROW_RIGHT":[{guard:"isMonthView",actions:["focusNextMonth"]},{guard:"isYearView",actions:["focusNextYear"]},{actions:["focusNextDay","setHoveredDate"]}],"TABLE.ARROW_LEFT":[{guard:"isMonthView",actions:["focusPreviousMonth"]},{guard:"isYearView",actions:["focusPreviousYear"]},{actions:["focusPreviousDay"]}],"TABLE.ARROW_UP":[{guard:"isMonthView",actions:["focusPreviousMonthColumn"]},{guard:"isYearView",actions:["focusPreviousYearColumn"]},{actions:["focusPreviousWeek"]}],"TABLE.ARROW_DOWN":[{guard:"isMonthView",actions:["focusNextMonthColumn"]},{guard:"isYearView",actions:["focusNextYearColumn"]},{actions:["focusNextWeek"]}],"TABLE.PAGE_UP":{actions:["focusPreviousSection"]},"TABLE.PAGE_DOWN":{actions:["focusNextSection"]},"TABLE.HOME":[{guard:"isMonthView",actions:["focusFirstMonth"]},{guard:"isYearView",actions:["focusFirstYear"]},{actions:["focusSectionStart"]}],"TABLE.END":[{guard:"isMonthView",actions:["focusLastMonth"]},{guard:"isYearView",actions:["focusLastYear"]},{actions:["focusSectionEnd"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"VIEW.TOGGLE":{actions:["setNextView"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["setActiveIndexToStart","invokeOnClose","focusTriggerElement"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}]}}},implementations:{guards:{isAboveMinView:({context:e,prop:t})=>TP(e.get("view"),t("minView")),isDayView:({context:e,event:t})=>(t.view||e.get("view"))==="day",isMonthView:({context:e,event:t})=>(t.view||e.get("view"))==="month",isYearView:({context:e,event:t})=>(t.view||e.get("view"))==="year",isRangePicker:({prop:e})=>e("selectionMode")==="range",hasSelectedRange:({context:e})=>e.get("value").length===2,isMultiPicker:({prop:e})=>e("selectionMode")==="multiple",canSelectDate:({context:e,prop:t,event:n})=>{var o;let i=t("maxSelectedDates");if(i==null)return!0;let r=e.get("value"),s=(o=n.value)!=null?o:e.get("focusedValue");return r.some(l=>Xe(l,s))?!0:r.length<i},shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus"),isSelectingEndDate:({context:e})=>e.get("activeIndex")===1,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),isInteractOutsideEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INTERACT_OUTSIDE"},isInputValueEmpty:({event:e})=>e.value.trim()==="",shouldFixOnBlur:({event:e})=>!!e.fixOnBlur},effects:{trackPositioning({context:e,prop:t,scope:n}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);let i=dg(n);return Tt(i,()=>yP(n),y(g({},t("positioning")),{defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}}))},setupLiveRegion({scope:e,refs:t}){let n=e.getDoc();return t.set("announcer",oP({level:"assertive",document:n})),()=>{var i,r;return(r=(i=t.get("announcer"))==null?void 0:i.destroy)==null?void 0:r.call(i)}},trackDismissableElement({scope:e,send:t,context:n,prop:i}){return i("inline")?void 0:Ht(()=>ua(e),{type:"popover",defer:!0,exclude:[...Ar(e),aa(e),vP(e)],onInteractOutside(s){n.set("restoreFocus",!s.detail.focusable)},onDismiss(){t({type:"INTERACT_OUTSIDE"})},onEscapeKeyDown(s){s.preventDefault(),t({type:"TABLE.ESCAPE",src:"dismissable"})}})}},actions:{setNextView({context:e,prop:t}){let n=wP(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setPreviousView({context:e,prop:t}){let n=VP(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setView({context:e,event:t}){e.set("view",t.view)},setRestoreFocus({context:e}){e.set("restoreFocus",!0)},announceValueText({context:e,prop:t,refs:n}){var o;let i=e.get("value"),r=t("locale"),s=t("timeZone"),a;if(t("selectionMode")==="range"){let[l,c]=i;l&&c?a=ra(l,c,r,s):l?a=ra(l,null,r,s):c?a=ra(c,null,r,s):a=""}else a=i.map(l=>ra(l,null,r,s)).filter(Boolean).join(",");(o=n.get("announcer"))==null||o.announce(a,3e3)},announceVisibleRange({computed:e,refs:t}){var i;let{formatted:n}=e("visibleRangeText");(i=t.get("announcer"))==null||i.announce(n)},disableTextSelection({scope:e}){go({target:ua(e),doc:e.getDoc()})},enableTextSelection({scope:e}){ho({doc:e.getDoc(),target:ua(e)})},focusFirstSelectedDate(e){let{context:t}=e;t.get("value").length&&ye(e,t.get("value")[0])},syncInputElement({scope:e,computed:t}){H(()=>{Ar(e).forEach((i,r)=>{Fe(i,t("valueAsString")[r]||"")})})},setFocusedDate(e){let{event:t}=e,n=Array.isArray(t.value)?t.value[0]:t.value;ye(e,n)},setFocusedValueForView(e){let{context:t,event:n}=e;ye(e,t.get("focusedValue").set({[t.get("view")]:n.value}))},focusNextMonth(e){let{context:t}=e;ye(e,t.get("focusedValue").add({months:1}))},focusPreviousMonth(e){let{context:t}=e;ye(e,t.get("focusedValue").subtract({months:1}))},setDateValue({context:e,event:t,prop:n}){if(!Array.isArray(t.value))return;let i=t.value.map(r=>ft(r,n("min"),n("max")));e.set("value",i)},clearDateValue({context:e}){e.set("value",[])},setSelectedDate(e){var o;let{context:t,event:n}=e,i=Array.from(t.get("value")),r=t.get("activeIndex"),s=i[r],a=ha(e,(o=n.value)!=null?o:t.get("focusedValue"));i[r]=ol(s,a),t.set("value",ml(i))},resetSelection(e){var s;let{context:t,event:n}=e,i=t.get("value")[0],r=ha(e,(s=n.value)!=null?s:t.get("focusedValue"));t.set("value",[ol(i,r)])},toggleSelectedDate(e){var a;let{context:t,event:n}=e,i=ha(e,(a=n.value)!=null?a:t.get("focusedValue")),r=t.get("value"),s=r.findIndex(o=>Xe(o,i));if(s===-1){let o=[...r,i];t.set("value",oa(o))}else{let o=Array.from(r);o.splice(s,1),t.set("value",oa(o))}},setHoveredDate({context:e,event:t}){e.set("hoveredValue",t.value)},clearHoveredDate({context:e}){e.set("hoveredValue",null)},selectFocusedDate({context:e,computed:t}){let n=Array.from(e.get("value")),i=e.get("activeIndex"),r=n[i],s=e.get("focusedValue").copy();n[i]=ol(r,s),e.set("value",ml(n));let a=t("valueAsString");e.set("inputValue",a[i])},focusPreviousDay(e){let{context:t}=e,n=t.get("focusedValue").subtract({days:1});ye(e,n)},focusNextDay(e){let{context:t}=e,n=t.get("focusedValue").add({days:1});ye(e,n)},focusPreviousWeek(e){let{context:t}=e,n=t.get("focusedValue").subtract({weeks:1});ye(e,n)},focusNextWeek(e){let{context:t}=e,n=t.get("focusedValue").add({weeks:1});ye(e,n)},focusNextPage(e){let{context:t,computed:n,prop:i}=e,r=ng(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),i("locale"),i("min"),i("max"));ca(e,r)},focusPreviousPage(e){let{context:t,computed:n,prop:i}=e,r=ig(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),i("locale"),i("min"),i("max"));ca(e,r)},focusSectionStart(e){let{context:t}=e;ye(e,t.get("startValue").copy())},focusSectionEnd(e){let{computed:t}=e;ye(e,t("endValue").copy())},focusNextSection(e){let{context:t,event:n,computed:i,prop:r}=e,s=eP(t.get("focusedValue"),t.get("startValue"),n.larger,i("visibleDuration"),r("locale"),r("min"),r("max"));s&&ca(e,s)},focusPreviousSection(e){let{context:t,event:n,computed:i,prop:r}=e,s=tP(t.get("focusedValue"),t.get("startValue"),n.larger,i("visibleDuration"),r("locale"),r("min"),r("max"));s&&ca(e,s)},focusNextYear(e){let{context:t}=e,n=t.get("focusedValue").add({years:1});ye(e,n)},focusPreviousYear(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:1});ye(e,n)},focusNextDecade(e){let{context:t}=e,n=t.get("focusedValue").add({years:10});ye(e,n)},focusPreviousDecade(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:10});ye(e,n)},clearFocusedDate(e){let{prop:t}=e;ye(e,Ui(t("timeZone")))},focusPreviousMonthColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").subtract({months:n.columns});ye(e,i)},focusNextMonthColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").add({months:n.columns});ye(e,i)},focusPreviousYearColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").subtract({years:n.columns});ye(e,i)},focusNextYearColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").add({years:n.columns});ye(e,i)},focusFirstMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:1});ye(e,n)},focusLastMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:12});ye(e,n)},focusFirstYear(e){let{context:t}=e,n=qi(t.get("focusedValue").year),i=t.get("focusedValue").set({year:n[0]});ye(e,i)},focusLastYear(e){let{context:t}=e,n=qi(t.get("focusedValue").year),i=t.get("focusedValue").set({year:n[n.length-1]});ye(e,i)},setActiveIndex({context:e,event:t}){e.set("activeIndex",t.index)},setActiveIndexToEnd({context:e}){e.set("activeIndex",1)},setActiveIndexToStart({context:e}){e.set("activeIndex",0)},focusActiveCell({scope:e,context:t,event:n}){n.src!=="input.click"&&H(()=>{var r;let i=t.get("view");(r=wh(e,i))==null||r.focus({preventScroll:!0})})},focusActiveCellIfNeeded({scope:e,context:t,event:n}){n.focus&&H(()=>{var r;let i=t.get("view");(r=wh(e,i))==null||r.focus({preventScroll:!0})})},setHoveredValueIfKeyboard({context:e,event:t,prop:n}){!t.type.startsWith("TABLE.ARROW")||n("selectionMode")!=="range"||e.get("activeIndex")===0||e.set("hoveredValue",e.get("focusedValue").copy())},focusTriggerElement({scope:e}){H(()=>{var t;(t=aa(e))==null||t.focus({preventScroll:!0})})},focusFirstInputElement({scope:e,event:t}){t.focus!==!1&&H(()=>{let[n]=Ar(e),i=n!=null?n:aa(e);i==null||i.focus({preventScroll:!0})})},focusInputElement({scope:e}){H(()=>{var s;let t=Ar(e);if(t.length===0){(s=aa(e))==null||s.focus({preventScroll:!0});return}let n=t.findLastIndex(a=>a.value!==""),i=Math.max(n,0),r=t[i];r==null||r.focus({preventScroll:!0}),r==null||r.setSelectionRange(r.value.length,r.value.length)})},syncMonthSelectElement({scope:e,context:t}){let n=mP(e);Fe(n,t.get("startValue").month.toString())},syncYearSelectElement({scope:e,context:t}){let n=fP(e);Fe(n,t.get("startValue").year.toString())},setInputValue({context:e,event:t}){e.get("activeIndex")===t.index&&e.set("inputValue",t.value)},syncInputValue({scope:e,context:t,event:n}){queueMicrotask(()=>{var s;let i=Ar(e),r=(s=n.index)!=null?s:t.get("activeIndex");Fe(i[r],t.get("inputValue"))})},focusParsedDate(e){let{event:t,prop:n}=e;if(t.index==null)return;let r=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});!r||!Vh(r)||ye(e,r)},selectParsedDate({context:e,event:t,prop:n}){if(t.index==null)return;let r=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});if((!r||!Vh(r))&&t.value&&(r=e.get("focusedValue").copy()),!r)return;r=ft(r,n("min"),n("max"));let s=Array.from(e.get("value"));s[t.index]=r,e.set("value",s);let a=la(s,n);e.set("inputValue",a[t.index])},resetView({context:e}){e.set("view",e.initial("view"))},setStartValue({context:e,computed:t,prop:n}){let i=e.get("focusedValue");if(!Bt(i,e.get("startValue"),t("endValue")))return;let s=Eh(i,"start",{months:n("numOfMonths")},n("locale"));e.set("startValue",s)},invokeOnOpen({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},invokeOnVisibleRangeChange({prop:e,context:t,computed:n}){var i;(i=e("onVisibleRangeChange"))==null||i({view:t.get("view"),visibleRange:n("visibleRange")})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}},ha=(e,t)=>{let{context:n,prop:i}=e,r=n.get("view"),s=typeof t=="number"?n.get("focusedValue").set({[r]:t}):t;return kP(a=>{OP(a,i("minView"))&&(s=s.set({[a]:a==="day"?1:0}))}),s},ol=(e,t)=>{if(!e||!("hour"in e))return t;let n="timeZone"in e,i=t;return"hour"in t||(n?i=Bh(_t(t),e.timeZone):i=_t(t)),i.set({hour:e.hour,minute:e.minute,second:e.second,millisecond:e.millisecond})};LP=G()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","parse","placeholder","getRootNode","id","ids","inline","invalid","isDateUnavailable","locale","max","maxSelectedDates","min","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","onVisibleRangeChange","open","openOnClick","defaultOpen","positioning","readOnly","required","selectionMode","showWeekNumbers","startOfWeek","timeZone","translations","value","defaultView","defaultValue","view","defaultFocusedValue","outsideDaySelectable","minView","maxView"]),Dx=_(LP),MP=G()(["index","fixOnBlur"]),Lx=_(MP),FP=G()(["value"]),Mx=_(FP),$P=G()(["columns","id","view"]),Fx=_($P),HP=G()(["disabled","value","columns"]),$x=_(HP),BP=G()(["view"]),Hx=_(BP),_P=class extends K{constructor(){super(...arguments);Y(this,"getDayView",()=>this.el.querySelector('[data-part="day-view"]'));Y(this,"getMonthView",()=>this.el.querySelector('[data-part="month-view"]'));Y(this,"getYearView",()=>this.el.querySelector('[data-part="year-view"]'));Y(this,"renderDayTableHeader",()=>{let t=this.getDayView(),n=t==null?void 0:t.querySelector("thead");if(!n||!this.api.weekDays)return;let i=this.doc.createElement("tr");this.spreadProps(i,this.api.getTableRowProps({view:"day"})),this.api.weekDays.forEach(r=>{let s=this.doc.createElement("th");s.scope="col",s.setAttribute("aria-label",r.long),s.textContent=r.narrow,i.appendChild(s)}),n.innerHTML="",n.appendChild(i)});Y(this,"renderDayTableBody",()=>{let t=this.getDayView(),n=t==null?void 0:t.querySelector("tbody");n&&(this.spreadProps(n,this.api.getTableBodyProps({view:"day"})),this.api.weeks&&(n.innerHTML="",this.api.weeks.forEach(i=>{let r=this.doc.createElement("tr");this.spreadProps(r,this.api.getTableRowProps({view:"day"})),i.forEach(s=>{let a=this.doc.createElement("td");this.spreadProps(a,this.api.getDayTableCellProps({value:s}));let o=this.doc.createElement("div");this.spreadProps(o,this.api.getDayTableCellTriggerProps({value:s})),o.textContent=String(s.day),a.appendChild(o),r.appendChild(a)}),n.appendChild(r)})))});Y(this,"renderMonthTableBody",()=>{let t=this.getMonthView(),n=t==null?void 0:t.querySelector("tbody");if(!n)return;this.spreadProps(n,this.api.getTableBodyProps({view:"month"}));let i=this.api.getMonthsGrid({columns:4,format:"short"});n.innerHTML="",i.forEach(r=>{let s=this.doc.createElement("tr");this.spreadProps(s,this.api.getTableRowProps()),r.forEach(a=>{let o=this.doc.createElement("td");this.spreadProps(o,this.api.getMonthTableCellProps(y(g({},a),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getMonthTableCellTriggerProps(y(g({},a),{columns:4}))),l.textContent=a.label,o.appendChild(l),s.appendChild(o)}),n.appendChild(s)})});Y(this,"renderYearTableBody",()=>{let t=this.getYearView(),n=t==null?void 0:t.querySelector("tbody");if(!n)return;this.spreadProps(n,this.api.getTableBodyProps());let i=this.api.getYearsGrid({columns:4});n.innerHTML="",i.forEach(r=>{let s=this.doc.createElement("tr");this.spreadProps(s,this.api.getTableRowProps({view:"year"})),r.forEach(a=>{let o=this.doc.createElement("td");this.spreadProps(o,this.api.getYearTableCellProps(y(g({},a),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getYearTableCellTriggerProps(y(g({},a),{columns:4}))),l.textContent=a.label,o.appendChild(l),s.appendChild(o)}),n.appendChild(s)})})}initMachine(t){return new W(DP,t)}initApi(){return NP(this.machine.service,q)}render(){let t=this.el.querySelector('[data-scope="date-picker"][data-part="root"]');t&&this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="date-picker"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="date-picker"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="date-picker"][data-part="input"]');r&&this.spreadProps(r,this.api.getInputProps());let s=this.el.querySelector('[data-scope="date-picker"][data-part="trigger"]');s&&this.spreadProps(s,this.api.getTriggerProps());let a=this.el.querySelector('[data-scope="date-picker"][data-part="positioner"]');a&&this.spreadProps(a,this.api.getPositionerProps());let o=this.el.querySelector('[data-scope="date-picker"][data-part="content"]');if(o&&this.spreadProps(o,this.api.getContentProps()),this.api.open){let l=this.getDayView(),c=this.getMonthView(),d=this.getYearView();if(l&&(l.hidden=this.api.view!=="day"),c&&(c.hidden=this.api.view!=="month"),d&&(d.hidden=this.api.view!=="year"),this.api.view==="day"&&l){let h=l.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"year"}));let m=l.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps());let u=l.querySelector('[data-part="view-trigger"]');u&&(this.spreadProps(u,this.api.getViewTriggerProps()),u.textContent=this.api.visibleRangeText.start);let p=l.querySelector('[data-part="next-trigger"]');p&&this.spreadProps(p,this.api.getNextTriggerProps());let v=l.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"day"}));let I=l.querySelector("thead");I&&this.spreadProps(I,this.api.getTableHeaderProps({view:"day"})),this.renderDayTableHeader(),this.renderDayTableBody()}else if(this.api.view==="month"&&c){let h=c.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"month"}));let m=c.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps({view:"month"}));let u=c.querySelector('[data-part="view-trigger"]');u&&(this.spreadProps(u,this.api.getViewTriggerProps({view:"month"})),u.textContent=String(this.api.visibleRange.start.year));let p=c.querySelector('[data-part="next-trigger"]');p&&this.spreadProps(p,this.api.getNextTriggerProps({view:"month"}));let v=c.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"month",columns:4})),this.renderMonthTableBody()}else if(this.api.view==="year"&&d){let h=d.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"year"}));let m=d.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps({view:"year"}));let u=d.querySelector('[data-part="decade"]');if(u){let I=this.api.getDecade();u.textContent=`${I.start} - ${I.end}`}let p=d.querySelector('[data-part="next-trigger"]');p&&this.spreadProps(p,this.api.getNextTriggerProps({view:"year"}));let v=d.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"year",columns:4})),this.renderYearTableBody()}}}};GP={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,i=O(e,"min"),r=O(e,"max"),s=O(e,"positioning"),a=d=>d?d.map(h=>pt(h)):void 0,o=d=>d?pt(d):void 0,l=new _P(e,y(g({id:e.id},P(e,"controlled")?{value:a(J(e,"value"))}:{defaultValue:a(J(e,"defaultValue"))}),{defaultFocusedValue:o(O(e,"focusedValue")),defaultView:O(e,"defaultView",["day","month","year"]),dir:O(e,"dir",["ltr","rtl"]),locale:O(e,"locale"),timeZone:O(e,"timeZone"),disabled:P(e,"disabled"),readOnly:P(e,"readOnly"),required:P(e,"required"),invalid:P(e,"invalid"),outsideDaySelectable:P(e,"outsideDaySelectable"),closeOnSelect:P(e,"closeOnSelect"),min:i?pt(i):void 0,max:r?pt(r):void 0,numOfMonths:z(e,"numOfMonths"),startOfWeek:z(e,"startOfWeek"),fixedWeeks:P(e,"fixedWeeks"),selectionMode:O(e,"selectionMode",["single","multiple","range"]),placeholder:O(e,"placeholder"),minView:O(e,"minView",["day","month","year"]),maxView:O(e,"maxView",["day","month","year"]),inline:P(e,"inline"),positioning:s?JSON.parse(s):void 0,onValueChange:d=>{var p;let h=(p=d.value)!=null&&p.length?d.value.map(v=>xh(v)).join(","):"",m=e.querySelector(`#${e.id}-value`);m&&m.value!==h&&(m.value=h,m.dispatchEvent(new Event("input",{bubbles:!0})),m.dispatchEvent(new Event("change",{bubbles:!0})));let u=O(e,"onValueChange");u&&n.main.isConnected()&&t(u,{id:e.id,value:h||null})},onFocusChange:d=>{var m;let h=O(e,"onFocusChange");h&&n.main.isConnected()&&t(h,{id:e.id,focused:(m=d.focused)!=null?m:!1})},onViewChange:d=>{let h=O(e,"onViewChange");h&&n.main.isConnected()&&t(h,{id:e.id,view:d.view})},onVisibleRangeChange:d=>{let h=O(e,"onVisibleRangeChange");h&&n.main.isConnected()&&t(h,{id:e.id,start:d.start,end:d.end})},onOpenChange:d=>{let h=O(e,"onOpenChange");h&&n.main.isConnected()&&t(h,{id:e.id,open:d.open})}}));l.init(),this.datePicker=l;let c=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');c&&c.removeAttribute("data-loading"),this.handlers=[],this.handlers.push(this.handleEvent("date_picker_set_value",d=>{let h=d.date_picker_id;h&&h!==e.id||l.api.setValue([pt(d.value)])})),this.onSetValue=d=>{var m;let h=(m=d.detail)==null?void 0:m.value;typeof h=="string"&&l.api.setValue([pt(h)])},e.addEventListener("phx:date-picker:set-value",this.onSetValue)},updated(){var l,c;let e=this.el,t=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');t&&t.removeAttribute("data-loading");let n=d=>d?d.map(h=>pt(h)):void 0,i=O(e,"min"),r=O(e,"max"),s=O(e,"positioning"),a=P(e,"controlled"),o=O(e,"focusedValue");if((l=this.datePicker)==null||l.updateProps(y(g({},P(e,"controlled")?{value:n(J(e,"value"))}:{defaultValue:n(J(e,"defaultValue"))}),{defaultFocusedValue:o?pt(o):void 0,defaultView:O(e,"defaultView",["day","month","year"]),dir:O(this.el,"dir",["ltr","rtl"]),locale:O(this.el,"locale"),timeZone:O(this.el,"timeZone"),disabled:P(this.el,"disabled"),readOnly:P(this.el,"readOnly"),required:P(this.el,"required"),invalid:P(this.el,"invalid"),outsideDaySelectable:P(this.el,"outsideDaySelectable"),closeOnSelect:P(this.el,"closeOnSelect"),min:i?pt(i):void 0,max:r?pt(r):void 0,numOfMonths:z(this.el,"numOfMonths"),startOfWeek:z(this.el,"startOfWeek"),fixedWeeks:P(this.el,"fixedWeeks"),selectionMode:O(this.el,"selectionMode",["single","multiple","range"]),placeholder:O(this.el,"placeholder"),minView:O(this.el,"minView",["day","month","year"]),maxView:O(this.el,"maxView",["day","month","year"]),inline:P(this.el,"inline"),positioning:s?JSON.parse(s):void 0})),a&&this.datePicker){let d=J(e,"value"),h=(c=d==null?void 0:d.join(","))!=null?c:"",m=this.datePicker.api.value,u=m!=null&&m.length?m.map(p=>xh(p)).join(","):"";if(h!==u){let p=d!=null&&d.length?d.map(v=>pt(v)):[];this.datePicker.api.setValue(p)}}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:date-picker:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.datePicker)==null||e.destroy()}}});var Cg={};ge(Cg,{Dialog:()=>bS});function XP(e,t={}){let{defer:n=!0}=t,i=n?jP:s=>s(),r=[];return r.push(i(()=>{let a=(typeof e=="function"?e():e).filter(Boolean);a.length!==0&&r.push(YP(a))})),()=>{r.forEach(s=>s==null?void 0:s())}}function sS(e,t={}){let n,i=H(()=>{let s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o():o).filter(o=>o!=null);if(s.length===0)return;let a=s[0];n=new eS(s,y(g({escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:a},t),{document:Re(a)}));try{n.activate()}catch(o){}});return function(){n==null||n.deactivate(),i()}}function aS(e){let t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function mg(e){let t=lt(e),n=t==null?void 0:t.scrollbarGutter;return n==="stable"||(n==null?void 0:n.startsWith("stable "))===!0}function oS(e){var u;let t=e!=null?e:document,n=(u=t.defaultView)!=null?u:window,{documentElement:i,body:r}=t;if(r.hasAttribute(xl))return;let a=mg(i)||mg(r),o=n.innerWidth-i.clientWidth;r.setAttribute(xl,"");let l=()=>Zc(i,"--scrollbar-width",`${o}px`),c=aS(i),d=()=>{let p={overflow:"hidden"};return!a&&o>0&&(p[c]=`${o}px`),zn(r,p)},h=()=>{var S,C;let{scrollX:p,scrollY:v,visualViewport:I}=n,T=(S=I==null?void 0:I.offsetLeft)!=null?S:0,w=(C=I==null?void 0:I.offsetTop)!=null?C:0,b={position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(w))}px`,left:`${-(p-Math.floor(T))}px`,right:"0"};!a&&o>0&&(b[c]=`${o}px`);let f=zn(r,b);return()=>{f==null||f(),n.scrollTo({left:p,top:v,behavior:"instant"})}},m=[l(),dr()?h():d()];return()=>{m.forEach(p=>p==null?void 0:p()),r.removeAttribute(xl)}}function fS(e,t){let{state:n,send:i,context:r,prop:s,scope:a}=e,o=s("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&i({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button(y(g({},si.trigger.attrs),{dir:s("dir"),id:Eg(a),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":kl(a),onClick(c){c.defaultPrevented||i({type:"TOGGLE"})}}))},getBackdropProps(){return t.element(y(g({},si.backdrop.attrs),{dir:s("dir"),hidden:!l,id:bg(a),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(g({},si.positioner.attrs),{dir:s("dir"),id:yg(a),style:{pointerEvents:l?void 0:"none"}}))},getContentProps(){let c=r.get("rendered");return t.element(y(g({},si.content.attrs),{dir:s("dir"),role:s("role"),hidden:!l,id:kl(a),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":o||void 0,"aria-labelledby":o||!c.title?void 0:Al(a),"aria-describedby":c.description?Nl(a):void 0}))},getTitleProps(){return t.element(y(g({},si.title.attrs),{dir:s("dir"),id:Al(a)}))},getDescriptionProps(){return t.element(y(g({},si.description.attrs),{dir:s("dir"),id:Nl(a)}))},getCloseTriggerProps(){return t.button(y(g({},si.closeTrigger.attrs),{dir:s("dir"),id:Ig(a),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),i({type:"CLOSE"}))}}))}}}var Yi,va,ya,wl,vg,UP,qP,WP,KP,zP,YP,jP,ZP,JP,Ee,pg,QP,eS,Rl,Vl,tS,nS,Lr,iS,fg,rS,xl,lS,si,yg,bg,kl,Eg,Al,Nl,Ig,ba,cS,dS,uS,hS,gS,pS,mS,vS,zx,yS,bS,Pg=re(()=>{"use strict";Qn();rn();ae();Yi=new WeakMap,va=new WeakMap,ya={},wl=0,vg=e=>e&&(e.host||vg(e.parentNode)),UP=(e,t)=>t.map(n=>{if(e.contains(n))return n;let i=vg(n);return i&&e.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),qP=new Set(["script","output","status","next-route-announcer"]),WP=e=>qP.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),KP=(e,t)=>{let{parentNode:n,markerName:i,controlAttribute:r,followControlledElements:s=!0}=t,a=UP(n,Array.isArray(e)?e:[e]);ya[i]||(ya[i]=new WeakMap);let o=ya[i],l=[],c=new Set,d=new Set(a),h=u=>{!u||c.has(u)||(c.add(u),h(u.parentNode))};a.forEach(u=>{h(u),s&&de(u)&&ro(u,p=>{h(p)})});let m=u=>{!u||d.has(u)||Array.prototype.forEach.call(u.children,p=>{if(c.has(p))m(p);else try{if(WP(p))return;let I=p.getAttribute(r)==="true",T=(Yi.get(p)||0)+1,w=(o.get(p)||0)+1;Yi.set(p,T),o.set(p,w),l.push(p),T===1&&I&&va.set(p,!0),w===1&&p.setAttribute(i,""),I||p.setAttribute(r,"true")}catch(v){console.error("[zag-js > ariaHidden] cannot operate on ",p,v)}})};return m(n),c.clear(),wl++,()=>{l.forEach(u=>{let p=Yi.get(u)-1,v=o.get(u)-1;Yi.set(u,p),o.set(u,v),p||(va.has(u)||u.removeAttribute(r),va.delete(u)),v||u.removeAttribute(i)}),wl--,wl||(Yi=new WeakMap,Yi=new WeakMap,va=new WeakMap,ya={})}},zP=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,YP=(e,t=zP(e),n="data-aria-hidden",i=!0)=>{if(t)return KP(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:i})},jP=e=>{let t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};ZP=Object.defineProperty,JP=(e,t,n)=>t in e?ZP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ee=(e,t,n)=>JP(e,typeof t!="symbol"?t+"":t,n),pg={activateTrap(e,t){if(e.length>0){let i=e[e.length-1];i!==t&&i.pause()}let n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){let n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},QP=[],eS=class{constructor(e,t){Ee(this,"trapStack"),Ee(this,"config"),Ee(this,"doc"),Ee(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Ee(this,"portalContainers",new Set),Ee(this,"listenerCleanups",[]),Ee(this,"handleFocus",i=>{let r=j(i),s=this.findContainerIndex(r,i)>=0;if(s||cr(r))s&&(this.state.mostRecentlyFocusedNode=r);else{i.stopImmediatePropagation();let a,o=!0;if(this.state.mostRecentlyFocusedNode)if(Ci(this.state.mostRecentlyFocusedNode)>0){let l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){let d=c.findIndex(h=>h===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<c.length&&(a=c[d+1],o=!1):d-1>=0&&(a=c[d-1],o=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>Ci(c)>0))||(o=!1);else o=!1;o&&(a=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),a?this.tryFocus(a):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Ee(this,"handlePointerDown",i=>{let r=j(i);if(!(this.findContainerIndex(r,i)>=0)){if(Lr(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}Lr(this.config.allowOutsideClick,i)||i.preventDefault()}}),Ee(this,"handleClick",i=>{let r=j(i);this.findContainerIndex(r,i)>=0||Lr(this.config.clickOutsideDeactivates,i)||Lr(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),Ee(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;let r=this.config.isKeyBackward(i),s=this.findNextNavNode({event:i,isBackward:r});if(!s)return;Vl(i)&&i.preventDefault(),this.tryFocus(s)}}),Ee(this,"handleEscapeKey",i=>{iS(i)&&Lr(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),Ee(this,"_mutationObserver"),Ee(this,"setupMutationObserver",()=>{let i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(r=>{r.some(o=>Array.from(o.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),r.some(o=>o.type==="attributes"&&(o.attributeName==="aria-controls"||o.attributeName==="aria-expanded")?!0:o.type==="childList"&&o.addedNodes.length>0?Array.from(o.addedNodes).some(l=>{if(l.nodeType!==Node.ELEMENT_NODE)return!1;let c=l;return Dc(c)?!0:c.id&&!this.state.containers.some(d=>d.contains(c))?Lc(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),Ee(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(r=>{var s;(s=this._mutationObserver)==null||s.observe(r,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(r=>{this.observePortalContainer(r)}))}),Ee(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Je(i)){let r=pn(this.doc);if(r&&this.findContainerIndex(r)>=0)i=r;else{let s=this.state.tabbableGroups[0];i=s&&s.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),Ee(this,"tryFocus",i=>{if(i!==!1&&i!==pn(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,rS(i)&&i.select()}}),Ee(this,"deactivate",i=>{if(!this.state.active)return this;let r=g({onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus},i);clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),pg.deactivateTrap(this.trapStack,this),this.portalContainers.clear();let s=this.getOption(r,"onDeactivate"),a=this.getOption(r,"onPostDeactivate"),o=this.getOption(r,"checkCanReturnFocus"),l=this.getOption(r,"returnFocus","returnFocusOnDeactivate");s==null||s();let c=()=>{fg(()=>{if(l){let d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}a==null||a()})};if(l&&o){let d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(d).then(c,c),this}return c(),this}),Ee(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;let r=this.getOption(i,"onPause"),s=this.getOption(i,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),Ee(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;let r=this.getOption(i,"onUnpause"),s=this.getOption(i,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),Ee(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Ee(this,"getReturnFocusNode",i=>{let r=this.getNodeForOption("setReturnFocus",{params:[i]});return r||(r===!1?!1:i)}),Ee(this,"getOption",(i,r,s)=>i&&i[r]!==void 0?i[r]:this.config[s||r]),Ee(this,"getNodeForOption",(i,{hasFallback:r=!1,params:s=[]}={})=>{let a=this.config[i];if(typeof a=="function"&&(a=a(...s)),a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let o=a;if(typeof a=="string"){try{o=this.doc.querySelector(a)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!o&&!r)throw new Error(`\`${i}\` as selector refers to no known node`)}return o}),Ee(this,"findNextNavNode",i=>{let{event:r,isBackward:s=!1}=i,a=i.target||j(r);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){let l=this.findContainerIndex(a,r),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>a===h);if(d<0&&((c==null?void 0:c.container)===a||Je(a)&&!gn(a)&&!(c!=null&&c.nextTabbableNode(a,!1)))&&(d=l),d>=0){let h=d===0?this.state.tabbableGroups.length-1:d-1,m=this.state.tabbableGroups[h];o=Ci(a)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else Vl(r)||(o=c==null?void 0:c.nextTabbableNode(a,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>a===h);if(d<0&&((c==null?void 0:c.container)===a||Je(a)&&!gn(a)&&!(c!=null&&c.nextTabbableNode(a)))&&(d=l),d>=0){let h=d===this.state.tabbableGroups.length-1?0:d+1,m=this.state.tabbableGroups[h];o=Ci(a)>=0?m.firstTabbableNode:m.firstDomTabbableNode}else Vl(r)||(o=c==null?void 0:c.nextTabbableNode(a))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=t.trapStack||QP;let n=g({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:tS,isKeyBackward:nS},t);this.doc=n.document||Re(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){let t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Rc(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){let n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:r})=>i.contains(e)||(n==null?void 0:n.includes(i))||r.find(s=>s===e)||this.isControlledElement(i,e))}isControlledElement(e,t){return this.config.followControlledElements?hs(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let t=Xt(e,{getShadowRoot:this.config.getShadowRoot}),n=gr(e,{getShadowRoot:this.config.getShadowRoot}),i=t[0],r=t[t.length-1],s=i,a=r,o=!1;for(let c=0;c<t.length;c++)if(Ci(t[c])>0){o=!0;break}function l(c,d=!0){let h=t.indexOf(c);if(h>=0)return t[h+(d?1:-1)];let m=n.indexOf(c);if(!(m<0)){if(d){for(let u=m+1;u<n.length;u++)if(gn(n[u]))return n[u]}else for(let u=m-1;u>=0;u--)if(gn(n[u]))return n[u]}}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:i,lastTabbableNode:r,firstDomTabbableNode:s,lastDomTabbableNode:a,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return pg.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?fg(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Q(this.doc,"focusin",this.handleFocus,!0),Q(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Q(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Q(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Q(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Q(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),i=this.getOption(e,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=pn(this.doc),t==null||t();let r=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return i?(i(this.state.containers.concat()).then(r,r),this):(r(),this)}},Rl=e=>e.type==="keydown",Vl=e=>Rl(e)&&(e==null?void 0:e.key)==="Tab",tS=e=>Rl(e)&&e.key==="Tab"&&!(e!=null&&e.shiftKey),nS=e=>Rl(e)&&e.key==="Tab"&&(e==null?void 0:e.shiftKey),Lr=(e,...t)=>typeof e=="function"?e(...t):e,iS=e=>!e.isComposing&&e.key==="Escape",fg=e=>setTimeout(e,0),rS=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";xl="data-scroll-lock";lS=U("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),si=lS.build(),yg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`dialog:${e.id}:positioner`},bg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.backdrop)!=null?n:`dialog:${e.id}:backdrop`},kl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`dialog:${e.id}:content`},Eg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`dialog:${e.id}:trigger`},Al=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.title)!=null?n:`dialog:${e.id}:title`},Nl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.description)!=null?n:`dialog:${e.id}:description`},Ig=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.closeTrigger)!=null?n:`dialog:${e.id}:close`},ba=e=>e.getById(kl(e)),cS=e=>e.getById(yg(e)),dS=e=>e.getById(bg(e)),uS=e=>e.getById(Eg(e)),hS=e=>e.getById(Al(e)),gS=e=>e.getById(Nl(e)),pS=e=>e.getById(Ig(e));mS={props({props:e,scope:t}){let n=e.role==="alertdialog",i=n?()=>pS(t):void 0,r=typeof e.modal=="boolean"?e.modal:!0;return g({role:"dialog",modal:r,trapFocus:r,preventScroll:r,closeOnInteractOutside:r&&!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:i},e)},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return Ht(()=>ba(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[uS(e)],onInteractOutside(r){var s;(s=n("onInteractOutside"))==null||s(r),n("closeOnInteractOutside")||r.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(r){var s;(s=n("onEscapeKeyDown"))==null||s(r),n("closeOnEscape")||r.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return oS(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?sS(()=>ba(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:i=>{var r,s;return(s=(r=t("finalFocusEl"))==null?void 0:r())!=null?s:i},getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?XP(()=>[ba(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){H(()=>{e.set("rendered",{title:!!hS(t),description:!!gS(t)})})},syncZIndex({scope:e}){H(()=>{let t=ba(e);if(!t)return;let n=lt(t);[cS(e),dS(e)].forEach(r=>{r==null||r.style.setProperty("--z-index",n.zIndex),r==null||r.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}},vS=G()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),zx=_(vS),yS=class extends K{initMachine(e){return new W(mS,e)}initApi(){return fS(this.machine.service,q)}render(){let e=this.el,t=e.querySelector('[data-scope="dialog"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=e.querySelector('[data-scope="dialog"][data-part="backdrop"]');n&&this.spreadProps(n,this.api.getBackdropProps());let i=e.querySelector('[data-scope="dialog"][data-part="positioner"]');i&&this.spreadProps(i,this.api.getPositionerProps());let r=e.querySelector('[data-scope="dialog"][data-part="content"]');r&&this.spreadProps(r,this.api.getContentProps());let s=e.querySelector('[data-scope="dialog"][data-part="title"]');s&&this.spreadProps(s,this.api.getTitleProps());let a=e.querySelector('[data-scope="dialog"][data-part="description"]');a&&this.spreadProps(a,this.api.getDescriptionProps());let o=e.querySelector('[data-scope="dialog"][data-part="close-trigger"]');o&&this.spreadProps(o,this.api.getCloseTriggerProps())}},bS={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new yS(e,y(g({id:e.id},P(e,"controlled")?{open:P(e,"open")}:{defaultOpen:P(e,"defaultOpen")}),{modal:P(e,"modal"),closeOnInteractOutside:P(e,"closeOnInteractOutside"),closeOnEscape:P(e,"closeOnEscapeKeyDown"),preventScroll:P(e,"preventScroll"),restoreFocus:P(e,"restoreFocus"),dir:O(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let r=O(e,"onOpenChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,open:i.open});let s=O(e,"onOpenChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));n.init(),this.dialog=n,this.onSetOpen=i=>{let{open:r}=i.detail;n.api.setOpen(r)},e.addEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("dialog_set_open",i=>{let r=i.dialog_id;r&&r!==e.id||n.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("dialog_open",()=>{this.pushEvent("dialog_open_response",{value:n.api.open})}))},updated(){var e;(e=this.dialog)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlled")?{open:P(this.el,"open")}:{defaultOpen:P(this.el,"defaultOpen")}),{modal:P(this.el,"modal"),closeOnInteractOutside:P(this.el,"closeOnInteractOutside"),closeOnEscape:P(this.el,"closeOnEscapeKeyDown"),preventScroll:P(this.el,"preventScroll"),restoreFocus:P(this.el,"restoreFocus"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.dialog)==null||e.destroy()}}});var Vg={};ge(Vg,{Editable:()=>RS});function xS(e,t){var S;let{state:n,context:i,send:r,prop:s,scope:a,computed:o}=e,l=!!s("disabled"),c=o("isInteractive"),d=!!s("readOnly"),h=!!s("required"),m=!!s("invalid"),u=!!s("autoResize"),p=s("translations"),v=n.matches("edit"),I=s("placeholder"),T=typeof I=="string"?{edit:I,preview:I}:I,w=i.get("value"),b=w.trim()==="",f=b?(S=T==null?void 0:T.preview)!=null?S:"":w;return{editing:v,empty:b,value:w,valueText:f,setValue(C){r({type:"VALUE.SET",value:C,src:"setValue"})},clearValue(){r({type:"VALUE.SET",value:"",src:"clearValue"})},edit(){c&&r({type:"EDIT"})},cancel(){c&&r({type:"CANCEL"})},submit(){c&&r({type:"SUBMIT"})},getRootProps(){return t.element(y(g({},dn.root.attrs),{id:IS(a),dir:s("dir")}))},getAreaProps(){return t.element(y(g({},dn.area.attrs),{id:CS(a),dir:s("dir"),style:u?{display:"inline-grid"}:void 0,"data-focus":E(v),"data-disabled":E(l),"data-placeholder-shown":E(b)}))},getLabelProps(){return t.label(y(g({},dn.label.attrs),{id:PS(a),dir:s("dir"),htmlFor:Dl(a),"data-focus":E(v),"data-invalid":E(m),"data-required":E(h),onClick(){if(v)return;let C=TS(a);C==null||C.focus({preventScroll:!0})}}))},getInputProps(){return t.input(y(g({},dn.input.attrs),{dir:s("dir"),"aria-label":p==null?void 0:p.input,name:s("name"),form:s("form"),id:Dl(a),hidden:u?void 0:!v,placeholder:T==null?void 0:T.edit,maxLength:s("maxLength"),required:s("required"),disabled:l,"data-disabled":E(l),readOnly:d,"data-readonly":E(d),"aria-invalid":X(m),"data-invalid":E(m),"data-autoresize":E(u),defaultValue:w,size:u?1:void 0,onChange(C){r({type:"VALUE.SET",src:"input.change",value:C.currentTarget.value})},onKeyDown(C){if(C.defaultPrevented||De(C))return;let k={Escape(){r({type:"CANCEL"}),C.preventDefault()},Enter(x){if(!o("submitOnEnter"))return;let{localName:A}=x.currentTarget;if(A==="textarea"){if(!(oo()?x.metaKey:x.ctrlKey))return;r({type:"SUBMIT",src:"keydown.enter"});return}A==="input"&&!x.shiftKey&&!x.metaKey&&(r({type:"SUBMIT",src:"keydown.enter"}),x.preventDefault())}}[C.key];k&&k(C)},style:u?{gridArea:"1 / 1 / auto / auto",visibility:v?void 0:"hidden"}:void 0}))},getPreviewProps(){return t.element(y(g({id:Sg(a)},dn.preview.attrs),{dir:s("dir"),"data-placeholder-shown":E(b),"aria-readonly":X(d),"data-readonly":E(l),"data-disabled":E(l),"aria-disabled":X(l),"aria-invalid":X(m),"data-invalid":E(m),"aria-label":p==null?void 0:p.edit,"data-autoresize":E(u),children:f,hidden:u?void 0:v,tabIndex:c?0:void 0,onClick(){c&&s("activationMode")==="click"&&r({type:"EDIT",src:"click"})},onFocus(){c&&s("activationMode")==="focus"&&r({type:"EDIT",src:"focus"})},onDoubleClick(C){C.defaultPrevented||c&&s("activationMode")==="dblclick"&&r({type:"EDIT",src:"dblclick"})},style:u?{whiteSpace:"pre",gridArea:"1 / 1 / auto / auto",visibility:v?"hidden":void 0,overflow:"hidden",textOverflow:"ellipsis"}:void 0}))},getEditTriggerProps(){return t.button(y(g({},dn.editTrigger.attrs),{id:wg(a),dir:s("dir"),"aria-label":p==null?void 0:p.edit,hidden:v,type:"button",disabled:l,onClick(C){C.defaultPrevented||c&&r({type:"EDIT",src:"edit.click"})}}))},getControlProps(){return t.element(y(g({id:SS(a)},dn.control.attrs),{dir:s("dir")}))},getSubmitTriggerProps(){return t.button(y(g({},dn.submitTrigger.attrs),{dir:s("dir"),id:Tg(a),"aria-label":p==null?void 0:p.submit,hidden:!v,disabled:l,type:"button",onClick(C){C.defaultPrevented||c&&r({type:"SUBMIT",src:"submit.click"})}}))},getCancelTriggerProps(){return t.button(y(g({},dn.cancelTrigger.attrs),{dir:s("dir"),"aria-label":p==null?void 0:p.cancel,id:Og(a),hidden:!v,type:"button",disabled:l,onClick(C){C.defaultPrevented||c&&r({type:"CANCEL",src:"cancel.click"})}}))}}}var ES,dn,IS,CS,PS,Sg,Dl,SS,Tg,Og,wg,Ea,TS,OS,wS,VS,kS,AS,Qx,NS,RS,xg=re(()=>{"use strict";rn();ae();ES=U("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control"),dn=ES.build(),IS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`editable:${e.id}`},CS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.area)!=null?n:`editable:${e.id}:area`},PS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`editable:${e.id}:label`},Sg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.preview)!=null?n:`editable:${e.id}:preview`},Dl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`editable:${e.id}:input`},SS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`editable:${e.id}:control`},Tg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.submitTrigger)!=null?n:`editable:${e.id}:submit`},Og=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.cancelTrigger)!=null?n:`editable:${e.id}:cancel`},wg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.editTrigger)!=null?n:`editable:${e.id}:edit`},Ea=e=>e.getById(Dl(e)),TS=e=>e.getById(Sg(e)),OS=e=>e.getById(Tg(e)),wS=e=>e.getById(Og(e)),VS=e=>e.getById(wg(e));kS={props({props:e}){return y(g({activationMode:"focus",submitMode:"both",defaultValue:"",selectOnFocus:!0},e),{translations:g({input:"editable input",edit:"edit",submit:"submit",cancel:"cancel"},e.translations)})},initialState({prop:e}){return e("edit")||e("defaultEdit")?"edit":"preview"},entry:["focusInputIfNeeded"],context:({bindable:e,prop:t})=>({value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var i;return(i=t("onValueChange"))==null?void 0:i({value:n})}})),previousValue:e(()=>({defaultValue:""}))}),watch({track:e,action:t,context:n,prop:i}){e([()=>n.get("value")],()=>{t(["syncInputValue"])}),e([()=>i("edit")],()=>{t(["toggleEditing"])})},computed:{submitOnEnter({prop:e}){let t=e("submitMode");return t==="both"||t==="enter"},submitOnBlur({prop:e}){let t=e("submitMode");return t==="both"||t==="blur"},isInteractive({prop:e}){return!(e("disabled")||e("readOnly"))}},on:{"VALUE.SET":{actions:["setValue"]}},states:{preview:{entry:["blurInput"],on:{"CONTROLLED.EDIT":{target:"edit",actions:["setPreviousValue","focusInput"]},EDIT:[{guard:"isEditControlled",actions:["invokeOnEdit"]},{target:"edit",actions:["setPreviousValue","focusInput","invokeOnEdit"]}]}},edit:{effects:["trackInteractOutside"],entry:["syncInputValue"],on:{"CONTROLLED.PREVIEW":[{guard:"isSubmitEvent",target:"preview",actions:["setPreviousValue","restoreFocus","invokeOnSubmit"]},{target:"preview",actions:["revertValue","restoreFocus","invokeOnCancel"]}],CANCEL:[{guard:"isEditControlled",actions:["invokeOnPreview"]},{target:"preview",actions:["revertValue","restoreFocus","invokeOnCancel","invokeOnPreview"]}],SUBMIT:[{guard:"isEditControlled",actions:["invokeOnPreview"]},{target:"preview",actions:["setPreviousValue","restoreFocus","invokeOnSubmit","invokeOnPreview"]}]}}},implementations:{guards:{isEditControlled:({prop:e})=>e("edit")!=null,isSubmitEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="SUBMIT"}},effects:{trackInteractOutside({send:e,scope:t,prop:n,computed:i}){return Js(Ea(t),{exclude(r){return[wS(t),OS(t)].some(a=>ue(a,r))},onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(r){var a;if((a=n("onInteractOutside"))==null||a(r),r.defaultPrevented)return;let{focusable:s}=r.detail;e({type:i("submitOnBlur")?"SUBMIT":"CANCEL",src:"interact-outside",focusable:s})}})}},actions:{restoreFocus({event:e,scope:t,prop:n}){e.focusable||H(()=>{var r,s;let i=(s=(r=n("finalFocusEl"))==null?void 0:r())!=null?s:VS(t);i==null||i.focus({preventScroll:!0})})},clearValue({context:e}){e.set("value","")},focusInputIfNeeded({action:e,prop:t}){(t("edit")||t("defaultEdit"))&&e(["focusInput"])},focusInput({scope:e,prop:t}){H(()=>{let n=Ea(e);n&&(t("selectOnFocus")?n.select():n.focus({preventScroll:!0}))})},invokeOnCancel({prop:e,context:t}){var i;let n=t.get("previousValue");(i=e("onValueRevert"))==null||i({value:n})},invokeOnSubmit({prop:e,context:t}){var i;let n=t.get("value");(i=e("onValueCommit"))==null||i({value:n})},invokeOnEdit({prop:e}){var t;(t=e("onEditChange"))==null||t({edit:!0})},invokeOnPreview({prop:e}){var t;(t=e("onEditChange"))==null||t({edit:!1})},toggleEditing({prop:e,send:t,event:n}){t({type:e("edit")?"CONTROLLED.EDIT":"CONTROLLED.PREVIEW",previousEvent:n})},syncInputValue({context:e,scope:t}){let n=Ea(t);n&&Fe(n,e.get("value"))},setValue({context:e,prop:t,event:n}){let i=t("maxLength"),r=i!=null?n.value.slice(0,i):n.value;e.set("value",r)},setPreviousValue({context:e}){e.set("previousValue",e.get("value"))},revertValue({context:e}){let t=e.get("previousValue");t&&e.set("value",t)},blurInput({scope:e}){var t;(t=Ea(e))==null||t.blur()}}}},AS=G()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]),Qx=_(AS),NS=class extends K{initMachine(e){return new W(kS,e)}initApi(){return xS(this.machine.service,q)}render(){var l;let e=(l=this.el.querySelector('[data-scope="editable"][data-part="root"]'))!=null?l:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="editable"][data-part="area"]');t&&this.spreadProps(t,this.api.getAreaProps());let n=this.el.querySelector('[data-scope="editable"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="editable"][data-part="input"]');i&&this.spreadProps(i,this.api.getInputProps());let r=this.el.querySelector('[data-scope="editable"][data-part="preview"]');r&&this.spreadProps(r,this.api.getPreviewProps());let s=this.el.querySelector('[data-scope="editable"][data-part="edit-trigger"]');s&&this.spreadProps(s,this.api.getEditTriggerProps());let a=this.el.querySelector('[data-scope="editable"][data-part="submit-trigger"]');a&&this.spreadProps(a,this.api.getSubmitTriggerProps());let o=this.el.querySelector('[data-scope="editable"][data-part="cancel-trigger"]');o&&this.spreadProps(o,this.api.getCancelTriggerProps())}},RS={mounted(){let e=this.el,t=O(e,"value"),n=O(e,"defaultValue"),i=P(e,"controlled"),r=O(e,"placeholder"),s=O(e,"activationMode"),a=P(e,"selectOnFocus"),o=new NS(e,y(g(g(g(g(y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:n!=null?n:""}),{disabled:P(e,"disabled"),readOnly:P(e,"readOnly"),required:P(e,"required"),invalid:P(e,"invalid"),name:O(e,"name"),form:O(e,"form"),dir:Ve(e)}),r!==void 0?{placeholder:r}:{}),s!==void 0?{activationMode:s}:{}),a!==void 0?{selectOnFocus:a}:{}),P(e,"controlledEdit")?{edit:P(e,"edit")}:{defaultEdit:P(e,"defaultEdit")}),{onValueChange:l=>{let c=e.querySelector('[data-scope="editable"][data-part="input"]');c&&(c.value=l.value,c.dispatchEvent(new Event("input",{bubbles:!0})),c.dispatchEvent(new Event("change",{bubbles:!0})));let d=O(e,"onValueChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{value:l.value,id:e.id});let h=O(e,"onValueChangeClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{value:l,id:e.id}}))}}));o.init(),this.editable=o,this.handlers=[]},updated(){var n;let e=O(this.el,"value"),t=P(this.el,"controlled");(n=this.editable)==null||n.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{disabled:P(this.el,"disabled"),readOnly:P(this.el,"readOnly"),required:P(this.el,"required"),invalid:P(this.el,"invalid"),name:O(this.el,"name"),form:O(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.editable)==null||e.destroy()}}});var Bg={};ge(Bg,{FloatingPanel:()=>qS});function MS(e){switch(e){case"n":return{cursor:"n-resize",width:"100%",top:0,left:"50%",translate:"-50%"};case"e":return{cursor:"e-resize",height:"100%",right:0,top:"50%",translate:"0 -50%"};case"s":return{cursor:"s-resize",width:"100%",bottom:0,left:"50%",translate:"-50%"};case"w":return{cursor:"w-resize",height:"100%",left:0,top:"50%",translate:"0 -50%"};case"se":return{cursor:"se-resize",bottom:0,right:0};case"sw":return{cursor:"sw-resize",bottom:0,left:0};case"ne":return{cursor:"ne-resize",top:0,right:0};case"nw":return{cursor:"nw-resize",top:0,left:0};default:throw new Error(`Invalid axis: ${e}`)}}function FS(e,t){let{state:n,send:i,scope:r,prop:s,computed:a,context:o}=e,l=n.hasTag("open"),c=n.matches("open.dragging"),d=n.matches("open.resizing"),h=o.get("isTopmost"),m=o.get("size"),u=o.get("position"),p=a("isMaximized"),v=a("isMinimized"),I=a("isStaged"),T=a("canResize"),w=a("canDrag");return{open:l,resizable:s("resizable"),draggable:s("draggable"),setOpen(b){n.hasTag("open")!==b&&i({type:b?"OPEN":"CLOSE"})},dragging:c,resizing:d,position:u,size:m,setPosition(b){i({type:"SET_POSITION",position:b})},setSize(b){i({type:"SET_SIZE",size:b})},minimize(){i({type:"MINIMIZE"})},maximize(){i({type:"MAXIMIZE"})},restore(){i({type:"RESTORE"})},getTriggerProps(){return t.button(y(g({},wt.trigger.attrs),{dir:s("dir"),type:"button",disabled:s("disabled"),id:Fg(r),"data-state":l?"open":"closed","data-dragging":E(c),"aria-controls":Ll(r),onClick(b){if(b.defaultPrevented||s("disabled"))return;let f=n.hasTag("open");i({type:f?"CLOSE":"OPEN",src:"trigger"})}}))},getPositionerProps(){return t.element(y(g({},wt.positioner.attrs),{dir:s("dir"),id:$g(r),style:{"--width":be(m==null?void 0:m.width),"--height":be(m==null?void 0:m.height),"--x":be(u==null?void 0:u.x),"--y":be(u==null?void 0:u.y),position:s("strategy"),top:"var(--y)",left:"var(--x)"}}))},getContentProps(){return t.element(y(g({},wt.content.attrs),{dir:s("dir"),role:"dialog",tabIndex:0,hidden:!l,id:Ll(r),"aria-labelledby":kg(r),"data-state":l?"open":"closed","data-dragging":E(c),"data-topmost":E(h),"data-behind":E(!h),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I),style:{width:"var(--width)",height:"var(--height)",overflow:v?"hidden":void 0},onFocus(){i({type:"CONTENT_FOCUS"})},onKeyDown(b){if(b.defaultPrevented||b.currentTarget!==j(b))return;let f=Ei(b)*s("gridSize"),C={Escape(){h&&i({type:"ESCAPE"})},ArrowLeft(){i({type:"MOVE",direction:"left",step:f})},ArrowRight(){i({type:"MOVE",direction:"right",step:f})},ArrowUp(){i({type:"MOVE",direction:"up",step:f})},ArrowDown(){i({type:"MOVE",direction:"down",step:f})}}[pe(b,{dir:s("dir")})];C&&(b.preventDefault(),C(b))}}))},getCloseTriggerProps(){return t.button(y(g({},wt.closeTrigger.attrs),{dir:s("dir"),disabled:s("disabled"),"aria-label":"Close Window",type:"button",onClick(b){b.defaultPrevented||i({type:"CLOSE"})}}))},getStageTriggerProps(b){if(!Dg.has(b.stage))throw new Error(`[zag-js] Invalid stage: ${b.stage}. Must be one of: ${Array.from(Dg).join(", ")}`);let f=s("translations"),S=Se(b.stage,{minimized:()=>({"aria-label":f.minimize,hidden:I}),maximized:()=>({"aria-label":f.maximize,hidden:I}),default:()=>({"aria-label":f.restore,hidden:!I})});return t.button(y(g(y(g({},wt.stageTrigger.attrs),{dir:s("dir"),disabled:s("disabled"),"data-stage":b.stage}),S),{type:"button",onClick(C){if(C.defaultPrevented||!s("resizable"))return;let V=Se(b.stage,{minimized:()=>"MINIMIZE",maximized:()=>"MAXIMIZE",default:()=>"RESTORE"});i({type:V.toUpperCase()})}}))},getResizeTriggerProps(b){return t.element(y(g({},wt.resizeTrigger.attrs),{dir:s("dir"),"data-disabled":E(!T),"data-axis":b.axis,onPointerDown(f){T&&fe(f)&&(f.currentTarget.setPointerCapture(f.pointerId),f.stopPropagation(),i({type:"RESIZE_START",axis:b.axis,position:{x:f.clientX,y:f.clientY}}))},onPointerUp(f){if(!T)return;let S=f.currentTarget;S.hasPointerCapture(f.pointerId)&&S.releasePointerCapture(f.pointerId)},style:g({position:"absolute",touchAction:"none"},MS(b.axis))}))},getDragTriggerProps(){return t.element(y(g({},wt.dragTrigger.attrs),{dir:s("dir"),"data-disabled":E(!w),onPointerDown(b){if(!w||!fe(b))return;let f=j(b);f!=null&&f.closest("button")||f!=null&&f.closest("[data-no-drag]")||(b.currentTarget.setPointerCapture(b.pointerId),b.stopPropagation(),i({type:"DRAG_START",pointerId:b.pointerId,position:{x:b.clientX,y:b.clientY}}))},onPointerUp(b){if(!w)return;let f=b.currentTarget;f.hasPointerCapture(b.pointerId)&&f.releasePointerCapture(b.pointerId)},onDoubleClick(b){b.defaultPrevented||s("resizable")&&i({type:I?"RESTORE":"MAXIMIZE"})},style:{WebkitUserSelect:"none",userSelect:"none",touchAction:"none",cursor:"move"}}))},getControlProps(){return t.element(y(g({},wt.control.attrs),{dir:s("dir"),"data-disabled":E(s("disabled")),"data-stage":o.get("stage"),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I)}))},getTitleProps(){return t.element(y(g({},wt.title.attrs),{dir:s("dir"),id:kg(r)}))},getHeaderProps(){return t.element(y(g({},wt.header.attrs),{dir:s("dir"),id:Hg(r),"data-dragging":E(c),"data-topmost":E(h),"data-behind":E(!h),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I)}))},getBodyProps(){return t.element(y(g({},wt.body.attrs),{dir:s("dir"),"data-dragging":E(c),"data-minimized":E(v),"data-maximized":E(p),"data-staged":E(I),hidden:v}))}}}function Ia(e){if(e)try{let t=JSON.parse(e);if(typeof t.width=="number"&&typeof t.height=="number")return{width:t.width,height:t.height}}catch(t){}}function Mg(e){if(e)try{let t=JSON.parse(e);if(typeof t.x=="number"&&typeof t.y=="number")return{x:t.x,y:t.y}}catch(t){}}var DS,wt,Fg,$g,Ll,kg,Hg,Ag,Ng,Rg,LS,Nn,Dg,Mr,Lg,$S,HS,BS,_S,rk,GS,sk,US,qS,_g=re(()=>{"use strict";ks();ae();DS=U("floating-panel").parts("trigger","positioner","content","header","body","title","resizeTrigger","dragTrigger","stageTrigger","closeTrigger","control"),wt=DS.build(),Fg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`float:${e.id}:trigger`},$g=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`float:${e.id}:positioner`},Ll=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`float:${e.id}:content`},kg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.title)!=null?n:`float:${e.id}:title`},Hg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.header)!=null?n:`float:${e.id}:header`},Ag=e=>e.getById(Fg(e)),Ng=e=>e.getById($g(e)),Rg=e=>e.getById(Ll(e)),LS=e=>e.getById(Hg(e)),Nn=(e,t,n)=>{let i;return de(t)?i=Po(t):i=Md(e.getWin()),n&&(i=Cn({x:-i.width,y:i.minY,width:i.width*3,height:i.height*2})),yn(i,["x","y","width","height"])};Dg=new Set(["minimized","maximized","default"]);Mr=Ts({stack:[],count(){return this.stack.length},add(e){this.stack.includes(e)||this.stack.push(e)},remove(e){let t=this.stack.indexOf(e);t<0||this.stack.splice(t,1)},bringToFront(e){this.remove(e),this.add(e)},isTopmost(e){return this.stack[this.stack.length-1]===e},indexOf(e){return this.stack.indexOf(e)}}),{not:Lg,and:$S}=Ie(),HS={minimize:"Minimize window",maximize:"Maximize window",restore:"Restore window"},BS={props({props:e}){return In(e,["id"],"floating-panel"),y(g({strategy:"fixed",gridSize:1,defaultSize:{width:320,height:240},defaultPosition:{x:300,y:100},allowOverflow:!0,resizable:!0,draggable:!0},e),{hasSpecifiedPosition:!!e.defaultPosition||!!e.position,translations:g(g({},HS),e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({prop:e,bindable:t}){return{size:t(()=>({defaultValue:e("defaultSize"),value:e("size"),isEqual:Dd,sync:!0,hash(n){return`W:${n.width} H:${n.height}`},onChange(n){var i;(i=e("onSizeChange"))==null||i({size:n})}})),position:t(()=>({defaultValue:e("defaultPosition"),value:e("position"),isEqual:Ld,sync:!0,hash(n){return`X:${n.x} Y:${n.y}`},onChange(n){var i;(i=e("onPositionChange"))==null||i({position:n})}})),stage:t(()=>({defaultValue:"default",onChange(n){var i;(i=e("onStageChange"))==null||i({stage:n})}})),lastEventPosition:t(()=>({defaultValue:null})),prevPosition:t(()=>({defaultValue:null})),prevSize:t(()=>({defaultValue:null})),isTopmost:t(()=>({defaultValue:void 0}))}},computed:{isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isStaged:({context:e})=>e.get("stage")!=="default",canResize:({context:e,prop:t})=>t("resizable")&&!t("disabled")&&e.get("stage")==="default",canDrag:({prop:e,computed:t})=>e("draggable")&&!e("disabled")&&!t("isMaximized")},watch({track:e,context:t,action:n,prop:i}){e([()=>t.hash("position")],()=>{n(["setPositionStyle"])}),e([()=>t.hash("size")],()=>{n(["setSizeStyle"])}),e([()=>i("open")],()=>{n(["toggleVisibility"])})},effects:["trackPanelStack"],on:{CONTENT_FOCUS:{actions:["bringToFrontOfPanelStack"]},SET_POSITION:{actions:["setPosition"]},SET_SIZE:{actions:["setSize"]}},states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]}]}},open:{tags:["open"],entry:["bringToFrontOfPanelStack"],effects:["trackBoundaryRect"],on:{DRAG_START:{guard:Lg("isMaximized"),target:"open.dragging",actions:["setPrevPosition"]},RESIZE_START:{guard:Lg("isMinimized"),target:"open.resizing",actions:["setPrevSize"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect","focusTriggerEl"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],ESCAPE:[{guard:$S("isOpenControlled","closeOnEsc"),actions:["invokeOnClose"]},{guard:"closeOnEsc",target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],MINIMIZE:{actions:["setMinimized"]},MAXIMIZE:{actions:["setMaximized"]},RESTORE:{actions:["setRestored"]},MOVE:{actions:["setPositionFromKeyboard"]}}},"open.dragging":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevPosition"],on:{DRAG:{actions:["setPosition"]},DRAG_END:{target:"open",actions:["invokeOnDragEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}},"open.resizing":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevSize"],on:{DRAG:{actions:["setSize"]},DRAG_END:{target:"open",actions:["invokeOnResizeEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}}},implementations:{guards:{closeOnEsc:({prop:e})=>!!e("closeOnEscape"),isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPointerMove({scope:e,send:t,event:n,prop:i}){var o;let r=e.getDoc(),s=(o=i("getBoundaryEl"))==null?void 0:o(),a=Nn(e,s,!1);return fn(r,{onPointerMove({point:l,event:c}){let{altKey:d,shiftKey:h}=c,m=Be(l.x,a.x,a.x+a.width),u=Be(l.y,a.y,a.y+a.height);t({type:"DRAG",position:{x:m,y:u},axis:n.axis,altKey:d,shiftKey:h})},onPointerUp(){t({type:"DRAG_END"})}})},trackBoundaryRect({context:e,scope:t,prop:n,computed:i}){var l;let r=t.getWin(),s=!0,a=()=>{var h;if(s){s=!1;return}let c=(h=n("getBoundaryEl"))==null?void 0:h(),d=Nn(t,c,!1);if(!i("isMaximized")){let m=g(g({},e.get("position")),e.get("size"));d=Rd(m,d)}e.set("size",yn(d,["width","height"])),e.set("position",yn(d,["x","y"]))},o=(l=n("getBoundaryEl"))==null?void 0:l();return de(o)?mn.observe(o,a):Q(r,"resize",a)},trackPanelStack({context:e,scope:t}){let n=ls(Mr,()=>{e.set("isTopmost",Mr.isTopmost(t.id));let i=Rg(t);if(!i)return;let r=Mr.indexOf(t.id);r!==-1&&i.style.setProperty("--z-index",`${r+1}`)});return()=>{Mr.remove(t.id),n()}}},actions:{setAnchorPosition({context:e,prop:t,scope:n}){if(t("hasSpecifiedPosition"))return;let i=e.get("prevPosition")||e.get("prevSize");t("persistRect")&&i||H(()=>{var o,l;let r=Ag(n),s=Nn(n,(o=t("getBoundaryEl"))==null?void 0:o(),!1),a=(l=t("getAnchorPosition"))==null?void 0:l({triggerRect:r?DOMRect.fromRect(Po(r)):null,boundaryRect:DOMRect.fromRect(s)});if(!a){let c=e.get("size");a={x:s.x+(s.width-c.width)/2,y:s.y+(s.height-c.height)/2}}a&&e.set("position",a)})},setPrevPosition({context:e,event:t}){e.set("prevPosition",g({},e.get("position"))),e.set("lastEventPosition",t.position)},clearPrevPosition({context:e,prop:t}){t("persistRect")||e.set("prevPosition",null),e.set("lastEventPosition",null)},setPosition({context:e,event:t,prop:n,scope:i}){var c;let r=Co(t.position,e.get("lastEventPosition"));r.x=Math.round(r.x/n("gridSize"))*n("gridSize"),r.y=Math.round(r.y/n("gridSize"))*n("gridSize");let s=e.get("prevPosition");if(!s)return;let a=Nd(s,r),o=(c=n("getBoundaryEl"))==null?void 0:c(),l=Nn(i,o,n("allowOverflow"));a=br(a,e.get("size"),l),e.set("position",a)},setPositionStyle({scope:e,context:t}){let n=Ng(e),i=t.get("position");n==null||n.style.setProperty("--x",`${i.x}px`),n==null||n.style.setProperty("--y",`${i.y}px`)},resetRect({context:e,prop:t}){e.set("stage","default"),t("persistRect")||(e.set("position",e.initial("position")),e.set("size",e.initial("size")))},setPrevSize({context:e,event:t}){e.set("prevSize",g({},e.get("size"))),e.set("prevPosition",g({},e.get("position"))),e.set("lastEventPosition",t.position)},clearPrevSize({context:e}){e.set("prevSize",null),e.set("prevPosition",null),e.set("lastEventPosition",null)},setSize({context:e,event:t,scope:n,prop:i}){var p;let r=e.get("prevSize"),s=e.get("prevPosition"),a=e.get("lastEventPosition");if(!r||!s||!a)return;let o=Cn(g(g({},s),r)),l=Co(t.position,a),c=$d(o,l,t.axis,{scalingOriginMode:t.altKey?"center":"extent",lockAspectRatio:!!i("lockAspectRatio")||t.shiftKey}),d=yn(c,["width","height"]),h=yn(c,["x","y"]),m=(p=i("getBoundaryEl"))==null?void 0:p(),u=Nn(n,m,!1);if(d=Er(d,i("minSize"),i("maxSize")),d=Er(d,i("minSize"),u),e.set("size",d),h){let v=br(h,d,u);e.set("position",v)}},setSizeStyle({scope:e,context:t}){queueMicrotask(()=>{let n=Ng(e),i=t.get("size");n==null||n.style.setProperty("--width",`${i.width}px`),n==null||n.style.setProperty("--height",`${i.height}px`)})},setMaximized({context:e,prop:t,scope:n}){var s;e.set("stage","maximized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));let i=(s=t("getBoundaryEl"))==null?void 0:s(),r=Nn(n,i,!1);e.set("position",yn(r,["x","y"])),e.set("size",yn(r,["height","width"]))},setMinimized({context:e,scope:t}){e.set("stage","minimized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));let n=LS(t);if(!n)return;let i=y(g({},e.get("size")),{height:n==null?void 0:n.offsetHeight});e.set("size",i)},setRestored({context:e,prop:t,scope:n}){var s;let i=Nn(n,(s=t("getBoundaryEl"))==null?void 0:s(),!1);e.set("stage","default");let r=e.get("prevSize");if(r){let a=r;a=Er(a,t("minSize"),t("maxSize")),a=Er(a,t("minSize"),i),e.set("size",a),e.set("prevSize",null)}if(e.get("prevPosition")){let a=e.get("prevPosition");a=br(a,e.get("size"),i),e.set("position",a),e.set("prevPosition",null)}},setPositionFromKeyboard({context:e,event:t,prop:n,scope:i}){var c;Ss(t.step==null,"step is required");let r=e.get("position"),s=t.step,a=Se(t.direction,{left:{x:r.x-s,y:r.y},right:{x:r.x+s,y:r.y},up:{x:r.x,y:r.y-s},down:{x:r.x,y:r.y+s}}),o=(c=n("getBoundaryEl"))==null?void 0:c(),l=Nn(i,o,!1);a=br(a,e.get("size"),l),e.set("position",a)},bringToFrontOfPanelStack({prop:e}){Mr.bringToFront(e("id"))},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnDragEnd({context:e,prop:t}){var n;(n=t("onPositionChangeEnd"))==null||n({position:e.get("position")})},invokeOnResizeEnd({context:e,prop:t}){var n;(n=t("onSizeChangeEnd"))==null||n({size:e.get("size")})},focusTriggerEl({scope:e}){H(()=>{var t;(t=Ag(e))==null||t.focus()})},focusContentEl({scope:e}){H(()=>{var t;(t=Rg(e))==null||t.focus()})},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}},_S=G()(["allowOverflow","closeOnEscape","defaultOpen","defaultPosition","defaultSize","dir","disabled","draggable","getAnchorPosition","getBoundaryEl","getRootNode","gridSize","id","ids","lockAspectRatio","maxSize","minSize","onOpenChange","onPositionChange","onPositionChangeEnd","onSizeChange","onSizeChangeEnd","onStageChange","open","persistRect","position","resizable","size","strategy","translations"]),rk=_(_S),GS=G()(["axis"]),sk=_(GS),US=class extends K{initMachine(e){return new W(BS,e)}initApi(){return FS(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="floating-panel"][data-part="trigger"]');e&&this.spreadProps(e,this.api.getTriggerProps());let t=this.el.querySelector('[data-scope="floating-panel"][data-part="positioner"]');t&&this.spreadProps(t,this.api.getPositionerProps());let n=this.el.querySelector('[data-scope="floating-panel"][data-part="content"]');n&&this.spreadProps(n,this.api.getContentProps());let i=this.el.querySelector('[data-scope="floating-panel"][data-part="title"]');i&&this.spreadProps(i,this.api.getTitleProps());let r=this.el.querySelector('[data-scope="floating-panel"][data-part="header"]');r&&this.spreadProps(r,this.api.getHeaderProps());let s=this.el.querySelector('[data-scope="floating-panel"][data-part="body"]');s&&this.spreadProps(s,this.api.getBodyProps());let a=this.el.querySelector('[data-scope="floating-panel"][data-part="drag-trigger"]');a&&this.spreadProps(a,this.api.getDragTriggerProps()),["s","w","e","n","sw","nw","se","ne"].forEach(h=>{let m=this.el.querySelector(`[data-scope="floating-panel"][data-part="resize-trigger"][data-axis="${h}"]`);m&&this.spreadProps(m,this.api.getResizeTriggerProps({axis:h}))});let l=this.el.querySelector('[data-scope="floating-panel"][data-part="close-trigger"]');l&&this.spreadProps(l,this.api.getCloseTriggerProps());let c=this.el.querySelector('[data-scope="floating-panel"][data-part="control"]');c&&this.spreadProps(c,this.api.getControlProps()),["minimized","maximized","default"].forEach(h=>{let m=this.el.querySelector(`[data-scope="floating-panel"][data-part="stage-trigger"][data-stage="${h}"]`);m&&this.spreadProps(m,this.api.getStageTriggerProps({stage:h}))})}};qS={mounted(){let e=this.el,t=P(e,"open"),n=P(e,"defaultOpen"),i=P(e,"controlled"),r=Ia(e.dataset.size),s=Ia(e.dataset.defaultSize),a=Mg(e.dataset.position),o=Mg(e.dataset.defaultPosition),l=new US(e,y(g({id:e.id},i?{open:t}:{defaultOpen:n}),{draggable:P(e,"draggable")!==!1,resizable:P(e,"resizable")!==!1,allowOverflow:P(e,"allowOverflow")!==!1,closeOnEscape:P(e,"closeOnEscape")!==!1,disabled:P(e,"disabled"),dir:Ve(e),size:r,defaultSize:s,position:a,defaultPosition:o,minSize:Ia(e.dataset.minSize),maxSize:Ia(e.dataset.maxSize),persistRect:P(e,"persistRect"),gridSize:Number(e.dataset.gridSize)||1,onOpenChange:c=>{let d=O(e,"onOpenChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{open:c.open,id:e.id});let h=O(e,"onOpenChangeClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{value:c,id:e.id}}))},onPositionChange:c=>{let d=O(e,"onPositionChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{position:c.position,id:e.id})},onSizeChange:c=>{let d=O(e,"onSizeChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{size:c.size,id:e.id})},onStageChange:c=>{let d=O(e,"onStageChange");d&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(d,{stage:c.stage,id:e.id})}}));l.init(),this.floatingPanel=l,this.handlers=[]},updated(){var n;let e=P(this.el,"open"),t=P(this.el,"controlled");(n=this.floatingPanel)==null||n.updateProps(y(g({id:this.el.id},t?{open:e}:{}),{disabled:P(this.el,"disabled"),dir:Ve(this.el)}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.floatingPanel)==null||e.destroy()}}});var Kg={};ge(Kg,{Listbox:()=>aT});function jS(e,t){let{context:n,prop:i,scope:r,computed:s,send:a,refs:o}=e,l=i("disabled"),c=i("collection"),d=wn(c)?"grid":"list",h=n.get("focused"),m=o.get("focusVisible")&&h,u=o.get("inputState"),p=n.get("value"),v=n.get("selectedItems"),I=n.get("highlightedValue"),T=n.get("highlightedItem"),w=s("isTypingAhead"),b=s("isInteractive"),f=I?Fl(r,I):void 0;function S(C){let V=c.getItemDisabled(C.item),k=c.getItemValue(C.item);En(k,()=>`[zag-js] No value found for item ${JSON.stringify(C.item)}`);let x=I===k;return{value:k,disabled:!!(l||V),focused:x&&h,focusVisible:x&&m,highlighted:x&&(u.focused?h:m),selected:n.get("value").includes(k)}}return{empty:p.length===0,highlightedItem:T,highlightedValue:I,clearHighlightedValue(){a({type:"HIGHLIGHTED_VALUE.SET",value:null})},selectedItems:v,hasSelectedItems:s("hasSelectedItems"),value:p,valueAsString:s("valueAsString"),collection:c,disabled:!!l,selectValue(C){a({type:"ITEM.SELECT",value:C})},setValue(C){a({type:"VALUE.SET",value:C})},selectAll(){if(!s("multiple"))throw new Error("[zag-js] Cannot select all items in a single-select listbox");a({type:"VALUE.SET",value:c.getValues()})},highlightValue(C){a({type:"HIGHLIGHTED_VALUE.SET",value:C})},clearValue(C){a(C?{type:"ITEM.CLEAR",value:C}:{type:"VALUE.CLEAR"})},getItemState:S,getRootProps(){return t.element(y(g({},Gt.root.attrs),{dir:i("dir"),id:zS(r),"data-orientation":i("orientation"),"data-disabled":E(l)}))},getInputProps(C={}){return t.input(y(g({},Gt.input.attrs),{dir:i("dir"),disabled:l,"data-disabled":E(l),autoComplete:"off",autoCorrect:"off","aria-haspopup":"listbox","aria-controls":Ml(r),"aria-autocomplete":"list","aria-activedescendant":f,spellCheck:!1,enterKeyHint:"go",onFocus(){queueMicrotask(()=>{a({type:"INPUT.FOCUS",autoHighlight:!!(C!=null&&C.autoHighlight)})})},onBlur(){a({type:"CONTENT.BLUR",src:"input"})},onInput(V){C!=null&&C.autoHighlight&&(V.currentTarget.value.trim()||queueMicrotask(()=>{a({type:"HIGHLIGHTED_VALUE.SET",value:null})}))},onKeyDown(V){if(V.defaultPrevented||De(V))return;let k=bt(V),x=()=>{var D;V.preventDefault();let A=r.getWin(),N=new A.KeyboardEvent(k.type,k);(D=Ca(r))==null||D.dispatchEvent(N)};switch(k.key){case"ArrowLeft":case"ArrowRight":{if(!wn(c)||V.ctrlKey)return;x()}case"Home":case"End":{if(I==null&&V.shiftKey)return;x()}case"ArrowDown":case"ArrowUp":{x();break}case"Enter":I!=null&&(V.preventDefault(),a({type:"ITEM.CLICK",value:I}));break}}}))},getLabelProps(){return t.element(y(g({dir:i("dir"),id:Gg(r)},Gt.label.attrs),{"data-disabled":E(l)}))},getValueTextProps(){return t.element(y(g({},Gt.valueText.attrs),{dir:i("dir"),"data-disabled":E(l)}))},getItemProps(C){let V=S(C);return t.element(y(g({id:Fl(r,V.value),role:"option"},Gt.item.attrs),{dir:i("dir"),"data-value":V.value,"aria-selected":V.selected,"data-selected":E(V.selected),"data-layout":d,"data-state":V.selected?"checked":"unchecked","data-orientation":i("orientation"),"data-highlighted":E(V.highlighted),"data-disabled":E(V.disabled),"aria-disabled":X(V.disabled),onPointerMove(k){C.highlightOnHover&&(V.disabled||k.pointerType!=="mouse"||V.highlighted||a({type:"ITEM.POINTER_MOVE",value:V.value}))},onMouseDown(k){var x;k.preventDefault(),(x=Ca(r))==null||x.focus()},onClick(k){k.defaultPrevented||V.disabled||a({type:"ITEM.CLICK",value:V.value,shiftKey:k.shiftKey,anchorValue:I,metaKey:ps(k)})}}))},getItemTextProps(C){let V=S(C);return t.element(y(g({},Gt.itemText.attrs),{"data-state":V.selected?"checked":"unchecked","data-disabled":E(V.disabled),"data-highlighted":E(V.highlighted)}))},getItemIndicatorProps(C){let V=S(C);return t.element(y(g({},Gt.itemIndicator.attrs),{"aria-hidden":!0,"data-state":V.selected?"checked":"unchecked",hidden:!V.selected}))},getItemGroupLabelProps(C){let{htmlFor:V}=C;return t.element(y(g({},Gt.itemGroupLabel.attrs),{id:Ug(r,V),dir:i("dir"),role:"presentation"}))},getItemGroupProps(C){let{id:V}=C;return t.element(y(g({},Gt.itemGroup.attrs),{"data-disabled":E(l),"data-orientation":i("orientation"),"data-empty":E(c.size===0),id:YS(r,V),"aria-labelledby":Ug(r,V),role:"group",dir:i("dir")}))},getContentProps(){return t.element(y(g({dir:i("dir"),id:Ml(r),role:"listbox"},Gt.content.attrs),{"data-activedescendant":f,"aria-activedescendant":f,"data-orientation":i("orientation"),"aria-multiselectable":s("multiple")?!0:void 0,"aria-labelledby":Gg(r),tabIndex:0,"data-layout":d,"data-empty":E(c.size===0),style:{"--column-count":wn(c)?c.columnCount:1},onFocus(){a({type:"CONTENT.FOCUS"})},onBlur(){a({type:"CONTENT.BLUR"})},onKeyDown(C){if(!b||!ue(C.currentTarget,j(C)))return;let V=C.shiftKey,k={ArrowUp(N){let D=null;wn(c)&&I?D=c.getPreviousRowValue(I):I&&(D=c.getPreviousValue(I)),!D&&(i("loopFocus")||!I)&&(D=c.lastValue),D&&(N.preventDefault(),a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I}))},ArrowDown(N){let D=null;wn(c)&&I?D=c.getNextRowValue(I):I&&(D=c.getNextValue(I)),!D&&(i("loopFocus")||!I)&&(D=c.firstValue),D&&(N.preventDefault(),a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I}))},ArrowLeft(){if(!wn(c)&&i("orientation")==="vertical")return;let N=I?c.getPreviousValue(I):null;!N&&i("loopFocus")&&(N=c.lastValue),N&&(C.preventDefault(),a({type:"NAVIGATE",value:N,shiftKey:V,anchorValue:I}))},ArrowRight(){if(!wn(c)&&i("orientation")==="vertical")return;let N=I?c.getNextValue(I):null;!N&&i("loopFocus")&&(N=c.firstValue),N&&(C.preventDefault(),a({type:"NAVIGATE",value:N,shiftKey:V,anchorValue:I}))},Home(N){N.preventDefault();let D=c.firstValue;a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I})},End(N){N.preventDefault();let D=c.lastValue;a({type:"NAVIGATE",value:D,shiftKey:V,anchorValue:I})},Enter(){a({type:"ITEM.CLICK",value:I})},a(N){ps(N)&&s("multiple")&&!i("disallowSelectAll")&&(N.preventDefault(),a({type:"VALUE.SET",value:c.getValues()}))},Space(N){var D;w&&i("typeahead")?a({type:"CONTENT.TYPEAHEAD",key:N.key}):(D=k.Enter)==null||D.call(k,N)},Escape(N){i("deselectable")&&p.length>0&&(N.preventDefault(),N.stopPropagation(),a({type:"VALUE.CLEAR"}))}},x=k[pe(C)];if(x){x(C);return}let A=j(C);Vt(A)||qe.isValidEvent(C)&&i("typeahead")&&(a({type:"CONTENT.TYPEAHEAD",key:C.key}),C.preventDefault())}}))}}}function Fr(e,t,n){let i=eT(t,e);for(let r of i)n==null||n({value:r})}function Wg(e,t){return ji(t?{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}:{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}var WS,Gt,ji,KS,zS,Ml,Gg,Fl,YS,Ug,Ca,qg,XS,ZS,JS,QS,eT,tT,uk,nT,hk,iT,gk,rT,pk,sT,aT,zg=re(()=>{"use strict";Sr();On();ae();WS=U("listbox").parts("label","input","item","itemText","itemIndicator","itemGroup","itemGroupLabel","content","root","valueText"),Gt=WS.build(),ji=e=>new Dt(e);ji.empty=()=>new Dt({items:[]});KS=e=>new Fo(e);KS.empty=()=>new Fo({items:[],columnCount:0});zS=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`listbox:${e.id}`},Ml=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`listbox:${e.id}:content`},Gg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`listbox:${e.id}:label`},Fl=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`listbox:${e.id}:item:${t}`},YS=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`listbox:${e.id}:item-group:${t}`},Ug=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`listbox:${e.id}:item-group-label:${t}`},Ca=e=>e.getById(Ml(e)),qg=(e,t)=>e.getById(Fl(e,t));({guards:XS,createMachine:ZS}=ht()),{or:JS}=XS,QS=ZS({props({props:e}){return g({loopFocus:!1,composite:!0,defaultValue:[],multiple:!1,typeahead:!0,collection:ji.empty(),orientation:"vertical",selectionMode:"single"},e)},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:me,onChange(n){var r;let i=e("collection").findMany(n);return(r=e("onValueChange"))==null?void 0:r({value:n,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),sync:!0,onChange(n){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var r,s;let n=(s=(r=e("value"))!=null?r:e("defaultValue"))!=null?s:[];return{defaultValue:e("collection").findMany(n)}}),focused:t(()=>({sync:!0,defaultValue:!1}))}},refs(){return{typeahead:g({},qe.defaultOptions),focusVisible:!1,inputState:{autoHighlight:!1,focused:!1}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isInteractive:({prop:e})=>!e("disabled"),selection:({context:e,prop:t})=>{let n=new Eu(e.get("value"));return n.selectionMode=t("selectionMode"),n.deselectable=!!t("deselectable"),n},multiple:({prop:e})=>e("selectionMode")==="multiple"||e("selectionMode")==="extended",valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState(){return"idle"},watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value").toString()],()=>{i(["syncSelectedItems"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{i(["syncHighlightedValue"])})},effects:["trackFocusVisible"],on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]}},states:{idle:{effects:["scrollToHighlightedItem"],on:{"INPUT.FOCUS":{actions:["setFocused","setInputState"]},"CONTENT.FOCUS":[{guard:JS("hasSelectedValue","hasHighlightedValue"),actions:["setFocused"]},{actions:["setFocused","setDefaultHighlightedValue"]}],"CONTENT.BLUR":{actions:["clearFocused","clearInputState"]},"ITEM.CLICK":{actions:["setHighlightedItem","selectHighlightedItem"]},"CONTENT.TYPEAHEAD":{actions:["setFocused","highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},NAVIGATE:{actions:["setFocused","setHighlightedItem","selectWithKeyboard"]}}}},implementations:{guards:{hasSelectedValue:({context:e})=>e.get("value").length>0,hasHighlightedValue:({context:e})=>e.get("highlightedValue")!=null},effects:{trackFocusVisible:({scope:e,refs:t})=>{var n;return Ke({root:(n=e.getRootNode)==null?void 0:n.call(e),onChange(i){t.set("focusVisible",i.isFocusVisible)}})},scrollToHighlightedItem({context:e,prop:t,scope:n}){let i=s=>{let a=e.get("highlightedValue");if(a==null||Sn()==="pointer")return;let l=Ca(n),c=t("scrollToIndexFn");if(c){let h=t("collection").indexOf(a);c==null||c({index:h,immediate:s,getElement(){return qg(n,a)}});return}let d=qg(n,a);Zt(d,{rootEl:l,block:"nearest"})};return H(()=>{Tn("virtual"),i(!0)}),ct(()=>Ca(n),{defer:!0,attributes:["data-activedescendant"],callback(){i(!1)}})}},actions:{selectHighlightedItem({context:e,prop:t,event:n,computed:i}){var o;let r=(o=n.value)!=null?o:e.get("highlightedValue"),s=t("collection");if(r==null||!s.has(r))return;let a=i("selection");if(n.shiftKey&&i("multiple")&&n.anchorValue){let l=a.extendSelection(s,n.anchorValue,r);Fr(a,l,t("onSelect")),e.set("value",Array.from(l))}else{let l=a.select(s,r,n.metaKey);Fr(a,l,t("onSelect")),e.set("value",Array.from(l))}},selectWithKeyboard({context:e,prop:t,event:n,computed:i}){let r=i("selection"),s=t("collection");if(n.shiftKey&&i("multiple")&&n.anchorValue){let a=r.extendSelection(s,n.anchorValue,n.value);Fr(r,a,t("onSelect")),e.set("value",Array.from(a));return}if(t("selectOnHighlight")){let a=r.replaceSelection(s,n.value);Fr(r,a,t("onSelect")),e.set("value",Array.from(a))}},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});r!=null&&e.set("highlightedValue",r)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n,computed:i}){let r=t("collection"),s=i("selection"),a=s.select(r,n.value);Fr(s,a,t("onSelect")),e.set("value",Array.from(a))},clearItem({context:e,event:t,computed:n}){let r=n("selection").deselect(t.value);e.set("value",Array.from(r))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},syncSelectedItems({context:e,prop:t}){let n=t("collection"),i=e.get("selectedItems"),s=e.get("value").map(a=>i.find(l=>n.getItemValue(l)===a)||n.find(a));e.set("selectedItems",s)},syncHighlightedItem({context:e,prop:t}){let n=t("collection"),i=e.get("highlightedValue"),r=i?n.find(i):null;e.set("highlightedItem",r)},syncHighlightedValue({context:e,prop:t,refs:n}){let i=t("collection"),r=e.get("highlightedValue"),{autoHighlight:s}=n.get("inputState");if(s){queueMicrotask(()=>{var a;e.set("highlightedValue",(a=t("collection").firstValue)!=null?a:null)});return}r!=null&&!i.has(r)&&queueMicrotask(()=>{e.set("highlightedValue",null)})},setFocused({context:e}){e.set("focused",!0)},setDefaultHighlightedValue({context:e,prop:t}){let i=t("collection").firstValue;i!=null&&e.set("highlightedValue",i)},clearFocused({context:e}){e.set("focused",!1)},setInputState({refs:e,event:t}){e.set("inputState",{autoHighlight:!!t.autoHighlight,focused:!0})},clearInputState({refs:e}){e.set("inputState",{autoHighlight:!1,focused:!1})}}}}),eT=(e,t)=>{let n=new Set(e);for(let i of t)n.delete(i);return n};tT=G()(["collection","defaultHighlightedValue","defaultValue","dir","disabled","deselectable","disallowSelectAll","getRootNode","highlightedValue","id","ids","loopFocus","onHighlightChange","onSelect","onValueChange","orientation","scrollToIndexFn","selectionMode","selectOnHighlight","typeahead","value"]),uk=_(tT),nT=G()(["item","highlightOnHover"]),hk=_(nT),iT=G()(["id"]),gk=_(iT),rT=G()(["htmlFor"]),pk=_(rT),sT=class extends K{constructor(t,n){var r;super(t,n);Y(this,"_options",[]);Y(this,"hasGroups",!1);Y(this,"init",()=>{this.machine.start(),this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()})});let i=n.collection;this._options=(r=i==null?void 0:i.items)!=null?r:[]}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?ji({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}):ji({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}initMachine(t){let n=this.getCollection.bind(this),i=t.collection;return new W(QS,y(g({},t),{get collection(){return i!=null?i:n()}}))}initApi(){return jS(this.machine.service,q)}applyItemProps(){let t=this.el.querySelector('[data-scope="listbox"][data-part="content"]');t&&(t.querySelectorAll('[data-scope="listbox"][data-part="item-group"]').forEach(n=>{var s;let i=(s=n.dataset.id)!=null?s:"";this.spreadProps(n,this.api.getItemGroupProps({id:i}));let r=n.querySelector('[data-scope="listbox"][data-part="item-group-label"]');r&&this.spreadProps(r,this.api.getItemGroupLabelProps({htmlFor:i}))}),t.querySelectorAll('[data-scope="listbox"][data-part="item"]').forEach(n=>{var o;let i=(o=n.dataset.value)!=null?o:"",r=this.options.find(l=>{var c,d;return String((d=(c=l.id)!=null?c:l.value)!=null?d:"")===String(i)});if(!r)return;this.spreadProps(n,this.api.getItemProps({item:r}));let s=n.querySelector('[data-scope="listbox"][data-part="item-text"]');s&&this.spreadProps(s,this.api.getItemTextProps({item:r}));let a=n.querySelector('[data-scope="listbox"][data-part="item-indicator"]');a&&this.spreadProps(a,this.api.getItemIndicatorProps({item:r}))}))}render(){var a;let t=(a=this.el.querySelector('[data-scope="listbox"][data-part="root"]'))!=null?a:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="listbox"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="listbox"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let r=this.el.querySelector('[data-scope="listbox"][data-part="input"]');r&&this.spreadProps(r,this.api.getInputProps());let s=this.el.querySelector('[data-scope="listbox"][data-part="content"]');s&&(this.spreadProps(s,this.api.getContentProps()),this.applyItemProps())}};aT={mounted(){var o;let e=this.el,t=JSON.parse((o=e.dataset.collection)!=null?o:"[]"),n=t.some(l=>l.group!==void 0),i=J(e,"value"),r=J(e,"defaultValue"),s=P(e,"controlled"),a=new sT(e,y(g({id:e.id,collection:Wg(t,n)},s&&i?{value:i}:{defaultValue:r!=null?r:[]}),{disabled:P(e,"disabled"),dir:O(e,"dir",["ltr","rtl"]),orientation:O(e,"orientation",["horizontal","vertical"]),loopFocus:P(e,"loopFocus"),selectionMode:O(e,"selectionMode",["single","multiple","extended"]),selectOnHighlight:P(e,"selectOnHighlight"),deselectable:P(e,"deselectable"),typeahead:P(e,"typeahead"),onValueChange:l=>{let c=O(e,"onValueChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(c,{value:l.value,items:l.items,id:e.id});let d=O(e,"onValueChangeClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{value:l,id:e.id}}))}}));a.hasGroups=n,a.setOptions(t),a.init(),this.listbox=a,this.handlers=[]},updated(){var r;let e=JSON.parse((r=this.el.dataset.collection)!=null?r:"[]"),t=e.some(s=>s.group!==void 0),n=J(this.el,"value"),i=P(this.el,"controlled");this.listbox&&(this.listbox.hasGroups=t,this.listbox.setOptions(e),this.listbox.updateProps(y(g({collection:Wg(e,t),id:this.el.id},i&&n?{value:n}:{}),{disabled:P(this.el,"disabled"),dir:O(this.el,"dir",["ltr","rtl"]),orientation:O(this.el,"orientation",["horizontal","vertical"])})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.listbox)==null||e.destroy()}}});var tp={};ge(tp,{Menu:()=>wT});function mT(e,t){if(!e)return;let n=he(e),i=new n.CustomEvent(Hl,{detail:{value:t}});e.dispatchEvent(i)}function vT(e,t){let{context:n,send:i,state:r,computed:s,prop:a,scope:o}=e,l=r.hasTag("open"),c=n.get("isSubmenu"),d=s("isTypingAhead"),h=a("composite"),m=n.get("currentPlacement"),u=n.get("anchorPoint"),p=n.get("highlightedValue"),v=kn(y(g({},a("positioning")),{placement:u?"bottom":m}));function I(f){return{id:$r(o,f.value),disabled:!!f.disabled,highlighted:p===f.value}}function T(f){var C;let S=(C=f.valueText)!=null?C:f.value;return y(g({},f),{id:f.value,valueText:S})}function w(f){let S=I(T(f));return y(g({},S),{checked:!!f.checked})}function b(f){let{closeOnSelect:S,valueText:C,value:V}=f,k=I(f),x=$r(o,V);return t.element(y(g({},_e.item.attrs),{id:x,role:"menuitem","aria-disabled":X(k.disabled),"data-disabled":E(k.disabled),"data-ownedby":Zi(o),"data-highlighted":E(k.highlighted),"data-value":V,"data-valuetext":C,onDragStart(A){A.currentTarget.matches("a[href]")&&A.preventDefault()},onPointerMove(A){if(k.disabled||A.pointerType!=="mouse")return;let N=A.currentTarget;if(k.highlighted)return;let D=Qe(A);i({type:"ITEM_POINTERMOVE",id:x,target:N,closeOnSelect:S,point:D})},onPointerLeave(A){var $;if(k.disabled||A.pointerType!=="mouse"||!(($=e.event.previous())==null?void 0:$.type.includes("POINTER")))return;let D=A.currentTarget;i({type:"ITEM_POINTERLEAVE",id:x,target:D,closeOnSelect:S})},onPointerDown(A){if(k.disabled)return;let N=A.currentTarget;i({type:"ITEM_POINTERDOWN",target:N,id:x,closeOnSelect:S})},onClick(A){if(ur(A)||Wn(A)||k.disabled)return;let N=A.currentTarget;i({type:"ITEM_CLICK",target:N,id:x,closeOnSelect:S})}}))}return{highlightedValue:p,open:l,setOpen(f){r.hasTag("open")!==f&&i({type:f?"OPEN":"CLOSE"})},setHighlightedValue(f){i({type:"HIGHLIGHTED.SET",value:f})},setParent(f){i({type:"PARENT.SET",value:f,id:f.prop("id")})},setChild(f){i({type:"CHILD.SET",value:f,id:f.prop("id")})},reposition(f={}){i({type:"POSITIONING.SET",options:f})},addItemListener(f){let S=o.getById(f.id);if(!S)return;let C=()=>{var V;return(V=f.onSelect)==null?void 0:V.call(f)};return S.addEventListener(Hl,C),()=>S.removeEventListener(Hl,C)},getContextTriggerProps(){return t.element(y(g({},_e.contextTrigger.attrs),{dir:a("dir"),id:Qg(o),"data-state":l?"open":"closed",onPointerDown(f){if(f.pointerType==="mouse")return;let S=Qe(f);i({type:"CONTEXT_MENU_START",point:S})},onPointerCancel(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(f){let S=Qe(f);i({type:"CONTEXT_MENU",point:S}),f.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}}))},getTriggerItemProps(f){let S=f.getTriggerProps();return bd(b({value:S.id}),S)},getTriggerProps(){return t.button(y(g({},c?_e.triggerItem.attrs:_e.trigger.attrs),{"data-placement":n.get("currentPlacement"),type:"button",dir:a("dir"),id:Ta(o),"data-uid":a("id"),"aria-haspopup":h?"menu":"dialog","aria-controls":Zi(o),"data-controls":Zi(o),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(f){if(f.pointerType!=="mouse"||Sa(f.currentTarget)||!c)return;let C=Qe(f);i({type:"TRIGGER_POINTERMOVE",target:f.currentTarget,point:C})},onPointerLeave(f){if(Sa(f.currentTarget)||f.pointerType!=="mouse"||!c)return;let S=Qe(f);i({type:"TRIGGER_POINTERLEAVE",target:f.currentTarget,point:S})},onPointerDown(f){Sa(f.currentTarget)||bi(f)||f.preventDefault()},onClick(f){f.defaultPrevented||Sa(f.currentTarget)||i({type:"TRIGGER_CLICK",target:f.currentTarget})},onBlur(){i({type:"TRIGGER_BLUR"})},onFocus(){i({type:"TRIGGER_FOCUS"})},onKeyDown(f){if(f.defaultPrevented)return;let S={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},Enter(){i({type:"ARROW_DOWN",src:"enter"})},Space(){i({type:"ARROW_DOWN",src:"space"})}},C=pe(f,{orientation:"vertical",dir:a("dir")}),V=S[C];V&&(f.preventDefault(),V(f))}}))},getIndicatorProps(){return t.element(y(g({},_e.indicator.attrs),{dir:a("dir"),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(g({},_e.positioner.attrs),{dir:a("dir"),id:ep(o),style:v.floating}))},getArrowProps(){return t.element(y(g({id:lT(o)},_e.arrow.attrs),{dir:a("dir"),style:v.arrow}))},getArrowTipProps(){return t.element(y(g({},_e.arrowTip.attrs),{dir:a("dir"),style:v.arrowTip}))},getContentProps(){return t.element(y(g({},_e.content.attrs),{id:Zi(o),"aria-label":a("aria-label"),hidden:!l,"data-state":l?"open":"closed",role:h?"menu":"dialog",tabIndex:0,dir:a("dir"),"aria-activedescendant":s("highlightedId")||void 0,"aria-labelledby":Ta(o),"data-placement":m,onPointerEnter(f){f.pointerType==="mouse"&&i({type:"MENU_POINTERENTER"})},onKeyDown(f){if(f.defaultPrevented||!ue(f.currentTarget,j(f)))return;let S=j(f);if(!((S==null?void 0:S.closest("[role=menu]"))===f.currentTarget||S===f.currentTarget))return;if(f.key==="Tab"&&!ys(f)){f.preventDefault();return}let V={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},ArrowLeft(){i({type:"ARROW_LEFT"})},ArrowRight(){i({type:"ARROW_RIGHT"})},Enter(){i({type:"ENTER"})},Space(A){var N;d?i({type:"TYPEAHEAD",key:A.key}):(N=V.Enter)==null||N.call(V,A)},Home(){i({type:"HOME"})},End(){i({type:"END"})}},k=pe(f,{dir:a("dir")}),x=V[k];if(x){x(f),f.stopPropagation(),f.preventDefault();return}a("typeahead")&&Hc(f)&&(ke(f)||Vt(S)||(i({type:"TYPEAHEAD",key:f.key}),f.preventDefault()))}}))},getSeparatorProps(){return t.element(y(g({},_e.separator.attrs),{role:"separator",dir:a("dir"),"aria-orientation":"horizontal"}))},getItemState:I,getItemProps:b,getOptionItemState:w,getOptionItemProps(f){let{type:S,disabled:C,closeOnSelect:V}=f,k=T(f),x=w(f);return g(g({},b(k)),t.element(y(g({"data-type":S},_e.item.attrs),{dir:a("dir"),"data-value":k.value,role:`menuitem${S}`,"aria-checked":!!x.checked,"data-state":x.checked?"checked":"unchecked",onClick(A){if(C||ur(A)||Wn(A))return;let N=A.currentTarget;i({type:"ITEM_CLICK",target:N,option:k,closeOnSelect:V})}})))},getItemIndicatorProps(f){let S=w(yo(f)),C=S.checked?"checked":"unchecked";return t.element(y(g({},_e.itemIndicator.attrs),{dir:a("dir"),"data-disabled":E(S.disabled),"data-highlighted":E(S.highlighted),"data-state":He(f,"checked")?C:void 0,hidden:He(f,"checked")?!S.checked:void 0}))},getItemTextProps(f){let S=w(yo(f)),C=S.checked?"checked":"unchecked";return t.element(y(g({},_e.itemText.attrs),{dir:a("dir"),"data-disabled":E(S.disabled),"data-highlighted":E(S.highlighted),"data-state":He(f,"checked")?C:void 0}))},getItemGroupLabelProps(f){return t.element(y(g({},_e.itemGroupLabel.attrs),{id:Yg(o,f.htmlFor),dir:a("dir")}))},getItemGroupProps(f){return t.element(y(g({id:cT(o,f.id)},_e.itemGroup.attrs),{dir:a("dir"),"aria-labelledby":Yg(o,f.id),role:"group"}))}}}function Zg(e){let t=e.parent;for(;t&&t.context.get("isSubmenu");)t=t.refs.get("parent");t==null||t.send({type:"CLOSE"})}function ET(e,t){return e?So(e,t):!1}function IT(e,t,n){let i=Object.keys(e).length>0;if(!t)return null;if(!i)return $r(n,t);for(let r in e){let s=e[r],a=Ta(s.scope);if(a===t)return a}return $r(n,t)}var oT,_e,Ta,Qg,Zi,lT,ep,cT,$r,ai,Yg,un,jg,Pa,dT,$l,Hr,uT,hT,Bl,gT,pT,fT,Sa,Xg,Hl,mt,Xi,yT,bT,CT,Pk,PT,Sk,ST,Tk,TT,Ok,OT,wk,Jg,wT,np=re(()=>{"use strict";ks();Vr();Qn();rn();On();ae();oT=U("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),_e=oT.build(),Ta=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`menu:${e.id}:trigger`},Qg=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.contextTrigger)!=null?n:`menu:${e.id}:ctx-trigger`},Zi=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`menu:${e.id}:content`},lT=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.arrow)!=null?n:`menu:${e.id}:arrow`},ep=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`menu:${e.id}:popper`},cT=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.group)==null?void 0:i.call(n,t))!=null?r:`menu:${e.id}:group:${t}`},$r=(e,t)=>`${e.id}/${t}`,ai=e=>{var t;return(t=e==null?void 0:e.dataset.value)!=null?t:null},Yg=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,t))!=null?r:`menu:${e.id}:group-label:${t}`},un=e=>e.getById(Zi(e)),jg=e=>e.getById(ep(e)),Pa=e=>e.getById(Ta(e)),dT=(e,t)=>t?e.getById($r(e,t)):null,$l=e=>e.getById(Qg(e)),Hr=e=>{let n=`[role^="menuitem"][data-ownedby=${CSS.escape(Zi(e))}]:not([data-disabled])`;return $e(un(e),n)},uT=e=>dt(Hr(e)),hT=e=>Et(Hr(e)),Bl=(e,t)=>t?e.id===t||e.dataset.value===t:!1,gT=(e,t)=>{var r;let n=Hr(e),i=n.findIndex(s=>Bl(s,t.value));return ed(n,i,{loop:(r=t.loop)!=null?r:t.loopFocus})},pT=(e,t)=>{var r;let n=Hr(e),i=n.findIndex(s=>Bl(s,t.value));return td(n,i,{loop:(r=t.loop)!=null?r:t.loopFocus})},fT=(e,t)=>{var r;let n=Hr(e),i=n.find(s=>Bl(s,t.value));return qe(n,{state:t.typeaheadState,key:t.key,activeId:(r=i==null?void 0:i.id)!=null?r:null})},Sa=e=>de(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),Xg=e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("data-controls"))},Hl="menu:select";({not:mt,and:Xi,or:yT}=Ie()),bT={props({props:e}){return y(g({closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(t){Pi(t.node)}},e),{positioning:g({placement:"bottom-start",gutter:8},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},context({bindable:e,prop:t}){return{suspendPointer:e(()=>({defaultValue:!1})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(n){var i;(i=t("onHighlightChange"))==null||i({highlightedValue:n})}})),lastHighlightedValue:e(()=>({defaultValue:null})),currentPlacement:e(()=>({defaultValue:void 0})),intentPolygon:e(()=>({defaultValue:null})),anchorPoint:e(()=>({defaultValue:null,hash(n){return`x: ${n==null?void 0:n.x}, y: ${n==null?void 0:n.y}`}})),isSubmenu:e(()=>({defaultValue:!1}))}},refs(){return{parent:null,children:{},typeaheadState:g({},qe.defaultOptions),positioningOverride:{}}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar!=="",highlightedId:({context:e,scope:t,refs:n})=>IT(n.get("children"),e.get("highlightedValue"),t)},watch({track:e,action:t,context:n,prop:i}){e([()=>n.get("isSubmenu")],()=>{t(["setSubmenuPlacement"])}),e([()=>n.hash("anchorPoint")],()=>{n.get("anchorPoint")&&t(["reposition"])}),e([()=>i("open")],()=>{t(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:mt("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer","clearAnchorPoint"],on:{"CONTROLLED.OPEN":[{guard:yT("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackFocusVisible","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Xi(mt("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:mt("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Xi("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:mt("isPointerSuspended"),actions:["setHighlightedItem","focusMenu","closeSiblingMenus"]},{actions:["setLastHighlightedItem","closeSiblingMenus"]}],ITEM_POINTERLEAVE:{guard:Xi(mt("isPointerSuspended"),mt("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:Xi(mt("isTriggerItemHighlighted"),mt("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Xi(mt("isTriggerItemHighlighted"),mt("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Xi(mt("isTriggerItemHighlighted"),mt("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing",actions:["setIntentPolygon"]},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t==null?void 0:t.closeOnSelect)!=null?n:e("closeOnSelect"))},isTriggerItem:({event:e})=>Xg(e.target),isTriggerItemHighlighted:({event:e,scope:t,computed:n})=>{var r;let i=(r=e.target)!=null?r:t.getById(n("highlightedId"));return!!(i!=null&&i.hasAttribute("data-controls"))},isSubmenu:({context:e})=>e.get("isSubmenu"),isPointerSuspended:({context:e})=>e.get("suspendPointer"),isHighlightedItemEditable:({scope:e,computed:t})=>Vt(e.getById(t("highlightedId"))),isOpenControlled:({prop:e})=>e("open")!==void 0,isArrowLeftEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_LEFT"},isArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_UP"},isArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.OPEN"})},200);return()=>clearTimeout(t)},waitForCloseDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.CLOSE"})},100);return()=>clearTimeout(t)},waitForLongPress({send:e}){let t=setTimeout(()=>{e({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(t)},trackFocusVisible({scope:e}){var t;return Ke({root:(t=e.getRootNode)==null?void 0:t.call(e)})},trackPositioning({context:e,prop:t,scope:n,refs:i}){if($l(n))return;let r=g(g({},t("positioning")),i.get("positioningOverride"));e.set("currentPlacement",r.placement);let s=()=>jg(n);return Tt(Pa(n),s,y(g({},r),{defer:!0,onComplete(a){e.set("currentPlacement",a.placement)}}))},trackInteractOutside({refs:e,scope:t,prop:n,context:i,send:r}){let s=()=>un(t),a=!0;return Ht(s,{type:"menu",defer:!0,exclude:[Pa(t)],onInteractOutside:n("onInteractOutside"),onRequestDismiss:n("onRequestDismiss"),onFocusOutside(o){var d;(d=n("onFocusOutside"))==null||d(o);let l=j(o.detail.originalEvent);if(ue($l(t),l)){o.preventDefault();return}},onEscapeKeyDown(o){var l;(l=n("onEscapeKeyDown"))==null||l(o),i.get("isSubmenu")&&o.preventDefault(),Zg({parent:e.get("parent")})},onPointerDownOutside(o){var d;(d=n("onPointerDownOutside"))==null||d(o);let l=j(o.detail.originalEvent);if(ue($l(t),l)&&o.detail.contextmenu){o.preventDefault();return}a=!o.detail.focusable},onDismiss(){r({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},trackPointerMove({context:e,scope:t,send:n,refs:i,flush:r}){let s=i.get("parent");r(()=>{s.context.set("suspendPointer",!0)});let a=t.getDoc();return Q(a,"pointermove",o=>{ET(e.get("intentPolygon"),{x:o.clientX,y:o.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),s.context.set("suspendPointer",!1))})},scrollToHighlightedItem({scope:e,computed:t}){let n=()=>{if(Sn()==="pointer")return;let s=e.getById(t("highlightedId")),a=un(e);Zt(s,{rootEl:a,block:"nearest"})};return H(()=>{Tn("virtual"),n()}),ct(()=>un(e),{defer:!0,attributes:["aria-activedescendant"],callback:n})}},actions:{setAnchorPoint({context:e,event:t}){e.set("anchorPoint",n=>me(n,t.point)?n:t.point)},setSubmenuPlacement({context:e,computed:t,refs:n}){if(!e.get("isSubmenu"))return;let i=t("isRtl")?"left-start":"right-start";n.set("positioningOverride",{placement:i,gutter:0})},reposition({context:e,scope:t,prop:n,event:i,refs:r}){var c;let s=()=>jg(t),a=e.get("anchorPoint"),o=a?()=>g({width:0,height:0},a):void 0,l=g(g({},n("positioning")),r.get("positioningOverride"));Tt(Pa(t),s,y(g(y(g({},l),{defer:!0,getAnchorRect:o}),(c=i.options)!=null?c:{}),{listeners:!1,onComplete(d){e.set("currentPlacement",d.placement)}}))},setOptionState({event:e}){if(!e.option)return;let{checked:t,onCheckedChange:n,type:i}=e.option;i==="radio"?n==null||n(!0):i==="checkbox"&&(n==null||n(!t))},clickHighlightedItem({scope:e,computed:t,prop:n,context:i}){var a;let r=e.getById(t("highlightedId"));if(!r||r.dataset.disabled)return;let s=i.get("highlightedValue");ot(r)?(a=n("navigate"))==null||a({value:s,node:r,href:r.href}):queueMicrotask(()=>r.click())},setIntentPolygon({context:e,scope:t,event:n}){let i=un(t),r=e.get("currentPlacement");if(!i||!r)return;let s=i.getBoundingClientRect(),a=Fd(s,r);if(!a)return;let l=Yu(r)==="right"?-5:5;e.set("intentPolygon",[y(g({},n.point),{x:n.point.x+l}),...a])},clearIntentPolygon({context:e}){e.set("intentPolygon",null)},clearAnchorPoint({context:e}){e.set("anchorPoint",null)},resumePointer({refs:e,flush:t}){let n=e.get("parent");n&&t(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:e,event:t}){let n=t.value||ai(t.target);e.set("highlightedValue",n)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},focusMenu({scope:e}){H(()=>{let t=un(e),n=vs({root:t,enabled:!ue(t,e.getActiveElement()),filter(i){var r;return!((r=i.role)!=null&&r.startsWith("menuitem"))}});n==null||n.focus({preventScroll:!0})})},highlightFirstItem({context:e,scope:t}){(un(t)?queueMicrotask:H)(()=>{let i=uT(t);i&&e.set("highlightedValue",ai(i))})},highlightLastItem({context:e,scope:t}){(un(t)?queueMicrotask:H)(()=>{let i=hT(t);i&&e.set("highlightedValue",ai(i))})},highlightNextItem({context:e,scope:t,event:n,prop:i}){let r=gT(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",ai(r))},highlightPrevItem({context:e,scope:t,event:n,prop:i}){let r=pT(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",ai(r))},invokeOnSelect({context:e,prop:t,scope:n}){var s;let i=e.get("highlightedValue");if(i==null)return;let r=dT(n,i);mT(r,i),(s=t("onSelect"))==null||s({value:i})},focusTrigger({scope:e,context:t,event:n}){t.get("isSubmenu")||t.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>{var i;return(i=Pa(e))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem({scope:e,context:t,event:n,refs:i}){let r=fT(e,{key:n.key,value:t.get("highlightedValue"),typeaheadState:i.get("typeaheadState")});r&&t.set("highlightedValue",ai(r))},setParentMenu({refs:e,event:t,context:n}){e.set("parent",t.value),n.set("isSubmenu",!0)},setChildMenu({refs:e,event:t}){let n=e.get("children");n[t.id]=t.value,e.set("children",n)},closeSiblingMenus({refs:e,event:t,scope:n}){var a;let i=t.target;if(!Xg(i))return;let r=i==null?void 0:i.getAttribute("data-uid"),s=e.get("children");for(let o in s){if(o===r)continue;let l=s[o],c=l.context.get("intentPolygon");c&&t.point&&So(c,t.point)||((a=un(n))==null||a.focus({preventScroll:!0}),l.send({type:"CLOSE"}))}},closeRootMenu({refs:e}){Zg({parent:e.get("parent")})},openSubmenu({refs:e,scope:t,computed:n}){let i=t.getById(n("highlightedId")),r=i==null?void 0:i.getAttribute("data-uid"),s=e.get("children"),a=r?s[r]:null;a==null||a.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:e,event:t}){e.set("lastHighlightedValue",ai(t.target))},restoreHighlightedItem({context:e}){e.get("lastHighlightedValue")&&(e.set("highlightedValue",e.get("lastHighlightedValue")),e.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};CT=G()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]),Pk=_(CT),PT=G()(["closeOnSelect","disabled","value","valueText"]),Sk=_(PT),ST=G()(["htmlFor"]),Tk=_(ST),TT=G()(["id"]),Ok=_(TT),OT=G()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]),wk=_(OT),Jg=class extends K{constructor(){super(...arguments);Y(this,"children",[])}initMachine(t){return new W(bT,t)}initApi(){return vT(this.machine.service,q)}setChild(t){this.api.setChild(t.machine.service),this.children.includes(t)||this.children.push(t)}setParent(t){this.api.setParent(t.machine.service)}isOwnElement(t){return t.closest('[phx-hook="Menu"]')===this.el}renderSubmenuTriggers(){let t=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(!t)return;let n=t.querySelectorAll('[data-scope="menu"][data-nested-menu]');for(let i of n){if(!this.isOwnElement(i))continue;let r=i.dataset.nestedMenu;if(!r)continue;let s=this.children.find(o=>o.el.id===`menu:${r}`);if(!s)continue;let a=()=>{let o=this.api.getTriggerItemProps(s.api);this.spreadProps(i,o)};a(),this.machine.subscribe(a),s.machine.subscribe(a)}}render(){let t=this.el.querySelector('[data-scope="menu"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=this.el.querySelector('[data-scope="menu"][data-part="positioner"]'),i=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(n&&i){this.spreadProps(n,this.api.getPositionerProps()),this.spreadProps(i,this.api.getContentProps()),i.style.pointerEvents="auto",n.hidden=!this.api.open;let s=!this.el.querySelector('[data-scope="menu"][data-part="trigger"]');(this.api.open||s)&&(i.querySelectorAll('[data-scope="menu"][data-part="item"]').forEach(d=>{if(!this.isOwnElement(d))return;let h=d.dataset.value;if(h){let m=d.hasAttribute("data-disabled");this.spreadProps(d,this.api.getItemProps({value:h,disabled:m||void 0}))}}),i.querySelectorAll('[data-scope="menu"][data-part="item-group"]').forEach(d=>{if(!this.isOwnElement(d))return;let h=d.id;h&&this.spreadProps(d,this.api.getItemGroupProps({id:h}))}),i.querySelectorAll('[data-scope="menu"][data-part="separator"]').forEach(d=>{this.isOwnElement(d)&&this.spreadProps(d,this.api.getSeparatorProps())}))}let r=this.el.querySelector('[data-scope="menu"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}},wT={mounted(){let e=this.el;if(e.hasAttribute("data-nested"))return;let t=this.pushEvent.bind(this),n=()=>{var a;return(a=this.liveSocket)==null?void 0:a.main},i=new Jg(e,y(g({id:e.id.replace("menu:","")},P(e,"controlled")?{open:P(e,"open")}:{defaultOpen:P(e,"defaultOpen")}),{closeOnSelect:P(e,"closeOnSelect"),loopFocus:P(e,"loopFocus"),typeahead:P(e,"typeahead"),composite:P(e,"composite"),dir:O(e,"dir",["ltr","rtl"]),onSelect:a=>{var v,I,T;let o=P(e,"redirect"),l=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(w=>w.getAttribute("data-value")===a.value),c=l==null?void 0:l.getAttribute("data-redirect"),d=l==null?void 0:l.hasAttribute("data-new-tab"),h=n();o&&a.value&&((v=h==null?void 0:h.isDead)!=null?v:!0)&&c!=="false"&&(d?window.open(a.value,"_blank","noopener,noreferrer"):window.location.href=a.value);let u=O(e,"onSelect");u&&h&&!h.isDead&&h.isConnected()&&t(u,{id:e.id,value:(I=a.value)!=null?I:null});let p=O(e,"onSelectClient");p&&e.dispatchEvent(new CustomEvent(p,{bubbles:!0,detail:{id:e.id,value:(T=a.value)!=null?T:null}}))},onOpenChange:a=>{var d,h;let o=n(),l=O(e,"onOpenChange");l&&o&&!o.isDead&&o.isConnected()&&t(l,{id:e.id,open:(d=a.open)!=null?d:!1});let c=O(e,"onOpenChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{id:e.id,open:(h=a.open)!=null?h:!1}}))}}));i.init(),this.menu=i,this.nestedMenus=new Map;let r=e.querySelectorAll('[data-scope="menu"][data-nested="menu"]'),s=[];r.forEach((a,o)=>{var c;let l=a.id;if(l){let d=`${l}-${o}`,h=new Jg(a,{id:d,dir:O(a,"dir",["ltr","rtl"]),closeOnSelect:P(a,"closeOnSelect"),loopFocus:P(a,"loopFocus"),typeahead:P(a,"typeahead"),composite:P(a,"composite"),onSelect:m=>{var S,C,V;let u=P(e,"redirect"),p=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(k=>k.getAttribute("data-value")===m.value),v=p==null?void 0:p.getAttribute("data-redirect"),I=p==null?void 0:p.hasAttribute("data-new-tab"),T=n();u&&m.value&&((S=T==null?void 0:T.isDead)!=null?S:!0)&&v!=="false"&&(I?window.open(m.value,"_blank","noopener,noreferrer"):window.location.href=m.value);let b=O(e,"onSelect");b&&T&&!T.isDead&&T.isConnected()&&t(b,{id:e.id,value:(C=m.value)!=null?C:null});let f=O(e,"onSelectClient");f&&e.dispatchEvent(new CustomEvent(f,{bubbles:!0,detail:{id:e.id,value:(V=m.value)!=null?V:null}}))}});h.init(),(c=this.nestedMenus)==null||c.set(l,h),s.push(h)}}),setTimeout(()=>{s.forEach(a=>{this.menu&&(this.menu.setChild(a),a.setParent(this.menu))}),this.menu&&this.menu.children.length>0&&this.menu.renderSubmenuTriggers()},0),this.onSetOpen=a=>{let{open:o}=a.detail;i.api.open!==o&&i.api.setOpen(o)},e.addEventListener("phx:menu:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("menu_set_open",a=>{let o=a.menu_id;(!o||e.id===o||e.id===`menu:${o}`)&&i.api.setOpen(a.open)})),this.handlers.push(this.handleEvent("menu_open",()=>{this.pushEvent("menu_open_response",{open:i.api.open})}))},updated(){var e;this.el.hasAttribute("data-nested")||(e=this.menu)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlled")?{open:P(this.el,"open")}:{defaultOpen:P(this.el,"defaultOpen")}),{closeOnSelect:P(this.el,"closeOnSelect"),loopFocus:P(this.el,"loopFocus"),typeahead:P(this.el,"typeahead"),composite:P(this.el,"composite"),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(!this.el.hasAttribute("data-nested")){if(this.onSetOpen&&this.el.removeEventListener("phx:menu:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);if(this.nestedMenus)for(let[,t]of this.nestedMenus)t.destroy();(e=this.menu)==null||e.destroy()}}}});var mp={};ge(mp,{NumberInput:()=>rO});function xT(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!Oa){var i;let{unit:a,unitDisplay:o="short"}=t;if(!a)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=dp[a])===null||i===void 0)&&i[o]))throw new Error(`Unsupported unit ${a} with unitDisplay = ${o}`);t=y(g({},t),{style:"decimal"})}let r=e+(t?Object.entries(t).sort((a,o)=>a[0]<o[0]?-1:1).join():"");if(_l.has(r))return _l.get(r);let s=new Intl.NumberFormat(e,t);return _l.set(r,s),s}function kT(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let i=!1;if(t==="always"?i=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let r=e.format(-n),s=e.format(n),a=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...a].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(a,"+").replace("!!!",s)}else return e.format(n)}}function Gl(e,t,n){let i=rp(e,t);if(!e.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let r of NT)if(r!==i.options.numberingSystem){let s=rp(e+(e.includes("-u-")?"-nu-":"-u-nu-")+r,t);if(s.isValidPartialNumber(n))return s}}return i}function rp(e,t){let n=e+(t?Object.entries(t).sort((r,s)=>r[0]<s[0]?-1:1).join():""),i=ip.get(n);return i||(i=new RT(e,t),ip.set(n,i)),i}function LT(e,t,n,i){var r,s,a,o;let l=new Intl.NumberFormat(e,y(g({},n),{minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"})),c=l.formatToParts(-10000.111),d=l.formatToParts(10000.111),h=DT.map(A=>l.formatToParts(A));var m;let u=(m=(r=c.find(A=>A.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&m!==void 0?m:"-",p=(s=d.find(A=>A.type==="plusSign"))===null||s===void 0?void 0:s.value;!p&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(p="+");let I=(a=new Intl.NumberFormat(e,y(g({},n),{minimumFractionDigits:2,maximumFractionDigits:2})).formatToParts(.001).find(A=>A.type==="decimal"))===null||a===void 0?void 0:a.value,T=(o=c.find(A=>A.type==="group"))===null||o===void 0?void 0:o.value,w=c.filter(A=>!sp.has(A.type)).map(A=>ap(A.value)),b=h.flatMap(A=>A.filter(N=>!sp.has(N.type)).map(N=>ap(N.value))),f=[...new Set([...w,...b])].sort((A,N)=>N.length-A.length),S=f.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${f.join("|")}|[\\p{White_Space}]`,"gu"),C=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),V=new Map(C.map((A,N)=>[A,N])),k=new RegExp(`[${C.join("")}]`,"g");return{minusSign:u,plusSign:p,decimal:I,group:T,literals:S,numeral:k,index:A=>String(V.get(A))}}function Ji(e,t,n){return e.replaceAll?e.replaceAll(t,n):e.split(t).join(n)}function ap(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wl(e,t){if(!(!e||!t.isActiveElement(e)))try{let{selectionStart:n,selectionEnd:i,value:r}=e;return n==null||i==null?void 0:{start:n,end:i,value:r}}catch(n){return}}function FT(e,t,n){if(!(!e||!n.isActiveElement(e))){if(!t){let i=e.value.length;e.setSelectionRange(i,i);return}try{let i=e.value,{start:r,end:s,value:a}=t;if(i===a){e.setSelectionRange(r,s);return}let o=op(a,i,r),l=r===s?o:op(a,i,s),c=Math.max(0,Math.min(o,i.length)),d=Math.max(c,Math.min(l,i.length));e.setSelectionRange(c,d)}catch(i){let r=e.value.length;e.setSelectionRange(r,r)}}}function op(e,t,n){let i=e.slice(0,n),r=e.slice(n),s=0,a=Math.min(i.length,t.length);for(let c=0;c<a&&i[c]===t[c];c++)s=c+1;let o=0,l=Math.min(r.length,t.length-s);for(let c=0;c<l;c++){let d=r.length-1-c,h=t.length-1-c;if(r[d]===t[h])o=c+1;else break}if(i.length>0&&s>=i.length)return s;if(o>=r.length)return t.length-o;if(s>0)return s;if(o>0)return t.length-o;if(n===0&&s===0&&o===0)return t.length;if(e.length>0){let c=n/e.length;return Math.round(c*t.length)}return t.length}function YT(e,t){let{state:n,send:i,prop:r,scope:s,computed:a}=e,o=n.hasTag("focus"),l=a("isDisabled"),c=!!r("readOnly"),d=!!r("required"),h=n.matches("scrubbing"),m=a("isValueEmpty"),u=r("invalid")!==void 0?!!r("invalid"):a("isOutOfRange"),p=l||!a("canIncrement")||c,v=l||!a("canDecrement")||c,I=r("translations");return{focused:o,invalid:u,empty:m,value:a("formattedValue"),valueAsNumber:a("valueAsNumber"),setValue(T){i({type:"VALUE.SET",value:T})},clearValue(){i({type:"VALUE.CLEAR"})},increment(){i({type:"VALUE.INCREMENT"})},decrement(){i({type:"VALUE.DECREMENT"})},setToMax(){i({type:"VALUE.SET",value:r("max")})},setToMin(){i({type:"VALUE.SET",value:r("min")})},focus(){var T;(T=li(s))==null||T.focus()},getRootProps(){return t.element(y(g({id:$T(s)},Rn.root.attrs),{dir:r("dir"),"data-disabled":E(l),"data-focus":E(o),"data-invalid":E(u),"data-scrubbing":E(h)}))},getLabelProps(){return t.label(y(g({},Rn.label.attrs),{dir:r("dir"),"data-disabled":E(l),"data-focus":E(o),"data-invalid":E(u),"data-required":E(d),"data-scrubbing":E(h),id:BT(s),htmlFor:Br(s),onClick(){H(()=>{vi(li(s))})}}))},getControlProps(){return t.element(y(g({},Rn.control.attrs),{dir:r("dir"),role:"group","aria-disabled":l,"data-focus":E(o),"data-disabled":E(l),"data-invalid":E(u),"data-scrubbing":E(h),"aria-invalid":X(u)}))},getValueTextProps(){return t.element(y(g({},Rn.valueText.attrs),{dir:r("dir"),"data-disabled":E(l),"data-invalid":E(u),"data-focus":E(o),"data-scrubbing":E(h)}))},getInputProps(){return t.input(y(g({},Rn.input.attrs),{dir:r("dir"),name:r("name"),form:r("form"),id:Br(s),role:"spinbutton",defaultValue:a("formattedValue"),pattern:r("formatOptions")?void 0:r("pattern"),inputMode:r("inputMode"),"aria-invalid":X(u),"data-invalid":E(u),disabled:l,"data-disabled":E(l),readOnly:c,required:r("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":r("min"),"aria-valuemax":r("max"),"aria-valuenow":Number.isNaN(a("valueAsNumber"))?void 0:a("valueAsNumber"),"aria-valuetext":a("valueText"),"data-scrubbing":E(h),onFocus(){i({type:"INPUT.FOCUS"})},onBlur(){i({type:"INPUT.BLUR"})},onInput(T){let w=Wl(T.currentTarget,s);i({type:"INPUT.CHANGE",target:T.currentTarget,hint:"set",selection:w})},onBeforeInput(T){var w;try{let{selectionStart:b,selectionEnd:f,value:S}=T.currentTarget,C=S.slice(0,b)+((w=T.data)!=null?w:"")+S.slice(f);a("parser").isValidPartialNumber(C)||T.preventDefault()}catch(b){}},onKeyDown(T){if(T.defaultPrevented||c||De(T))return;let w=Ei(T)*r("step"),f={ArrowUp(){i({type:"INPUT.ARROW_UP",step:w}),T.preventDefault()},ArrowDown(){i({type:"INPUT.ARROW_DOWN",step:w}),T.preventDefault()},Home(){ke(T)||(i({type:"INPUT.HOME"}),T.preventDefault())},End(){ke(T)||(i({type:"INPUT.END"}),T.preventDefault())},Enter(S){let C=Wl(S.currentTarget,s);i({type:"INPUT.ENTER",selection:C})}}[T.key];f==null||f(T)}}))},getDecrementTriggerProps(){return t.button(y(g({},Rn.decrementTrigger.attrs),{dir:r("dir"),id:gp(s),disabled:v,"data-disabled":E(v),"aria-label":I.decrementLabel,type:"button",tabIndex:-1,"aria-controls":Br(s),"data-scrubbing":E(h),onPointerDown(T){var w;v||fe(T)&&(i({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:T.pointerType}),T.pointerType==="mouse"&&T.preventDefault(),T.pointerType==="touch"&&((w=T.currentTarget)==null||w.focus({preventScroll:!0})))},onPointerUp(T){i({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:T.pointerType})},onPointerLeave(){v||i({type:"TRIGGER.PRESS_UP",hint:"decrement"})}}))},getIncrementTriggerProps(){return t.button(y(g({},Rn.incrementTrigger.attrs),{dir:r("dir"),id:hp(s),disabled:p,"data-disabled":E(p),"aria-label":I.incrementLabel,type:"button",tabIndex:-1,"aria-controls":Br(s),"data-scrubbing":E(h),onPointerDown(T){var w;p||!fe(T)||(i({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:T.pointerType}),T.pointerType==="mouse"&&T.preventDefault(),T.pointerType==="touch"&&((w=T.currentTarget)==null||w.focus({preventScroll:!0})))},onPointerUp(T){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:T.pointerType})},onPointerLeave(T){i({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:T.pointerType})}}))},getScrubberProps(){return t.element(y(g({},Rn.scrubber.attrs),{dir:r("dir"),"data-disabled":E(l),id:HT(s),role:"presentation","data-scrubbing":E(h),onMouseDown(T){if(l||!fe(T))return;let w=Qe(T),f=he(T.currentTarget).devicePixelRatio;w.x=w.x-ki(7.5,f),w.y=w.y-ki(7.5,f),i({type:"SCRUBBER.PRESS_DOWN",point:w}),T.preventDefault(),H(()=>{vi(li(s))})},style:{cursor:l?void 0:"ew-resize"}}))}}}var _l,ql,Oa,dp,VT,AT,NT,up,ip,RT,sp,DT,MT,Rn,$T,Br,hp,gp,HT,pp,BT,li,_T,GT,fp,UT,qT,WT,KT,zT,jT,XT,Ul,oi,ZT,JT,QT,eO,lp,cp,tO,nO,Ak,iO,rO,vp=re(()=>{"use strict";ae();_l=new Map,ql=!1;try{ql=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch(e){}Oa=!1;try{Oa=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch(e){}dp={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}},VT=class{format(e){let t="";if(!ql&&this.options.signDisplay!=null?t=kT(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!Oa){var n;let{unit:i,unitDisplay:r="short",locale:s}=this.resolvedOptions();if(!i)return t;let a=(n=dp[i])===null||n===void 0?void 0:n[r];t+=a[s]||a.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} \u2013 ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(t);return[...n.map(r=>y(g({},r),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(r=>y(g({},r),{source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!ql&&this.options.signDisplay!=null&&(e=y(g({},e),{signDisplay:this.options.signDisplay})),!Oa&&this.options.style==="unit"&&(e=y(g({},e),{style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay})),e}constructor(e,t={}){this.numberFormatter=xT(e,t),this.options=t}};AT=new RegExp("^.*\\(.*\\).*$"),NT=["latn","arab","hanidec","deva","beng","fullwide"],up=class{parse(e){return Gl(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,n){return Gl(this.locale,this.options,e).isValidPartialNumber(e,t,n)}getNumberingSystem(e){return Gl(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}},ip=new Map;RT=class{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=Ji(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-",""),t=t.replace("+","");let a=t.indexOf(".");a===-1&&(a=t.length),t=t.replace(".",""),a-2===0?t=`0.${t}`:a-2===-1?t=`0.0${t}`:a-2===-2?t="0.00":t=`${t.slice(0,a-2)}.${t.slice(a-2)}`,s>-1&&(t=`-${t}`)}let n=t?+t:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,r;let s=y(g({},this.options),{style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)+2,20)});return new up(this.locale,s).parse(new VT(this.locale,s).format(n))}return this.options.currencySign==="accounting"&&AT.test(e)&&(n=-1*n),n}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("\u060C",this.symbols.decimal)),this.symbols.group&&(e=Ji(e,".",this.symbols.group))),this.symbols.group==="\u2019"&&e.includes("'")&&(e=Ji(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Ji(e," ",this.symbols.group),e=Ji(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,t=-1/0,n=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&n>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Ji(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,t.roundingIncrement!==1&&t.roundingIncrement!=null&&(t.maximumFractionDigits==null&&t.minimumFractionDigits==null?(t.maximumFractionDigits=0,t.minimumFractionDigits=0):t.maximumFractionDigits==null?t.maximumFractionDigits=t.minimumFractionDigits:t.minimumFractionDigits==null&&(t.minimumFractionDigits=t.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=LT(e,this.formatter,this.options,t);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}},sp=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),DT=[0,4,2,1,11,20,3,7,100,21,.1,1.1];MT=U("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),Rn=MT.build();$T=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`number-input:${e.id}`},Br=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`number-input:${e.id}:input`},hp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.incrementTrigger)!=null?n:`number-input:${e.id}:inc`},gp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.decrementTrigger)!=null?n:`number-input:${e.id}:dec`},HT=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.scrubber)!=null?n:`number-input:${e.id}:scrubber`},pp=e=>`number-input:${e.id}:cursor`,BT=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`number-input:${e.id}:label`},li=e=>e.getById(Br(e)),_T=e=>e.getById(hp(e)),GT=e=>e.getById(gp(e)),fp=e=>e.getDoc().getElementById(pp(e)),UT=(e,t)=>{let n=null;return t==="increment"&&(n=_T(e)),t==="decrement"&&(n=GT(e)),n},qT=(e,t)=>{if(!et())return zT(e,t),()=>{var n;(n=fp(e))==null||n.remove()}},WT=e=>{let t=e.getDoc(),n=t.documentElement,i=t.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},KT=(e,t)=>{let{point:n,isRtl:i,event:r}=t,s=e.getWin(),a=ki(r.movementX,s.devicePixelRatio),o=ki(r.movementY,s.devicePixelRatio),l=a>0?"increment":a<0?"decrement":null;i&&l==="increment"&&(l="decrement"),i&&l==="decrement"&&(l="increment");let c={x:n.x+a,y:n.y+o},d=s.innerWidth,h=ki(7.5,s.devicePixelRatio);return c.x=dd(c.x+h,d)-h,{hint:l,point:c}},zT=(e,t)=>{let n=e.getDoc(),i=n.createElement("div");i.className="scrubber--cursor",i.id=pp(e),Object.assign(i.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:us,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),i.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(i)};jT=(e,t={})=>new Intl.NumberFormat(e,t),XT=(e,t={})=>new up(e,t),Ul=(e,t)=>{let{prop:n,computed:i}=t;return n("formatOptions")?e===""?Number.NaN:i("parser").parse(e):parseFloat(e)},oi=(e,t)=>{let{prop:n,computed:i}=t;return Number.isNaN(e)?"":n("formatOptions")?i("formatter").format(e):e.toString()},ZT=(e,t)=>{let n=e!==void 0&&!Number.isNaN(e)?e:1;return(t==null?void 0:t.style)==="percent"&&(e===void 0||Number.isNaN(e))&&(n=.01),n},{choose:JT,guards:QT,createMachine:eO}=ht(),{not:lp,and:cp}=QT,tO=eO({props({props:e}){let t=ZT(e.step,e.formatOptions);return y(g({dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0},e),{translations:g({incrementLabel:"increment value",decrementLabel:"decrease value"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:n}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(i){var a;let r=n(),s=Ul(i,{computed:r,prop:e});(a=e("onValueChange"))==null||a({value:i,valueAsNumber:s})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(i){return i?`x:${i.x}, y:${i.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:n})=>Ul(e.get("value"),{computed:t,prop:n}),formattedValue:({computed:e,prop:t})=>oi(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>hd(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>ud(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!xi(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>{var n,i;return(i=(n=e("translations")).valueText)==null?void 0:i.call(n,t.get("value"))},formatter:Yn(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>jT(e,t)),parser:Yn(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>XT(e,t))},watch({track:e,action:t,context:n,computed:i,prop:r}){e([()=>n.get("value"),()=>r("locale"),()=>JSON.stringify(r("formatOptions"))],()=>{t(["syncInputElement"])}),e([()=>i("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>n.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:cp("clampValueOnBlur",lp("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]},{guard:lp("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid","invokeOnValueCommit"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:JT([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:cp("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>{var n;return((n=t.hint)!=null?n:e.get("hint"))==="decrement"},isIncrementHint:({context:e,event:t})=>{var n;return((n=t.hint)!=null?n:e.get("hint"))==="increment"},isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){let t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){let t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){let n=li(t);return xt(n,{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){let n=e.get("scrubberCursorPoint");return qT(t,n)},preventTextSelection({scope:e}){return WT(e)},trackButtonDisabled({context:e,scope:t,send:n}){let i=e.get("hint"),r=UT(t,i);return ct(r,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:n}){let i=li(e);if(!i||!e.isActiveElement(i)||!n("allowMouseWheel"))return;function r(s){s.preventDefault();let a=Math.sign(s.deltaY)*-1;a===1?t({type:"VALUE.INCREMENT"}):a===-1&&t({type:"VALUE.DECREMENT"})}return Q(i,"wheel",r,{passive:!1})},activatePointerLock({scope:e}){if(!et())return jc(e.getDoc())},trackMousemove({scope:e,send:t,context:n,computed:i}){let r=e.getDoc();function s(o){let l=n.get("scrubberCursorPoint"),c=i("isRtl"),d=KT(e,{point:l,isRtl:c,event:o});d.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:d.hint,point:d.point})}function a(){t({type:"SCRUBBER.POINTER_UP"})}return Nt(Q(r,"mousemove",s,!1),Q(r,"mouseup",a,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;let n=li(e);e.isActiveElement(n)||H(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:e,event:t,prop:n,computed:i}){var s;let r=fd(i("valueAsNumber"),(s=t.step)!=null?s:n("step"));n("allowOverflow")||(r=Be(r,n("min"),n("max"))),e.set("value",oi(r,{computed:i,prop:n}))},decrement({context:e,event:t,prop:n,computed:i}){var s;let r=md(i("valueAsNumber"),(s=t.step)!=null?s:n("step"));n("allowOverflow")||(r=Be(r,n("min"),n("max"))),e.set("value",oi(r,{computed:i,prop:n}))},setClampedValue({context:e,prop:t,computed:n}){let i=Be(n("valueAsNumber"),t("min"),t("max"));e.set("value",oi(i,{computed:n,prop:t}))},setRawValue({context:e,event:t,prop:n,computed:i}){let r=Ul(t.value,{computed:i,prop:n});n("allowOverflow")||(r=Be(r,n("min"),n("max"))),e.set("value",oi(r,{computed:i,prop:n}))},setValue({context:e,event:t}){var i,r;let n=(r=(i=t.target)==null?void 0:i.value)!=null?r:t.value;e.set("value",n)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:n}){let i=oi(t("max"),{computed:n,prop:t});e.set("value",i)},decrementToMin({context:e,prop:t,computed:n}){let i=oi(t("min"),{computed:n,prop:t});e.set("value",i)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){var n;(n=t("onFocusChange"))==null||n({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){var n;(n=t("onFocusChange"))==null||n({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:n}){var r;if(n.type==="INPUT.CHANGE")return;let i=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";(r=t("onValueInvalid"))==null||r({reason:i,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnValueCommit({computed:e,prop:t}){var n;(n=t("onValueCommit"))==null||n({value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:n,scope:i}){var o;let r=t.type.endsWith("CHANGE")?e.get("value"):n("formattedValue"),s=li(i),a=(o=t.selection)!=null?o:Wl(s,i);H(()=>{Fe(s,r),FT(s,a,i)})},setFormattedValue({context:e,computed:t,action:n}){e.set("value",t("formattedValue")),n(["syncInputElement"])},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){let n=fp(t),i=e.get("scrubberCursorPoint");!n||!i||(n.style.transform=`translate3d(${i.x}px, ${i.y}px, 0px)`)}}}}),nO=G()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueCommit","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]),Ak=_(nO),iO=class extends K{initMachine(e){return new W(tO,e)}initApi(){return YT(this.machine.service,q)}render(){var l;let e=(l=this.el.querySelector('[data-scope="number-input"][data-part="root"]'))!=null?l:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="number-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="number-input"][data-part="control"]');n&&this.spreadProps(n,this.api.getControlProps());let i=this.el.querySelector('[data-scope="number-input"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let r=this.el.querySelector('[data-scope="number-input"][data-part="input"]');r&&this.spreadProps(r,this.api.getInputProps());let s=this.el.querySelector('[data-scope="number-input"][data-part="decrement-trigger"]');s&&this.spreadProps(s,this.api.getDecrementTriggerProps());let a=this.el.querySelector('[data-scope="number-input"][data-part="increment-trigger"]');a&&this.spreadProps(a,this.api.getIncrementTriggerProps());let o=this.el.querySelector('[data-scope="number-input"][data-part="scrubber"]');o&&(this.spreadProps(o,this.api.getScrubberProps()),o.setAttribute("aria-label","Scrub to adjust value"),o.removeAttribute("role"))}},rO={mounted(){let e=this.el,t=O(e,"value"),n=O(e,"defaultValue"),i=P(e,"controlled"),r=new iO(e,y(g({id:e.id},i&&t!==void 0?{value:t}:{defaultValue:n}),{min:z(e,"min"),max:z(e,"max"),step:z(e,"step"),disabled:P(e,"disabled"),readOnly:P(e,"readOnly"),invalid:P(e,"invalid"),required:P(e,"required"),allowMouseWheel:P(e,"allowMouseWheel"),name:O(e,"name"),form:O(e,"form"),onValueChange:s=>{let a=e.querySelector('[data-scope="number-input"][data-part="input"]');a&&(a.value=s.value,a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0})));let o=O(e,"onValueChange");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:s.value,valueAsNumber:s.valueAsNumber,id:e.id});let l=O(e,"onValueChangeClient");l&&e.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:{value:s,id:e.id}}))}}));r.init(),this.numberInput=r,this.handlers=[]},updated(){var n;let e=O(this.el,"value"),t=P(this.el,"controlled");(n=this.numberInput)==null||n.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e}:{}),{min:z(this.el,"min"),max:z(this.el,"max"),step:z(this.el,"step"),disabled:P(this.el,"disabled"),readOnly:P(this.el,"readOnly"),invalid:P(this.el,"invalid"),required:P(this.el,"required"),name:O(this.el,"name"),form:O(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.numberInput)==null||e.destroy()}}});var yp={};ge(yp,{PasswordInput:()=>uO});function aO(e,t){let{scope:n,prop:i,context:r}=e,s=r.get("visible"),a=!!i("disabled"),o=!!i("invalid"),l=!!i("readOnly"),c=!!i("required"),d=!(l||a),h=i("translations");return{visible:s,disabled:a,invalid:o,focus(){var m;(m=Kl(n))==null||m.focus()},setVisible(m){e.send({type:"VISIBILITY.SET",value:m})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!s})},getRootProps(){return t.element(y(g({},Qi.root.attrs),{dir:i("dir"),"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}))},getLabelProps(){return t.label(y(g({},Qi.label.attrs),{htmlFor:wa(n),"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l),"data-required":E(c)}))},getInputProps(){return t.input(g(y(g({},Qi.input.attrs),{id:wa(n),autoCapitalize:"off",name:i("name"),required:i("required"),autoComplete:i("autoComplete"),spellCheck:!1,readOnly:l,disabled:a,type:s?"text":"password","data-state":s?"visible":"hidden","aria-invalid":X(o),"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}),i("ignorePasswordManagers")?oO:{}))},getVisibilityTriggerProps(){var m;return t.button(y(g({},Qi.visibilityTrigger.attrs),{type:"button",tabIndex:-1,"aria-controls":wa(n),"aria-expanded":s,"data-readonly":E(l),disabled:a,"data-disabled":E(a),"data-state":s?"visible":"hidden","aria-label":(m=h==null?void 0:h.visibilityTrigger)==null?void 0:m.call(h,s),onPointerDown(u){fe(u)&&d&&(u.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}}))},getIndicatorProps(){return t.element(y(g({},Qi.indicator.attrs),{"aria-hidden":!0,"data-state":s?"visible":"hidden","data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}))},getControlProps(){return t.element(y(g({},Qi.control.attrs),{"data-disabled":E(a),"data-invalid":E(o),"data-readonly":E(l)}))}}}var sO,Qi,wa,Kl,oO,lO,cO,$k,dO,uO,bp=re(()=>{"use strict";ae();sO=U("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),Qi=sO.build(),wa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`p-input-${e.id}-input`},Kl=e=>e.getById(wa(e));oO={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},lO={props({props:e}){return y(g({id:vr(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1},e),{translations:g({visibilityTrigger(t){return t?"Hide password":"Show password"}},e.translations)})},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){var i;(i=e("onVisibilityChange"))==null||i({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){let t=Kl(e);t==null||t.focus()}},effects:{trackFormEvents({scope:e,send:t}){let n=Kl(e),i=n==null?void 0:n.form;if(!i)return;let r=e.getWin(),s=new r.AbortController;return i.addEventListener("reset",a=>{a.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),i.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),()=>s.abort()}}}},cO=G()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]),$k=_(cO),dO=class extends K{initMachine(e){return new W(lO,e)}initApi(){return aO(this.machine.service,q)}render(){var a;let e=(a=this.el.querySelector('[data-scope="password-input"][data-part="root"]'))!=null?a:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="password-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="password-input"][data-part="control"]');n&&this.spreadProps(n,this.api.getControlProps());let i=this.el.querySelector('[data-scope="password-input"][data-part="input"]');i&&this.spreadProps(i,this.api.getInputProps());let r=this.el.querySelector('[data-scope="password-input"][data-part="visibility-trigger"]');r&&this.spreadProps(r,this.api.getVisibilityTriggerProps());let s=this.el.querySelector('[data-scope="password-input"][data-part="indicator"]');s&&this.spreadProps(s,this.api.getIndicatorProps())}},uO={mounted(){let e=this.el,t=new dO(e,y(g({id:e.id},P(e,"controlledVisible")?{visible:P(e,"visible")}:{defaultVisible:P(e,"defaultVisible")}),{disabled:P(e,"disabled"),invalid:P(e,"invalid"),readOnly:P(e,"readOnly"),required:P(e,"required"),ignorePasswordManagers:P(e,"ignorePasswordManagers"),name:O(e,"name"),dir:Ve(e),autoComplete:O(e,"autoComplete",["current-password","new-password"]),onVisibilityChange:n=>{let i=O(e,"onVisibilityChange");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(i,{visible:n.visible,id:e.id});let r=O(e,"onVisibilityChangeClient");r&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:{value:n,id:e.id}}))}}));t.init(),this.passwordInput=t,this.handlers=[]},updated(){var e;(e=this.passwordInput)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlledVisible")?{visible:P(this.el,"visible")}:{}),{disabled:P(this.el,"disabled"),invalid:P(this.el,"invalid"),readOnly:P(this.el,"readOnly"),required:P(this.el,"required"),name:O(this.el,"name"),form:O(this.el,"form"),dir:Ve(this.el)}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.passwordInput)==null||e.destroy()}}});var Pp={};ge(Pp,{PinInput:()=>OO});function bO(e,t){var n;return e?!!((n=yO[e])!=null&&n.test(t)):!0}function Ip(e,t,n){return n?new RegExp(n,"g").test(e):bO(t,e)}function EO(e,t){let{send:n,context:i,computed:r,prop:s,scope:a}=e,o=r("isValueComplete"),l=!!s("disabled"),c=!!s("readOnly"),d=!!s("invalid"),h=!!s("required"),m=s("translations"),u=i.get("focusedIndex");function p(){var v;(v=vO(a))==null||v.focus()}return{focus:p,count:i.get("count"),items:Array.from({length:i.get("count")}).map((v,I)=>I),value:i.get("value"),valueAsString:r("valueAsString"),complete:o,setValue(v){Array.isArray(v)||Ss("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:v})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(v,I){n({type:"VALUE.SET",value:I,index:v})},getRootProps(){return t.element(y(g({dir:s("dir")},Va.root.attrs),{id:Gr(a),"data-invalid":E(d),"data-disabled":E(l),"data-complete":E(o),"data-readonly":E(c)}))},getLabelProps(){return t.label(y(g({},Va.label.attrs),{dir:s("dir"),htmlFor:Yl(a),id:pO(a),"data-invalid":E(d),"data-disabled":E(l),"data-complete":E(o),"data-required":E(h),"data-readonly":E(c),onClick(v){v.preventDefault(),p()}}))},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:Yl(a),readOnly:c,disabled:l,required:h,name:s("name"),form:s("form"),style:kt,maxLength:r("valueLength"),defaultValue:r("valueAsString")})},getControlProps(){return t.element(y(g({},Va.control.attrs),{dir:s("dir"),id:fO(a)}))},getInputProps(v){var w;let{index:I}=v,T=s("type")==="numeric"?"tel":"text";return t.input(y(g({},Va.input.attrs),{dir:s("dir"),disabled:l,"data-disabled":E(l),"data-complete":E(o),id:gO(a,I.toString()),"data-index":I,"data-ownedby":Gr(a),"aria-label":(w=m==null?void 0:m.inputLabel)==null?void 0:w.call(m,I,r("valueLength")),inputMode:s("otp")||s("type")==="numeric"?"numeric":"text","aria-invalid":X(d),"data-invalid":E(d),type:s("mask")?"password":T,defaultValue:i.get("value")[I]||"",readOnly:c,autoCapitalize:"none",autoComplete:s("otp")?"one-time-code":"off",placeholder:u===I?"":s("placeholder"),onPaste(b){var C;let f=(C=b.clipboardData)==null?void 0:C.getData("text/plain");if(!f)return;if(!Ip(f,s("type"),s("pattern"))){n({type:"VALUE.INVALID",value:f}),b.preventDefault();return}b.preventDefault(),n({type:"INPUT.PASTE",value:f})},onBeforeInput(b){try{let f=$c(b);Ip(f,s("type"),s("pattern"))||(n({type:"VALUE.INVALID",value:f}),b.preventDefault()),f.length>1&&b.currentTarget.setSelectionRange(0,1,"forward")}catch(f){}},onChange(b){let f=bt(b),{value:S}=b.currentTarget;if(f.inputType==="insertFromPaste"){b.currentTarget.value=S[0]||"";return}if(S.length>2){n({type:"INPUT.PASTE",value:S}),b.currentTarget.value=S[0],b.preventDefault();return}if(f.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:S,index:I})},onKeyDown(b){if(b.defaultPrevented||De(b)||ke(b))return;let S={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[pe(b,{dir:s("dir"),orientation:"horizontal"})];S&&(S(b),b.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:I})},onBlur(b){let f=b.relatedTarget;de(f)&&f.dataset.ownedby===Gr(a)||n({type:"INPUT.BLUR",index:I})}}))}}}function Cp(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);let i=n.split("");return n=i[i.length-1],n!=null?n:""}function xa(e,t){return Array.from({length:t}).fill("").map((n,i)=>e[i]||n)}var hO,Va,Gr,gO,Yl,pO,fO,mO,ka,_r,vO,Ep,zl,yO,IO,CO,PO,SO,Gk,TO,OO,Sp=re(()=>{"use strict";ae();hO=U("pinInput").parts("root","label","input","control"),Va=hO.build(),Gr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`pin-input:${e.id}`},gO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.input)==null?void 0:i.call(n,t))!=null?r:`pin-input:${e.id}:${t}`},Yl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`pin-input:${e.id}:hidden`},pO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`pin-input:${e.id}:label`},fO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`pin-input:${e.id}:control`},mO=e=>e.getById(Gr(e)),ka=e=>{let n=`input[data-ownedby=${CSS.escape(Gr(e))}]`;return $e(mO(e),n)},_r=(e,t)=>ka(e)[t],vO=e=>ka(e)[0],Ep=e=>e.getById(Yl(e)),zl=(e,t)=>{e.value=t,e.setAttribute("value",t)},yO={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};({choose:IO,createMachine:CO}=ht()),PO=CO({props({props:e}){return y(g({placeholder:"\u25CB",otp:!1,type:"numeric",defaultValue:e.count?xa([],e.count):[]},e),{translations:g({inputLabel:(t,n)=>`pin code ${t+1} of ${n}`},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:me,onChange(n){var i;(i=e("onValueChange"))==null||i({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>xa(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>(t==null?void 0:t.trim())!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:IO([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:i}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>i("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){let n=Ep(t);Gc(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;let i=ka(e);t.set("count",i.length)},focusInput({context:e,scope:t}){var i;let n=e.get("focusedIndex");n!==-1&&((i=_r(t,n))==null||i.focus({preventScroll:!0}))},selectInputIfNeeded({context:e,prop:t,scope:n}){let i=e.get("focusedIndex");!t("selectOnFocus")||i===-1||H(()=>{var r;(r=_r(n,i))==null||r.select()})},invokeOnComplete({computed:e,prop:t}){var n;e("isValueComplete")&&((n=t("onValueComplete"))==null||n({value:e("_value"),valueAsString:e("valueAsString")}))},invokeOnInvalid({context:e,event:t,prop:n}){var i;(i=n("onValueInvalid"))==null||i({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){let n=xa(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:i}){let r=n("focusedValue"),s=e.get("focusedIndex"),a=Cp(r,t.value);i(()=>{e.set("value",Ps(n("_value"),s,a))})},revertInputValue({context:e,computed:t,scope:n}){let i=_r(n,e.get("focusedIndex"));zl(i,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){let i=e.get("value"),r=_r(n,t.index);zl(r,i[t.index])},syncInputElements({context:e,scope:t}){let n=ka(t),i=e.get("value");n.forEach((r,s)=>{zl(r,i[s])})},setPastedValue({context:e,event:t,computed:n,flush:i}){H(()=>{let r=n("valueAsString"),s=e.get("focusedIndex"),a=n("valueLength"),o=n("filledValueLength"),l=Math.min(s,o),c=l>0?r.substring(0,s):"",d=t.value.substring(0,a-l),h=xa(`${c}${d}`.split(""),a);i(()=>{e.set("value",h)})})},setValueAtIndex({context:e,event:t,computed:n}){let i=Cp(n("focusedValue"),t.value);e.set("value",Ps(n("_value"),t.index,i))},clearValue({context:e}){let t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){let n=e.get("focusedIndex");n!==-1&&e.set("value",Ps(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){H(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&H(()=>{var i;(i=_r(n,e.get("focusedIndex")))==null||i.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){var r;if(!t("name")||!e("isValueComplete"))return;let i=Ep(n);(r=i==null?void 0:i.form)==null||r.requestSubmit()}}}});SO=G()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]),Gk=_(SO),TO=class extends K{initMachine(e){return new W(PO,e)}initApi(){return EO(this.machine.service,q)}render(){var r;let e=(r=this.el.querySelector('[data-scope="pin-input"][data-part="root"]'))!=null?r:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="pin-input"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="pin-input"][data-part="hidden-input"]');n&&this.spreadProps(n,this.api.getHiddenInputProps());let i=this.el.querySelector('[data-scope="pin-input"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps()),this.api.items.forEach(s=>{let a=this.el.querySelector(`[data-scope="pin-input"][data-part="input"][data-index="${s}"]`);a&&this.spreadProps(a,this.api.getInputProps({index:s}))})}},OO={mounted(){var s;let e=this.el,t=J(e,"value"),n=J(e,"defaultValue"),i=P(e,"controlled"),r=new TO(e,y(g({id:e.id,count:(s=z(e,"count"))!=null?s:4},i&&t?{value:t}:{defaultValue:n!=null?n:[]}),{disabled:P(e,"disabled"),invalid:P(e,"invalid"),required:P(e,"required"),readOnly:P(e,"readOnly"),mask:P(e,"mask"),otp:P(e,"otp"),blurOnComplete:P(e,"blurOnComplete"),selectOnFocus:P(e,"selectOnFocus"),name:O(e,"name"),form:O(e,"form"),dir:O(e,"dir",["ltr","rtl"]),type:O(e,"type",["alphanumeric","numeric","alphabetic"]),placeholder:O(e,"placeholder"),onValueChange:a=>{let o=e.querySelector('[data-scope="pin-input"][data-part="hidden-input"]');o&&(o.value=a.valueAsString,o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})));let l=O(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(l,{value:a.value,valueAsString:a.valueAsString,id:e.id});let c=O(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{value:a,id:e.id}}))},onValueComplete:a=>{let o=O(e,"onValueComplete");o&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(o,{value:a.value,valueAsString:a.valueAsString,id:e.id})}}));r.init(),this.pinInput=r,this.handlers=[]},updated(){var n,i,r,s;let e=J(this.el,"value"),t=P(this.el,"controlled");(s=this.pinInput)==null||s.updateProps(y(g({id:this.el.id,count:(r=(i=z(this.el,"count"))!=null?i:(n=this.pinInput)==null?void 0:n.api.count)!=null?r:4},t&&e?{value:e}:{}),{disabled:P(this.el,"disabled"),invalid:P(this.el,"invalid"),required:P(this.el,"required"),readOnly:P(this.el,"readOnly"),name:O(this.el,"name"),form:O(this.el,"form")}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.pinInput)==null||e.destroy()}}});var xp={};ge(xp,{RadioGroup:()=>GO});function MO(e,t){let{context:n,send:i,computed:r,prop:s,scope:a}=e,o=r("isDisabled"),l=s("invalid"),c=s("readOnly");function d(u){return{value:u.value,invalid:!!u.invalid||!!l,disabled:!!u.disabled||o,checked:n.get("value")===u.value,focused:n.get("focusedValue")===u.value,focusVisible:n.get("focusVisibleValue")===u.value,hovered:n.get("hoveredValue")===u.value,active:n.get("activeValue")===u.value}}function h(u){let p=d(u);return{"data-focus":E(p.focused),"data-focus-visible":E(p.focusVisible),"data-disabled":E(p.disabled),"data-readonly":E(c),"data-state":p.checked?"checked":"unchecked","data-hover":E(p.hovered),"data-invalid":E(p.invalid),"data-orientation":s("orientation"),"data-ssr":E(n.get("ssr"))}}let m=()=>{var p;let u=(p=RO(a))!=null?p:NO(a);u==null||u.focus()};return{focus:m,value:n.get("value"),setValue(u){i({type:"SET_VALUE",value:u,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element(y(g({},er.root.attrs),{role:"radiogroup",id:Aa(a),"aria-labelledby":Tp(a),"aria-required":s("required")||void 0,"aria-disabled":o||void 0,"aria-readonly":c||void 0,"data-orientation":s("orientation"),"data-disabled":E(o),"data-invalid":E(l),"data-required":E(s("required")),"aria-orientation":s("orientation"),dir:s("dir"),style:{position:"relative"}}))},getLabelProps(){return t.element(y(g({},er.label.attrs),{dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":E(o),"data-invalid":E(l),"data-required":E(s("required")),id:Tp(a),onClick:m}))},getItemState:d,getItemProps(u){let p=d(u);return t.label(y(g(y(g({},er.item.attrs),{dir:s("dir"),id:wp(a,u.value),htmlFor:jl(a,u.value)}),h(u)),{onPointerMove(){p.disabled||p.hovered||i({type:"SET_HOVERED",value:u.value,hovered:!0})},onPointerLeave(){p.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(v){p.disabled||fe(v)&&(p.focused&&v.pointerType==="mouse"&&v.preventDefault(),i({type:"SET_ACTIVE",value:u.value,active:!0}))},onPointerUp(){p.disabled||i({type:"SET_ACTIVE",value:null})},onClick(){var v;!p.disabled&&et()&&((v=kO(a,u.value))==null||v.focus())}}))},getItemTextProps(u){return t.element(g(y(g({},er.itemText.attrs),{dir:s("dir"),id:xO(a,u.value)}),h(u)))},getItemControlProps(u){let p=d(u);return t.element(g(y(g({},er.itemControl.attrs),{dir:s("dir"),id:VO(a,u.value),"data-active":E(p.active),"aria-hidden":!0}),h(u)))},getItemHiddenInputProps(u){let p=d(u);return t.input({"data-ownedby":Aa(a),id:jl(a,u.value),type:"radio",name:s("name")||s("id"),form:s("form"),value:u.value,required:s("required"),"aria-invalid":p.invalid||void 0,onClick(v){if(c){v.preventDefault();return}v.currentTarget.checked&&i({type:"SET_VALUE",value:u.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){let v=Pn();i({type:"SET_FOCUSED",value:u.value,focused:!0,focusVisible:v})},onKeyDown(v){v.defaultPrevented||v.key===" "&&i({type:"SET_ACTIVE",value:u.value,active:!0})},onKeyUp(v){v.defaultPrevented||v.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:p.disabled||c,defaultChecked:p.checked,style:kt})},getIndicatorProps(){let u=n.get("indicatorRect"),p=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(y(g({id:Vp(a)},er.indicator.attrs),{dir:s("dir"),hidden:n.get("value")==null||p,"data-disabled":E(o),"data-orientation":s("orientation"),style:{"--transition-property":"left, top, width, height","--left":be(u==null?void 0:u.x),"--top":be(u==null?void 0:u.y),"--width":be(u==null?void 0:u.width),"--height":be(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[s("orientation")==="horizontal"?"left":"top"]:s("orientation")==="horizontal"?"var(--left)":"var(--top)"}}))}}}var wO,er,Aa,Tp,wp,jl,VO,xO,Vp,Na,kO,AO,NO,RO,Op,DO,LO,FO,$O,HO,zk,BO,Yk,_O,GO,kp=re(()=>{"use strict";On();ae();wO=U("radio-group").parts("root","label","item","itemText","itemControl","indicator"),er=wO.build(),Aa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`radio-group:${e.id}`},Tp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`radio-group:${e.id}:label`},wp=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:${t}`},jl=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:input:${t}`},VO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:control:${t}`},xO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,t))!=null?r:`radio-group:${e.id}:radio:label:${t}`},Vp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicator)!=null?n:`radio-group:${e.id}:indicator`},Na=e=>e.getById(Aa(e)),kO=(e,t)=>e.getById(jl(e,t)),AO=e=>e.getById(Vp(e)),NO=e=>{var t;return(t=Na(e))==null?void 0:t.querySelector("input:not(:disabled)")},RO=e=>{var t;return(t=Na(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},Op=e=>{let n=`input[type=radio][data-ownedby='${CSS.escape(Aa(e))}']:not([disabled])`;return $e(Na(e),n)},DO=(e,t)=>{if(t)return e.getById(wp(e,t))},LO=e=>{var t,n,i,r;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(n=e==null?void 0:e.offsetTop)!=null?n:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(r=e==null?void 0:e.offsetHeight)!=null?r:0}};({not:FO}=Ie()),$O={props({props:e}){return g({orientation:"vertical"},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),focusVisibleValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:n}){e([()=>n.get("value")],()=>{t(["syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:FO("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return xt(Na(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){var t;return Ke({root:(t=e.getRootNode)==null?void 0:t.call(e)})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t}){e.set("focusedValue",t.value);let n=t.value!=null&&t.focusVisible?t.value:null;e.set("focusVisibleValue",n)},syncInputElements({context:e,scope:t}){Op(t).forEach(i=>{i.checked=i.value===e.get("value")})},cleanupObserver({refs:e}){var t;(t=e.get("indicatorCleanup"))==null||t()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:n}){var o;if((o=n.get("indicatorCleanup"))==null||o(),!AO(t))return;let i=e.get("value"),r=DO(t,i);if(i==null||!r){e.set("indicatorRect",null);return}let s=()=>{e.set("indicatorRect",LO(r))};s();let a=mn.observe(r,s);n.set("indicatorCleanup",a)},dispatchChangeEvent({context:e,scope:t}){Op(t).forEach(i=>{let r=i.value===e.get("value");r!==i.checked&&Ii(i,{checked:r})})}}}},HO=G()(["dir","disabled","form","getRootNode","id","ids","invalid","name","onValueChange","orientation","readOnly","required","value","defaultValue"]),zk=_(HO),BO=G()(["value","disabled","invalid"]),Yk=_(BO),_O=class extends K{initMachine(e){return new W($O,e)}initApi(){return MO(this.machine.service,q)}render(){var i;let e=(i=this.el.querySelector('[data-scope="radio-group"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="radio-group"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="radio-group"][data-part="indicator"]');n&&this.spreadProps(n,this.api.getIndicatorProps()),this.el.querySelectorAll('[data-scope="radio-group"][data-part="item"]').forEach(r=>{let s=r.dataset.value;if(s==null)return;let a=r.dataset.disabled==="true",o=r.dataset.invalid==="true";this.spreadProps(r,this.api.getItemProps({value:s,disabled:a,invalid:o}));let l=r.querySelector('[data-scope="radio-group"][data-part="item-text"]');l&&this.spreadProps(l,this.api.getItemTextProps({value:s,disabled:a,invalid:o}));let c=r.querySelector('[data-scope="radio-group"][data-part="item-control"]');c&&this.spreadProps(c,this.api.getItemControlProps({value:s,disabled:a,invalid:o}));let d=r.querySelector('[data-scope="radio-group"][data-part="item-hidden-input"]');d&&this.spreadProps(d,this.api.getItemHiddenInputProps({value:s,disabled:a,invalid:o}))})}},GO={mounted(){let e=this.el,t=O(e,"value"),n=O(e,"defaultValue"),i=P(e,"controlled"),r=new _O(e,y(g({id:e.id},i&&t!==void 0?{value:t!=null?t:null}:{defaultValue:n!=null?n:null}),{name:O(e,"name"),form:O(e,"form"),disabled:P(e,"disabled"),invalid:P(e,"invalid"),required:P(e,"required"),readOnly:P(e,"readOnly"),dir:O(e,"dir",["ltr","rtl"]),orientation:O(e,"orientation",["horizontal","vertical"]),onValueChange:s=>{let a=O(e,"onValueChange");a&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(a,{value:s.value,id:e.id});let o=O(e,"onValueChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:{value:s,id:e.id}}))}}));r.init(),this.radioGroup=r,this.handlers=[]},updated(){var n;let e=O(this.el,"value"),t=P(this.el,"controlled");(n=this.radioGroup)==null||n.updateProps(y(g({id:this.el.id},t&&e!==void 0?{value:e!=null?e:null}:{}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:P(this.el,"disabled"),invalid:P(this.el,"invalid"),required:P(this.el,"required"),readOnly:P(this.el,"readOnly"),orientation:O(this.el,"orientation",["horizontal","vertical"])}))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.radioGroup)==null||e.destroy()}}});var Fp={};ge(Fp,{Select:()=>sw});function YO(e,t){let{context:n,prop:i,scope:r,state:s,computed:a,send:o}=e,l=i("disabled")||n.get("fieldsetDisabled"),c=!!i("invalid"),d=!!i("required"),h=!!i("readOnly"),m=i("composite"),u=i("collection"),p=s.hasTag("open"),v=s.matches("focused"),I=n.get("highlightedValue"),T=n.get("highlightedItem"),w=n.get("selectedItems"),b=n.get("currentPlacement"),f=a("isTypingAhead"),S=a("isInteractive"),C=I?ec(r,I):void 0;function V(x){let A=u.getItemDisabled(x.item),N=u.getItemValue(x.item);return En(N,()=>`[zag-js] No value found for item ${JSON.stringify(x.item)}`),{value:N,disabled:!!(l||A),highlighted:I===N,selected:n.get("value").includes(N)}}let k=kn(y(g({},i("positioning")),{placement:b}));return{open:p,focused:v,empty:n.get("value").length===0,highlightedItem:T,highlightedValue:I,selectedItems:w,hasSelectedItems:a("hasSelectedItems"),value:n.get("value"),valueAsString:a("valueAsString"),collection:u,multiple:!!i("multiple"),disabled:!!l,reposition(x={}){o({type:"POSITIONING.SET",options:x})},focus(){var x;(x=di(r))==null||x.focus({preventScroll:!0})},setOpen(x){s.hasTag("open")!==x&&o({type:x?"OPEN":"CLOSE"})},selectValue(x){o({type:"ITEM.SELECT",value:x})},setValue(x){o({type:"VALUE.SET",value:x})},selectAll(){o({type:"VALUE.SET",value:u.getValues()})},setHighlightValue(x){o({type:"HIGHLIGHTED_VALUE.SET",value:x})},clearHighlightValue(){o({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(x){o(x?{type:"ITEM.CLEAR",value:x}:{type:"VALUE.CLEAR"})},getItemState:V,getRootProps(){return t.element(y(g({},Ge.root.attrs),{dir:i("dir"),id:qO(r),"data-invalid":E(c),"data-readonly":E(h)}))},getLabelProps(){return t.label(y(g({dir:i("dir"),id:Ra(r)},Ge.label.attrs),{"data-disabled":E(l),"data-invalid":E(c),"data-readonly":E(h),"data-required":E(d),htmlFor:tc(r),onClick(x){var A;x.defaultPrevented||l||(A=di(r))==null||A.focus({preventScroll:!0})}}))},getControlProps(){return t.element(y(g({},Ge.control.attrs),{dir:i("dir"),id:WO(r),"data-state":p?"open":"closed","data-focus":E(v),"data-disabled":E(l),"data-invalid":E(c)}))},getValueTextProps(){return t.element(y(g({},Ge.valueText.attrs),{dir:i("dir"),"data-disabled":E(l),"data-invalid":E(c),"data-focus":E(v)}))},getTriggerProps(){return t.button(y(g({id:Ql(r),disabled:l,dir:i("dir"),type:"button",role:"combobox","aria-controls":Jl(r),"aria-expanded":p,"aria-haspopup":"listbox","data-state":p?"open":"closed","aria-invalid":c,"aria-required":d,"aria-labelledby":Ra(r)},Ge.trigger.attrs),{"data-disabled":E(l),"data-invalid":E(c),"data-readonly":E(h),"data-placement":b,"data-placeholder-shown":E(!a("hasSelectedItems")),onClick(x){S&&(x.defaultPrevented||o({type:"TRIGGER.CLICK"}))},onFocus(){o({type:"TRIGGER.FOCUS"})},onBlur(){o({type:"TRIGGER.BLUR"})},onKeyDown(x){if(x.defaultPrevented||!S)return;let N={ArrowUp(){o({type:"TRIGGER.ARROW_UP"})},ArrowDown(D){o({type:D.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){o({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){o({type:"TRIGGER.ARROW_RIGHT"})},Home(){o({type:"TRIGGER.HOME"})},End(){o({type:"TRIGGER.END"})},Enter(){o({type:"TRIGGER.ENTER"})},Space(D){o(f?{type:"TRIGGER.TYPEAHEAD",key:D.key}:{type:"TRIGGER.ENTER"})}}[pe(x,{dir:i("dir"),orientation:"vertical"})];if(N){N(x),x.preventDefault();return}qe.isValidEvent(x)&&(o({type:"TRIGGER.TYPEAHEAD",key:x.key}),x.preventDefault())}}))},getIndicatorProps(){return t.element(y(g({},Ge.indicator.attrs),{dir:i("dir"),"aria-hidden":!0,"data-state":p?"open":"closed","data-disabled":E(l),"data-invalid":E(c),"data-readonly":E(h)}))},getItemProps(x){let A=V(x);return t.element(y(g({id:ec(r,A.value),role:"option"},Ge.item.attrs),{dir:i("dir"),"data-value":A.value,"aria-selected":A.selected,"data-state":A.selected?"checked":"unchecked","data-highlighted":E(A.highlighted),"data-disabled":E(A.disabled),"aria-disabled":X(A.disabled),onPointerMove(N){A.disabled||N.pointerType!=="mouse"||A.value!==I&&o({type:"ITEM.POINTER_MOVE",value:A.value})},onClick(N){N.defaultPrevented||A.disabled||o({type:"ITEM.CLICK",src:"pointerup",value:A.value})},onPointerLeave(N){var $;A.disabled||x.persistFocus||N.pointerType!=="mouse"||!(($=e.event.previous())!=null&&$.type.includes("POINTER"))||o({type:"ITEM.POINTER_LEAVE"})}}))},getItemTextProps(x){let A=V(x);return t.element(y(g({},Ge.itemText.attrs),{"data-state":A.selected?"checked":"unchecked","data-disabled":E(A.disabled),"data-highlighted":E(A.highlighted)}))},getItemIndicatorProps(x){let A=V(x);return t.element(y(g({"aria-hidden":!0},Ge.itemIndicator.attrs),{"data-state":A.selected?"checked":"unchecked",hidden:!A.selected}))},getItemGroupLabelProps(x){let{htmlFor:A}=x;return t.element(y(g({},Ge.itemGroupLabel.attrs),{id:Ap(r,A),dir:i("dir"),role:"presentation"}))},getItemGroupProps(x){let{id:A}=x;return t.element(y(g({},Ge.itemGroup.attrs),{"data-disabled":E(l),id:KO(r,A),"aria-labelledby":Ap(r,A),role:"group",dir:i("dir")}))},getClearTriggerProps(){return t.button(y(g({},Ge.clearTrigger.attrs),{id:Lp(r),type:"button","aria-label":"Clear value","data-invalid":E(c),disabled:l,hidden:!a("hasSelectedItems"),dir:i("dir"),onClick(x){x.defaultPrevented||o({type:"CLEAR.CLICK"})}}))},getHiddenSelectProps(){let x=n.get("value"),A=i("multiple")?x:x==null?void 0:x[0],N=D=>{let $=bt(D);lo($)||o({type:"VALUE.SET",value:jO(D.currentTarget)})};return t.select({name:i("name"),form:i("form"),disabled:l,multiple:i("multiple"),required:i("required"),"aria-hidden":!0,id:tc(r),defaultValue:A,style:kt,tabIndex:-1,autoComplete:i("autoComplete"),onChange:N,onInput:N,onFocus(){var D;(D=di(r))==null||D.focus({preventScroll:!0})},"aria-labelledby":Ra(r)})},getPositionerProps(){return t.element(y(g({},Ge.positioner.attrs),{dir:i("dir"),id:Mp(r),style:k.floating}))},getContentProps(){return t.element(y(g({hidden:!p,dir:i("dir"),id:Jl(r),role:m?"listbox":"dialog"},Ge.content.attrs),{"data-state":p?"open":"closed","data-placement":b,"data-activedescendant":C,"aria-activedescendant":m?C:void 0,"aria-multiselectable":i("multiple")&&m?!0:void 0,"aria-labelledby":Ra(r),tabIndex:0,onKeyDown(x){if(!S||!ue(x.currentTarget,j(x)))return;if(x.key==="Tab"&&!ys(x)){x.preventDefault();return}let A={ArrowUp(){o({type:"CONTENT.ARROW_UP"})},ArrowDown(){o({type:"CONTENT.ARROW_DOWN"})},Home(){o({type:"CONTENT.HOME"})},End(){o({type:"CONTENT.END"})},Enter(){o({type:"ITEM.CLICK",src:"keydown.enter"})},Space($){var ee;f?o({type:"CONTENT.TYPEAHEAD",key:$.key}):(ee=A.Enter)==null||ee.call(A,$)}},N=A[pe(x)];if(N){N(x),x.preventDefault();return}let D=j(x);Vt(D)||qe.isValidEvent(x)&&(o({type:"CONTENT.TYPEAHEAD",key:x.key}),x.preventDefault())}}))},getListProps(){return t.element(y(g({},Ge.list.attrs),{tabIndex:0,role:m?void 0:"listbox","aria-labelledby":Ql(r),"aria-activedescendant":m?void 0:C,"aria-multiselectable":!m&&i("multiple")?!0:void 0}))}}}function Rp(e){var n,i;let t=(i=e.restoreFocus)!=null?i:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null||!!t}function Dp(e,t){return tr(t?{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}:{items:e,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}function iw(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function rw(e){let t={};for(let[n,i]of Object.entries(e)){let r=iw(n);t[r]=i}return t}var UO,Ge,tr,qO,Jl,Ql,Lp,Ra,WO,ec,tc,Mp,KO,Ap,Xl,Ur,di,zO,Np,Zl,jO,qr,ci,XO,ZO,JO,iA,QO,rA,ew,sA,tw,aA,nw,sw,$p=re(()=>{"use strict";Sr();Vr();Qn();rn();On();ae();UO=U("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),Ge=UO.build(),tr=e=>new Dt(e);tr.empty=()=>new Dt({items:[]});qO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`select:${e.id}`},Jl=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`select:${e.id}:content`},Ql=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`select:${e.id}:trigger`},Lp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`select:${e.id}:clear-trigger`},Ra=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`select:${e.id}:label`},WO=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`select:${e.id}:control`},ec=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:option:${t}`},tc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenSelect)!=null?n:`select:${e.id}:select`},Mp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`select:${e.id}:positioner`},KO=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup:${t}`},Ap=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup-label:${t}`},Xl=e=>e.getById(tc(e)),Ur=e=>e.getById(Jl(e)),di=e=>e.getById(Ql(e)),zO=e=>e.getById(Lp(e)),Np=e=>e.getById(Mp(e)),Zl=(e,t)=>t==null?null:e.getById(ec(e,t));jO=e=>e.multiple?Array.from(e.selectedOptions,t=>t.value):e.value?[e.value]:[],{and:qr,not:ci,or:XO}=Ie(),ZO={props({props:e}){var t;return y(g({loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[]},e),{collection:(t=e.collection)!=null?t:tr.empty(),positioning:g({placement:"bottom-start",gutter:8},e.positioning)})},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:me,onChange(n){var r;let i=e("collection").findMany(n);return(r=e("onValueChange"))==null?void 0:r({value:n,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var r,s;let n=(s=(r=e("value"))!=null?r:e("defaultValue"))!=null?s:[];return{defaultValue:e("collection").findMany(n)}})}},refs(){return{typeahead:g({},qe.defaultOptions)}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value").toString()],()=>{i(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>t("open")],()=>{i(["toggleVisibility"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{i(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:XO("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:qr(ci("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:ci("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:qr(ci("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:ci("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:ci("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:ci("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:ci("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","trackFocusVisible","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:qr("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:qr("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:qr("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t.closeOnSelect)!=null?n:e("closeOnSelect"))},restoreFocus:({event:e})=>Rp(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFocusVisible({scope:e}){var t;return Ke({root:(t=e.getRootNode)==null?void 0:t.call(e)})},trackFormControlState({context:e,scope:t}){return xt(Xl(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){let n=e.initial("value");e.set("value",n)}})},trackDismissableElement({scope:e,send:t,prop:n}){let i=()=>Ur(e),r=!0;return Ht(i,{type:"listbox",defer:!0,exclude:[di(e),zO(e)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(s){var a;(a=n("onInteractOutside"))==null||a(s),r=!(s.detail.focusable||s.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:r})}})},computePlacement({context:e,prop:t,scope:n}){let i=t("positioning");return e.set("currentPlacement",i.placement),Tt(()=>di(n),()=>Np(n),y(g({defer:!0},i),{onComplete(a){e.set("currentPlacement",a.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n}){let i=s=>{let a=e.get("highlightedValue");if(a==null||Sn()==="pointer")return;let l=Ur(n),c=t("scrollToIndexFn");if(c){let h=t("collection").indexOf(a);c==null||c({index:h,immediate:s,getElement:()=>Zl(n,a)});return}let d=Zl(n,a);Zt(d,{rootEl:l,block:"nearest"})};return H(()=>{Tn("virtual"),i(!0)}),ct(()=>Ur(n),{defer:!0,attributes:["data-activedescendant"],callback(){i(!1)}})}},actions:{reposition({context:e,prop:t,scope:n,event:i}){let r=()=>Np(n);Tt(di(n),r,y(g(g({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}}))},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let i=t("collection").getPreviousValue(n,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightNextItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let i=t("collection").getNextValue(n,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightFirstItem({context:e,prop:t}){let n=t("collection").firstValue;e.set("highlightedValue",n)},highlightLastItem({context:e,prop:t}){let n=t("collection").lastValue;e.set("highlightedValue",n)},setInitialFocus({scope:e}){H(()=>{let t=vs({root:Ur(e)});t==null||t.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){Rp(e)&&H(()=>{let n=di(t);n==null||n.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:n}){var s,a;let i=(s=n.value)!=null?s:e.get("highlightedValue");if(i==null||!t("collection").has(i))return;(a=t("onSelect"))==null||a({value:i}),i=t("deselectable")&&!t("multiple")&&e.get("value").includes(i)?null:i,e.set("value",o=>i==null?[]:t("multiple")?Ct(o,i):[i])},highlightComputedFirstItem({context:e,prop:t,computed:n}){let i=t("collection"),r=n("hasSelectedItems")?i.sort(e.get("value"))[0]:i.firstValue;e.set("highlightedValue",r)},highlightComputedLastItem({context:e,prop:t,computed:n}){let i=t("collection"),r=n("hasSelectedItems")?i.sort(e.get("value"))[0]:i.lastValue;e.set("highlightedValue",r)},highlightFirstSelectedItem({context:e,prop:t,computed:n}){if(!n("hasSelectedItems"))return;let i=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",i)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});r!=null&&e.set("highlightedValue",r)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n}){var s;(s=t("onSelect"))==null||s({value:n.value});let r=t("deselectable")&&!t("multiple")&&e.get("value").includes(n.value)?null:n.value;e.set("value",a=>r==null?[]:t("multiple")?Ct(a,r):[r])},clearItem({context:e,event:t}){e.set("value",n=>n.filter(i=>i!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){let[n]=e.get("value"),i=t("collection").getPreviousValue(n);i&&e.set("value",[i])},selectNextItem({context:e,prop:t}){let[n]=e.get("value"),i=t("collection").getNextValue(n);i&&e.set("value",[i])},selectFirstItem({context:e,prop:t}){let n=t("collection").firstValue;n&&e.set("value",[n])},selectLastItem({context:e,prop:t}){let n=t("collection").lastValue;n&&e.set("value",[n])},selectMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("value")[0]});r!=null&&e.set("value",[r])},scrollContentToTop({prop:e,scope:t}){var n,i;if(e("scrollToIndexFn")){let r=e("collection").firstValue;(n=e("scrollToIndexFn"))==null||n({index:0,immediate:!0,getElement:()=>Zl(t,r)})}else(i=Ur(t))==null||i.scrollTo(0,0)},invokeOnOpen({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},syncSelectElement({context:e,prop:t,scope:n}){let i=Xl(n);if(i){if(e.get("value").length===0&&!t("multiple")){i.selectedIndex=-1;return}for(let r of i.options)r.selected=e.get("value").includes(r.value)}},syncCollection({context:e,prop:t}){let n=t("collection"),i=n.find(e.get("highlightedValue"));i&&e.set("highlightedItem",i);let r=n.findMany(e.get("value"));e.set("selectedItems",r)},syncSelectedItems({context:e,prop:t}){let n=t("collection"),i=e.get("selectedItems"),s=e.get("value").map(a=>i.find(l=>n.getItemValue(l)===a)||n.find(a));e.set("selectedItems",s)},syncHighlightedItem({context:e,prop:t}){let n=t("collection"),i=e.get("highlightedValue"),r=i?n.find(i):null;e.set("highlightedItem",r)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{let t=Xl(e);if(!t)return;let n=e.getWin(),i=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(fs(i))})}}}};JO=G()(["autoComplete","closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),iA=_(JO),QO=G()(["item","persistFocus"]),rA=_(QO),ew=G()(["id"]),sA=_(ew),tw=G()(["htmlFor"]),aA=_(tw),nw=class extends K{constructor(t,n){var r;super(t,n);Y(this,"_options",[]);Y(this,"hasGroups",!1);Y(this,"placeholder","");Y(this,"init",()=>{this.machine.start(),this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()})});let i=n.collection;this._options=(r=i==null?void 0:i.items)!=null?r:[],this.placeholder=O(this.el,"placeholder")||""}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?tr({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>{var i;return(i=n.group)!=null?i:""}}):tr({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}initMachine(t){let n=this.getCollection.bind(this),i=t.collection;return new W(ZO,y(g({},t),{get collection(){return i!=null?i:n()}}))}initApi(){return YO(this.machine.service,q)}applyItemProps(){let t=this.el.querySelector('[data-scope="select"][data-part="content"]');t&&(t.querySelectorAll('[data-scope="select"][data-part="item-group"]').forEach(n=>{var s;let i=(s=n.dataset.id)!=null?s:"";this.spreadProps(n,this.api.getItemGroupProps({id:i}));let r=n.querySelector('[data-scope="select"][data-part="item-group-label"]');r&&this.spreadProps(r,this.api.getItemGroupLabelProps({htmlFor:i}))}),t.querySelectorAll('[data-scope="select"][data-part="item"]').forEach(n=>{var o;let i=(o=n.dataset.value)!=null?o:"",r=this.options.find(l=>{var c,d;return String((d=(c=l.id)!=null?c:l.value)!=null?d:"")===String(i)});if(!r)return;this.spreadProps(n,this.api.getItemProps({item:r}));let s=n.querySelector('[data-scope="select"][data-part="item-text"]');s&&this.spreadProps(s,this.api.getItemTextProps({item:r}));let a=n.querySelector('[data-scope="select"][data-part="item-indicator"]');a&&this.spreadProps(a,this.api.getItemIndicatorProps({item:r}))}))}render(){var a;let t=(a=this.el.querySelector('[data-scope="select"][data-part="root"]'))!=null?a:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="select"][data-part="hidden-select"]'),i=this.el.querySelector('[data-scope="select"][data-part="value-input"]');i&&(!this.api.value||this.api.value.length===0?i.value="":this.api.value.length===1?i.value=String(this.api.value[0]):i.value=this.api.value.map(String).join(",")),n&&this.spreadProps(n,this.api.getHiddenSelectProps()),["label","control","trigger","indicator","clear-trigger","positioner"].forEach(o=>{let l=this.el.querySelector(`[data-scope="select"][data-part="${o}"]`);if(!l)return;let c="get"+o.split("-").map(d=>d[0].toUpperCase()+d.slice(1)).join("")+"Props";this.spreadProps(l,this.api[c]())});let r=this.el.querySelector('[data-scope="select"][data-part="item-text"]');if(r){let o=this.api.valueAsString;if(this.api.value&&this.api.value.length>0&&!o){let l=this.api.value[0],c=this.options.find(d=>{var m,u;let h=(u=(m=d.id)!=null?m:d.value)!=null?u:"";return String(h)===String(l)});c?r.textContent=c.label:r.textContent=this.placeholder||""}else r.textContent=o||this.placeholder||""}let s=this.el.querySelector('[data-scope="select"][data-part="content"]');s&&(this.spreadProps(s,this.api.getContentProps()),this.applyItemProps())}};sw={mounted(){let e=this.el,t=JSON.parse(e.dataset.collection||"[]"),n=t.some(s=>s.group!==void 0),i=Dp(t,n),r=new nw(e,y(g({id:e.id,collection:i},P(e,"controlled")?{value:J(e,"value")}:{defaultValue:J(e,"defaultValue")}),{disabled:P(e,"disabled"),closeOnSelect:P(e,"closeOnSelect"),dir:O(e,"dir",["ltr","rtl"]),loopFocus:P(e,"loopFocus"),multiple:P(e,"multiple"),invalid:P(e,"invalid"),name:O(e,"name"),form:O(e,"form"),readOnly:P(e,"readOnly"),required:P(e,"required"),positioning:(()=>{let s=e.dataset.positioning;if(s)try{let a=JSON.parse(s);return rw(a)}catch(a){return}})(),onValueChange:s=>{var T;let a=P(e,"redirect"),o=s.value.length>0?String(s.value[0]):null,l=(T=s.items)!=null&&T.length?s.items[0]:null,c=l&&typeof l=="object"&&l!==null&&"redirect"in l?l.redirect:void 0,d=l&&typeof l=="object"&&l!==null&&"new_tab"in l?l.new_tab:void 0;a&&o&&this.liveSocket.main.isDead&&c!==!1&&(d===!0?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o);let u=e.querySelector('[data-scope="select"][data-part="value-input"]');u&&(u.value=s.value.length===0?"":s.value.length===1?String(s.value[0]):s.value.map(String).join(","),u.dispatchEvent(new Event("input",{bubbles:!0})),u.dispatchEvent(new Event("change",{bubbles:!0})));let p={value:s.value,items:s.items,id:e.id},v=O(e,"onValueChangeClient");v&&e.dispatchEvent(new CustomEvent(v,{bubbles:!0,detail:p}));let I=O(e,"onValueChange");I&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(I,p)}}));r.hasGroups=n,r.setOptions(t),r.init(),this.select=r,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);this.select&&(this.select.hasGroups=t,this.select.setOptions(e),this.select.updateProps(y(g({collection:Dp(e,t),id:this.el.id},P(this.el,"controlled")?{value:J(this.el,"value")}:{defaultValue:J(this.el,"defaultValue")}),{name:O(this.el,"name"),form:O(this.el,"form"),disabled:P(this.el,"disabled"),multiple:P(this.el,"multiple"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:P(this.el,"invalid"),required:P(this.el,"required"),readOnly:P(this.el,"readOnly")})))},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.select)==null||e.destroy()}}});var sf={};ge(sf,{SignaturePad:()=>Nw});function _p(e,t,n,i=r=>r){return e*i(.5-t*(.5-n))}function Jp(e,t,n){let i=nc(1,t/n);return nc(1,e+(nc(1,1-i)-e)*(i*.275))}function ow(e){return[-e[0],-e[1]]}function Ut(e,t){return[e[0]+t[0],e[1]+t[1]]}function Gp(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Fn(e,t){return[e[0]-t[0],e[1]-t[1]]}function sc(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Mn(e,t){return[e[0]*t,e[1]*t]}function ic(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function lw(e,t){return[e[0]/t,e[1]/t]}function Qp(e){return[e[1],-e[0]]}function rc(e,t){let n=t[0];return e[0]=t[1],e[1]=-n,e}function Up(e,t){return e[0]*t[0]+e[1]*t[1]}function cw(e,t){return e[0]===t[0]&&e[1]===t[1]}function dw(e){return Math.hypot(e[0],e[1])}function qp(e,t){let n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function ef(e){return lw(e,dw(e))}function uw(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ac(e,t,n){let i=Math.sin(n),r=Math.cos(n),s=e[0]-t[0],a=e[1]-t[1],o=s*r-a*i,l=s*i+a*r;return[o+t[0],l+t[1]]}function Wp(e,t,n,i){let r=Math.sin(i),s=Math.cos(i),a=t[0]-n[0],o=t[1]-n[1],l=a*s-o*r,c=a*r+o*s;return e[0]=l+n[0],e[1]=c+n[1],e}function Kp(e,t,n){return Ut(e,Mn(Fn(t,e),n))}function hw(e,t,n,i){let r=n[0]-t[0],s=n[1]-t[1];return e[0]=t[0]+r*i,e[1]=t[1]+s*i,e}function tf(e,t,n){return Ut(e,Mn(t,n))}function gw(e,t){let n=tf(e,ef(Qp(Fn(e,Ut(e,[1,1])))),-t),i=[],r=1/13;for(let s=r;s<=1;s+=r)i.push(ac(n,e,Wr*2*s));return i}function pw(e,t,n){let i=[],r=1/n;for(let s=r;s<=1;s+=r)i.push(ac(t,e,Wr*s));return i}function fw(e,t,n){let i=Fn(t,n),r=Mn(i,.5),s=Mn(i,.51);return[Fn(e,r),Fn(e,s),Ut(e,s),Ut(e,r)]}function mw(e,t,n,i){let r=[],s=tf(e,t,n),a=1/i;for(let o=a;o<1;o+=a)r.push(ac(s,e,Wr*3*o));return r}function vw(e,t,n){return[Ut(e,Mn(t,n)),Ut(e,Mn(t,n*.99)),Fn(e,Mn(t,n*.99)),Fn(e,Mn(t,n))]}function zp(e,t,n){return e===!1||e===void 0?0:e===!0?Math.max(t,n):e}function yw(e,t,n){return e.slice(0,10).reduce((i,r)=>{let s=r.pressure;return t&&(s=Jp(i,r.distance,n)),(i+s)/2},e[0].pressure)}function bw(e,t={}){let{size:n=16,smoothing:i=.5,thinning:r=.5,simulatePressure:s=!0,easing:a=Z=>Z,start:o={},end:l={},last:c=!1}=t,{cap:d=!0,easing:h=Z=>Z*(2-Z)}=o,{cap:m=!0,easing:u=Z=>--Z*Z*Z+1}=l;if(e.length===0||n<=0)return[];let p=e[e.length-1].runningLength,v=zp(o.taper,n,p),I=zp(l.taper,n,p),T=(n*i)**2,w=[],b=[],f=yw(e,s,n),S=_p(n,r,e[e.length-1].pressure,a),C,V=e[0].vector,k=e[0].point,x=k,A=k,N=x,D=!1;for(let Z=0;Z<e.length;Z++){let{pressure:ie}=e[Z],{point:Ce,vector:ne,distance:Pe,runningLength:vt}=e[Z],Hn=Z===e.length-1;if(!Hn&&p-vt<3)continue;r?(s&&(ie=Jp(f,Pe,n)),S=_p(n,r,ie,a)):S=n/2,C===void 0&&(C=S);let Xr=vt<v?h(vt/v):1,pi=p-vt<I?u((p-vt)/I):1;S=Math.max(.01,S*Math.min(Xr,pi));let Bn=(Hn?e[Z]:e[Z+1]).vector,_n=Hn?1:Up(ne,Bn),Ua=Up(ne,V)<0&&!D,L=_n!==null&&_n<0;if(Ua||L){rc(Le,V),ic(Le,Le,S);for(let R=0;R<=1;R+=.07692307692307693)sc(Dn,Ce,Le),Wp(Dn,Dn,Ce,Wr*R),A=[Dn[0],Dn[1]],w.push(A),Gp(Ln,Ce,Le),Wp(Ln,Ln,Ce,Wr*-R),N=[Ln[0],Ln[1]],b.push(N);k=A,x=N,L&&(D=!0);continue}if(D=!1,Hn){rc(Le,ne),ic(Le,Le,S),w.push(Fn(Ce,Le)),b.push(Ut(Ce,Le));continue}hw(Le,Bn,ne,_n),rc(Le,Le),ic(Le,Le,S),sc(Dn,Ce,Le),A=[Dn[0],Dn[1]],(Z<=1||qp(k,A)>T)&&(w.push(A),k=A),Gp(Ln,Ce,Le),N=[Ln[0],Ln[1]],(Z<=1||qp(x,N)>T)&&(b.push(N),x=N),f=ie,V=ne}let $=[e[0].point[0],e[0].point[1]],ee=e.length>1?[e[e.length-1].point[0],e[e.length-1].point[1]]:Ut(e[0].point,[1,1]),te=[],oe=[];if(e.length===1){if(!(v||I)||c)return gw($,C||S)}else{v||I&&e.length===1||(d?te.push(...pw($,b[0],13)):te.push(...fw($,w[0],b[0])));let Z=Qp(ow(e[e.length-1].vector));I||v&&e.length===1?oe.push(ee):m?oe.push(...mw(ee,Z,S,29)):oe.push(...vw(ee,Z,S))}return w.concat(oe,b.reverse(),te)}function jp(e){return e!=null&&e>=0}function Ew(e,t={}){var m;let{streamline:n=.5,size:i=16,last:r=!1}=t;if(e.length===0)return[];let s=.15+(1-n)*.85,a=Array.isArray(e[0])?e:e.map(({x:u,y:p,pressure:v=Hp})=>[u,p,v]);if(a.length===2){let u=a[1];a=a.slice(0,-1);for(let p=1;p<5;p++)a.push(Kp(a[0],u,p/4))}a.length===1&&(a=[...a,[...Ut(a[0],Bp),...a[0].slice(2)]]);let o=[{point:[a[0][0],a[0][1]],pressure:jp(a[0][2])?a[0][2]:.25,vector:[...Bp],distance:0,runningLength:0}],l=!1,c=0,d=o[0],h=a.length-1;for(let u=1;u<a.length;u++){let p=r&&u===h?[a[u][0],a[u][1]]:Kp(d.point,a[u],s);if(cw(d.point,p))continue;let v=uw(p,d.point);if(c+=v,u<h&&!l){if(c<i)continue;l=!0}sc(Yp,d.point,p),d={point:p,pressure:jp(a[u][2])?a[u][2]:Hp,vector:ef(Yp),distance:v,runningLength:c},o.push(d)}return o[0].vector=((m=o[1])==null?void 0:m.vector)||[0,0],o}function Iw(e,t={}){return bw(Ew(e,t),t)}function ww(e,t){let{state:n,send:i,prop:r,computed:s,context:a,scope:o}=e,l=n.matches("drawing"),c=s("isEmpty"),d=s("isInteractive"),h=!!r("disabled"),m=!!r("required"),u=r("translations");return{empty:c,drawing:l,currentPath:a.get("currentPath"),paths:a.get("paths"),clear(){i({type:"CLEAR"})},getDataUrl(p,v){return s("isEmpty")?Promise.resolve(""):rf(o,{type:p,quality:v})},getLabelProps(){return t.label(y(g({},ui.label.attrs),{id:Tw(o),"data-disabled":E(h),"data-required":E(m),htmlFor:Xp(o),onClick(p){if(!d||p.defaultPrevented)return;let v=Ma(o);v==null||v.focus({preventScroll:!0})}}))},getRootProps(){return t.element(y(g({},ui.root.attrs),{"data-disabled":E(h),id:Sw(o)}))},getControlProps(){return t.element(y(g({},ui.control.attrs),{tabIndex:h?void 0:0,id:nf(o),role:"application","aria-roledescription":"signature pad","aria-label":u.control,"aria-disabled":h,"data-disabled":E(h),onPointerDown(p){if(!fe(p)||ke(p)||!d)return;let v=j(p);if(v!=null&&v.closest("[data-part=clear-trigger]"))return;p.currentTarget.setPointerCapture(p.pointerId);let I={x:p.clientX,y:p.clientY},T=Ma(o);if(!T)return;let{offset:w}=uo(I,T);i({type:"POINTER_DOWN",point:w,pressure:p.pressure})},onPointerUp(p){d&&p.currentTarget.hasPointerCapture(p.pointerId)&&p.currentTarget.releasePointerCapture(p.pointerId)},style:{position:"relative",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getSegmentProps(){return t.svg(y(g({},ui.segment.attrs),{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",fill:r("drawing").fill}}))},getSegmentPathProps(p){return t.path(y(g({},ui.segmentPath.attrs),{d:p.path}))},getGuideProps(){return t.element(y(g({},ui.guide.attrs),{"data-disabled":E(h)}))},getClearTriggerProps(){return t.button(y(g({},ui.clearTrigger.attrs),{type:"button","aria-label":u.clearTrigger,hidden:!a.get("paths").length||l,disabled:h,onClick(){i({type:"CLEAR"})}}))},getHiddenInputProps(p){return t.input({id:Xp(o),type:"text",hidden:!0,disabled:h,required:r("required"),readOnly:!0,name:r("name"),value:p.value})}}}function Vw(e,t=!0){let n=e.length;if(n<4)return"";let i=e[0],r=e[1],s=e[2],a=`M${i[0].toFixed(2)},${i[1].toFixed(2)} Q${r[0].toFixed(2)},${r[1].toFixed(2)} ${Da(r[0],s[0]).toFixed(2)},${Da(r[1],s[1]).toFixed(2)} T`;for(let o=2,l=n-1;o<l;o++)i=e[o],r=e[o+1],a+=`${Da(i[0],r[0]).toFixed(2)},${Da(i[1],r[1]).toFixed(2)} `;return t&&(a+="Z"),a}function La(e,t){let n=e.dataset[t];if(!n)return[];try{return JSON.parse(n)}catch(i){return[]}}function Zp(e){var t,n,i,r;return{fill:O(e,"drawingFill")||"black",size:(t=z(e,"drawingSize"))!=null?t:2,simulatePressure:P(e,"drawingSimulatePressure"),smoothing:(n=z(e,"drawingSmoothing"))!=null?n:.5,thinning:(i=z(e,"drawingThinning"))!=null?i:.7,streamline:(r=z(e,"drawingStreamline"))!=null?r:.65}}var aw,Wr,Hp,Bp,nc,Le,Dn,Ln,Yp,Cw,Pw,ui,Sw,nf,Tw,Xp,Ma,Ow,rf,Da,xw,kw,dA,Aw,Nw,af=re(()=>{"use strict";ae();({PI:aw}=Math),Wr=aw+1e-4,Hp=.5,Bp=[1,1];({min:nc}=Math);Le=[0,0],Dn=[0,0],Ln=[0,0];Yp=[0,0];Cw=Iw,Pw=U("signature-pad").parts("root","control","segment","segmentPath","guide","clearTrigger","label"),ui=Pw.build(),Sw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`signature-${e.id}`},nf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`signature-control-${e.id}`},Tw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`signature-label-${e.id}`},Xp=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`signature-input-${e.id}`},Ma=e=>e.getById(nf(e)),Ow=e=>Si(Ma(e),"[data-part=segment]"),rf=(e,t)=>Mc(Ow(e),t);Da=(e,t)=>(e+t)/2;xw={props({props:e}){return y(g({defaultPaths:[]},e),{drawing:g({size:2,simulatePressure:!1,thinning:.7,smoothing:.4,streamline:.6},e.drawing),translations:g({control:"signature pad",clearTrigger:"clear signature"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{paths:t(()=>({defaultValue:e("defaultPaths"),value:e("paths"),sync:!0,onChange(n){var i;(i=e("onDraw"))==null||i({paths:n})}})),currentPoints:t(()=>({defaultValue:[]})),currentPath:t(()=>({defaultValue:null}))}},computed:{isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),isEmpty:({context:e})=>e.get("paths").length===0},on:{CLEAR:{actions:["clearPoints","invokeOnDrawEnd","focusCanvasEl"]}},states:{idle:{on:{POINTER_DOWN:{target:"drawing",actions:["addPoint"]}}},drawing:{effects:["trackPointerMove"],on:{POINTER_MOVE:{actions:["addPoint","invokeOnDraw"]},POINTER_UP:{target:"idle",actions:["endStroke","invokeOnDrawEnd"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){let n=e.getDoc();return fn(n,{onPointerMove({event:i,point:r}){let s=Ma(e);if(!s)return;let{offset:a}=uo(r,s);t({type:"POINTER_MOVE",point:a,pressure:i.pressure})},onPointerUp(){t({type:"POINTER_UP"})}})}},actions:{addPoint({context:e,event:t,prop:n}){let i=[...e.get("currentPoints"),t.point];e.set("currentPoints",i);let r=Cw(i,n("drawing"));e.set("currentPath",Vw(r))},endStroke({context:e}){let t=[...e.get("paths"),e.get("currentPath")];e.set("paths",t),e.set("currentPoints",[]),e.set("currentPath",null)},clearPoints({context:e}){e.set("currentPoints",[]),e.set("paths",[]),e.set("currentPath",null)},focusCanvasEl({scope:e}){queueMicrotask(()=>{var t;(t=e.getActiveElement())==null||t.focus({preventScroll:!0})})},invokeOnDraw({context:e,prop:t}){var n;(n=t("onDraw"))==null||n({paths:[...e.get("paths"),e.get("currentPath")]})},invokeOnDrawEnd({context:e,prop:t,scope:n,computed:i}){var r;(r=t("onDrawEnd"))==null||r({paths:[...e.get("paths")],getDataUrl(s,a=.92){return i("isEmpty")?Promise.resolve(""):rf(n,{type:s,quality:a})}})}}}},kw=G()(["defaultPaths","dir","disabled","drawing","getRootNode","id","ids","name","onDraw","onDrawEnd","paths","readOnly","required","translations"]),dA=_(kw),Aw=class extends K{constructor(){super(...arguments);Y(this,"imageURL","");Y(this,"paths",[]);Y(this,"name");Y(this,"syncPaths",()=>{let t=this.el.querySelector('[data-scope="signature-pad"][data-part="segment"]');if(!t)return;if(this.api.paths.length+(this.api.currentPath?1:0)===0){t.innerHTML="",this.imageURL="",this.paths=[];let i=this.el.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');i&&(i.value="");return}if(t.innerHTML="",this.api.paths.forEach(i=>{let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("data-scope","signature-pad"),r.setAttribute("data-part","path"),this.spreadProps(r,this.api.getSegmentPathProps({path:i})),t.appendChild(r)}),this.api.currentPath){let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("data-scope","signature-pad"),i.setAttribute("data-part","current-path"),this.spreadProps(i,this.api.getSegmentPathProps({path:this.api.currentPath})),t.appendChild(i)}})}initMachine(t){return this.name=t.name,new W(xw,t)}setName(t){this.name=t}setPaths(t){this.paths=t}initApi(){return ww(this.machine.service,q)}render(){let t=this.el.querySelector('[data-scope="signature-pad"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=t.querySelector('[data-scope="signature-pad"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=t.querySelector('[data-scope="signature-pad"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=t.querySelector('[data-scope="signature-pad"][data-part="segment"]');r&&this.spreadProps(r,this.api.getSegmentProps());let s=t.querySelector('[data-scope="signature-pad"][data-part="guide"]');s&&this.spreadProps(s,this.api.getGuideProps());let a=t.querySelector('[data-scope="signature-pad"][data-part="clear-trigger"]');a&&this.spreadProps(a,this.api.getClearTriggerProps());let o=t.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');o&&this.spreadProps(o,this.api.getHiddenInputProps({value:this.api.paths.length>0?JSON.stringify(this.api.paths):""})),this.syncPaths()}};Nw={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=P(e,"controlled"),i=La(e,"paths"),r=La(e,"defaultPaths"),s=new Aw(e,y(g(g({id:e.id,name:O(e,"name")},n&&i.length>0?{paths:i}:void 0),!n&&r.length>0?{defaultPaths:r}:void 0),{drawing:Zp(e),onDrawEnd:a=>{s.setPaths(a.paths);let o=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');o&&(o.value=a.paths.length>0?JSON.stringify(a.paths):"",o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0}))),a.getDataUrl("image/png").then(l=>{s.imageURL=l;let c=O(e,"onDrawEnd");c&&this.liveSocket.main.isConnected()&&t(c,{id:e.id,paths:a.paths,url:l});let d=O(e,"onDrawEndClient");d&&e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{id:e.id,paths:a.paths,url:l}}))})}}));s.init(),this.signaturePad=s,this.onClear=a=>{let{id:o}=a.detail;o&&o!==e.id||s.api.clear()},e.addEventListener("phx:signature-pad:clear",this.onClear),this.handlers=[],this.handlers.push(this.handleEvent("signature_pad_clear",a=>{let o=a.signature_pad_id;o&&o!==e.id||s.api.clear()}))},updated(){var r,s;let e=P(this.el,"controlled"),t=La(this.el,"paths"),n=La(this.el,"defaultPaths"),i=O(this.el,"name");i&&((r=this.signaturePad)==null||r.setName(i)),(s=this.signaturePad)==null||s.updateProps(y(g(g({id:this.el.id,name:i},e&&t.length>0?{paths:t}:{}),!e&&n.length>0?{defaultPaths:n}:{}),{drawing:Zp(this.el)}))},destroyed(){var e;if(this.onClear&&this.el.removeEventListener("phx:signature-pad:clear",this.onClear),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.signaturePad)==null||e.destroy()}}});var df={};ge(df,{Switch:()=>_w});function Fw(e,t){let{context:n,send:i,prop:r,scope:s}=e,a=!!r("disabled"),o=!!r("readOnly"),l=!!r("required"),c=!!n.get("checked"),d=!a&&n.get("focused"),h=!a&&n.get("focusVisible"),m=!a&&n.get("active"),u={"data-active":E(m),"data-focus":E(d),"data-focus-visible":E(h),"data-readonly":E(o),"data-hover":E(n.get("hovered")),"data-disabled":E(a),"data-state":c?"checked":"unchecked","data-invalid":E(r("invalid")),"data-required":E(l)};return{checked:c,disabled:a,focused:d,setChecked(p){i({type:"CHECKED.SET",checked:p,isTrusted:!1})},toggleChecked(){i({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return t.label(y(g(g({},Fa.root.attrs),u),{dir:r("dir"),id:cf(s),htmlFor:oc(s),onPointerMove(){a||i({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){a||i({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(p){var I;if(a)return;j(p)===nr(s)&&p.stopPropagation(),et()&&((I=nr(s))==null||I.focus())}}))},getLabelProps(){return t.element(y(g(g({},Fa.label.attrs),u),{dir:r("dir"),id:of(s)}))},getThumbProps(){return t.element(y(g(g({},Fa.thumb.attrs),u),{dir:r("dir"),id:Dw(s),"aria-hidden":!0}))},getControlProps(){return t.element(y(g(g({},Fa.control.attrs),u),{dir:r("dir"),id:Lw(s),"aria-hidden":!0}))},getHiddenInputProps(){return t.input({id:oc(s),type:"checkbox",required:r("required"),defaultChecked:c,disabled:a,"aria-labelledby":of(s),"aria-invalid":r("invalid"),name:r("name"),form:r("form"),value:r("value"),style:kt,onFocus(){let p=Pn();i({type:"CONTEXT.SET",context:{focused:!0,focusVisible:p}})},onBlur(){i({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(p){if(o){p.preventDefault();return}let v=p.currentTarget.checked;i({type:"CHECKED.SET",checked:v,isTrusted:!0})}})}}}var Rw,Fa,cf,of,Dw,Lw,oc,Mw,nr,lf,$w,Hw,fA,Bw,_w,uf=re(()=>{"use strict";On();ae();Rw=U("switch").parts("root","label","control","thumb"),Fa=Rw.build(),cf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`switch:${e.id}`},of=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`switch:${e.id}:label`},Dw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.thumb)!=null?n:`switch:${e.id}:thumb`},Lw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`switch:${e.id}:control`},oc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`switch:${e.id}:input`},Mw=e=>e.getById(cf(e)),nr=e=>e.getById(oc(e));({not:lf}=Ie()),$w={props({props:e}){return g({defaultChecked:!1,label:"switch",value:"on"},e)},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var i;(i=e("onCheckedChange"))==null||i({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:i}){e([()=>t("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:lf("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:lf("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return Is({pointerNode:Mw(t),keyboardNode:nr(t),isValidKey:i=>i.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return Ke({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return xt(nr(n),{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){let i=e.initial("checked");t({type:"CHECKED.SET",checked:!!i,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){let n=nr(t);n&&hr(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){queueMicrotask(()=>{let n=nr(t);Ii(n,{checked:e.get("checked")})})}}}},Hw=G()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),fA=_(Hw),Bw=class extends K{initMachine(e){return new W($w,e)}initApi(){return Fw(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="switch"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="switch"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let n=this.el.querySelector('[data-scope="switch"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="switch"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="switch"][data-part="thumb"]');r&&this.spreadProps(r,this.api.getThumbProps())}},_w={mounted(){let e=this.el,t=this.pushEvent.bind(this);this.wasFocused=!1;let n=new Bw(e,y(g({id:e.id},P(e,"controlled")?{checked:P(e,"checked")}:{defaultChecked:P(e,"defaultChecked")}),{disabled:P(e,"disabled"),name:O(e,"name"),form:O(e,"form"),value:O(e,"value"),dir:O(e,"dir",["ltr","rtl"]),invalid:P(e,"invalid"),required:P(e,"required"),readOnly:P(e,"readOnly"),label:O(e,"label"),onCheckedChange:i=>{let r=O(e,"onCheckedChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{checked:i.checked,id:e.id});let s=O(e,"onCheckedChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}}));n.init(),this.zagSwitch=n,this.onSetChecked=i=>{let{value:r}=i.detail;n.api.setChecked(r)},e.addEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers=[],this.handlers.push(this.handleEvent("switch_set_checked",i=>{let r=i.id;r&&r!==e.id||n.api.setChecked(i.value)})),this.handlers.push(this.handleEvent("switch_toggle_checked",i=>{let r=i.id;r&&r!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("switch_checked",()=>{this.pushEvent("switch_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("switch_focused",()=>{this.pushEvent("switch_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("switch_disabled",()=>{this.pushEvent("switch_disabled_response",{value:n.api.disabled})}))},beforeUpdate(){var e,t;this.wasFocused=(t=(e=this.zagSwitch)==null?void 0:e.api.focused)!=null?t:!1},updated(){var e;if((e=this.zagSwitch)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlled")?{checked:P(this.el,"checked")}:{defaultChecked:P(this.el,"defaultChecked")}),{disabled:P(this.el,"disabled"),name:O(this.el,"name"),form:O(this.el,"form"),value:O(this.el,"value"),dir:O(this.el,"dir",["ltr","rtl"]),invalid:P(this.el,"invalid"),required:P(this.el,"required"),readOnly:P(this.el,"readOnly"),label:O(this.el,"label")})),P(this.el,"controlled")&&this.wasFocused){let t=this.el.querySelector('[data-part="hidden-input"]');t==null||t.focus()}},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.zagSwitch)==null||e.destroy()}}});var ff={};ge(ff,{Tabs:()=>rV});function Zw(e,t){let{state:n,send:i,context:r,prop:s,scope:a}=e,o=s("translations"),l=n.matches("focused"),c=s("orientation")==="vertical",d=s("orientation")==="horizontal",h=s("composite");function m(u){return{selected:r.get("value")===u.value,focused:r.get("focusedValue")===u.value,disabled:!!u.disabled}}return{value:r.get("value"),focusedValue:r.get("focusedValue"),setValue(u){i({type:"SET_VALUE",value:u})},clearValue(){i({type:"CLEAR_VALUE"})},setIndicatorRect(u){let p=hi(a,u);i({type:"SET_INDICATOR_RECT",id:p})},syncTabIndex(){i({type:"SYNC_TAB_INDEX"})},selectNext(u){i({type:"TAB_FOCUS",value:u,src:"selectNext"}),i({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(u){i({type:"TAB_FOCUS",value:u,src:"selectPrev"}),i({type:"ARROW_PREV",src:"selectPrev"})},focus(){var p;let u=r.get("value");u&&((p=$a(a,u))==null||p.focus())},getRootProps(){return t.element(y(g({},Kr.root.attrs),{id:Uw(a),"data-orientation":s("orientation"),"data-focus":E(l),dir:s("dir")}))},getListProps(){return t.element(y(g({},Kr.list.attrs),{id:zr(a),role:"tablist",dir:s("dir"),"data-focus":E(l),"aria-orientation":s("orientation"),"data-orientation":s("orientation"),"aria-label":o==null?void 0:o.listLabel,onKeyDown(u){if(u.defaultPrevented||De(u)||!ue(u.currentTarget,j(u)))return;let p={ArrowDown(){d||i({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){d||i({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||i({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||i({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){i({type:"HOME"})},End(){i({type:"END"})}},v=pe(u,{dir:s("dir"),orientation:s("orientation")}),I=p[v];if(I){u.preventDefault(),I(u);return}}}))},getTriggerState:m,getTriggerProps(u){let{value:p,disabled:v}=u,I=m(u);return t.button(y(g({},Kr.trigger.attrs),{role:"tab",type:"button",disabled:v,dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":E(v),"aria-disabled":v,"data-value":p,"aria-selected":I.selected,"data-selected":E(I.selected),"data-focus":E(I.focused),"aria-controls":I.selected?lc(a,p):void 0,"data-ownedby":zr(a),"data-ssr":E(r.get("ssr")),id:hi(a,p),tabIndex:I.selected&&h?0:-1,onFocus(){i({type:"TAB_FOCUS",value:p})},onBlur(T){let w=T.relatedTarget;(w==null?void 0:w.getAttribute("role"))!=="tab"&&i({type:"TAB_BLUR"})},onClick(T){T.defaultPrevented||Wn(T)||v||(et()&&T.currentTarget.focus(),i({type:"TAB_CLICK",value:p}))}}))},getContentProps(u){let{value:p}=u,v=r.get("value")===p;return t.element(y(g({},Kr.content.attrs),{dir:s("dir"),id:lc(a,p),tabIndex:h?0:-1,"aria-labelledby":hi(a,p),role:"tabpanel","data-ownedby":zr(a),"data-selected":E(v),"data-orientation":s("orientation"),hidden:!v}))},getIndicatorProps(){let u=r.get("indicatorRect"),p=u==null||u.width===0&&u.height===0&&u.x===0&&u.y===0;return t.element(y(g({id:gf(a)},Kr.indicator.attrs),{dir:s("dir"),"data-orientation":s("orientation"),hidden:p,style:{"--transition-property":"left, right, top, bottom, width, height","--left":be(u==null?void 0:u.x),"--top":be(u==null?void 0:u.y),"--width":be(u==null?void 0:u.width),"--height":be(u==null?void 0:u.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[d?"left":"top"]:d?"var(--left)":"var(--top)"}}))}}}var Gw,Kr,Uw,zr,lc,hi,gf,qw,Ww,$a,hf,ir,Kw,zw,Yw,jw,pf,Xw,Jw,Qw,eV,bA,tV,EA,nV,IA,iV,rV,mf=re(()=>{"use strict";ae();Gw=U("tabs").parts("root","list","trigger","content","indicator"),Kr=Gw.build(),Uw=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tabs:${e.id}`},zr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.list)!=null?n:`tabs:${e.id}:list`},lc=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.content)==null?void 0:i.call(n,t))!=null?r:`tabs:${e.id}:content-${t}`},hi=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.trigger)==null?void 0:i.call(n,t))!=null?r:`tabs:${e.id}:trigger-${t}`},gf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicator)!=null?n:`tabs:${e.id}:indicator`},qw=e=>e.getById(zr(e)),Ww=(e,t)=>e.getById(lc(e,t)),$a=(e,t)=>t!=null?e.getById(hi(e,t)):null,hf=e=>e.getById(gf(e)),ir=e=>{let n=`[role=tab][data-ownedby='${CSS.escape(zr(e))}']:not([disabled])`;return $e(qw(e),n)},Kw=e=>dt(ir(e)),zw=e=>Et(ir(e)),Yw=(e,t)=>Ti(ir(e),hi(e,t.value),t.loopFocus),jw=(e,t)=>Oi(ir(e),hi(e,t.value),t.loopFocus),pf=e=>{var t,n,i,r;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(n=e==null?void 0:e.offsetTop)!=null?n:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(r=e==null?void 0:e.offsetHeight)!=null?r:0}},Xw=(e,t)=>{let n=fo(ir(e),hi(e,t));return pf(n)};({createMachine:Jw}=ht()),Qw=Jw({props({props:e}){return g({dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){Pi(t.node)},defaultValue:null},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(n){var i;(i=e("onFocusChange"))==null||i({focusedValue:n})}})),ssr:t(()=>({defaultValue:!0})),indicatorRect:t(()=>({defaultValue:null}))}},watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value")],()=>{i(["syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),n([()=>t("dir"),()=>t("orientation")],()=>{i(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){H(()=>{let n=e.get("focusedValue");if(!n)return;let r=t("deselectable")&&e.get("value")===n?null:n;e.set("value",r)})},setFocusedValue({context:e,event:t,flush:n}){t.value!=null&&n(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:n}){let i=n("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",i?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){H(()=>{var t;(t=Kw(e))==null||t.focus()})},focusLastTab({scope:e}){H(()=>{var t;(t=zw(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:n,event:i}){var a;let r=(a=i.value)!=null?a:e.get("focusedValue");if(!r)return;let s=Yw(n,{value:r,loopFocus:t("loopFocus")});H(()=>{t("composite")?s==null||s.focus():(s==null?void 0:s.dataset.value)!=null&&e.set("focusedValue",s.dataset.value)})},focusPrevTab({context:e,prop:t,scope:n,event:i}){var a;let r=(a=i.value)!=null?a:e.get("focusedValue");if(!r)return;let s=jw(n,{value:r,loopFocus:t("loopFocus")});H(()=>{t("composite")?s==null||s.focus():(s==null?void 0:s.dataset.value)!=null&&e.set("focusedValue",s.dataset.value)})},syncTabIndex({context:e,scope:t}){H(()=>{let n=e.get("value");if(!n)return;let i=Ww(t,n);if(!i)return;gr(i).length>0?i.removeAttribute("tabindex"):i.setAttribute("tabindex","0")})},cleanupObserver({refs:e}){let t=e.get("indicatorCleanup");t&&t()},setIndicatorRect({context:e,event:t,scope:n}){var a;let i=(a=t.id)!=null?a:e.get("value");!hf(n)||!i||!$a(n,i)||e.set("indicatorRect",Xw(n,i))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:n}){let i=t.get("indicatorCleanup");if(i&&i(),!hf(n))return;let s=()=>{let l=$a(n,e.get("value"));if(!l)return;let c=pf(l);e.set("indicatorRect",d=>me(d,c)?d:c)};s();let a=ir(n),o=Nt(...a.map(l=>mn.observe(l,s)));t.set("indicatorCleanup",o)},navigateIfNeeded({context:e,prop:t,scope:n}){var s;let i=e.get("value");if(!i)return;let r=$a(n,i);ot(r)&&((s=t("navigate"))==null||s({value:i,node:r,href:r.href}))}}}}),eV=G()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]),bA=_(eV),tV=G()(["disabled","value"]),EA=_(tV),nV=G()(["value"]),IA=_(nV),iV=class extends K{initMachine(e){return new W(Qw,e)}initApi(){return Zw(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="tabs"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="tabs"][data-part="list"]');if(!t)return;this.spreadProps(t,this.api.getListProps());let n=this.el.getAttribute("data-items"),i=n?JSON.parse(n):[],r=t.querySelectorAll('[data-scope="tabs"][data-part="trigger"]');for(let a=0;a<r.length&&a<i.length;a++){let o=r[a],l=i[a];this.spreadProps(o,this.api.getTriggerProps({value:l.value,disabled:l.disabled}))}let s=e.querySelectorAll('[data-scope="tabs"][data-part="content"]');for(let a=0;a<s.length&&a<i.length;a++){let o=s[a],l=i[a];this.spreadProps(o,this.api.getContentProps({value:l.value}))}}},rV={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new iV(e,y(g({id:e.id},P(e,"controlled")?{value:O(e,"value")}:{defaultValue:O(e,"defaultValue")}),{orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:i=>{var a,o;let r=O(e,"onValueChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.value)!=null?a:null});let s=O(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.value)!=null?o:null}}))},onFocusChange:i=>{var a,o;let r=O(e,"onFocusChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(a=i.focusedValue)!=null?a:null});let s=O(e,"onFocusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(o=i.focusedValue)!=null?o:null}}))}}));n.init(),this.tabs=n,this.onSetValue=i=>{let{value:r}=i.detail;n.api.setValue(r)},e.addEventListener("phx:tabs:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("tabs_set_value",i=>{let r=i.tabs_id;r&&r!==e.id||n.api.setValue(i.value)})),this.handlers.push(this.handleEvent("tabs_value",()=>{this.pushEvent("tabs_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("tabs_focused_value",()=>{this.pushEvent("tabs_focused_value_response",{value:n.api.focusedValue})}))},updated(){var e;(e=this.tabs)==null||e.updateProps(y(g({id:this.el.id},P(this.el,"controlled")?{value:O(this.el,"value")}:{defaultValue:O(this.el,"defaultValue")}),{orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:tabs:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.tabs)==null||e.destroy()}}});var bf={};ge(bf,{Timer:()=>mV});function lV(e,t){let{state:n,send:i,computed:r,scope:s}=e,a=n.matches("running"),o=n.matches("paused"),l=r("time"),c=r("formattedTime"),d=r("progressPercent");return{running:a,paused:o,time:l,formattedTime:c,progressPercent:d,start(){i({type:"START"})},pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},reset(){i({type:"RESET"})},restart(){i({type:"RESTART"})},getRootProps(){return t.element(g({id:aV(s)},$n.root.attrs))},getAreaProps(){return t.element(g({role:"timer",id:oV(s),"aria-label":`${l.days} days ${c.hours}:${c.minutes}:${c.seconds}`,"aria-atomic":!0},$n.area.attrs))},getControlProps(){return t.element(g({},$n.control.attrs))},getItemProps(h){let m=l[h.type];return t.element(y(g({},$n.item.attrs),{"data-type":h.type,style:{"--value":m}}))},getItemLabelProps(h){return t.element(y(g({},$n.itemLabel.attrs),{"data-type":h.type}))},getItemValueProps(h){return t.element(y(g({},$n.itemValue.attrs),{"data-type":h.type}))},getSeparatorProps(){return t.element(g({"aria-hidden":!0},$n.separator.attrs))},getActionTriggerProps(h){if(!vf.has(h.action))throw new Error(`[zag-js] Invalid action: ${h.action}. Must be one of: ${Array.from(vf).join(", ")}`);return t.button(y(g({},$n.actionTrigger.attrs),{hidden:Se(h.action,{start:()=>a||o,pause:()=>!a,reset:()=>!a&&!o,resume:()=>!o,restart:()=>!1}),type:"button",onClick(m){m.defaultPrevented||i({type:h.action.toUpperCase()})}}))}}}function dV(e){let t=Math.max(0,e),n=t%1e3,i=Math.floor(t/1e3)%60,r=Math.floor(t/(1e3*60))%60,s=Math.floor(t/(1e3*60*60))%24;return{days:Math.floor(t/(1e3*60*60*24)),hours:s,minutes:r,seconds:i,milliseconds:n}}function yf(e,t,n){let i=n-t;return i===0?0:(e-t)/i}function Yr(e,t=2){return e.toString().padStart(t,"0")}function uV(e,t){return Math.floor(e/t)*t}function hV(e){let{days:t,hours:n,minutes:i,seconds:r}=e;return{days:Yr(t),hours:Yr(n),minutes:Yr(i),seconds:Yr(r),milliseconds:Yr(e.milliseconds,3)}}function gV(e){let{startMs:t,targetMs:n,countdown:i,interval:r}=e;if(r!=null&&(typeof r!="number"||r<=0))throw new Error(`[timer] Invalid interval: ${r}. Must be a positive number.`);if(t!=null&&(typeof t!="number"||t<0))throw new Error(`[timer] Invalid startMs: ${t}. Must be a non-negative number.`);if(n!=null&&(typeof n!="number"||n<0))throw new Error(`[timer] Invalid targetMs: ${n}. Must be a non-negative number.`);if(i&&t!=null&&n!=null&&t<=n)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than targetMs (${n}).`);if(!i&&t!=null&&n!=null&&t>=n)throw new Error(`[timer] Invalid stopwatch configuration: startMs (${t}) must be less than targetMs (${n}).`);if(i&&n==null&&t!=null&&t<=0)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than 0 when no targetMs is provided.`)}var sV,$n,aV,oV,vf,cV,pV,TA,fV,mV,Ef=re(()=>{"use strict";ae();sV=U("timer").parts("root","area","control","item","itemValue","itemLabel","actionTrigger","separator"),$n=sV.build(),aV=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`timer:${e.id}:root`},oV=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.area)!=null?n:`timer:${e.id}:area`},vf=new Set(["start","pause","resume","reset","restart"]);cV={props({props:e}){return gV(e),g({interval:1e3,startMs:0},e)},initialState({prop:e}){return e("autoStart")?"running":"idle"},context({prop:e,bindable:t}){return{currentMs:t(()=>({defaultValue:e("startMs")}))}},watch({track:e,send:t,prop:n}){e([()=>n("startMs")],()=>{t({type:"RESTART"})})},on:{RESTART:{target:"running:temp",actions:["resetTime"]}},computed:{time:({context:e})=>dV(e.get("currentMs")),formattedTime:({computed:e})=>hV(e("time")),progressPercent:Yn(({context:e,prop:t})=>[e.get("currentMs"),t("targetMs"),t("startMs"),t("countdown")],([e,t=0,n,i])=>{let r=i?yf(e,t,n):yf(e,n,t);return Be(r,0,1)})},states:{idle:{on:{START:{target:"running"},RESET:{actions:["resetTime"]}}},"running:temp":{effects:["waitForNextTick"],on:{CONTINUE:{target:"running"}}},running:{effects:["keepTicking"],on:{PAUSE:{target:"paused"},TICK:[{target:"idle",guard:"hasReachedTarget",actions:["invokeOnComplete"]},{actions:["updateTime","invokeOnTick"]}],RESET:{actions:["resetTime"]}}},paused:{on:{RESUME:{target:"running"},RESET:{target:"idle",actions:["resetTime"]}}}},implementations:{effects:{keepTicking({prop:e,send:t}){return yd(({deltaMs:n})=>{t({type:"TICK",deltaMs:n})},e("interval"))},waitForNextTick({send:e}){return bn(()=>{e({type:"CONTINUE"})},0)}},actions:{updateTime({context:e,prop:t,event:n}){let i=t("countdown")?-1:1,r=uV(n.deltaMs,t("interval"));e.set("currentMs",s=>{let a=s+i*r,o=t("targetMs");return o==null&&t("countdown")&&(o=0),t("countdown")&&o!=null?Math.max(a,o):!t("countdown")&&o!=null?Math.min(a,o):a})},resetTime({context:e,prop:t}){var i;let n=t("targetMs");n==null&&t("countdown")&&(n=0),e.set("currentMs",(i=t("startMs"))!=null?i:0)},invokeOnTick({context:e,prop:t,computed:n}){var i;(i=t("onTick"))==null||i({value:e.get("currentMs"),time:n("time"),formattedTime:n("formattedTime")})},invokeOnComplete({prop:e}){var t;(t=e("onComplete"))==null||t()}},guards:{hasReachedTarget:({context:e,prop:t})=>{let n=t("targetMs");if(n==null&&t("countdown")&&(n=0),n==null)return!1;let i=e.get("currentMs");return t("countdown")?i<=n:i>=n}}}};pV=G()(["autoStart","countdown","getRootNode","id","ids","interval","onComplete","onTick","startMs","targetMs"]),TA=_(pV),fV=class extends K{constructor(){super(...arguments);Y(this,"init",()=>{this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start(),this.api=this.initApi(),this.render()})}initMachine(t){return new W(cV,t)}initApi(){return lV(this.machine.service,q)}render(){var a;let t=(a=this.el.querySelector('[data-scope="timer"][data-part="root"]'))!=null?a:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="timer"][data-part="area"]');n&&this.spreadProps(n,this.api.getAreaProps());let i=this.el.querySelector('[data-scope="timer"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps()),["days","hours","minutes","seconds"].forEach(o=>{let l=this.el.querySelector(`[data-scope="timer"][data-part="item"][data-type="${o}"]`);l&&this.spreadProps(l,this.api.getItemProps({type:o}))}),this.el.querySelectorAll('[data-scope="timer"][data-part="separator"]').forEach(o=>{this.spreadProps(o,this.api.getSeparatorProps())}),["start","pause","resume","reset"].forEach(o=>{let l=this.el.querySelector(`[data-scope="timer"][data-part="action-trigger"][data-action="${o}"]`);l&&this.spreadProps(l,this.api.getActionTriggerProps({action:o}))})}},mV={mounted(){var n;let e=this.el,t=new fV(e,{id:e.id,countdown:P(e,"countdown"),startMs:z(e,"startMs"),targetMs:z(e,"targetMs"),autoStart:P(e,"autoStart"),interval:(n=z(e,"interval"))!=null?n:1e3,onTick:i=>{let r=O(e,"onTick");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(r,{value:i.value,time:i.time,formattedTime:i.formattedTime,id:e.id})},onComplete:()=>{let i=O(e,"onComplete");i&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(i,{id:e.id})}});t.init(),this.timer=t,this.handlers=[]},updated(){var e,t;(t=this.timer)==null||t.updateProps({id:this.el.id,countdown:P(this.el,"countdown"),startMs:z(this.el,"startMs"),targetMs:z(this.el,"targetMs"),autoStart:P(this.el,"autoStart"),interval:(e=z(this.el,"interval"))!=null?e:1e3})},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.timer)==null||e.destroy()}}});var xf={};ge(xf,{Toast:()=>BV});function cc(e,t){var n;return(n=e!=null?e:Tf[t])!=null?n:Tf.DEFAULT}function IV(e,t){var v;let{prop:n,computed:i,context:r}=e,{offsets:s,gap:a}=n("store").attrs,o=r.get("heights"),l=EV(s),c=n("dir")==="rtl",d=t.replace("-start",c?"-right":"-left").replace("-end",c?"-left":"-right"),h=d.includes("right"),m=d.includes("left"),u={position:"fixed",pointerEvents:i("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${a}px`,"--first-height":`${((v=o[0])==null?void 0:v.height)||0}px`,"--viewport-offset-left":l.left,"--viewport-offset-right":l.right,"--viewport-offset-top":l.top,"--viewport-offset-bottom":l.bottom,zIndex:us},p="center";if(h&&(p="flex-end"),m&&(p="flex-start"),u.alignItems=p,d.includes("top")){let I=l.top;u.top=`max(env(safe-area-inset-top, 0px), ${I})`}if(d.includes("bottom")){let I=l.bottom;u.bottom=`max(env(safe-area-inset-bottom, 0px), ${I})`}if(!d.includes("left")){let I=l.right;u.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${I})`}if(!d.includes("right")){let I=l.left;u.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${I})`}return u}function CV(e,t){let{prop:n,context:i,computed:r}=e,s=n("parent"),a=s.computed("placement"),{gap:o}=s.prop("store").attrs,[l]=a.split("-"),c=i.get("mounted"),d=i.get("remainingTime"),h=r("height"),m=r("frontmost"),u=!m,p=!n("stacked"),v=n("stacked"),T=n("type")==="loading"?Number.MAX_SAFE_INTEGER:d,w=r("heightIndex")*o+r("heightBefore"),b={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${n("removeDelay")}ms`,"--duration":`${T}ms`,"--initial-height":`${h}px`,"--offset":`${w}px`,"--index":n("index"),"--z-index":r("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},f=S=>Object.assign(b,S);return l==="top"?f({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):l==="bottom"&&f({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),c&&(f({"--y":"0","--opacity":"1"}),v&&f({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||f({"--opacity":"0",pointerEvents:"none"}),u&&p&&(f({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||f({"--y":"calc(var(--sign) * 40%)"})),u&&v&&!t&&f({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),m&&!t&&f({"--y":"calc(var(--lift) * -100%)"}),b}function PV(e,t){let{computed:n}=e,i={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},r=s=>Object.assign(i,s);return n("frontmost")&&!t&&r({height:"calc(var(--initial-height) + 80%)"}),i}function SV(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function TV(e,t){let{context:n,prop:i,send:r,refs:s,computed:a}=e;return{getCount(){return n.get("toasts").length},getToasts(){return n.get("toasts")},getGroupProps(o={}){let{label:l="Notifications"}=o,{hotkey:c}=i("store").attrs,d=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=a("placement"),[m,u="center"]=h.split("-");return t.element(y(g({},rr.group.attrs),{dir:i("dir"),tabIndex:-1,"aria-label":`${h} ${l} ${d}`,id:yV(h),"data-placement":h,"data-side":m,"data-align":u,"aria-live":"polite",role:"region",style:IV(e,h),onMouseEnter(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_ENTER",placement:h})},onMouseMove(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_ENTER",placement:h})},onMouseLeave(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_LEAVE",placement:h})},onFocus(p){r({type:"REGION.FOCUS",target:p.relatedTarget})},onBlur(p){s.get("isFocusWithin")&&!ue(p.currentTarget,p.relatedTarget)&&queueMicrotask(()=>r({type:"REGION.BLUR"}))}}))},subscribe(o){return i("store").subscribe(()=>o(n.get("toasts")))}}}function kV(e,t){let{state:n,send:i,prop:r,scope:s,context:a,computed:o}=e,l=n.hasTag("visible"),c=n.hasTag("paused"),d=a.get("mounted"),h=o("frontmost"),m=r("parent").computed("placement"),u=r("type"),p=r("stacked"),v=r("title"),I=r("description"),T=r("action"),[w,b="center"]=m.split("-");return{type:u,title:v,description:I,placement:m,visible:l,paused:c,closable:!!r("closable"),pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},dismiss(){i({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element(y(g({},rr.root.attrs),{dir:r("dir"),id:Vf(s),"data-state":l?"open":"closed","data-type":u,"data-placement":m,"data-align":b,"data-side":w,"data-mounted":E(d),"data-paused":E(c),"data-first":E(h),"data-sibling":E(!h),"data-stack":E(p),"data-overlap":E(!p),role:"status","aria-atomic":"true","aria-describedby":I?Sf(s):void 0,"aria-labelledby":v?Pf(s):void 0,tabIndex:0,style:CV(e,l),onKeyDown(f){f.defaultPrevented||f.key=="Escape"&&(i({type:"DISMISS",src:"keyboard"}),f.preventDefault())}}))},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:PV(e,l)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:SV()})},getTitleProps(){return t.element(y(g({},rr.title.attrs),{id:Pf(s)}))},getDescriptionProps(){return t.element(y(g({},rr.description.attrs),{id:Sf(s)}))},getActionTriggerProps(){return t.button(y(g({},rr.actionTrigger.attrs),{type:"button",onClick(f){var S;f.defaultPrevented||((S=T==null?void 0:T.onClick)==null||S.call(T),i({type:"DISMISS",src:"user"}))}}))},getCloseTriggerProps(){return t.button(y(g({id:bV(s)},rr.closeTrigger.attrs),{type:"button","aria-label":"Dismiss notification",onClick(f){f.defaultPrevented||i({type:"DISMISS",src:"user"})}}))}}}function Of(e,t){let{id:n,height:i}=t;e.context.set("heights",r=>r.find(a=>a.id===n)?r.map(a=>a.id===n?y(g({},a),{height:i}):a):[{id:n,height:i},...r])}function DV(e={}){let t=RV(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0}),n=[],i=[],r=new Set,s=[],a=D=>(n.push(D),()=>{let $=n.indexOf(D);n.splice($,1)}),o=D=>(n.forEach($=>$(D)),D),l=D=>{if(i.length>=t.max){s.push(D);return}o(D),i.unshift(D)},c=()=>{for(;s.length>0&&i.length<t.max;){let D=s.shift();D&&(o(D),i.unshift(D))}},d=D=>{var te;let $=(te=D.id)!=null?te:`toast:${vr()}`,ee=i.find(oe=>oe.id===$);return r.has($)&&r.delete($),ee?i=i.map(oe=>oe.id===$?o(y(g(g({},oe),D),{id:$})):oe):l(y(g({id:$,duration:t.duration,removeDelay:t.removeDelay,type:"info"},D),{stacked:!t.overlap,gap:t.gap})),$},h=D=>(r.add(D),D?(n.forEach($=>$({id:D,dismiss:!0})),i=i.filter($=>$.id!==D),c()):(i.forEach($=>{n.forEach(ee=>ee({id:$.id,dismiss:!0}))}),i=[],s=[]),D);return{attrs:t,subscribe:a,create:d,update:(D,$)=>d(g({id:D},$)),remove:h,dismiss:D=>{D!=null?i=i.map($=>$.id===D?o(y(g({},$),{message:"DISMISS"})):$):i=i.map($=>o(y(g({},$),{message:"DISMISS"})))},error:D=>d(y(g({},D),{type:"error"})),success:D=>d(y(g({},D),{type:"success"})),info:D=>d(y(g({},D),{type:"info"})),warning:D=>d(y(g({},D),{type:"warning"})),loading:D=>d(y(g({},D),{type:"loading"})),getVisibleToasts:()=>i.filter(D=>!r.has(D.id)),getCount:()=>i.length,promise:(D,$,ee={})=>{if(!$||!$.loading){jt("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}let te=d(y(g(g({},ee),$.loading),{promise:D,type:"loading"})),oe=!0,Z,ie=Yt(D).then(ne=>xe(null,null,function*(){if(Z=["resolve",ne],LV(ne)&&!ne.ok){oe=!1;let Pe=Yt($.error,`HTTP Error! status: ${ne.status}`);d(y(g(g({},ee),Pe),{id:te,type:"error"}))}else if($.success!==void 0){oe=!1;let Pe=Yt($.success,ne);d(y(g(g({},ee),Pe),{id:te,type:"success"}))}})).catch(ne=>xe(null,null,function*(){if(Z=["reject",ne],$.error!==void 0){oe=!1;let Pe=Yt($.error,ne);d(y(g(g({},ee),Pe),{id:te,type:"error"}))}})).finally(()=>{var ne;oe&&h(te),(ne=$.finally)==null||ne.call($)});return{id:te,unwrap:()=>new Promise((ne,Pe)=>ie.then(()=>Z[0]==="reject"?Pe(Z[1]):ne(Z[1])).catch(Pe))}},pause:D=>{D!=null?i=i.map($=>$.id===D?o(y(g({},$),{message:"PAUSE"})):$):i=i.map($=>o(y(g({},$),{message:"PAUSE"})))},resume:D=>{D!=null?i=i.map($=>$.id===D?o(y(g({},$),{message:"RESUME"})):$):i=i.map($=>o(y(g({},$),{message:"RESUME"})))},isVisible:D=>!r.has(D)&&!!i.find($=>$.id===D),isDismissed:D=>r.has(D),expand:()=>{i=i.map(D=>o(y(g({},D),{stacked:!0})))},collapse:()=>{i=i.map(D=>o(y(g({},D),{stacked:!1})))}}}function HV(e,t){var s,a,o;let n=(s=t==null?void 0:t.id)!=null?s:qn(e,"toast"),i=(o=t==null?void 0:t.store)!=null?o:DV({placement:(a=t==null?void 0:t.placement)!=null?a:"bottom",overlap:t==null?void 0:t.overlap,max:t==null?void 0:t.max,gap:t==null?void 0:t.gap,offsets:t==null?void 0:t.offsets,pauseOnPageIdle:t==null?void 0:t.pauseOnPageIdle}),r=new $V(e,{id:n,store:i});return r.init(),MV.set(n,r),dc.set(n,i),e.dataset.toastGroup="true",e.dataset.toastGroupId=n,{group:r,store:i}}function jr(e){if(e)return dc.get(e);let t=document.querySelector("[data-toast-group]");if(!t)return;let n=t.dataset.toastGroupId||t.id;return n?dc.get(n):void 0}var vV,rr,yV,If,Vf,Cf,Pf,Sf,bV,Tf,EV,OV,wV,VV,xV,AV,NV,RV,LV,wf,MV,dc,FV,$V,BV,kf=re(()=>{"use strict";Qn();rn();ae();vV=U("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),rr=vV.build(),yV=e=>`toast-group:${e}`,If=(e,t)=>e.getById(`toast-group:${t}`),Vf=e=>`toast:${e.id}`,Cf=e=>e.getById(Vf(e)),Pf=e=>`toast:${e.id}:title`,Sf=e=>`toast:${e.id}:description`,bV=e=>`toast${e.id}:close`,Tf={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};EV=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;({guards:OV,createMachine:wV}=ht()),{and:VV}=OV,xV=wV({props({props:e}){return y(g({dir:"ltr",id:vr()},e),{store:e.store})},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:co.create(),dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(n=>n.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:n}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{n(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:VV("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore({context:e,prop:t}){let n=t("store");return e.set("toasts",n.getVisibleToasts()),n.subscribe(i=>{if(i.dismiss){e.set("toasts",r=>r.filter(s=>s.id!==i.id));return}e.set("toasts",r=>{let s=r.findIndex(a=>a.id===i.id);return s!==-1?[...r.slice(0,s),g(g({},r[s]),i),...r.slice(s+1)]:[i,...r]})})},trackHotKeyPress({prop:e,send:t}){return Q(document,"keydown",i=>{let{hotkey:r}=e("store").attrs;r.every(a=>i[a]||i.code===a)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:n}){let{pauseOnPageIdle:i}=e("store").attrs;if(!i)return;let r=n.getDoc();return Q(r,"visibilitychange",()=>{let s=r.visibilityState==="hidden";t({type:s?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:n,scope:i}){var c;let r=t.get("toasts"),s=n("placement"),a=r.length>0;if(!a){(c=e.get("dismissableCleanup"))==null||c();return}if(a&&e.get("dismissableCleanup"))return;let l=ih(()=>If(i,s),{defer:!0});e.set("dismissableCleanup",l)},clearDismissableBranch({refs:e}){var t;(t=e.get("dismissableCleanup"))==null||t()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{var n;(n=If(e,t("placement")))==null||n.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){(e==null?void 0:e.id)!=null&&queueMicrotask(()=>{t.set("heights",n=>n.filter(i=>i.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){var t;!e.get("lastFocusedEl")||e.get("isPointerWithin")||((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){var t;e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){var t;e.get("lastFocusedEl")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});({not:AV}=Ie()),NV={props({props:e}){return In(e,["id","type","parent","removeDelay"],"toast"),y(g({closable:!0},e),{duration:cc(e.duration,e.type)})},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:cc(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{let t=e("parent").context.get("toasts"),n=t.findIndex(i=>i.id===e("id"));return t.length-n},height:({prop:e})=>{var i;let n=e("parent").context.get("heights").find(r=>r.id===e("id"));return(i=n==null?void 0:n.height)!=null?i:0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(n=>n.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{let t=e("parent").context.get("heights"),n=t.findIndex(i=>i.id===e("id"));return t.reduce((i,r,s)=>s>=n?i:i+r.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:n}){e([()=>t("message")],()=>{let i=t("message");i&&n({type:i,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{n({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:AV("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return bn(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:n}){if(!n("shouldPersist"))return bn(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return bn(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let n;return H(()=>{let i=Cf(e);if(!i)return;let r=()=>{let o=i.style.height;i.style.height="auto";let l=i.getBoundingClientRect().height;i.style.height=o;let c={id:t("id"),height:l};Of(t("parent"),c)},s=e.getWin(),a=new s.MutationObserver(r);a.observe(i,{childList:!0,subtree:!0,characterData:!0}),n=()=>a.disconnect()}),()=>n==null?void 0:n()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){H(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:n}){queueMicrotask(()=>{let i=Cf(e);if(!i)return;let r=i.style.height;i.style.height="auto";let s=i.getBoundingClientRect().height;i.style.height=r,n.set("initialHeight",s);let a={id:t("id"),height:s};Of(t("parent"),a)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:n}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",cc(n("duration"),n("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",n=>{let i=t.get("closeTimerStartTime"),r=Date.now()-i;return t.set("lastCloseStartTimerStartTime",Date.now()),n-r})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){var n;(n=e("onStatusChange"))==null||n({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"unmounted"})},invokeOnVisible({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"visible"})}}}};RV=(e,t)=>g(g({},t),Ai(e));LV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wf={connect:TV,machine:xV},MV=new Map,dc=new Map,FV=class extends K{constructor(t,n){super(t,n);Y(this,"parts");Y(this,"duration");Y(this,"destroy",()=>{this.machine.stop(),this.el.remove()});this.duration=n.duration,this.el.setAttribute("data-scope","toast"),this.el.setAttribute("data-part","root"),this.el.innerHTML=`
      <span data-scope="toast" data-part="ghost-before"></span>
      <div data-scope="toast" data-part="progressbar"></div>
      <div data-scope="toast" data-part="loading-spinner" style="display: none;"></div>

      <div data-scope="toast" data-part="content">
        <div data-scope="toast" data-part="title"></div>
        <div data-scope="toast" data-part="description"></div>
      </div>

      <button data-scope="toast" data-part="close-trigger">
        <svg viewBox="0 0 20 20" aria-hidden="true">
          <path d="M4.293 4.293 10 8.586l5.707-5.707 1.414 1.414L11.414 10l5.707 5.707-1.414 1.414L10 11.414l-5.707 5.707-1.414-1.414L8.586 10 2.879 4.293z"/>
        </svg>
      </button>

      <span data-scope="toast" data-part="ghost-after"></span>
    `,this.parts={title:this.el.querySelector('[data-scope="toast"][data-part="title"]'),description:this.el.querySelector('[data-scope="toast"][data-part="description"]'),close:this.el.querySelector('[data-scope="toast"][data-part="close-trigger"]'),ghostBefore:this.el.querySelector('[data-scope="toast"][data-part="ghost-before"]'),ghostAfter:this.el.querySelector('[data-scope="toast"][data-part="ghost-after"]'),progressbar:this.el.querySelector('[data-scope="toast"][data-part="progressbar"]'),loadingSpinner:this.el.querySelector('[data-scope="toast"][data-part="loading-spinner"]')}}initMachine(t){return new W(NV,t)}initApi(){return kV(this.machine.service,q)}render(){var a,o;this.spreadProps(this.el,this.api.getRootProps()),this.spreadProps(this.parts.close,this.api.getCloseTriggerProps()),this.spreadProps(this.parts.ghostBefore,this.api.getGhostBeforeProps()),this.spreadProps(this.parts.ghostAfter,this.api.getGhostAfterProps()),this.parts.title.textContent!==this.api.title&&(this.parts.title.textContent=(a=this.api.title)!=null?a:""),this.parts.description.textContent!==this.api.description&&(this.parts.description.textContent=(o=this.api.description)!=null?o:""),this.spreadProps(this.parts.title,this.api.getTitleProps()),this.spreadProps(this.parts.description,this.api.getDescriptionProps());let t=this.duration,n=t==="Infinity"||t===1/0||t===Number.POSITIVE_INFINITY,i=this.el.closest('[phx-hook="Toast"]'),r=i==null?void 0:i.querySelector("[data-loading-icon-template]"),s=r==null?void 0:r.innerHTML;n?(this.parts.progressbar.style.display="none",this.parts.loadingSpinner.style.display="flex",this.el.setAttribute("data-duration-infinity","true"),s&&this.parts.loadingSpinner.innerHTML!==s&&(this.parts.loadingSpinner.innerHTML=s)):(this.parts.progressbar.style.display="block",this.parts.loadingSpinner.style.display="none",this.el.removeAttribute("data-duration-infinity"))}},$V=class extends K{constructor(t,n){var i;super(t,n);Y(this,"toastComponents",new Map);Y(this,"groupEl");Y(this,"store");Y(this,"destroy",()=>{for(let t of this.toastComponents.values())t.destroy();this.toastComponents.clear(),this.machine.stop()});this.store=n.store,this.groupEl=(i=t.querySelector('[data-part="group"]'))!=null?i:(()=>{let r=document.createElement("div");return r.setAttribute("data-scope","toast"),r.setAttribute("data-part","group"),t.appendChild(r),r})()}initMachine(t){return new W(wf.machine,t)}initApi(){return wf.connect(this.machine.service,q)}render(){this.spreadProps(this.groupEl,this.api.getGroupProps());let t=this.api.getToasts().filter(i=>typeof i.id=="string"),n=new Set(t.map(i=>i.id));t.forEach((i,r)=>{let s=this.toastComponents.get(i.id);if(s)s.duration=i.duration,s.updateProps(y(g({},i),{parent:this.machine.service,index:r}));else{let a=document.createElement("div");a.setAttribute("data-scope","toast"),a.setAttribute("data-part","root"),this.groupEl.appendChild(a),s=new FV(a,y(g({},i),{parent:this.machine.service,index:r})),s.init(),this.toastComponents.set(i.id,s)}});for(let[i,r]of this.toastComponents)n.has(i)||(r.destroy(),this.toastComponents.delete(i))}};BV={mounted(){var h;let e=this.el;e.id||(e.id=qn(e,"toast")),this.groupId=e.id;let t=m=>{if(m)try{return m.includes("{")?JSON.parse(m):m}catch(u){return m}},n=m=>m==="Infinity"||m===1/0?1/0:typeof m=="string"?parseInt(m,10)||void 0:m,i=(h=O(e,"placement",["top-start","top","top-end","bottom-start","bottom","bottom-end"]))!=null?h:"bottom-end";HV(e,{id:this.groupId,placement:i,overlap:P(e,"overlap"),max:z(e,"max"),gap:z(e,"gap"),offsets:t(O(e,"offset")),pauseOnPageIdle:P(e,"pauseOnPageIdle")});let r=jr(this.groupId),s=e.getAttribute("data-flash-info"),a=e.getAttribute("data-flash-info-title"),o=e.getAttribute("data-flash-error"),l=e.getAttribute("data-flash-error-title"),c=e.getAttribute("data-flash-info-duration"),d=e.getAttribute("data-flash-error-duration");if(r&&s)try{r.create({title:a||"Success",description:s,type:"info",id:qn(void 0,"toast"),duration:n(c!=null?c:void 0)})}catch(m){console.error("Failed to create flash info toast:",m)}if(r&&o)try{r.create({title:l||"Error",description:o,type:"error",id:qn(void 0,"toast"),duration:n(d!=null?d:void 0)})}catch(m){console.error("Failed to create flash error toast:",m)}this.handlers=[],this.handlers.push(this.handleEvent("toast-create",m=>{let u=jr(m.groupId||this.groupId);if(u)try{u.create({title:m.title,description:m.description,type:m.type||"info",id:m.id||qn(void 0,"toast"),duration:n(m.duration)})}catch(p){console.error("Failed to create toast:",p)}})),this.handlers.push(this.handleEvent("toast-update",m=>{let u=jr(m.groupId||this.groupId);if(u)try{u.update(m.id,{title:m.title,description:m.description,type:m.type})}catch(p){console.error("Failed to update toast:",p)}})),this.handlers.push(this.handleEvent("toast-dismiss",m=>{let u=jr(m.groupId||this.groupId);if(u)try{u.dismiss(m.id)}catch(p){console.error("Failed to dismiss toast:",p)}})),e.addEventListener("toast:create",m=>{let{detail:u}=m,p=jr(u.groupId||this.groupId);if(p)try{p.create({title:u.title,description:u.description,type:u.type||"info",id:u.id||qn(void 0,"toast"),duration:n(u.duration)})}catch(v){console.error("Failed to create toast:",v)}})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e)}}});var Lf={};ge(Lf,{ToggleGroup:()=>JV});function KV(e,t){let{context:n,send:i,prop:r,scope:s}=e,a=n.get("value"),o=r("disabled"),l=!r("multiple"),c=r("rovingFocus"),d=r("orientation")==="horizontal";function h(m){let u=GV(s,m.value);return{id:u,disabled:!!(m.disabled||o),pressed:!!a.includes(m.value),focused:n.get("focusedId")===u}}return{value:a,setValue(m){i({type:"VALUE.SET",value:m})},getRootProps(){return t.element(y(g({},Af.root.attrs),{id:Ha(s),dir:r("dir"),role:l?"radiogroup":"group",tabIndex:n.get("isTabbingBackward")?-1:0,"data-disabled":E(o),"data-orientation":r("orientation"),"data-focus":E(n.get("focusedId")!=null),style:{outline:"none"},onMouseDown(){o||i({type:"ROOT.MOUSE_DOWN"})},onFocus(m){o||m.currentTarget===j(m)&&(n.get("isClickFocus")||n.get("isTabbingBackward")||i({type:"ROOT.FOCUS"}))},onBlur(m){let u=m.relatedTarget;ue(m.currentTarget,u)||o||i({type:"ROOT.BLUR"})}}))},getItemState:h,getItemProps(m){let u=h(m),p=u.focused?0:-1;return t.button(y(g({},Af.item.attrs),{id:u.id,type:"button","data-ownedby":Ha(s),"data-focus":E(u.focused),disabled:u.disabled,tabIndex:c?p:void 0,role:l?"radio":void 0,"aria-checked":l?u.pressed:void 0,"aria-pressed":l?void 0:u.pressed,"data-disabled":E(u.disabled),"data-orientation":r("orientation"),dir:r("dir"),"data-state":u.pressed?"on":"off",onFocus(){u.disabled||i({type:"TOGGLE.FOCUS",id:u.id})},onClick(v){u.disabled||(i({type:"TOGGLE.CLICK",id:u.id,value:m.value}),et()&&v.currentTarget.focus({preventScroll:!0}))},onKeyDown(v){if(v.defaultPrevented||!ue(v.currentTarget,j(v))||u.disabled)return;let T={Tab(w){let b=w.shiftKey;i({type:"TOGGLE.SHIFT_TAB",isShiftTab:b})},ArrowLeft(){!c||!d||i({type:"TOGGLE.FOCUS_PREV"})},ArrowRight(){!c||!d||i({type:"TOGGLE.FOCUS_NEXT"})},ArrowUp(){!c||d||i({type:"TOGGLE.FOCUS_PREV"})},ArrowDown(){!c||d||i({type:"TOGGLE.FOCUS_NEXT"})},Home(){c&&i({type:"TOGGLE.FOCUS_FIRST"})},End(){c&&i({type:"TOGGLE.FOCUS_LAST"})}}[pe(v)];T&&(T(v),v.key!=="Tab"&&v.preventDefault())}}))}}}var _V,Af,Ha,GV,Df,Ba,Nf,UV,qV,WV,Rf,zV,YV,jV,LA,XV,MA,ZV,JV,Mf=re(()=>{"use strict";ae();_V=U("toggle-group").parts("root","item"),Af=_V.build(),Ha=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`toggle-group:${e.id}`},GV=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`toggle-group:${e.id}:${t}`},Df=e=>e.getById(Ha(e)),Ba=e=>{let n=`[data-ownedby='${CSS.escape(Ha(e))}']:not([data-disabled])`;return $e(Df(e),n)},Nf=e=>dt(Ba(e)),UV=e=>Et(Ba(e)),qV=(e,t,n)=>Ti(Ba(e),t,n),WV=(e,t,n)=>Oi(Ba(e),t,n);({not:Rf,and:zV}=Ie()),YV={props({props:e}){return g({defaultValue:[],orientation:"horizontal",rovingFocus:!0,loopFocus:!0,deselectable:!0},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),focusedId:t(()=>({defaultValue:null})),isTabbingBackward:t(()=>({defaultValue:!1})),isClickFocus:t(()=>({defaultValue:!1})),isWithinToolbar:t(()=>({defaultValue:!1}))}},computed:{currentLoopFocus:({context:e,prop:t})=>t("loopFocus")&&!e.get("isWithinToolbar")},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:Rf(zV("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward","clearFocusedId","clearClickFocus"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":[{guard:Rf("isFirstToggleFocused"),target:"idle",actions:["setIsTabbingBackward"]},{actions:["setIsTabbingBackward"]}]}}},implementations:{guards:{isClickFocus:({context:e})=>e.get("isClickFocus"),isTabbingBackward:({context:e})=>e.get("isTabbingBackward"),isFirstToggleFocused:({context:e,scope:t})=>{var n;return e.get("focusedId")===((n=Nf(t))==null?void 0:n.id)}},actions:{setIsTabbingBackward({context:e}){e.set("isTabbingBackward",!0)},clearIsTabbingBackward({context:e}){e.set("isTabbingBackward",!1)},setClickFocus({context:e}){e.set("isClickFocus",!0)},clearClickFocus({context:e}){e.set("isClickFocus",!1)},checkIfWithinToolbar({context:e,scope:t}){var i;let n=(i=Df(t))==null?void 0:i.closest("[role=toolbar]");e.set("isWithinToolbar",!!n)},setFocusedId({context:e,event:t}){e.set("focusedId",t.id)},clearFocusedId({context:e}){e.set("focusedId",null)},setValue({context:e,event:t,prop:n}){In(t,["value"]);let i=e.get("value");vn(t.value)?i=t.value:n("multiple")?i=Ct(i,t.value):i=me(i,[t.value])&&n("deselectable")?[]:[t.value],e.set("value",i)},focusNextToggle({context:e,scope:t,prop:n}){H(()=>{var r;let i=e.get("focusedId");i&&((r=qV(t,i,n("loopFocus")))==null||r.focus({preventScroll:!0}))})},focusPrevToggle({context:e,scope:t,prop:n}){H(()=>{var r;let i=e.get("focusedId");i&&((r=WV(t,i,n("loopFocus")))==null||r.focus({preventScroll:!0}))})},focusFirstToggle({scope:e}){H(()=>{var t;(t=Nf(e))==null||t.focus({preventScroll:!0})})},focusLastToggle({scope:e}){H(()=>{var t;(t=UV(e))==null||t.focus({preventScroll:!0})})}}}},jV=G()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value","defaultValue","deselectable"]),LA=_(jV),XV=G()(["value","disabled"]),MA=_(XV),ZV=class extends K{initMachine(e){return new W(YV,e)}initApi(){return KV(this.machine.service,q)}render(){let e=this.el.querySelector('[data-scope="toggle-group"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelectorAll('[data-scope="toggle-group"][data-part="item"]');for(let n=0;n<t.length;n++){let i=t[n],r=O(i,"value");if(!r)continue;let s=P(i,"disabled");this.spreadProps(i,this.api.getItemProps({value:r,disabled:s}))}}},JV={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=y(g({id:e.id},P(e,"controlled")?{value:J(e,"value")}:{defaultValue:J(e,"defaultValue")}),{defaultValue:J(e,"defaultValue"),deselectable:P(e,"deselectable"),loopFocus:P(e,"loopFocus"),rovingFocus:P(e,"rovingFocus"),disabled:P(e,"disabled"),multiple:P(e,"multiple"),orientation:O(e,"orientation",["horizontal","vertical"]),dir:O(e,"dir",["ltr","rtl"]),onValueChange:r=>{let s=O(e,"onValueChange");s&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(s,{value:r.value,id:e.id});let a=O(e,"onValueChangeClient");a&&e.dispatchEvent(new CustomEvent(a,{bubbles:!0,detail:{value:r.value,id:e.id}}))}}),i=new ZV(e,n);i.init(),this.toggleGroup=i,this.onSetValue=r=>{let{value:s}=r.detail;i.api.setValue(s)},e.addEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("toggle-group_set_value",r=>{let s=r.id;s&&s!==e.id||i.api.setValue(r.value)})),this.handlers.push(this.handleEvent("toggle-group:value",()=>{this.pushEvent("toggle-group:value_response",{value:i.api.value})}))},updated(){var e;(e=this.toggleGroup)==null||e.updateProps(y(g({},P(this.el,"controlled")?{value:J(this.el,"value")}:{defaultValue:J(this.el,"defaultValue")}),{deselectable:P(this.el,"deselectable"),loopFocus:P(this.el,"loopFocus"),rovingFocus:P(this.el,"rovingFocus"),disabled:P(this.el,"disabled"),multiple:P(this.el,"multiple"),orientation:O(this.el,"orientation",["horizontal","vertical"]),dir:O(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.toggleGroup)==null||e.destroy()}}});var _f={};ge(_f,{TreeView:()=>c0});function Bf(e,t,n){let i=e.getNodeValue(t);if(!e.isBranchNode(t))return n.includes(i);let r=e.getDescendantValues(i),s=r.every(o=>n.includes(o)),a=r.some(o=>n.includes(o));return s?!0:a?"indeterminate":!1}function t0(e,t,n){let i=e.getDescendantValues(t),r=i.every(s=>n.includes(s));return It(r?ut(n,...i):tt(n,...i))}function n0(e,t){let n=new Map;return e.visit({onEnter:i=>{let r=e.getNodeValue(i),s=e.isBranchNode(i),a=Bf(e,i,t);n.set(r,{type:s?"branch":"leaf",checked:a})}}),n}function i0(e,t){let{context:n,scope:i,computed:r,prop:s,send:a}=e,o=s("collection"),l=Array.from(n.get("expandedValue")),c=Array.from(n.get("selectedValue")),d=Array.from(n.get("checkedValue")),h=r("isTypingAhead"),m=n.get("focusedValue"),u=n.get("loadingStatus"),p=n.get("renamingValue"),v=({indexPath:b})=>o.getValuePath(b).slice(0,-1).some(S=>!l.includes(S)),I=o.getFirstNode(void 0,{skip:v}),T=I?o.getNodeValue(I):null;function w(b){let{node:f,indexPath:S}=b,C=o.getNodeValue(f);return{id:gc(i,C),value:C,indexPath:S,valuePath:o.getValuePath(S),disabled:!!f.disabled,focused:m==null?T===C:m===C,selected:c.includes(C),expanded:l.includes(C),loading:u[C]==="loading",depth:S.length,isBranch:o.isBranchNode(f),renaming:p===C,get checked(){return Bf(o,f,d)}}}return{collection:o,expandedValue:l,selectedValue:c,checkedValue:d,toggleChecked(b,f){a({type:"CHECKED.TOGGLE",value:b,isBranch:f})},setChecked(b){a({type:"CHECKED.SET",value:b})},clearChecked(){a({type:"CHECKED.CLEAR"})},getCheckedMap(){return n0(o,d)},expand(b){a({type:b?"BRANCH.EXPAND":"EXPANDED.ALL",value:b})},collapse(b){a({type:b?"BRANCH.COLLAPSE":"EXPANDED.CLEAR",value:b})},deselect(b){a({type:b?"NODE.DESELECT":"SELECTED.CLEAR",value:b})},select(b){a({type:b?"NODE.SELECT":"SELECTED.ALL",value:b,isTrusted:!1})},getVisibleNodes(){return r("visibleNodes")},focus(b){Ne(i,b)},selectParent(b){let f=o.getParentNode(b);if(!f)return;let S=tt(c,o.getNodeValue(f));a({type:"SELECTED.SET",value:S,src:"select.parent"})},expandParent(b){let f=o.getParentNode(b);if(!f)return;let S=tt(l,o.getNodeValue(f));a({type:"EXPANDED.SET",value:S,src:"expand.parent"})},setExpandedValue(b){let f=It(b);a({type:"EXPANDED.SET",value:f})},setSelectedValue(b){let f=It(b);a({type:"SELECTED.SET",value:f})},startRenaming(b){a({type:"NODE.RENAME",value:b})},submitRenaming(b,f){a({type:"RENAME.SUBMIT",value:b,label:f})},cancelRenaming(){a({type:"RENAME.CANCEL"})},getRootProps(){return t.element(y(g({},Ue.root.attrs),{id:e0(i),dir:s("dir")}))},getLabelProps(){return t.element(y(g({},Ue.label.attrs),{id:Ff(i),dir:s("dir")}))},getTreeProps(){return t.element(y(g({},Ue.tree.attrs),{id:uc(i),dir:s("dir"),role:"tree","aria-label":"Tree View","aria-labelledby":Ff(i),"aria-multiselectable":s("selectionMode")==="multiple"||void 0,tabIndex:-1,onKeyDown(b){if(b.defaultPrevented||De(b))return;let f=j(b);if(Vt(f))return;let S=f==null?void 0:f.closest("[data-part=branch-control], [data-part=item]");if(!S)return;let C=S.dataset.value;if(C==null){console.warn("[zag-js/tree-view] Node id not found for node",S);return}let V=S.matches("[data-part=branch-control]"),k={ArrowDown(N){ke(N)||(N.preventDefault(),a({type:"NODE.ARROW_DOWN",id:C,shiftKey:N.shiftKey}))},ArrowUp(N){ke(N)||(N.preventDefault(),a({type:"NODE.ARROW_UP",id:C,shiftKey:N.shiftKey}))},ArrowLeft(N){ke(N)||S.dataset.disabled||(N.preventDefault(),a({type:V?"BRANCH_NODE.ARROW_LEFT":"NODE.ARROW_LEFT",id:C}))},ArrowRight(N){!V||S.dataset.disabled||(N.preventDefault(),a({type:"BRANCH_NODE.ARROW_RIGHT",id:C}))},Home(N){ke(N)||(N.preventDefault(),a({type:"NODE.HOME",id:C,shiftKey:N.shiftKey}))},End(N){ke(N)||(N.preventDefault(),a({type:"NODE.END",id:C,shiftKey:N.shiftKey}))},Space(N){var D;S.dataset.disabled||(h?a({type:"TREE.TYPEAHEAD",key:N.key}):(D=k.Enter)==null||D.call(k,N))},Enter(N){S.dataset.disabled||ot(f)&&ke(N)||(a({type:V?"BRANCH_NODE.CLICK":"NODE.CLICK",id:C,src:"keyboard"}),ot(f)||N.preventDefault())},"*"(N){S.dataset.disabled||(N.preventDefault(),a({type:"SIBLINGS.EXPAND",id:C}))},a(N){!N.metaKey||S.dataset.disabled||(N.preventDefault(),a({type:"SELECTED.ALL",moveFocus:!0}))},F2(N){if(S.dataset.disabled)return;let D=s("canRename");if(!D)return;let $=o.getIndexPath(C);if($){let ee=o.at($);if(ee&&!D(ee,$))return}N.preventDefault(),a({type:"NODE.RENAME",value:C})}},x=pe(b,{dir:s("dir")}),A=k[x];if(A){A(b);return}qe.isValidEvent(b)&&(a({type:"TREE.TYPEAHEAD",key:b.key,id:C}),b.preventDefault())}}))},getNodeState:w,getItemProps(b){let f=w(b);return t.element(y(g({},Ue.item.attrs),{id:f.id,dir:s("dir"),"data-ownedby":uc(i),"data-path":b.indexPath.join("/"),"data-value":f.value,tabIndex:f.focused?0:-1,"data-focus":E(f.focused),role:"treeitem","aria-current":f.selected?"true":void 0,"aria-selected":f.disabled?void 0:f.selected,"data-selected":E(f.selected),"aria-disabled":X(f.disabled),"data-disabled":E(f.disabled),"data-renaming":E(f.renaming),"aria-level":f.depth,"data-depth":f.depth,style:{"--depth":f.depth},onFocus(S){S.stopPropagation(),a({type:"NODE.FOCUS",id:f.value})},onClick(S){if(f.disabled||!fe(S)||ot(S.currentTarget)&&ke(S))return;let C=S.metaKey||S.ctrlKey;a({type:"NODE.CLICK",id:f.value,shiftKey:S.shiftKey,ctrlKey:C}),S.stopPropagation(),ot(S.currentTarget)||S.preventDefault()}}))},getItemTextProps(b){let f=w(b);return t.element(y(g({},Ue.itemText.attrs),{"data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused)}))},getItemIndicatorProps(b){let f=w(b);return t.element(y(g({},Ue.itemIndicator.attrs),{"aria-hidden":!0,"data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused),hidden:!f.selected}))},getBranchProps(b){let f=w(b);return t.element(y(g({},Ue.branch.attrs),{"data-depth":f.depth,dir:s("dir"),"data-branch":f.value,role:"treeitem","data-ownedby":uc(i),"data-value":f.value,"aria-level":f.depth,"aria-selected":f.disabled?void 0:f.selected,"data-path":b.indexPath.join("/"),"data-selected":E(f.selected),"aria-expanded":f.expanded,"data-state":f.expanded?"open":"closed","aria-disabled":X(f.disabled),"data-disabled":E(f.disabled),"data-loading":E(f.loading),"aria-busy":X(f.loading),style:{"--depth":f.depth}}))},getBranchIndicatorProps(b){let f=w(b);return t.element(y(g({},Ue.branchIndicator.attrs),{"aria-hidden":!0,"data-state":f.expanded?"open":"closed","data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused),"data-loading":E(f.loading)}))},getBranchTriggerProps(b){let f=w(b);return t.element(y(g({},Ue.branchTrigger.attrs),{role:"button",dir:s("dir"),"data-disabled":E(f.disabled),"data-state":f.expanded?"open":"closed","data-value":f.value,"data-loading":E(f.loading),disabled:f.loading,onClick(S){f.disabled||f.loading||(a({type:"BRANCH_TOGGLE.CLICK",id:f.value}),S.stopPropagation())}}))},getBranchControlProps(b){let f=w(b);return t.element(y(g({},Ue.branchControl.attrs),{role:"button",id:f.id,dir:s("dir"),tabIndex:f.focused?0:-1,"data-path":b.indexPath.join("/"),"data-state":f.expanded?"open":"closed","data-disabled":E(f.disabled),"data-selected":E(f.selected),"data-focus":E(f.focused),"data-renaming":E(f.renaming),"data-value":f.value,"data-depth":f.depth,"data-loading":E(f.loading),"aria-busy":X(f.loading),onFocus(S){a({type:"NODE.FOCUS",id:f.value}),S.stopPropagation()},onClick(S){if(f.disabled||f.loading||!fe(S)||ot(S.currentTarget)&&ke(S))return;let C=S.metaKey||S.ctrlKey;a({type:"BRANCH_NODE.CLICK",id:f.value,shiftKey:S.shiftKey,ctrlKey:C}),S.stopPropagation()}}))},getBranchTextProps(b){let f=w(b);return t.element(y(g({},Ue.branchText.attrs),{dir:s("dir"),"data-disabled":E(f.disabled),"data-state":f.expanded?"open":"closed","data-loading":E(f.loading)}))},getBranchContentProps(b){let f=w(b);return t.element(y(g({},Ue.branchContent.attrs),{role:"group",dir:s("dir"),"data-state":f.expanded?"open":"closed","data-depth":f.depth,"data-path":b.indexPath.join("/"),"data-value":f.value,hidden:!f.expanded}))},getBranchIndentGuideProps(b){let f=w(b);return t.element(y(g({},Ue.branchIndentGuide.attrs),{"data-depth":f.depth}))},getNodeCheckboxProps(b){let f=w(b),S=f.checked;return t.element(y(g({},Ue.nodeCheckbox.attrs),{tabIndex:-1,role:"checkbox","data-state":S===!0?"checked":S===!1?"unchecked":"indeterminate","aria-checked":S===!0?"true":S===!1?"false":"mixed","data-disabled":E(f.disabled),onClick(C){if(C.defaultPrevented||f.disabled||!fe(C))return;a({type:"CHECKED.TOGGLE",value:f.value,isBranch:f.isBranch}),C.stopPropagation();let V=C.currentTarget.closest("[role=treeitem]");V==null||V.focus({preventScroll:!0})}}))},getNodeRenameInputProps(b){let f=w(b);return t.input(y(g({},Ue.nodeRenameInput.attrs),{id:Hf(i,f.value),type:"text","aria-label":"Rename tree item",hidden:!f.renaming,onKeyDown(S){De(S)||(S.key==="Escape"&&(a({type:"RENAME.CANCEL"}),S.preventDefault()),S.key==="Enter"&&(a({type:"RENAME.SUBMIT",label:S.currentTarget.value}),S.preventDefault()),S.stopPropagation())},onBlur(S){a({type:"RENAME.SUBMIT",label:S.currentTarget.value})}}))}}}function _a(e,t){let{context:n,prop:i,refs:r}=e;if(!i("loadChildren")){n.set("expandedValue",v=>It(tt(v,...t)));return}let s=n.get("loadingStatus"),[a,o]=vo(t,v=>s[v]==="loaded");if(a.length>0&&n.set("expandedValue",v=>It(tt(v,...a))),o.length===0)return;let l=i("collection"),[c,d]=vo(o,v=>{let I=l.findNode(v);return l.getNodeChildren(I).length>0});if(c.length>0&&n.set("expandedValue",v=>It(tt(v,...c))),d.length===0)return;n.set("loadingStatus",v=>g(g({},v),d.reduce((I,T)=>y(g({},I),{[T]:"loading"}),{})));let h=d.map(v=>{let I=l.getIndexPath(v),T=l.getValuePath(I),w=l.findNode(v);return{id:v,indexPath:I,valuePath:T,node:w}}),m=r.get("pendingAborts"),u=i("loadChildren");En(u,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");let p=h.map(({id:v,indexPath:I,valuePath:T,node:w})=>{let b=m.get(v);b&&(b.abort(),m.delete(v));let f=new AbortController;return m.set(v,f),u({valuePath:T,indexPath:I,node:w,signal:f.signal})});Promise.allSettled(p).then(v=>{var f,S;let I=[],T=[],w=n.get("loadingStatus"),b=i("collection");v.forEach((C,V)=>{let{id:k,indexPath:x,node:A,valuePath:N}=h[V];C.status==="fulfilled"?(w[k]="loaded",I.push(k),b=b.replace(x,y(g({},A),{children:C.value}))):(m.delete(k),Reflect.deleteProperty(w,k),T.push({node:A,error:C.reason,indexPath:x,valuePath:N}))}),n.set("loadingStatus",w),I.length&&(n.set("expandedValue",C=>It(tt(C,...I))),(f=i("onLoadChildrenComplete"))==null||f({collection:b})),T.length&&((S=i("onLoadChildrenError"))==null||S({nodes:T}))})}function qt(e){let{prop:t,context:n}=e;return function({indexPath:r}){return t("collection").getValuePath(r).slice(0,-1).some(a=>!n.get("expandedValue").includes(a))}}function gi(e,t){let{prop:n,scope:i,computed:r}=e,s=n("scrollToIndexFn");if(!s)return!1;let a=n("collection"),o=r("visibleNodes");for(let l=0;l<o.length;l++){let{node:c,indexPath:d}=o[l];if(a.getNodeValue(c)===t)return s({index:l,node:c,indexPath:d,getElement:()=>i.getById(gc(i,t))}),!0}return!1}function o0(e){var s;let n=e.querySelectorAll('[data-scope="tree-view"][data-part="branch"], [data-scope="tree-view"][data-part="item"]'),i=[];for(let a of n){let o=a.getAttribute("data-path"),l=a.getAttribute("data-value");if(o==null||l==null)continue;let c=o.split("/").map(m=>parseInt(m,10));if(c.some(Number.isNaN))continue;let d=(s=a.getAttribute("data-name"))!=null?s:l,h=a.getAttribute("data-part")==="branch";i.push({pathArr:c,id:l,name:d,isBranch:h})}i.sort((a,o)=>{let l=Math.min(a.pathArr.length,o.pathArr.length);for(let c=0;c<l;c++)if(a.pathArr[c]!==o.pathArr[c])return a.pathArr[c]-o.pathArr[c];return a.pathArr.length-o.pathArr.length});let r={id:"ROOT",name:"",children:[]};for(let{pathArr:a,id:o,name:l,isBranch:c}of i){let d=r;for(let m=0;m<a.length-1;m++){let u=a[m];d.children||(d.children=[]),d=d.children[u]}let h=a[a.length-1];d.children||(d.children=[]),d.children[h]=c?{id:o,name:l,children:[]}:{id:o,name:l}}return r}var QV,Ue,hc,e0,Ff,gc,uc,Ne,Hf,$f,Wt,r0,s0,_A,a0,GA,l0,c0,Gf=re(()=>{"use strict";Sr();ae();QV=U("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","nodeRenameInput","root","tree"),Ue=QV.build(),hc=e=>new Ho(e);hc.empty=()=>new Ho({rootNode:{children:[]}});e0=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tree:${e.id}:root`},Ff=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`tree:${e.id}:label`},gc=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.node)==null?void 0:i.call(n,t))!=null?r:`tree:${e.id}:node:${t}`},uc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.tree)!=null?n:`tree:${e.id}:tree`},Ne=(e,t)=>{var n;t!=null&&((n=e.getById(gc(e,t)))==null||n.focus())},Hf=(e,t)=>`tree:${e.id}:rename-input:${t}`,$f=(e,t)=>e.getById(Hf(e,t));({and:Wt}=Ie()),r0={props({props:e}){return g({selectionMode:"single",collection:hc.empty(),typeahead:!0,expandOnClick:!0,defaultExpandedValue:[],defaultSelectedValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{expandedValue:t(()=>({defaultValue:e("defaultExpandedValue"),value:e("expandedValue"),isEqual:me,onChange(i){var a;let s=n().get("focusedValue");(a=e("onExpandedChange"))==null||a({expandedValue:i,focusedValue:s,get expandedNodes(){return e("collection").findNodes(i)}})}})),selectedValue:t(()=>({defaultValue:e("defaultSelectedValue"),value:e("selectedValue"),isEqual:me,onChange(i){var a;let s=n().get("focusedValue");(a=e("onSelectionChange"))==null||a({selectedValue:i,focusedValue:s,get selectedNodes(){return e("collection").findNodes(i)}})}})),focusedValue:t(()=>({defaultValue:e("defaultFocusedValue")||null,value:e("focusedValue"),onChange(i){var r;(r=e("onFocusChange"))==null||r({focusedValue:i,get focusedNode(){return i?e("collection").findNode(i):null}})}})),loadingStatus:t(()=>({defaultValue:{}})),checkedValue:t(()=>({defaultValue:e("defaultCheckedValue")||[],value:e("checkedValue"),isEqual:me,onChange(i){var r;(r=e("onCheckedChange"))==null||r({checkedValue:i})}})),renamingValue:t(()=>({sync:!0,defaultValue:null}))}},refs(){return{typeaheadState:g({},qe.defaultOptions),pendingAborts:new Map}},computed:{isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar.length>0,visibleNodes:({prop:e,context:t})=>{let n=[];return e("collection").visit({skip:qt({prop:e,context:t}),onEnter:(i,r)=>{n.push({node:i,indexPath:r})}}),n}},on:{"EXPANDED.SET":{actions:["setExpanded"]},"EXPANDED.CLEAR":{actions:["clearExpanded"]},"EXPANDED.ALL":{actions:["expandAllBranches"]},"BRANCH.EXPAND":{actions:["expandBranches"]},"BRANCH.COLLAPSE":{actions:["collapseBranches"]},"SELECTED.SET":{actions:["setSelected"]},"SELECTED.ALL":[{guard:Wt("isMultipleSelection","moveFocus"),actions:["selectAllNodes","focusTreeLastNode"]},{guard:"isMultipleSelection",actions:["selectAllNodes"]}],"SELECTED.CLEAR":{actions:["clearSelected"]},"NODE.SELECT":{actions:["selectNode"]},"NODE.DESELECT":{actions:["deselectNode"]},"CHECKED.TOGGLE":{actions:["toggleChecked"]},"CHECKED.SET":{actions:["setChecked"]},"CHECKED.CLEAR":{actions:["clearChecked"]},"NODE.FOCUS":{actions:["setFocusedNode"]},"NODE.ARROW_DOWN":[{guard:Wt("isShiftKey","isMultipleSelection"),actions:["focusTreeNextNode","extendSelectionToNextNode"]},{actions:["focusTreeNextNode"]}],"NODE.ARROW_UP":[{guard:Wt("isShiftKey","isMultipleSelection"),actions:["focusTreePrevNode","extendSelectionToPrevNode"]},{actions:["focusTreePrevNode"]}],"NODE.ARROW_LEFT":{actions:["focusBranchNode"]},"BRANCH_NODE.ARROW_LEFT":[{guard:"isBranchExpanded",actions:["collapseBranch"]},{actions:["focusBranchNode"]}],"BRANCH_NODE.ARROW_RIGHT":[{guard:Wt("isBranchFocused","isBranchExpanded"),actions:["focusBranchFirstNode"]},{actions:["expandBranch"]}],"SIBLINGS.EXPAND":{actions:["expandSiblingBranches"]},"NODE.HOME":[{guard:Wt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToFirstNode","focusTreeFirstNode"]},{actions:["focusTreeFirstNode"]}],"NODE.END":[{guard:Wt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToLastNode","focusTreeLastNode"]},{actions:["focusTreeLastNode"]}],"NODE.CLICK":[{guard:Wt("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Wt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{actions:["selectNode"]}],"BRANCH_NODE.CLICK":[{guard:Wt("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Wt("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{guard:"expandOnClick",actions:["selectNode","toggleBranchNode"]},{actions:["selectNode"]}],"BRANCH_TOGGLE.CLICK":{actions:["toggleBranchNode"]},"TREE.TYPEAHEAD":{actions:["focusMatchedNode"]}},exit:["clearPendingAborts"],states:{idle:{on:{"NODE.RENAME":{target:"renaming",actions:["setRenamingValue"]}}},renaming:{entry:["syncRenameInput","focusRenameInput"],on:{"RENAME.SUBMIT":{guard:"isRenameLabelValid",target:"idle",actions:["submitRenaming"]},"RENAME.CANCEL":{target:"idle",actions:["cancelRenaming"]}}}},implementations:{guards:{isBranchFocused:({context:e,event:t})=>e.get("focusedValue")===t.id,isBranchExpanded:({context:e,event:t})=>e.get("expandedValue").includes(t.id),isShiftKey:({event:e})=>e.shiftKey,isCtrlKey:({event:e})=>e.ctrlKey,hasSelectedItems:({context:e})=>e.get("selectedValue").length>0,isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",moveFocus:({event:e})=>!!e.moveFocus,expandOnClick:({prop:e})=>!!e("expandOnClick"),isRenameLabelValid:({event:e})=>e.label.trim()!==""},actions:{selectNode({context:e,event:t}){let n=t.id||t.value;e.set("selectedValue",i=>n==null?i:!t.isTrusted&&vn(n)?i.concat(...n):[vn(n)?Et(n):n].filter(Boolean))},deselectNode({context:e,event:t}){let n=pr(t.id||t.value);e.set("selectedValue",i=>ut(i,...n))},setFocusedNode({context:e,event:t}){e.set("focusedValue",t.id)},clearFocusedNode({context:e}){e.set("focusedValue",null)},clearSelectedItem({context:e}){e.set("selectedValue",[])},toggleBranchNode({context:e,event:t,action:n}){let i=e.get("expandedValue").includes(t.id);n(i?["collapseBranch"]:["expandBranch"])},expandBranch(e){let{event:t}=e;_a(e,[t.id])},expandBranches(e){let{context:t,event:n}=e,i=pr(n.value);_a(e,Cs(i,t.get("expandedValue")))},collapseBranch({context:e,event:t}){e.set("expandedValue",n=>ut(n,t.id))},collapseBranches(e){let{context:t,event:n}=e,i=pr(n.value);t.set("expandedValue",r=>ut(r,...i))},setExpanded({context:e,event:t}){vn(t.value)&&e.set("expandedValue",t.value)},clearExpanded({context:e}){e.set("expandedValue",[])},setSelected({context:e,event:t}){vn(t.value)&&e.set("selectedValue",t.value)},clearSelected({context:e}){e.set("selectedValue",[])},focusTreeFirstNode(e){let{prop:t,scope:n}=e,i=t("collection"),r=i.getFirstNode(void 0,{skip:qt(e)});if(!r)return;let s=i.getNodeValue(r);gi(e,s)?H(()=>Ne(n,s)):Ne(n,s)},focusTreeLastNode(e){let{prop:t,scope:n}=e,i=t("collection"),r=i.getLastNode(void 0,{skip:qt(e)}),s=i.getNodeValue(r);gi(e,s)?H(()=>Ne(n,s)):Ne(n,s)},focusBranchFirstNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.findNode(t.id),a=r.getFirstNode(s,{skip:qt(e)});if(!a)return;let o=r.getNodeValue(a);gi(e,o)?H(()=>Ne(i,o)):Ne(i,o)},focusTreeNextNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getNextNode(t.id,{skip:qt(e)});if(!s)return;let a=r.getNodeValue(s);gi(e,a)?H(()=>Ne(i,a)):Ne(i,a)},focusTreePrevNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getPreviousNode(t.id,{skip:qt(e)});if(!s)return;let a=r.getNodeValue(s);gi(e,a)?H(()=>Ne(i,a)):Ne(i,a)},focusBranchNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getParentNode(t.id),a=s?r.getNodeValue(s):void 0;if(!a)return;gi(e,a)?H(()=>Ne(i,a)):Ne(i,a)},selectAllNodes({context:e,prop:t}){e.set("selectedValue",t("collection").getValues())},focusMatchedNode(e){let{context:t,prop:n,refs:i,event:r,scope:s,computed:a}=e,l=a("visibleNodes").map(({node:h})=>({textContent:n("collection").stringifyNode(h),id:n("collection").getNodeValue(h)})),c=qe(l,{state:i.get("typeaheadState"),activeId:t.get("focusedValue"),key:r.key});if(!(c!=null&&c.id))return;gi(e,c.id)?H(()=>Ne(s,c.id)):Ne(s,c.id)},toggleNodeSelection({context:e,event:t}){let n=Ct(e.get("selectedValue"),t.id);e.set("selectedValue",n)},expandAllBranches(e){let{context:t,prop:n}=e,i=n("collection").getBranchValues(),r=Cs(i,t.get("expandedValue"));_a(e,r)},expandSiblingBranches(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getIndexPath(n.id);if(!s)return;let o=r.getSiblingNodes(s).map(c=>r.getNodeValue(c)),l=Cs(o,t.get("expandedValue"));_a(e,l)},extendSelectionToNode(e){let{context:t,event:n,prop:i,computed:r}=e,s=i("collection"),a=dt(t.get("selectedValue"))||s.getNodeValue(s.getFirstNode()),o=n.id,l=[a,o],c=0;r("visibleNodes").forEach(({node:h})=>{let m=s.getNodeValue(h);c===1&&l.push(m),(m===a||m===o)&&c++}),t.set("selectedValue",It(l))},extendSelectionToNextNode(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getNextNode(n.id,{skip:qt(e)});if(!s)return;let a=new Set(t.get("selectedValue")),o=r.getNodeValue(s);o!=null&&(a.has(n.id)&&a.has(o)?a.delete(n.id):a.has(o)||a.add(o),t.set("selectedValue",Array.from(a)))},extendSelectionToPrevNode(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getPreviousNode(n.id,{skip:qt(e)});if(!s)return;let a=new Set(t.get("selectedValue")),o=r.getNodeValue(s);o!=null&&(a.has(n.id)&&a.has(o)?a.delete(n.id):a.has(o)||a.add(o),t.set("selectedValue",Array.from(a)))},extendSelectionToFirstNode(e){let{context:t,prop:n}=e,i=n("collection"),r=dt(t.get("selectedValue")),s=[];i.visit({skip:qt(e),onEnter:a=>{let o=i.getNodeValue(a);if(s.push(o),o===r)return"stop"}}),t.set("selectedValue",s)},extendSelectionToLastNode(e){let{context:t,prop:n}=e,i=n("collection"),r=dt(t.get("selectedValue")),s=[],a=!1;i.visit({skip:qt(e),onEnter:o=>{let l=i.getNodeValue(o);l===r&&(a=!0),a&&s.push(l)}}),t.set("selectedValue",s)},clearPendingAborts({refs:e}){let t=e.get("pendingAborts");t.forEach(n=>n.abort()),t.clear()},toggleChecked({context:e,event:t,prop:n}){let i=n("collection");e.set("checkedValue",r=>t.isBranch?t0(i,t.value,r):Ct(r,t.value))},setChecked({context:e,event:t}){e.set("checkedValue",t.value)},clearChecked({context:e}){e.set("checkedValue",[])},setRenamingValue({context:e,event:t,prop:n}){e.set("renamingValue",t.value);let i=n("onRenameStart");if(i){let r=n("collection"),s=r.getIndexPath(t.value);if(s){let a=r.at(s);a&&i({value:t.value,node:a,indexPath:s})}}},submitRenaming({context:e,event:t,prop:n,scope:i}){var c;let r=e.get("renamingValue");if(!r)return;let a=n("collection").getIndexPath(r);if(!a)return;let o=t.label.trim(),l=n("onBeforeRename");if(l&&!l({value:r,label:o,indexPath:a})){e.set("renamingValue",null),Ne(i,r);return}(c=n("onRenameComplete"))==null||c({value:r,label:o,indexPath:a}),e.set("renamingValue",null),Ne(i,r)},cancelRenaming({context:e,scope:t}){let n=e.get("renamingValue");e.set("renamingValue",null),n&&Ne(t,n)},syncRenameInput({context:e,scope:t,prop:n}){let i=e.get("renamingValue");if(!i)return;let r=n("collection"),s=r.findNode(i);if(!s)return;let a=r.stringifyNode(s),o=$f(t,i);Fe(o,a)},focusRenameInput({context:e,scope:t}){let n=e.get("renamingValue");if(!n)return;let i=$f(t,n);i&&(i.focus(),i.select())}}}};s0=G()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren","canRename","onRenameStart","onBeforeRename","onRenameComplete","scrollToIndexFn"]),_A=_(s0),a0=G()(["node","indexPath"]),GA=_(a0);l0=class extends K{constructor(t,n){var s;let i=(s=n.treeData)!=null?s:o0(t),r=hc({nodeToValue:a=>a.id,nodeToString:a=>a.name,rootNode:i});super(t,y(g({},n),{collection:r}));Y(this,"treeCollection");Y(this,"syncTree",()=>{let t=this.el.querySelector('[data-scope="tree-view"][data-part="tree"]');t&&(this.spreadProps(t,this.api.getTreeProps()),this.updateExistingTree(t))});this.treeCollection=r}initMachine(t){return new W(r0,g({},t))}initApi(){return i0(this.machine.service,q)}getNodeAt(t){var i;if(t.length===0)return;let n=this.treeCollection.rootNode;for(let r of t)if(n=(i=n==null?void 0:n.children)==null?void 0:i[r],!n)return;return n}updateExistingTree(t){this.spreadProps(t,this.api.getTreeProps());let n=t.querySelectorAll('[data-scope="tree-view"][data-part="branch"]');for(let r of n){let s=r.getAttribute("data-path");if(s==null)continue;let a=s.split("/").map(p=>parseInt(p,10)),o=this.getNodeAt(a);if(!o)continue;let l={indexPath:a,node:o};this.spreadProps(r,this.api.getBranchProps(l));let c=r.querySelector('[data-scope="tree-view"][data-part="branch-control"]');c&&this.spreadProps(c,this.api.getBranchControlProps(l));let d=r.querySelector('[data-scope="tree-view"][data-part="branch-text"]');d&&this.spreadProps(d,this.api.getBranchTextProps(l));let h=r.querySelector('[data-scope="tree-view"][data-part="branch-indicator"]');h&&this.spreadProps(h,this.api.getBranchIndicatorProps(l));let m=r.querySelector('[data-scope="tree-view"][data-part="branch-content"]');m&&this.spreadProps(m,this.api.getBranchContentProps(l));let u=r.querySelector('[data-scope="tree-view"][data-part="branch-indent-guide"]');u&&this.spreadProps(u,this.api.getBranchIndentGuideProps(l))}let i=t.querySelectorAll('[data-scope="tree-view"][data-part="item"]');for(let r of i){let s=r.getAttribute("data-path");if(s==null)continue;let a=s.split("/").map(c=>parseInt(c,10)),o=this.getNodeAt(a);if(!o)continue;let l={indexPath:a,node:o};this.spreadProps(r,this.api.getItemProps(l))}}render(){var i;let t=(i=this.el.querySelector('[data-scope="tree-view"][data-part="root"]'))!=null?i:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="tree-view"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps()),this.syncTree()}},c0={mounted(){var i;let e=this.el,t=this.pushEvent.bind(this),n=new l0(e,y(g({id:e.id},P(e,"controlled")?{expandedValue:J(e,"expandedValue"),selectedValue:J(e,"selectedValue")}:{defaultExpandedValue:J(e,"defaultExpandedValue"),defaultSelectedValue:J(e,"defaultSelectedValue")}),{selectionMode:(i=O(e,"selectionMode",["single","multiple"]))!=null?i:"single",dir:Ve(e),onSelectionChange:r=>{var u;let s=P(e,"redirect"),a=(u=r.selectedValue)!=null&&u.length?r.selectedValue[0]:void 0,o=[...e.querySelectorAll('[data-scope="tree-view"][data-part="item"], [data-scope="tree-view"][data-part="branch"]')].find(p=>p.getAttribute("data-value")===a),l=(o==null?void 0:o.getAttribute("data-part"))==="item",c=o==null?void 0:o.getAttribute("data-redirect"),d=o==null?void 0:o.hasAttribute("data-new-tab");s&&a&&l&&this.liveSocket.main.isDead&&c!=="false"&&(d?window.open(a,"_blank","noopener,noreferrer"):window.location.href=a);let m=O(e,"onSelectionChange");m&&this.liveSocket.main.isConnected()&&t(m,{id:e.id,value:y(g({},r),{isItem:l!=null?l:!1})})},onExpandedChange:r=>{let s=O(e,"onExpandedChange");s&&this.liveSocket.main.isConnected()&&t(s,{id:e.id,value:r})}}));n.init(),this.treeView=n,this.onSetExpandedValue=r=>{let{value:s}=r.detail;n.api.setExpandedValue(s)},e.addEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue=r=>{let{value:s}=r.detail;n.api.setSelectedValue(s)},e.addEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers=[],this.handlers.push(this.handleEvent("tree_view_set_expanded_value",r=>{let s=r.tree_view_id;s&&e.id!==s&&e.id!==`tree-view:${s}`||n.api.setExpandedValue(r.value)})),this.handlers.push(this.handleEvent("tree_view_set_selected_value",r=>{let s=r.tree_view_id;s&&e.id!==s&&e.id!==`tree-view:${s}`||n.api.setSelectedValue(r.value)})),this.handlers.push(this.handleEvent("tree_view_expanded_value",()=>{t("tree_view_expanded_value_response",{value:n.api.expandedValue})})),this.handlers.push(this.handleEvent("tree_view_selected_value",()=>{t("tree_view_selected_value_response",{value:n.api.selectedValue})}))},updated(){var e;P(this.el,"controlled")&&((e=this.treeView)==null||e.updateProps({expandedValue:J(this.el,"expandedValue"),selectedValue:J(this.el,"selectedValue")}))},destroyed(){var e;if(this.onSetExpandedValue&&this.el.removeEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue&&this.el.removeEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.treeView)==null||e.destroy()}}});var h0={};ge(h0,{Hooks:()=>Ga,default:()=>u0,hooks:()=>d0});function ve(e,t){return{mounted(){return xe(this,null,function*(){let r=(yield e())[t];if(this._realHook=r,r!=null&&r.mounted)return r.mounted.call(this)})},updated(){var i,r;(r=(i=this._realHook)==null?void 0:i.updated)==null||r.call(this)},destroyed(){var i,r;(r=(i=this._realHook)==null?void 0:i.destroyed)==null||r.call(this)},disconnected(){var i,r;(r=(i=this._realHook)==null?void 0:i.disconnected)==null||r.call(this)},reconnected(){var i,r;(r=(i=this._realHook)==null?void 0:i.reconnected)==null||r.call(this)},beforeUpdate(){var i,r;(r=(i=this._realHook)==null?void 0:i.beforeUpdate)==null||r.call(this)}}}var Ga={Accordion:ve(()=>Promise.resolve().then(()=>(Pd(),Cd)),"Accordion"),AngleSlider:ve(()=>Promise.resolve().then(()=>(Kd(),Wd)),"AngleSlider"),Avatar:ve(()=>Promise.resolve().then(()=>(Xd(),jd)),"Avatar"),Carousel:ve(()=>Promise.resolve().then(()=>(ru(),iu)),"Carousel"),Checkbox:ve(()=>Promise.resolve().then(()=>(hu(),uu)),"Checkbox"),Clipboard:ve(()=>Promise.resolve().then(()=>(pu(),gu)),"Clipboard"),Collapsible:ve(()=>Promise.resolve().then(()=>(mu(),fu)),"Collapsible"),Combobox:ve(()=>Promise.resolve().then(()=>(ph(),gh)),"Combobox"),DatePicker:ve(()=>Promise.resolve().then(()=>(gg(),hg)),"DatePicker"),Dialog:ve(()=>Promise.resolve().then(()=>(Pg(),Cg)),"Dialog"),Editable:ve(()=>Promise.resolve().then(()=>(xg(),Vg)),"Editable"),FloatingPanel:ve(()=>Promise.resolve().then(()=>(_g(),Bg)),"FloatingPanel"),Listbox:ve(()=>Promise.resolve().then(()=>(zg(),Kg)),"Listbox"),Menu:ve(()=>Promise.resolve().then(()=>(np(),tp)),"Menu"),NumberInput:ve(()=>Promise.resolve().then(()=>(vp(),mp)),"NumberInput"),PasswordInput:ve(()=>Promise.resolve().then(()=>(bp(),yp)),"PasswordInput"),PinInput:ve(()=>Promise.resolve().then(()=>(Sp(),Pp)),"PinInput"),RadioGroup:ve(()=>Promise.resolve().then(()=>(kp(),xp)),"RadioGroup"),Select:ve(()=>Promise.resolve().then(()=>($p(),Fp)),"Select"),SignaturePad:ve(()=>Promise.resolve().then(()=>(af(),sf)),"SignaturePad"),Switch:ve(()=>Promise.resolve().then(()=>(uf(),df)),"Switch"),Tabs:ve(()=>Promise.resolve().then(()=>(mf(),ff)),"Tabs"),Timer:ve(()=>Promise.resolve().then(()=>(Ef(),bf)),"Timer"),Toast:ve(()=>Promise.resolve().then(()=>(kf(),xf)),"Toast"),ToggleGroup:ve(()=>Promise.resolve().then(()=>(Mf(),Lf)),"ToggleGroup"),TreeView:ve(()=>Promise.resolve().then(()=>(Gf(),_f)),"TreeView")};function d0(e){return Object.fromEntries(e.filter(t=>t in Ga).map(t=>[t,Ga[t]]))}var u0=Ga;return tm(h0);})();
