"use strict";var Corex=(()=>{var Ji=Object.defineProperty,oh=Object.defineProperties,ah=Object.getOwnPropertyDescriptor,lh=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertyNames,Xi=Object.getOwnPropertySymbols;var Os=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable;var Is=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),uh=e=>{throw TypeError(e)};var Ts=(e,t,n)=>t in e?Ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Ts(e,n,t[n]);if(Xi)for(var n of Xi(t))ba.call(t,n)&&Ts(e,n,t[n]);return e},y=(e,t)=>oh(e,lh(t));var ze=(e,t)=>{var n={};for(var i in e)Os.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Xi)for(var i of Xi(e))t.indexOf(i)<0&&ba.call(e,i)&&(n[i]=e[i]);return n};var fe=(e,t)=>()=>(e&&(t=e(e=0)),t);var Oe=(e,t)=>{for(var n in t)Ji(e,n,{get:t[n],enumerable:!0})},dh=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ch(t))!Os.call(e,r)&&r!==n&&Ji(e,r,{get:()=>t[r],enumerable:!(i=ah(t,r))||i.enumerable});return e};var hh=e=>dh(Ji({},"__esModule",{value:!0}),e);var U=(e,t,n)=>Ts(e,typeof t!="symbol"?t+"":t,n);var Ee=(e,t,n)=>new Promise((i,r)=>{var s=l=>{try{a(n.next(l))}catch(c){r(c)}},o=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),gh=function(e,t){this[0]=e,this[1]=t};var Ea=e=>{var t=e[Is("asyncIterator")],n=!1,i,r={};return t==null?(t=e[Is("iterator")](),i=s=>r[s]=o=>t[s](o)):(t=t.call(e),i=s=>r[s]=o=>{if(n){if(n=!1,s==="throw")throw o;return o}return n=!0,{done:!1,value:new gh(new Promise(a=>{var l=t[s](o);l instanceof Object||uh("Object expected"),a(l)}),1)}}),r[Is("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=s=>{throw s},"return"in t&&i("return"),r};function Gt(e){let t=e.dataset.dir;if(t!==void 0&&fh.includes(t))return t;let n=document.documentElement.getAttribute("dir");return n==="ltr"||n==="rtl"?n:"ltr"}function Aa(e){if(e)try{if(e.ownerDocument.activeElement!==e)return;let t=e.value.length;e.setSelectionRange(t,t)}catch(t){}}function Th(e){return["html","body","#document"].includes(Da(e))}function rr(e){if(!e)return!1;let t=e.getRootNode();return kn(t)===e}function Ut(e){if(e==null||!ce(e))return!1;try{return Sh(e)&&e.selectionStart!=null||wh.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch(t){return!1}}function pe(e,t){var i;if(!e||!t||!ce(e)||!ce(t))return!1;let n=(i=t.getRootNode)==null?void 0:i.call(t);if(e===t||e.contains(t))return!0;if(n&&nn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function we(e){var t;return yi(e)?e:Ih(e)?e.document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Vh(e){return we(e).documentElement}function oe(e){var t,n,i;return nn(e)?oe(e.host):yi(e)?(t=e.defaultView)!=null?t:window:ce(e)&&(i=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?i:window}function kn(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function xh(e){if(Da(e)==="html")return e;let t=e.assignedSlot||e.parentNode||nn(e)&&e.host||Vh(e);return nn(t)?t.host:t}function As(e){var n;let t;try{if(t=e.getRootNode({composed:!0}),yi(t)||nn(t))return t}catch(i){}return(n=e.ownerDocument)!=null?n:document}function qt(e){return ws.has(e)||ws.set(e,oe(e).getComputedStyle(e)),ws.get(e)}function lr(e,t){let n=new Set,i=As(e),r=s=>{let o=s.querySelectorAll("[aria-controls]");for(let a of o){if(a.getAttribute("aria-expanded")!=="true")continue;let l=La(a);for(let c of l){if(!c||n.has(c))continue;n.add(c);let u=i.getElementById(c);if(u){let h=u.getAttribute("role"),p=u.getAttribute("aria-modal")==="true";if(h&&kh(h)&&!p&&(u===t||u.contains(t)||r(u)))return!0}}}return!1};return r(e)}function Ds(e,t){let n=As(e),i=new Set,r=s=>{let o=s.querySelectorAll("[aria-controls]");for(let a of o){if(a.getAttribute("aria-expanded")!=="true")continue;let l=La(a);for(let c of l){if(!c||i.has(c))continue;i.add(c);let u=n.getElementById(c);if(u){let h=u.getAttribute("role"),p=u.getAttribute("aria-modal")==="true";h&&Rs.has(h)&&!p&&(t(u),r(u))}}}};r(e)}function Fa(e){let t=new Set;return Ds(e,n=>{e.contains(n)||t.add(n)}),Array.from(t)}function Nh(e){let t=e.getAttribute("role");return!!(t&&Rs.has(t))}function Ah(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Ma(e){var t;return Ah(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function $a(e){if(!e.id)return!1;let t=As(e),n=CSS.escape(e.id),i=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(t.querySelector(i)&&Nh(e))}function _a(e,t){let{type:n,quality:i=.92,background:r}=t;if(!e)throw new Error("[zag-js > getDataUrl]: Could not find the svg element");let s=oe(e),o=s.document,a=e.getBoundingClientRect(),l=e.cloneNode(!0);l.hasAttribute("viewBox")||l.setAttribute("viewBox",`0 0 ${a.width} ${a.height}`);let u=`<?xml version="1.0" standalone="no"?>\r
`+new s.XMLSerializer().serializeToString(l),h="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(u);if(n==="image/svg+xml")return Promise.resolve(h).then(b=>(l.remove(),b));let p=s.devicePixelRatio||1,d=o.createElement("canvas"),g=new s.Image;g.src=h,d.width=a.width*p,d.height=a.height*p;let v=d.getContext("2d");return(n==="image/jpeg"||r)&&(v.fillStyle=r||"white",v.fillRect(0,0,d.width,d.height)),new Promise(b=>{g.onload=()=>{v==null||v.drawImage(g,0,0,d.width,d.height),b(d.toDataURL(n,i)),l.remove()}})}function Rh(){var t;let e=navigator.userAgentData;return(t=e==null?void 0:e.platform)!=null?t:navigator.platform}function Dh(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function Bh(e){var t,n,i,r;return(r=(t=e.composedPath)==null?void 0:t.call(e))!=null?r:(i=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n)}function K(e){var n;let t=Bh(e);return(n=t==null?void 0:t[0])!=null?n:e.target}function sn(e){let t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;let i=e.button===1,r=Gh(e);return i||r}function Ei(e){let t=e.currentTarget;if(!t)return!1;let n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function Vt(e){return Ms(e).isComposing||e.keyCode===229}function Gh(e){return Nn()?e.metaKey:e.ctrlKey}function Ba(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function Ga(e){return e.pointerType===""&&e.isTrusted?!0:Hh()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ve(e,t={}){var o;let{dir:n="ltr",orientation:i="horizontal"}=t,r=e.key;return r=(o=qh[r])!=null?o:r,n==="rtl"&&i==="horizontal"&&r in Ia&&(r=Ia[r]),r}function Ms(e){var t;return(t=e.nativeEvent)!=null?t:e}function Pt(e,t="client"){let n=Uh(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}function Ua(e,t){var s;let{type:n="HTMLInputElement",property:i="value"}=t,r=oe(e)[n].prototype;return(s=Object.getOwnPropertyDescriptor(r,i))!=null?s:{}}function Wh(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function xt(e,t,n="value"){var r;if(!e)return;let i=Wh(e);i&&((r=Ua(e,{type:i,property:n}).set)==null||r.call(e,t)),e.setAttribute(n,t)}function Ci(e,t){var i;if(!e)return;(i=Ua(e,{type:"HTMLInputElement",property:"checked"}).set)==null||i.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function ur(e,t){let{checked:n,bubbles:i=!0}=t;if(!e)return;let r=oe(e);e instanceof r.HTMLInputElement&&(Ci(e,n),e.dispatchEvent(new r.Event("click",{bubbles:i})))}function Kh(e){return Yh(e)?e.form:e.closest("form")}function Yh(e){return e.matches("textarea, input, select, button")}function jh(e,t){if(!e)return;let n=Kh(e),i=r=>{r.defaultPrevented||t()};return n==null||n.addEventListener("reset",i,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",i)}function Xh(e,t){let n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);let i=oe(n),r=new i.MutationObserver(()=>t(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function Rn(e,t){if(!e)return;let{onFieldsetDisabledChange:n,onFormReset:i}=t,r=[jh(e,i),Xh(e,n)];return()=>r.forEach(s=>s==null?void 0:s())}function Wa(e){let t=e.getAttribute("tabindex");return t?parseInt(t,10):NaN}function Qh(e,t){if(!t)return null;if(t===!0)return e.shadowRoot||null;let n=t(e);return(n===!0?e.shadowRoot:n)||null}function Ka(e,t,n){let i=[...e],r=[...e],s=new Set,o=new Map;e.forEach((l,c)=>o.set(l,c));let a=0;for(;a<r.length;){let l=r[a++];if(!l||s.has(l))continue;s.add(l);let c=Qh(l,t);if(c){let u=Array.from(c.querySelectorAll(dr)).filter(n),h=o.get(l);if(h!==void 0){let p=h+1;i.splice(p,0,...u),u.forEach((d,g)=>{o.set(d,p+g)});for(let d=p+u.length;d<i.length;d++)o.set(i[d],d)}else{let p=i.length;i.push(...u),u.forEach((d,g)=>{o.set(d,p+g)})}r.push(...u)}}return i}function Qe(e){return!ce(e)||e.closest("[inert]")?!1:e.matches(dr)&&Ph(e)}function on(e,t={}){if(!e)return[];let{includeContainer:n,getShadowRoot:i}=t,r=Array.from(e.querySelectorAll(dr));n&&Bt(e)&&r.unshift(e);let s=[];for(let o of r)if(Bt(o)){if(qa(o)&&o.contentDocument){let a=o.contentDocument.body;s.push(...on(a,{getShadowRoot:i}));continue}s.push(o)}if(i){let o=Ka(s,i,Bt);return!o.length&&n?r:o}return!s.length&&n?r:s}function Bt(e){return ce(e)&&e.tabIndex>0?!0:Qe(e)&&!zh(e)}function eg(e,t={}){let n=on(e,t),i=n[0]||null,r=n[n.length-1]||null;return[i,r]}function Dn(e){return e.tabIndex<0&&(Jh.test(e.localName)||Ut(e))&&!Zh(e)?0:e.tabIndex}function hr(e){let{root:t,getInitialEl:n,filter:i,enabled:r=!0}=e;if(!r)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!s){let o=on(t);s=i?o.filter(i)[0]:o[0]}return s||t||void 0}function gr(e){let t=e.currentTarget;if(!t)return!1;let[n,i]=eg(t);return!(rr(n)&&e.shiftKey||rr(i)&&!e.shiftKey||!n&&!i)}function H(e){let t=$s.create();return t.request(e),t.cleanup}function an(e){let t=new Set;function n(i){let r=globalThis.requestAnimationFrame(i);t.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(e)),function(){t.forEach(r=>r())}}function tg(e,t,n){let i=H(()=>{e.removeEventListener(t,r,!0),n()}),r=()=>{i(),n()};return e.addEventListener(t,r,{once:!0,capture:!0}),i}function ng(e,t){if(!e)return;let{attributes:n,callback:i}=t,r=e.ownerDocument.defaultView||window,s=new r.MutationObserver(o=>{for(let a of o)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&i(a)});return s.observe(e,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function Ln(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(ng(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function ig(e,t){let{callback:n}=t;if(!e)return;let i=e.ownerDocument.defaultView||window,r=new i.MutationObserver(n);return r.observe(e,{childList:!0,subtree:!0}),()=>r.disconnect()}function ja(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(ig(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Fn(e){let t=()=>{let n=oe(e);e.dispatchEvent(new n.MouseEvent("click"))};_h()?tg(e,"keyup",t):queueMicrotask(t)}function fr(e){let t=xh(e);return Th(t)?we(t).body:ce(t)&&Xa(t)?t:fr(t)}function Xa(e){let t=oe(e),{overflow:n,overflowX:i,overflowY:r,display:s}=t.getComputedStyle(e);return rg.test(n+r+i)&&!sg.has(s)}function og(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function ln(e,t){let r=t||{},{rootEl:n}=r,i=ze(r,["rootEl"]);!e||!n||!Xa(n)||!og(n)||e.scrollIntoView(i)}function _s(e,t){let{left:n,top:i,width:r,height:s}=t.getBoundingClientRect(),o={x:e.x-n,y:e.y-i},a={x:Ca(o.x/r),y:Ca(o.y/s)};function l(c={}){let{dir:u="ltr",orientation:h="horizontal",inverted:p}=c,d=typeof p=="object"?p.x:p,g=typeof p=="object"?p.y:p;return h==="horizontal"?u==="rtl"||d?1-a.x:a.x:g?1-a.y:a.y}return{offset:o,percent:a,getPercentValue:l}}function ag(e={}){let{target:t,doc:n}=e,i=n!=null?n:document,r=i.documentElement;return bi()?(xn==="default"&&(xs=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),xn="disabled"):t&&(er.set(t,t.style.userSelect),t.style.userSelect="none"),()=>Hs({target:t,doc:i})}function Hs(e={}){let{target:t,doc:n}=e,r=(n!=null?n:document).documentElement;if(bi()){if(xn!=="disabled")return;xn="restoring",setTimeout(()=>{an(()=>{xn==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=xs||""),xs="",xn="default")})},300)}else if(t&&er.has(t)){let s=er.get(t);t.style.userSelect==="none"&&(t.style.userSelect=s!=null?s:""),t.getAttribute("style")===""&&t.removeAttribute("style"),er.delete(t)}}function Bs(e={}){let o=e,{defer:t,target:n}=o,i=ze(o,["defer","target"]),r=t?H:a=>a(),s=[];return s.push(r(()=>{let a=typeof n=="function"?n():n;s.push(ag(y(m({},i),{target:a})))})),()=>{s.forEach(a=>a==null?void 0:a())}}function Ja(e,t){let{onPointerMove:n,onPointerUp:i}=t,r=a=>{let l=Pt(a),c=Math.sqrt(l.x**2+l.y**2),u=a.pointerType==="touch"?10:5;if(!(c<u)){if(a.pointerType==="mouse"&&a.buttons===0){s(a);return}n({point:l,event:a})}},s=a=>{let l=Pt(a);i({point:l,event:a})},o=[re(e,"pointermove",r,!1),re(e,"pointerup",s,!1),re(e,"pointercancel",s,!1),re(e,"contextmenu",s,!1),Bs({doc:e})];return()=>{o.forEach(a=>a())}}function pr(e){let{pointerNode:t,keyboardNode:n=t,onPress:i,onPressStart:r,onPressEnd:s,isValidKey:o=S=>S.key==="Enter"}=e;if(!t)return Tt;let a=oe(t),l=Tt,c=Tt,u=Tt,h=S=>({point:Pt(S),event:S});function p(S){r==null||r(h(S))}function d(S){s==null||s(h(S))}let v=re(t,"pointerdown",S=>{c();let f=re(a,"pointerup",I=>{let P=K(I);pe(t,P)?i==null||i(h(I)):s==null||s(h(I))},{passive:!i,once:!0}),C=re(a,"pointercancel",d,{passive:!s,once:!0});c=Ps(f,C),rr(n)&&S.pointerType==="mouse"&&S.preventDefault(),p(S)},{passive:!r}),b=re(n,"focus",V);l=Ps(v,b);function V(){let S=I=>{if(!o(I))return;let P=w=>{if(!o(w))return;let N=new a.PointerEvent("pointerup"),R=h(N);i==null||i(R),s==null||s(R)};c(),c=re(n,"keyup",P);let A=new a.PointerEvent("pointerdown");p(A)},E=()=>{let I=new a.PointerEvent("pointercancel");d(I)},f=re(n,"keydown",S),C=re(n,"blur",E);u=Ps(f,C)}return()=>{l(),c(),u()}}function dt(e,t){var n;return Array.from((n=e==null?void 0:e.querySelectorAll(t))!=null?n:[])}function Mn(e,t){var n;return(n=e==null?void 0:e.querySelector(t))!=null?n:null}function Us(e,t,n=Gs){return e.find(i=>n(i)===t)}function qs(e,t,n=Gs){let i=Us(e,t,n);return i?e.indexOf(i):-1}function $n(e,t,n=!0){let i=qs(e,t);return i=n?(i+1)%e.length:Math.min(i+1,e.length-1),e[i]}function _n(e,t,n=!0){let i=qs(e,t);return i===-1?n?e[e.length-1]:null:(i=n?(i-1+e.length)%e.length:Math.max(0,i-1),e[i])}function lg(e){let t=new WeakMap,n,i=new WeakMap,r=a=>n||(n=new a.ResizeObserver(l=>{for(let c of l){i.set(c.target,c);let u=t.get(c.target);if(u)for(let h of u)h(c)}}),n);return{observe:(a,l)=>{let c=t.get(a)||new Set;c.add(l),t.set(a,c);let u=oe(a);return r(u).observe(a,e),()=>{let h=t.get(a);h&&(h.delete(l),h.size===0&&(t.delete(a),r(u).unobserve(a)))}},unobserve:a=>{t.delete(a),n==null||n.unobserve(a)}}}function hg(e,t,n,i=Gs){let r=n?qs(e,n,i):-1,s=n?yh(e,r):e;return t.length===1&&(s=s.filter(a=>i(a)!==n)),s.find(a=>dg(ug(a),t))}function za(e,t,n){let i=e.getAttribute(t),r=i!=null;return i===n?Tt:(e.setAttribute(t,n),()=>{r?e.setAttribute(t,i):e.removeAttribute(t)})}function cn(e,t){if(!e)return Tt;let n=Object.keys(t).reduce((i,r)=>(i[r]=e.style.getPropertyValue(r),i),{});return gg(n,t)?Tt:(Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")})}function Qa(e,t,n){if(!e)return Tt;let i=e.style.getPropertyValue(t);return i===n?Tt:(e.style.setProperty(t,n),()=>{e.style.setProperty(t,i),e.style.length===0&&e.removeAttribute("style")})}function gg(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function fg(e,t){let{state:n,activeId:i,key:r,timeout:s=350,itemToId:o}=t,a=n.keysSoFar+r,c=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=e.slice(),h=hg(u,c,i,o);function p(){clearTimeout(n.timer),n.timer=-1}function d(g){n.keysSoFar=g,p(),g!==""&&(n.timer=+setTimeout(()=>{d(""),p()},s))}return d(a),h}function pg(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function mg(e,t,n){let{signal:i}=t;return[new Promise((o,a)=>{let l=setTimeout(()=>{a(new Error(`Timeout of ${n}ms exceeded`))},n);i.addEventListener("abort",()=>{clearTimeout(l),a(new Error("Promise aborted"))}),e.then(c=>{i.aborted||(clearTimeout(l),o(c))}).catch(c=>{i.aborted||(clearTimeout(l),a(c))})}),()=>t.abort()]}function el(e,t){let{timeout:n,rootNode:i}=t,r=oe(i),s=we(i),o=new r.AbortController;return mg(new Promise(a=>{let l=e();if(l){a(l);return}let c=new r.MutationObserver(()=>{let u=e();u&&u.isConnected&&(c.disconnect(),a(u))});c.observe(s.body,{childList:!0,subtree:!0})}),o,n)}function Ti(e){return e==null?[]:Array.isArray(e)?e:[e]}function nl(e,t,n={}){let{step:i=1,loop:r=!0}=n,s=t+i,o=e.length,a=o-1;return t===-1?i>0?0:a:s<0?r?a:0:s>=o?r?0:t>o?o:t:s}function il(e,t,n={}){return e[nl(e,t,n)]}function Ig(e,t,n={}){let{step:i=1,loop:r=!0}=n;return nl(e,t,{step:-i,loop:r})}function rl(e,t,n={}){return e[Ig(e,t,n)]}function Ws(e,t){return e.reduce((n,i,r)=>{var s;return r%t===0?n.push([i]):(s=nt(n))==null||s.push(i),n},[])}function Ks(e,t){return e.reduce(([n,i],r)=>(t(r)?n.push(r):i.push(r),[n,i]),[[],[]])}function Ve(e,t,...n){var r;if(e in t){let s=t[e];return Ot(s)?s(...n):s}let i=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(r=Error.captureStackTrace)==null||r.call(Error,i,Ve),i}function Gn(e){if(!mi(e)||e===void 0)return e;let t=Reflect.ownKeys(e).filter(i=>typeof i=="string"),n={};for(let i of t){let r=e[i];r!==void 0&&(n[i]=Gn(r))}return n}function Rg(e,t){let n={},i={},r=new Set(t),s=Reflect.ownKeys(e);for(let o of s)r.has(o)?i[o]=e[o]:n[o]=e[o];return[i,n]}function Un(e,t){let n=new Dg(({deltaMs:i})=>{if(i>=t)return e(),!1});return n.start(),()=>n.stop()}function wt(...e){let t=e.length===1?e[0]:e[1];(e.length===2?e[0]:!0)&&console.warn(t)}function qn(e,t){if(e==null)throw new Error(t())}function yr(e,t,n){let i=[];for(let r of t)e[r]==null&&i.push(r);if(i.length>0)throw new Error(`[zag-js${n?` > ${n}`:""}] missing required props: ${i.join(", ")}`)}function hl(...e){let t={};for(let n of e){if(!n)continue;for(let r in t){if(r.startsWith("on")&&typeof t[r]=="function"&&typeof n[r]=="function"){t[r]=Bn(n[r],t[r]);continue}if(r==="className"||r==="class"){t[r]=Lg(t[r],n[r]);continue}if(r==="style"){t[r]=Mg(t[r],n[r]);continue}t[r]=n[r]!==void 0?n[r]:t[r]}for(let r in n)t[r]===void 0&&(t[r]=n[r]);let i=Object.getOwnPropertySymbols(n);for(let r of i)t[r]=n[r]}return t}function gl(e,t,n){let i=[],r;return s=>{var l;let o=e(s);return(o.length!==i.length||o.some((c,u)=>!he(i[u],c)))&&(i=o,r=t(o,s),(l=n==null?void 0:n.onChange)==null||l.call(n,r)),r}}function ye(){return{and:(...e)=>function(n){return e.every(i=>n.guard(i))},or:(...e)=>function(n){return e.some(i=>n.guard(i))},not:e=>function(n){return!n.guard(e)}}}function Wn(){return{guards:ye(),createMachine:e=>e,choose:e=>function({choose:n}){var i;return(i=n(e))==null?void 0:i.actions}}}function $g(e){let t=()=>{var o,a;return(a=(o=e.getRootNode)==null?void 0:o.call(e))!=null?a:document},n=()=>we(t()),i=()=>{var o;return(o=n().defaultView)!=null?o:window},r=()=>kn(t()),s=o=>t().getElementById(o);return y(m({},e),{getRootNode:t,getDoc:n,getWin:i,getActiveElement:r,isActiveElement:rr,getById:s})}function _g(e){return new Proxy({},{get(t,n){return n==="style"?i=>e({style:i}).style:e}})}function Ug(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function fl(e,t){let n=Ug();return n?(n[e]||(n[e]=t()),n[e]):t()}function pl(e={}){return Xg(e)}function xa(e,t,n){let i=tn.get(e);sr()&&!i&&console.warn("Please use proxy object");let r,s=[],o=i[3],a=!1,c=o(u=>{if(s.push(u),n){t(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function Jg(e){let t=tn.get(e);sr()&&!t&&console.warn("Please use proxy object");let[n,i,r]=t;return r(n,i())}function rf(e,t,n){let i=n||"default",r=zi.get(e);r||(r=new Map,zi.set(e,r));let s=r.get(i)||{},o=Object.keys(t),a=(v,b)=>{e.addEventListener(v.toLowerCase(),b)},l=(v,b)=>{e.removeEventListener(v.toLowerCase(),b)},c=v=>v.startsWith("on"),u=v=>!v.startsWith("on"),h=v=>a(v.substring(2),t[v]),p=v=>l(v.substring(2),t[v]),d=v=>{let b=t[v],V=s[v];if(b!==V){if(v==="class"){e.className=b!=null?b:"";return}if(Na.has(v)){e[v]=b!=null?b:"";return}if(typeof b=="boolean"&&!v.includes("aria-")){e.toggleAttribute(Qi(e,v),b);return}if(v==="children"){e.innerHTML=b;return}if(b!=null){e.setAttribute(Qi(e,v),b);return}e.removeAttribute(Qi(e,v))}};for(let v in s)t[v]==null&&(v==="class"?e.className="":Na.has(v)?e[v]="":e.removeAttribute(Qi(e,v)));return Object.keys(s).filter(c).forEach(v=>{l(v.substring(2),s[v])}),o.filter(c).forEach(h),o.filter(u).forEach(d),r.set(i,t),function(){o.filter(c).forEach(p);let b=zi.get(e);b&&(b.delete(i),b.size===0&&zi.delete(e))}}function or(e){var s,o;let t=(s=e().value)!=null?s:e().defaultValue;e().debug&&console.log(`[bindable > ${e().debug}] initial`,t);let n=(o=e().isEqual)!=null?o:Object.is,i=pl({value:t}),r=()=>e().value!==void 0;return{initial:t,ref:i,get(){return r()?e().value:i.value},set(a){var u,h;let l=i.value,c=Ot(a)?a(l):a;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:c,prev:l}),r()||(i.value=c),n(c,l)||(h=(u=e()).onChange)==null||h.call(u,c,l)},invoke(a,l){var c,u;(u=(c=e()).onChange)==null||u.call(c,a,l)},hash(a){var l,c,u;return(u=(c=(l=e()).hash)==null?void 0:c.call(l,a))!=null?u:String(a)}}}function sf(e){let t={current:e};return{get(n){return t.current[n]},set(n,i){t.current[n]=i}}}function ml(e,t){if(!mi(e)||!mi(t))return t===void 0?e:t;let n=m({},e);for(let i of Object.keys(t)){let r=t[i],s=e[i];r!==void 0&&(mi(s)&&mi(r)?n[i]=ml(s,r):n[i]=r)}return n}var fh,x,Y,Se,O,rn,J,Vn,ph,mh,vh,Ss,Ca,yh,Ps,Tt,ar,Ra,T,ie,bh,Eh,Ch,ce,yi,Ih,Da,Oh,nn,Sh,We,Ph,wh,ws,Rs,kh,La,cr,Ls,Ha,Lh,Fs,Fh,Mh,bi,$h,Nn,Wt,_h,Hh,et,An,Fe,Uh,qh,Ia,re,qa,Jh,Zh,zh,dr,Ii,$s,rg,sg,xn,xs,er,Gs,Za,cg,ug,dg,tt,Hn,vg,tl,yg,Ht,bg,Ta,Eg,Ke,nt,Cg,it,ht,kt,mr,rt,Oa,Tg,he,Kt,sl,ol,Yt,tr,Ot,al,Me,Og,ll,Sg,mi,Pg,wg,Vg,St,Ys,xg,cl,Bn,js,CI,II,TI,kg,Ng,OI,SI,Ag,ul,vr,dl,Ae,B,Zi,nr,Dg,Lg,Fg,Sa,Mg,vi,Vs,G,PI,Hg,Pa,ks,Bg,Gg,wa,ir,qg,Wg,Kg,Yg,Ns,Va,sr,tn,jg,Xg,Zg,zg,ne,ka,Qg,ef,Q,zi,Na,tf,nf,Qi,ee,te,me=fe(()=>{"use strict";fh=["ltr","rtl"];x=(e,t,n)=>{let i=e.dataset[t];if(i!==void 0&&(!n||n.includes(i)))return i},Y=(e,t)=>{let n=e.dataset[t];if(typeof n=="string")return n.split(",").map(i=>i.trim()).filter(i=>i.length>0)},Se=(e,t,n)=>{let i=e.dataset[t];if(i===void 0)return;let r=Number(i);if(!Number.isNaN(r))return n&&!n.includes(r)?0:r},O=(e,t)=>{let n=t.replace(/([A-Z])/g,"-$1").toLowerCase();return e.hasAttribute(`data-${n}`)},rn=(e,t="element")=>e!=null&&e.id?e.id:`${t}-${Math.random().toString(36).substring(2,9)}`,J=(e,t=[])=>({parts:(...n)=>{if(ph(t))return J(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>J(e,[...t,...n]),omit:(...n)=>J(e,t.filter(i=>!n.includes(i))),rename:n=>J(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${Vn(e)}"][data-part="${Vn(i)}"]`,`& [data-scope="${Vn(e)}"][data-part="${Vn(i)}"]`].join(", "),attrs:{"data-scope":Vn(e),"data-part":Vn(i)}}}),{})}),Vn=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),ph=e=>e.length===0,mh=Object.defineProperty,vh=(e,t,n)=>t in e?mh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ss=(e,t,n)=>vh(e,typeof t!="symbol"?t+"":t,n);Ca=e=>Math.max(0,Math.min(1,e)),yh=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]),Ps=(...e)=>t=>e.reduce((n,i)=>i(n),t),Tt=()=>{},ar=e=>typeof e=="object"&&e!==null,Ra=2147483647,T=e=>e?"":void 0,ie=e=>e?"true":void 0,bh=1,Eh=9,Ch=11,ce=e=>ar(e)&&e.nodeType===bh&&typeof e.nodeName=="string",yi=e=>ar(e)&&e.nodeType===Eh,Ih=e=>ar(e)&&e===e.window,Da=e=>ce(e)?e.localName||"":"#document";Oh=e=>ar(e)&&e.nodeType!==void 0,nn=e=>Oh(e)&&e.nodeType===Ch&&"host"in e,Sh=e=>ce(e)&&e.localName==="input",We=e=>!!(e!=null&&e.matches("a[href]")),Ph=e=>ce(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;wh=/(textarea|select)/;ws=new WeakMap;Rs=new Set(["menu","listbox","dialog","grid","tree","region"]),kh=e=>Rs.has(e),La=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};cr=()=>typeof document!="undefined";Ls=e=>cr()&&e.test(Rh()),Ha=e=>cr()&&e.test(Dh()),Lh=e=>cr()&&e.test(navigator.vendor),Fs=()=>cr()&&!!navigator.maxTouchPoints,Fh=()=>Ls(/^iPhone/i),Mh=()=>Ls(/^iPad/i)||Nn()&&navigator.maxTouchPoints>1,bi=()=>Fh()||Mh(),$h=()=>Nn()||bi(),Nn=()=>Ls(/^Mac/i),Wt=()=>$h()&&Lh(/apple/i),_h=()=>Ha(/Firefox/i),Hh=()=>Ha(/Android/i);et=e=>e.button===0,An=e=>e.button===2||Nn()&&e.ctrlKey&&e.button===0,Fe=e=>e.ctrlKey||e.altKey||e.metaKey,Uh=e=>"touches"in e&&e.touches.length>0,qh={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Ia={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};re=(e,t,n,i)=>{let r=typeof e=="function"?e():e;return r==null||r.addEventListener(t,n,i),()=>{r==null||r.removeEventListener(t,n,i)}};qa=e=>ce(e)&&e.tagName==="IFRAME",Jh=/^(audio|video|details)$/;Zh=e=>!Number.isNaN(Wa(e)),zh=e=>Wa(e)<0;dr="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Ii=(e,t={})=>{if(!e)return[];let{includeContainer:n=!1,getShadowRoot:i}=t,r=Array.from(e.querySelectorAll(dr));(n==!0||n=="if-empty"&&r.length===0)&&ce(e)&&Qe(e)&&r.unshift(e);let o=[];for(let a of r)if(Qe(a)){if(qa(a)&&a.contentDocument){let l=a.contentDocument.body;o.push(...Ii(l,{getShadowRoot:i}));continue}o.push(a)}return i?Ka(o,i,Qe):o};$s=class Ya{constructor(){Ss(this,"id",null),Ss(this,"fn_cleanup"),Ss(this,"cleanup",()=>{this.cancel()})}static create(){return new Ya}request(t){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=t==null?void 0:t()})}cancel(){var t;this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),(t=this.fn_cleanup)==null||t.call(this),this.fn_cleanup=void 0}isActive(){return this.id!==null}};rg=/auto|scroll|overlay|hidden|clip/,sg=new Set(["inline","contents"]);xn="default",xs="",er=new WeakMap;Gs=e=>e.id;Za=lg({box:"border-box"}),cg=e=>e.split("").map(t=>{let n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),ug=e=>{var t,n,i;return cg((i=(n=(t=e.dataset)==null?void 0:t.valuetext)!=null?n:e.textContent)!=null?i:"")},dg=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());tt=Object.assign(fg,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:pg});Hn={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};vg=Object.defineProperty,tl=e=>{throw TypeError(e)},yg=(e,t,n)=>t in e?vg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ht=(e,t,n)=>yg(e,typeof t!="symbol"?t+"":t,n),bg=(e,t,n)=>t.has(e)||tl("Cannot "+n),Ta=(e,t,n)=>(bg(e,t,"read from private field"),t.get(e)),Eg=(e,t,n)=>t.has(e)?tl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);Ke=e=>e[0],nt=e=>e[e.length-1],Cg=(e,t)=>e.indexOf(t)!==-1,it=(e,...t)=>e.concat(t),ht=(e,...t)=>e.filter(n=>!t.includes(n)),kt=e=>Array.from(new Set(e)),mr=(e,t)=>{let n=new Set(t);return e.filter(i=>!n.has(i))},rt=(e,t)=>Cg(e,t)?ht(e,t):it(e,t);Oa=e=>(e==null?void 0:e.constructor.name)==="Array",Tg=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!he(e[n],t[n]))return!1;return!0},he=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(Oa(e)&&Oa(t))return Tg(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(t!=null?t:Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(e,n[r]))return!1;for(let r=0;r<i;r++){let s=n[r];if(!he(e[s],t[s]))return!1}return!0},Kt=e=>Array.isArray(e),sl=e=>e===!0||e===!1,ol=e=>e!=null&&typeof e=="object",Yt=e=>ol(e)&&!Kt(e),tr=e=>typeof e=="string",Ot=e=>typeof e=="function",al=e=>e==null,Me=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Og=e=>Object.prototype.toString.call(e),ll=Function.prototype.toString,Sg=ll.call(Object),mi=e=>{if(!ol(e)||Og(e)!="[object Object]"||Vg(e))return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let n=Me(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ll.call(n)==Sg},Pg=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,wg=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Vg=e=>Pg(e)||wg(e),St=(e,...t)=>{let n=typeof e=="function"?e(...t):e;return n!=null?n:void 0},Ys=e=>e,xg=e=>e(),cl=()=>{},Bn=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},js=(()=>{let e=0;return()=>(e++,e.toString(36))})();({floor:CI,abs:II,round:TI,min:kg,max:Ng,pow:OI,sign:SI}=Math),Ag=e=>Number.isNaN(e),ul=e=>Ag(e)?0:e,vr=(e,t,n)=>{let i=ul(e),r=t==null||i>=t,s=n==null||i<=n;return r&&s},dl=(e,t,n)=>kg(Ng(ul(e),t),n),Ae=e=>typeof e=="number"?`${e}px`:e;B=e=>function(n){return Rg(n,e)},Zi=()=>performance.now(),Dg=class{constructor(e){this.onTick=e,Ht(this,"frameId",null),Ht(this,"pausedAtMs",null),Ht(this,"context"),Ht(this,"cancelFrame",()=>{this.frameId!==null&&(cancelAnimationFrame(this.frameId),this.frameId=null)}),Ht(this,"setStartMs",t=>{this.context.startMs=t}),Ht(this,"start",()=>{if(this.frameId!==null)return;let t=Zi();this.pausedAtMs!==null?(this.context.startMs+=t-this.pausedAtMs,this.pausedAtMs=null):this.context.startMs=t,this.frameId=requestAnimationFrame(Ta(this,nr))}),Ht(this,"pause",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=Zi())}),Ht(this,"stop",()=>{this.frameId!==null&&(this.cancelFrame(),this.pausedAtMs=null)}),Eg(this,nr,t=>{if(this.context.now=t,this.context.deltaMs=t-this.context.startMs,this.onTick(this.context)===!1){this.stop();return}this.frameId=requestAnimationFrame(Ta(this,nr))}),this.context={now:0,startMs:Zi(),deltaMs:0}}get elapsedMs(){return this.pausedAtMs!==null?this.pausedAtMs-this.context.startMs:Zi()-this.context.startMs}};nr=new WeakMap;Lg=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),Fg=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Sa=e=>{let t={},n;for(;n=Fg.exec(e);)t[n[1]]=n[2];return t},Mg=(e,t)=>{if(tr(e)){if(tr(t))return`${e};${t}`;e=Sa(e)}else tr(t)&&(t=Sa(t));return Object.assign({},e!=null?e:{},t!=null?t:{})};vi=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(vi||{}),Vs="__init__";G=()=>e=>Array.from(new Set(e)),PI=Symbol(),Hg=Symbol(),Pa=Object.getPrototypeOf,ks=new WeakMap,Bg=e=>e&&(ks.has(e)?ks.get(e):Pa(e)===Object.prototype||Pa(e)===Array.prototype),Gg=e=>Bg(e)&&e[Hg]||null,wa=(e,t=!0)=>{ks.set(e,t)};ir=fl("__zag__refSet",()=>new WeakSet),qg=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Wg=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Kg=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Yg=e=>qg(e)||Wg(e)||Kg(e),Ns=e=>e!==null&&typeof e=="object",Va=e=>Ns(e)&&!ir.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Yg(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise)&&!(e instanceof File)&&!(e instanceof Blob)&&!(e instanceof AbortController),sr=()=>!0,tn=fl("__zag__proxyStateMap",()=>new WeakMap),jg=(e=Object.is,t=(a,l)=>new Proxy(a,l),n=new WeakMap,i=(a,l)=>{let c=n.get(a);if((c==null?void 0:c[0])===l)return c[1];let u=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return wa(u,!0),n.set(a,[l,u]),Reflect.ownKeys(a).forEach(h=>{let p=Reflect.get(a,h);ir.has(p)?(wa(p,!1),u[h]=p):tn.has(p)?u[h]=Jg(p):u[h]=p}),Object.freeze(u)},r=new WeakMap,s=[1,1],o=a=>{if(!Ns(a))throw new Error("object required");let l=r.get(a);if(l)return l;let c=s[0],u=new Set,h=(P,A=++s[0])=>{c!==A&&(c=A,u.forEach(w=>w(P,A)))},p=s[1],d=(P=++s[1])=>(p!==P&&!u.size&&(p=P,v.forEach(([A])=>{let w=A[1](P);w>c&&(c=w)})),c),g=P=>(A,w)=>{let N=[...A];N[1]=[P,...N[1]],h(N,w)},v=new Map,b=(P,A)=>{if(sr()&&v.has(P))throw new Error("prop listener already exists");if(u.size){let w=A[3](g(P));v.set(P,[A,w])}else v.set(P,[A])},V=P=>{var w;let A=v.get(P);A&&(v.delete(P),(w=A[1])==null||w.call(A))},S=P=>(u.add(P),u.size===1&&v.forEach(([w,N],R)=>{if(sr()&&N)throw new Error("remove already exists");let L=w[3](g(R));v.set(R,[w,L])}),()=>{u.delete(P),u.size===0&&v.forEach(([w,N],R)=>{N&&(N(),v.set(R,[w]))})}),E=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),C=t(E,{deleteProperty(P,A){let w=Reflect.get(P,A);V(A);let N=Reflect.deleteProperty(P,A);return N&&h(["delete",[A],w]),N},set(P,A,w,N){var j;let R=Reflect.has(P,A),L=Reflect.get(P,A,N);if(R&&(e(L,w)||r.has(w)&&e(L,r.get(w))))return!0;V(A),Ns(w)&&(w=Gg(w)||w);let M=w;if(!((j=Object.getOwnPropertyDescriptor(P,A))!=null&&j.set)){!tn.has(w)&&Va(w)&&(M=pl(w));let q=!ir.has(M)&&tn.get(M);q&&b(A,q)}return Reflect.set(P,A,M,N),h(["set",[A],w,L]),!0}});r.set(a,C);let I=[E,d,i,S];return tn.set(C,I),Reflect.ownKeys(a).forEach(P=>{let A=Object.getOwnPropertyDescriptor(a,P);A.get||A.set?Object.defineProperty(E,P,A):C[P]=a[P]}),C})=>[o,tn,ir,e,t,Va,n,i,r,s],[Xg]=jg();Zg=Object.defineProperty,zg=(e,t,n)=>t in e?Zg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t,n)=>zg(e,typeof t!="symbol"?t+"":t,n),ka={onFocus:"onFocusin",onBlur:"onFocusout",onChange:"onInput",onDoubleClick:"onDblclick",htmlFor:"for",className:"class",defaultValue:"value",defaultChecked:"checked"},Qg=new Set(["viewBox","preserveAspectRatio"]),ef=e=>{let t="";for(let n in e){let i=e[n];i!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)),t+=`${n}:${i};`)}return t},Q=_g(e=>Object.entries(e).reduce((t,[n,i])=>{if(i===void 0)return t;if(n in ka&&(n=ka[n]),n==="style"&&typeof i=="object")return t.style=ef(i),t;let r=Qg.has(n)?n:n.toLowerCase();return t[r]=i,t},{})),zi=new WeakMap,Na=new Set(["value","checked","selected"]),tf=new Set(["viewBox","preserveAspectRatio","clipPath","clipRule","fillRule","strokeWidth","strokeLinecap","strokeLinejoin","strokeDasharray","strokeDashoffset","strokeMiterlimit"]),nf=e=>e.tagName==="svg"||e.namespaceURI==="http://www.w3.org/2000/svg",Qi=(e,t)=>nf(e)&&tf.has(t)?t:t.toLowerCase();or.cleanup=e=>{};or.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};ee=class{constructor(e,t={}){var h,p,d;this.machine=e,ne(this,"scope"),ne(this,"context"),ne(this,"prop"),ne(this,"state"),ne(this,"refs"),ne(this,"computed"),ne(this,"event",{type:""}),ne(this,"previousEvent",{type:""}),ne(this,"effects",new Map),ne(this,"transition",null),ne(this,"cleanups",[]),ne(this,"subscriptions",[]),ne(this,"userPropsRef"),ne(this,"getEvent",()=>y(m({},this.event),{current:()=>this.event,previous:()=>this.previousEvent})),ne(this,"getStateConfig",g=>this.machine.states[g]),ne(this,"getState",()=>y(m({},this.state),{matches:(...g)=>g.includes(this.state.get()),hasTag:g=>{var v,b;return!!((b=(v=this.getStateConfig(this.state.get()))==null?void 0:v.tags)!=null&&b.includes(g))}})),ne(this,"debug",(...g)=>{this.machine.debug&&console.log(...g)}),ne(this,"notify",()=>{this.publish()}),ne(this,"send",g=>{this.status===vi.Started&&queueMicrotask(()=>{var C,I,P,A,w;if(!g)return;this.previousEvent=this.event,this.event=g,this.debug("send",g);let v=this.state.get(),b=g.type,V=(A=(I=(C=this.getStateConfig(v))==null?void 0:C.on)==null?void 0:I[b])!=null?A:(P=this.machine.on)==null?void 0:P[b],S=this.choose(V);if(!S)return;this.transition=S;let E=(w=S.target)!=null?w:v;this.debug("transition",S);let f=E!==v;f?this.state.set(E):S.reenter&&!f?this.state.invoke(v,v):this.action(S.actions)})}),ne(this,"action",g=>{let v=Ot(g)?g(this.getParams()):g;if(!v)return;let b=v.map(V=>{var E,f;let S=(f=(E=this.machine.implementations)==null?void 0:E.actions)==null?void 0:f[V];return S||wt(`[zag-js] No implementation found for action "${JSON.stringify(V)}"`),S});for(let V of b)V==null||V(this.getParams())}),ne(this,"guard",g=>{var v,b;return Ot(g)?g(this.getParams()):(b=(v=this.machine.implementations)==null?void 0:v.guards)==null?void 0:b[g](this.getParams())}),ne(this,"effect",g=>{let v=Ot(g)?g(this.getParams()):g;if(!v)return;let b=v.map(S=>{var f,C;let E=(C=(f=this.machine.implementations)==null?void 0:f.effects)==null?void 0:C[S];return E||wt(`[zag-js] No implementation found for effect "${JSON.stringify(S)}"`),E}),V=[];for(let S of b){let E=S==null?void 0:S(this.getParams());E&&V.push(E)}return()=>V.forEach(S=>S==null?void 0:S())}),ne(this,"choose",g=>Ti(g).find(v=>{let b=!v.guard;return tr(v.guard)?b=!!this.guard(v.guard):Ot(v.guard)&&(b=v.guard(this.getParams())),b})),ne(this,"subscribe",g=>(this.subscriptions.push(g),()=>{let v=this.subscriptions.indexOf(g);v>-1&&this.subscriptions.splice(v,1)})),ne(this,"status",vi.NotStarted),ne(this,"publish",()=>{this.callTrackers(),this.subscriptions.forEach(g=>g(this.service))}),ne(this,"trackers",[]),ne(this,"setupTrackers",()=>{var g,v;(v=(g=this.machine).watch)==null||v.call(g,this.getParams())}),ne(this,"callTrackers",()=>{this.trackers.forEach(({deps:g,fn:v})=>{let b=g.map(V=>V());he(v.prev,b)||(v(),v.prev=b)})}),ne(this,"getParams",()=>({state:this.getState(),context:this.context,event:this.getEvent(),prop:this.prop,send:this.send,action:this.action,guard:this.guard,track:(g,v)=>{v.prev=g.map(b=>b()),this.trackers.push({deps:g,fn:v})},refs:this.refs,computed:this.computed,flush:xg,scope:this.scope,choose:this.choose})),this.userPropsRef={current:t};let{id:n,ids:i,getRootNode:r}=St(t);this.scope=$g({id:n,ids:i,getRootNode:r});let s=g=>{var V,S;let v=St(this.userPropsRef.current);return((S=(V=e.props)==null?void 0:V.call(e,{props:Gn(v),scope:this.scope}))!=null?S:v)[g]};this.prop=s;let o=(h=e.context)==null?void 0:h.call(e,{prop:s,bindable:or,scope:this.scope,flush(g){queueMicrotask(g)},getContext(){return a},getComputed(){return l},getRefs(){return c},getEvent:this.getEvent.bind(this)});o&&Object.values(o).forEach(g=>{let v=xa(g.ref,()=>this.notify());this.cleanups.push(v)});let a={get(g){return o==null?void 0:o[g].get()},set(g,v){o==null||o[g].set(v)},initial(g){return o==null?void 0:o[g].initial},hash(g){let v=o==null?void 0:o[g].get();return o==null?void 0:o[g].hash(v)}};this.context=a;let l=g=>{var v,b;return(b=(v=e.computed)==null?void 0:v[g]({context:a,event:this.getEvent(),prop:s,refs:this.refs,scope:this.scope,computed:l}))!=null?b:{}};this.computed=l;let c=sf((d=(p=e.refs)==null?void 0:p.call(e,{prop:s,context:a}))!=null?d:{});this.refs=c;let u=or(()=>({defaultValue:e.initialState({prop:s}),onChange:(g,v)=>{var V,S,E,f;if(v){let C=this.effects.get(v);C==null||C(),this.effects.delete(v)}v&&this.action((V=this.getStateConfig(v))==null?void 0:V.exit),this.action((S=this.transition)==null?void 0:S.actions);let b=this.effect((E=this.getStateConfig(g))==null?void 0:E.effects);if(b&&this.effects.set(g,b),v===Vs){this.action(e.entry);let C=this.effect(e.effects);C&&this.effects.set(Vs,C)}this.action((f=this.getStateConfig(g))==null?void 0:f.entry)}}));this.state=u,this.cleanups.push(xa(this.state.ref,()=>this.notify()))}updateProps(e){let t=this.userPropsRef.current;this.userPropsRef.current=()=>{let n=St(t),i=St(e);return ml(n,i)},this.notify()}start(){this.status=vi.Started,this.debug("initializing..."),this.state.invoke(this.state.initial,Vs),this.setupTrackers()}stop(){this.effects.forEach(e=>e==null?void 0:e()),this.effects.clear(),this.transition=null,this.action(this.machine.exit),this.cleanups.forEach(e=>e()),this.cleanups=[],this.subscriptions=[],this.status=vi.Stopped,this.debug("unmounting...")}get service(){return{state:this.getState(),send:this.send,context:this.context,prop:this.prop,scope:this.scope,refs:this.refs,computed:this.computed,event:this.getEvent(),getStatus:()=>this.status}}},te=class{constructor(e,t){U(this,"el");U(this,"doc");U(this,"machine");U(this,"api");U(this,"init",()=>{this.render(),this.machine.subscribe(()=>{this.api=this.initApi(),this.render()}),this.machine.start()});U(this,"destroy",()=>{this.machine.stop()});U(this,"spreadProps",(e,t)=>{rf(e,t,this.machine.scope.id)});U(this,"updateProps",e=>{this.machine.updateProps(e)});if(!e)throw new Error("Root element not found");this.el=e,this.doc=document,this.machine=this.initMachine(t),this.api=this.initApi()}}});var vl={};Oe(vl,{Accordion:()=>Ef});function gf(e,t){let{send:n,context:i,prop:r,scope:s,computed:o}=e,a=i.get("focusedValue"),l=i.get("value"),c=r("multiple");function u(p){let d=p;!c&&d.length>1&&(d=[d[0]]),n({type:"VALUE.SET",value:d})}function h(p){var d;return{expanded:l.includes(p.value),focused:a===p.value,disabled:!!((d=p.disabled)!=null?d:r("disabled"))}}return{focusedValue:a,value:l,setValue:u,getItemState:h,getRootProps(){return t.element(y(m({},Oi.root.attrs),{dir:r("dir"),id:br(s),"data-orientation":r("orientation")}))},getItemProps(p){let d=h(p);return t.element(y(m({},Oi.item.attrs),{dir:r("dir"),id:af(s,p.value),"data-state":d.expanded?"open":"closed","data-focus":T(d.focused),"data-disabled":T(d.disabled),"data-orientation":r("orientation")}))},getItemContentProps(p){let d=h(p);return t.element(y(m({},Oi.itemContent.attrs),{dir:r("dir"),role:"region",id:Xs(s,p.value),"aria-labelledby":Er(s,p.value),hidden:!d.expanded,"data-state":d.expanded?"open":"closed","data-disabled":T(d.disabled),"data-focus":T(d.focused),"data-orientation":r("orientation")}))},getItemIndicatorProps(p){let d=h(p);return t.element(y(m({},Oi.itemIndicator.attrs),{dir:r("dir"),"aria-hidden":!0,"data-state":d.expanded?"open":"closed","data-disabled":T(d.disabled),"data-focus":T(d.focused),"data-orientation":r("orientation")}))},getItemTriggerProps(p){let{value:d}=p,g=h(p);return t.button(y(m({},Oi.itemTrigger.attrs),{type:"button",dir:r("dir"),id:Er(s,d),"aria-controls":Xs(s,d),"data-controls":Xs(s,d),"aria-expanded":g.expanded,disabled:g.disabled,"data-orientation":r("orientation"),"aria-disabled":g.disabled,"data-state":g.expanded?"open":"closed","data-ownedby":br(s),onFocus(){g.disabled||n({type:"TRIGGER.FOCUS",value:d})},onBlur(){g.disabled||n({type:"TRIGGER.BLUR"})},onClick(v){g.disabled||(Wt()&&v.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:d}))},onKeyDown(v){if(v.defaultPrevented||g.disabled)return;let b={ArrowDown(){o("isHorizontal")||n({type:"GOTO.NEXT",value:d})},ArrowUp(){o("isHorizontal")||n({type:"GOTO.PREV",value:d})},ArrowRight(){o("isHorizontal")&&n({type:"GOTO.NEXT",value:d})},ArrowLeft(){o("isHorizontal")&&n({type:"GOTO.PREV",value:d})},Home(){n({type:"GOTO.FIRST",value:d})},End(){n({type:"GOTO.LAST",value:d})}},V=ve(v,{dir:r("dir"),orientation:r("orientation")}),S=b[V];S&&(S(v),v.preventDefault())}}))}}}var of,Oi,br,af,Xs,Er,lf,Cr,cf,uf,df,hf,ff,pf,mf,vf,RI,yf,DI,bf,Ef,yl=fe(()=>{"use strict";me();of=J("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),Oi=of.build(),br=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`accordion:${e.id}`},af=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:item:${t}`},Xs=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:content:${t}`},Er=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,t))!=null?r:`accordion:${e.id}:trigger:${t}`},lf=e=>e.getById(br(e)),Cr=e=>{let n=`[data-controls][data-ownedby='${CSS.escape(br(e))}']:not([disabled])`;return dt(lf(e),n)},cf=e=>Ke(Cr(e)),uf=e=>nt(Cr(e)),df=(e,t)=>$n(Cr(e),Er(e,t)),hf=(e,t)=>_n(Cr(e),Er(e,t));({and:ff,not:pf}=ye()),mf={props({props:e}){return m({collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){var i;(i=e("onFocusChange"))==null||i({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:ff("isExpanded","canToggle"),actions:["collapse"]},{guard:pf("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){let i=t("multiple")?ht(e.get("value"),n.value):[];e.set("value",i)},expand({context:e,prop:t,event:n}){let i=t("multiple")?it(e.get("value"),n.value):[n.value];e.set("value",i)},focusFirstTrigger({scope:e}){var t;(t=cf(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=uf(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let i=df(t,n);i==null||i.focus()},focusPrevTrigger({context:e,scope:t}){let n=e.get("focusedValue");if(!n)return;let i=hf(t,n);i==null||i.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(wt("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}},vf=G()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]),RI=B(vf),yf=G()(["value","disabled"]),DI=B(yf),bf=class extends te{initMachine(e){return new ee(mf,e)}initApi(){return gf(this.machine.service,Q)}render(){var i;let e=(i=this.el.querySelector('[data-scope="accordion"][data-part="root"]'))!=null?i:this.el;this.spreadProps(e,this.api.getRootProps());let t=this.getItemsList(),n=e.querySelectorAll('[data-scope="accordion"][data-part="item"]');for(let r=0;r<n.length;r++){let s=n[r],o=t[r];if(!(o!=null&&o.value))continue;let{value:a,disabled:l}=o;this.spreadProps(s,this.api.getItemProps({value:a,disabled:l}));let c=s.querySelector('[data-scope="accordion"][data-part="item-trigger"]');c&&this.spreadProps(c,this.api.getItemTriggerProps({value:a,disabled:l}));let u=s.querySelector('[data-scope="accordion"][data-part="item-indicator"]');u&&this.spreadProps(u,this.api.getItemIndicatorProps({value:a,disabled:l}));let h=s.querySelector('[data-scope="accordion"][data-part="item-content"]');h&&this.spreadProps(h,this.api.getItemContentProps({value:a,disabled:l}))}}getItemsList(){let e=this.el.getAttribute("data-items");if(!e)return[];try{return JSON.parse(e)}catch(t){return[]}}},Ef={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new bf(e,y(m({id:e.id},O(e,"controlled")?{value:Y(e,"value")}:{defaultValue:Y(e,"defaultValue")}),{collapsible:O(e,"collapsible"),multiple:O(e,"multiple"),orientation:x(e,"orientation",["horizontal","vertical"]),dir:Gt(e),onValueChange:i=>{var o,a;let r=x(e,"onValueChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(o=i.value)!=null?o:null});let s=x(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(a=i.value)!=null?a:null}}))},onFocusChange:i=>{var o,a;let r=x(e,"onFocusChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(o=i.value)!=null?o:null});let s=x(e,"onFocusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(a=i.value)!=null?a:null}}))}}));n.init(),this.accordion=n,this.onSetValue=i=>{let{value:r}=i.detail;n.api.setValue(r)},e.addEventListener("phx:accordion:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("accordion_set_value",i=>{let r=i.accordion_id;r&&!(e.id===r||e.id===`accordion:${r}`)||n.api.setValue(i.value)})),this.handlers.push(this.handleEvent("accordion_value",()=>{this.pushEvent("accordion_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("accordion_focused_value",()=>{this.pushEvent("accordion_focused_value_response",{value:n.api.focusedValue})}))},updated(){var t,n,i,r;let e=O(this.el,"controlled");(r=this.accordion)==null||r.updateProps(y(m({id:this.el.id},e?{value:Y(this.el,"value")}:{defaultValue:(i=(n=(t=this.accordion)==null?void 0:t.api)==null?void 0:n.value)!=null?i:Y(this.el,"defaultValue")}),{collapsible:O(this.el,"collapsible"),multiple:O(this.el,"multiple"),orientation:x(this.el,"orientation",["horizontal","vertical"]),dir:Gt(this.el)}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:accordion:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.accordion)==null||e.destroy()}}});function Cf(e){return!(e.metaKey||!Nn()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Tf(e,t,n){let i=n?K(n):null,r=oe(i);return e=e||i instanceof r.HTMLInputElement&&!If.has(i==null?void 0:i.type)||i instanceof r.HTMLTextAreaElement||i instanceof r.HTMLElement&&i.isContentEditable,!(e&&t==="keyboard"&&n instanceof r.KeyboardEvent&&!Reflect.has(Of,n.key))}function Or(e,t){for(let n of Js)n(e,t)}function Tr(e){un=!0,Cf(e)&&(dn="keyboard",Or("keyboard",e))}function je(e){dn="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(un=!0,Or("pointer",e))}function bl(e){Ga(e)&&(un=!0,dn="virtual")}function El(e){let t=K(e);t===oe(t)||t===we(t)||(!un&&!Zs&&(dn="virtual",Or("virtual",e)),un=!1,Zs=!1)}function Cl(){un=!1,Zs=!0}function Sf(e){if(typeof window=="undefined"||Ir.get(oe(e)))return;let t=oe(e),n=we(e),i=t.HTMLElement.prototype.focus;function r(){dn="virtual",Or("virtual",null),un=!0,i.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:r})}catch(s){}n.addEventListener("keydown",Tr,!0),n.addEventListener("keyup",Tr,!0),n.addEventListener("click",bl,!0),t.addEventListener("focus",El,!0),t.addEventListener("blur",Cl,!1),typeof t.PointerEvent!="undefined"?(n.addEventListener("pointerdown",je,!0),n.addEventListener("pointermove",je,!0),n.addEventListener("pointerup",je,!0)):(n.addEventListener("mousedown",je,!0),n.addEventListener("mousemove",je,!0),n.addEventListener("mouseup",je,!0)),t.addEventListener("beforeunload",()=>{Pf(e)},{once:!0}),Ir.set(t,{focus:i})}function Kn(){return dn==="keyboard"}function Sr(e={}){let{isTextInput:t,autoFocus:n,onChange:i,root:r}=e;Sf(r),i==null||i({isFocusVisible:n||Kn(),modality:dn});let s=(o,a)=>{Tf(!!t,o,a)&&(i==null||i({isFocusVisible:Kn(),modality:o}))};return Js.add(s),()=>{Js.delete(s)}}var If,dn,Js,Ir,un,Zs,Of,Pf,zs=fe(()=>{"use strict";me();If=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);dn=null,Js=new Set,Ir=new Map,un=!1,Zs=!1,Of={Tab:!0,Escape:!0};Pf=(e,t)=>{let n=oe(e),i=we(e),r=Ir.get(n);if(r){try{Object.defineProperty(n.HTMLElement.prototype,"focus",{configurable:!0,value:r.focus})}catch(s){}i.removeEventListener("keydown",Tr,!0),i.removeEventListener("keyup",Tr,!0),i.removeEventListener("click",bl,!0),n.removeEventListener("focus",El,!0),n.removeEventListener("blur",Cl,!1),typeof n.PointerEvent!="undefined"?(i.removeEventListener("pointerdown",je,!0),i.removeEventListener("pointermove",je,!0),i.removeEventListener("pointerup",je,!0)):(i.removeEventListener("mousedown",je,!0),i.removeEventListener("mousemove",je,!0),i.removeEventListener("mouseup",je,!0)),Ir.delete(n)}}});var Sl={};Oe(Sl,{Checkbox:()=>Lf});function kf(e,t){let{send:n,context:i,prop:r,computed:s,scope:o}=e,a=!!r("disabled"),l=!!r("readOnly"),c=!!r("required"),u=!!r("invalid"),h=!a&&i.get("focused"),p=!a&&i.get("focusVisible"),d=s("checked"),g=s("indeterminate"),v=i.get("checked"),b={"data-active":T(i.get("active")),"data-focus":T(h),"data-focus-visible":T(p),"data-readonly":T(l),"data-hover":T(i.get("hovered")),"data-disabled":T(a),"data-state":g?"indeterminate":d?"checked":"unchecked","data-invalid":T(u),"data-required":T(c)};return{checked:d,disabled:a,indeterminate:g,focused:h,checkedState:v,setChecked(V){n({type:"CHECKED.SET",checked:V,isTrusted:!1})},toggleChecked(){n({type:"CHECKED.TOGGLE",checked:d,isTrusted:!1})},getRootProps(){return t.label(y(m(m({},Pr.root.attrs),b),{dir:r("dir"),id:Ol(o),htmlFor:Qs(o),onPointerMove(){a||n({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){a||n({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(V){K(V)===Si(o)&&V.stopPropagation()}}))},getLabelProps(){return t.element(y(m(m({},Pr.label.attrs),b),{dir:r("dir"),id:Il(o)}))},getControlProps(){return t.element(y(m(m({},Pr.control.attrs),b),{dir:r("dir"),id:Vf(o),"aria-hidden":!0}))},getIndicatorProps(){return t.element(y(m(m({},Pr.indicator.attrs),b),{dir:r("dir"),hidden:!g&&!d}))},getHiddenInputProps(){return t.input({id:Qs(o),type:"checkbox",required:r("required"),defaultChecked:d,disabled:a,"aria-labelledby":Il(o),"aria-invalid":u,name:r("name"),form:r("form"),value:r("value"),style:Hn,onFocus(){let V=Kn();n({type:"CONTEXT.SET",context:{focused:!0,focusVisible:V}})},onBlur(){n({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(V){if(l){V.preventDefault();return}let S=V.currentTarget.checked;n({type:"CHECKED.SET",checked:S,isTrusted:!0})}})}}}function wr(e){return e==="indeterminate"}function Af(e){return wr(e)?!1:!!e}var wf,Pr,Ol,Il,Vf,Qs,xf,Si,Tl,Nf,Rf,BI,Df,Lf,Pl=fe(()=>{"use strict";zs();me();wf=J("checkbox").parts("root","label","control","indicator"),Pr=wf.build(),Ol=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`checkbox:${e.id}`},Il=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`checkbox:${e.id}:label`},Vf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`checkbox:${e.id}:control`},Qs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`checkbox:${e.id}:input`},xf=e=>e.getById(Ol(e)),Si=e=>e.getById(Qs(e));({not:Tl}=ye()),Nf={props({props:e}){var t;return y(m({value:"on"},e),{defaultChecked:(t=e.defaultChecked)!=null?t:!1})},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var i;(i=e("onCheckedChange"))==null||i({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:n,action:i}){e([()=>n("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Tl("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Tl("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>wr(e.get("checked")),checked:({context:e})=>Af(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:n}){if(!t("disabled"))return pr({pointerNode:xf(n),keyboardNode:Si(n),isValidKey:i=>i.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var n;if(!e("disabled"))return Sr({root:(n=t.getRootNode)==null?void 0:n.call(t)})},trackFormControlState({context:e,scope:t}){return Rn(Si(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,computed:t,scope:n}){let i=Si(n);i&&(Ci(i,t("checked")),i.indeterminate=wr(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){let n=wr(t("checked"))?!0:!t("checked");e.set("checked",n)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{let n=Si(t);ur(n,{checked:e("checked")})})}}}};Rf=G()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),BI=B(Rf),Df=class extends te{initMachine(e){return new ee(Nf,e)}initApi(){return kf(this.machine.service,Q)}render(){let e=this.el.querySelector('[data-scope="checkbox"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector(':scope > [data-scope="checkbox"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let n=e.querySelector(':scope > [data-scope="checkbox"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=e.querySelector(':scope > [data-scope="checkbox"][data-part="control"]');if(i){this.spreadProps(i,this.api.getControlProps());let r=i.querySelector(':scope > [data-scope="checkbox"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}}},Lf={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new Df(e,y(m({id:e.id},O(e,"controlled")?{checked:O(e,"checked")}:{defaultChecked:O(e,"defaultChecked")}),{disabled:O(e,"disabled"),name:x(e,"name"),form:x(e,"form"),value:x(e,"value"),dir:Gt(e),invalid:O(e,"invalid"),required:O(e,"required"),readOnly:O(e,"readOnly"),onCheckedChange:i=>{let r=x(e,"onCheckedChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{checked:i.checked,id:e.id});let s=x(e,"onCheckedChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}}));n.init(),this.checkbox=n,this.onSetChecked=i=>{let{checked:r}=i.detail;n.api.setChecked(r)},e.addEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked=()=>{n.api.toggleChecked()},e.addEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers=[],this.handlers.push(this.handleEvent("checkbox_set_checked",i=>{let r=i.id;r&&r!==e.id||n.api.setChecked(i.checked)})),this.handlers.push(this.handleEvent("checkbox_toggle_checked",i=>{let r=i.id;r&&r!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("checkbox_checked",()=>{this.pushEvent("checkbox_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("checkbox_focused",()=>{this.pushEvent("checkbox_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("checkbox_disabled",()=>{this.pushEvent("checkbox_disabled_response",{value:n.api.disabled})}))},updated(){var e;(e=this.checkbox)==null||e.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{checked:O(this.el,"checked")}:{defaultChecked:O(this.el,"defaultChecked")}),{disabled:O(this.el,"disabled"),name:x(this.el,"name"),form:x(this.el,"form"),value:x(this.el,"value"),dir:Gt(this.el),invalid:O(this.el,"invalid"),required:O(this.el,"required"),readOnly:O(this.el,"readOnly"),label:x(this.el,"label")}))},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:checkbox:set-checked",this.onSetChecked),this.onToggleChecked&&this.el.removeEventListener("phx:checkbox:toggle-checked",this.onToggleChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.checkbox)==null||e.destroy()}}});var wl={};Oe(wl,{Clipboard:()=>Xf});function Bf(e,t){let n=e.createElement("pre");return Object.assign(n.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),n.textContent=t,n}function Gf(e){let n=oe(e).getSelection();if(n==null)return Promise.reject(new Error);n.removeAllRanges();let i=e.ownerDocument,r=i.createRange();return r.selectNodeContents(e),n.addRange(r),i.execCommand("copy"),n.removeAllRanges(),Promise.resolve()}function Uf(e,t){var r;let n=e.defaultView||window;if(((r=n.navigator.clipboard)==null?void 0:r.writeText)!==void 0)return n.navigator.clipboard.writeText(t);if(!e.body)return Promise.reject(new Error);let i=Bf(e,t);return e.body.appendChild(i),Gf(i),e.body.removeChild(i),Promise.resolve()}function qf(e,t){let{state:n,send:i,context:r,scope:s}=e,o=n.matches("copied");return{copied:o,value:r.get("value"),setValue(a){i({type:"VALUE.SET",value:a})},copy(){i({type:"COPY"})},getRootProps(){return t.element(y(m({},Yn.root.attrs),{"data-copied":T(o),id:Mf(s)}))},getLabelProps(){return t.label(y(m({},Yn.label.attrs),{htmlFor:eo(s),"data-copied":T(o),id:$f(s)}))},getControlProps(){return t.element(y(m({},Yn.control.attrs),{"data-copied":T(o)}))},getInputProps(){return t.input(y(m({},Yn.input.attrs),{defaultValue:r.get("value"),"data-copied":T(o),readOnly:!0,"data-readonly":"true",id:eo(s),onFocus(a){a.currentTarget.select()},onCopy(){i({type:"INPUT.COPY"})}}))},getTriggerProps(){return t.button(y(m({},Yn.trigger.attrs),{type:"button","aria-label":o?"Copied to clipboard":"Copy to clipboard","data-copied":T(o),onClick(){i({type:"COPY"})}}))},getIndicatorProps(a){return t.element(y(m({},Yn.indicator.attrs),{hidden:a.copied!==o}))}}}var Ff,Yn,Mf,eo,$f,_f,Hf,Wf,Kf,WI,Yf,KI,jf,Xf,Vl=fe(()=>{"use strict";me();Ff=J("clipboard").parts("root","control","trigger","indicator","input","label"),Yn=Ff.build(),Mf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`clip:${e.id}`},eo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`clip:${e.id}:input`},$f=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`clip:${e.id}:label`},_f=e=>e.getById(eo(e)),Hf=(e,t)=>Uf(e.getDoc(),t);Wf={props({props:e}){return m({timeout:3e3,defaultValue:""},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}}))}},watch({track:e,context:t,action:n}){e([()=>t.get("value")],()=>{n(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:e,send:t}){return Un(()=>{t({type:"COPY.DONE"})},e("timeout"))}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},copyToClipboard({context:e,scope:t}){Hf(t,e.get("value"))},invokeOnCopy({prop:e}){var t;(t=e("onStatusChange"))==null||t({copied:!0})},syncInputElement({context:e,scope:t}){let n=_f(t);n&&xt(n,e.get("value"))}}}},Kf=G()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]),WI=B(Kf),Yf=G()(["copied"]),KI=B(Yf),jf=class extends te{initMachine(e){return new ee(Wf,e)}initApi(){return qf(this.machine.service,Q)}render(){let e=this.el.querySelector('[data-scope="clipboard"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="clipboard"][data-part="label"]');t&&this.spreadProps(t,this.api.getLabelProps());let n=e.querySelector('[data-scope="clipboard"][data-part="control"]');if(n){this.spreadProps(n,this.api.getControlProps());let i=n.querySelector('[data-scope="clipboard"][data-part="input"]');if(i){let s=m({},this.api.getInputProps()),o=this.el.dataset.inputAriaLabel;o&&(s["aria-label"]=o),this.spreadProps(i,s)}let r=n.querySelector('[data-scope="clipboard"][data-part="trigger"]');if(r){let s=m({},this.api.getTriggerProps()),o=this.el.dataset.triggerAriaLabel;o&&(s["aria-label"]=o),this.spreadProps(r,s)}}}}},Xf={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,i=new jf(e,y(m({id:e.id,timeout:Se(e,"timeout")},O(e,"controlled")?{value:x(e,"value")}:{defaultValue:x(e,"defaultValue")}),{onValueChange:r=>{var o;let s=x(e,"onValueChange");s&&n.main.isConnected()&&t(s,{id:e.id,value:(o=r.value)!=null?o:null})},onStatusChange:r=>{let s=x(e,"onStatusChange");s&&n.main.isConnected()&&t(s,{id:e.id,copied:r.copied});let o=x(e,"onStatusChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0}))}}));i.init(),this.clipboard=i,this.onCopy=()=>{i.api.copy()},e.addEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue=r=>{let{value:s}=r.detail;i.api.setValue(s)},e.addEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("clipboard_copy",r=>{let s=r.clipboard_id;s&&s!==e.id||i.api.copy()})),this.handlers.push(this.handleEvent("clipboard_set_value",r=>{let s=r.clipboard_id;s&&s!==e.id||i.api.setValue(r.value)})),this.handlers.push(this.handleEvent("clipboard_copied",()=>{this.pushEvent("clipboard_copied_response",{value:i.api.copied})}))},updated(){var e;(e=this.clipboard)==null||e.updateProps(y(m({id:this.el.id,timeout:Se(this.el,"timeout")},O(this.el,"controlled")?{value:x(this.el,"value")}:{defaultValue:x(this.el,"value")}),{dir:x(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onCopy&&this.el.removeEventListener("phx:clipboard:copy",this.onCopy),this.onSetValue&&this.el.removeEventListener("phx:clipboard:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.clipboard)==null||e.destroy()}}});var xl={};Oe(xl,{Collapsible:()=>ip});function Qf(e,t){let{state:n,send:i,context:r,scope:s,prop:o}=e,a=n.matches("open")||n.matches("closing"),l=n.matches("open"),c=n.matches("closed"),{width:u,height:h}=r.get("size"),p=!!o("disabled"),d=o("collapsedHeight"),g=o("collapsedWidth"),v=d!=null,b=g!=null,V=v||b,S=!r.get("initial")&&l;return{disabled:p,visible:a,open:l,measureSize(){i({type:"size.measure"})},setOpen(E){n.matches("open")!==E&&i({type:E?"open":"close"})},getRootProps(){return t.element(y(m({},Vr.root.attrs),{"data-state":l?"open":"closed",dir:o("dir"),id:Zf(s)}))},getContentProps(){return t.element(y(m({},Vr.content.attrs),{id:to(s),"data-collapsible":"","data-state":S?void 0:l?"open":"closed","data-disabled":T(p),"data-has-collapsed-size":T(V),hidden:!a&&!V,dir:o("dir"),style:m(m({"--height":Ae(h),"--width":Ae(u),"--collapsed-height":Ae(d),"--collapsed-width":Ae(g)},c&&v&&{overflow:"hidden",minHeight:Ae(d),maxHeight:Ae(d)}),c&&b&&{overflow:"hidden",minWidth:Ae(g),maxWidth:Ae(g)})}))},getTriggerProps(){return t.element(y(m({},Vr.trigger.attrs),{id:zf(s),dir:o("dir"),type:"button","data-state":l?"open":"closed","data-disabled":T(p),"aria-controls":to(s),"aria-expanded":a||!1,onClick(E){E.defaultPrevented||p||i({type:l?"close":"open"})}}))},getIndicatorProps(){return t.element(y(m({},Vr.indicator.attrs),{dir:o("dir"),"data-state":l?"open":"closed","data-disabled":T(p)}))}}}var Jf,Vr,Zf,to,zf,Pi,ep,tp,JI,np,ip,kl=fe(()=>{"use strict";me();Jf=J("collapsible").parts("root","trigger","content","indicator"),Vr=Jf.build(),Zf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`collapsible:${e.id}`},to=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`collapsible:${e.id}:content`},zf=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`collapsible:${e.id}:trigger`},Pi=e=>e.getById(to(e));ep={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["cleanupNode"],states:{closed:{effects:["trackTabbableElements"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n,i=H(()=>{let r=Pi(t);if(!r)return;let s=qt(r).animationName;if(!s||s==="none"){e({type:"animation.end"});return}let a=l=>{K(l)===r&&e({type:"animation.end"})};r.addEventListener("animationend",a),n=()=>{r.removeEventListener("animationend",a)}});return()=>{i(),n==null||n()}},trackExitAnimation:({send:e,scope:t})=>{let n,i=H(()=>{let r=Pi(t);if(!r)return;let s=qt(r).animationName;if(!s||s==="none"){e({type:"animation.end"});return}let a=c=>{K(c)===r&&e({type:"animation.end"})};r.addEventListener("animationend",a);let l=cn(r,{animationFillMode:"forwards"});n=()=>{r.removeEventListener("animationend",a),an(()=>l())}});return()=>{i(),n==null||n()}},trackTabbableElements:({scope:e,prop:t})=>{if(!t("collapsedHeight")&&!t("collapsedWidth"))return;let n=Pi(e);if(!n)return;let i=()=>{let a=on(n).map(l=>za(l,"inert",""));return()=>{a.forEach(l=>l())}},r=i(),s=ja(n,{callback(){r(),r=i()}});return()=>{r(),s()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{let n=Pi(t);if(!n)return;let{height:i,width:r}=n.getBoundingClientRect();e.set("size",{height:i,width:r})},computeSize:({refs:e,scope:t,context:n})=>{var r;(r=e.get("cleanup"))==null||r();let i=H(()=>{let s=Pi(t);if(!s)return;let o=s.hidden;s.style.animationName="none",s.style.animationDuration="0s",s.hidden=!1;let a=s.getBoundingClientRect();n.set("size",{height:a.height,width:a.width}),n.get("initial")&&(s.style.animationName="",s.style.animationDuration=""),s.hidden=o});e.set("cleanup",i)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}},tp=G()(["dir","disabled","getRootNode","id","ids","collapsedHeight","collapsedWidth","onExitComplete","onOpenChange","defaultOpen","open"]),JI=B(tp),np=class extends te{initMachine(e){return new ee(ep,e)}initApi(){return Qf(this.machine.service,Q)}render(){let e=this.el.querySelector('[data-scope="collapsible"][data-part="root"]');if(e){this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="collapsible"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=e.querySelector('[data-scope="collapsible"][data-part="content"]');n&&this.spreadProps(n,this.api.getContentProps())}}},ip={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new np(e,y(m({id:e.id},O(e,"controlled")?{open:O(e,"open")}:{defaultOpen:O(e,"defaultOpen")}),{disabled:O(e,"disabled"),dir:x(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let r=x(e,"onOpenChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,open:i.open});let s=x(e,"onOpenChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));n.init(),this.collapsible=n,this.onSetOpen=i=>{let{open:r}=i.detail;n.api.setOpen(r)},e.addEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("collapsible_set_open",i=>{let r=i.collapsible_id;r&&r!==e.id||n.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("collapsible_open",()=>{this.pushEvent("collapsible_open_response",{value:n.api.open})}))},updated(){var e;(e=this.collapsible)==null||e.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{open:O(this.el,"open")}:{defaultOpen:O(this.el,"defaultOpen")}),{disabled:O(this.el,"disabled"),dir:x(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:collapsible:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.collapsible)==null||e.destroy()}}});function wi(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}function xr(e,t,n){t=[...t].sort((r,s)=>r-s);let i=t.map(r=>e[r]);for(let r=t.length-1;r>=0;r--)e=[...e.slice(0,t[r]),...e.slice(t[r]+1)];return n=Math.max(0,n-t.filter(r=>r<n).length),[...e.slice(0,n),...i,...e.slice(n)]}function Dl(e,t,n){for(let i=0;i<t.length;i++)e=n.getChildren(e,t.slice(i+1))[t[i]];return e}function ap(e){let t=lp(e),n=[],i=new Set;for(let r of t){let s=r.join();i.has(s)||(i.add(s),n.push(r))}return n}function Ll(e,t){for(let n=0;n<Math.min(e.length,t.length);n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.length-t.length}function lp(e){return e.sort(Ll)}function cp(e,t){let n;return $e(e,y(m({},t),{onEnter:(i,r)=>{if(t.predicate(i,r))return n=i,"stop"}})),n}function up(e,t){let n=[];return $e(e,{onEnter:(i,r)=>{t.predicate(i,r)&&n.push(i)},getChildren:t.getChildren}),n}function Nl(e,t){let n;return $e(e,{onEnter:(i,r)=>{if(t.predicate(i,r))return n=[...r],"stop"},getChildren:t.getChildren}),n}function dp(e,t){let n=t.initialResult;return $e(e,y(m({},t),{onEnter:(i,r)=>{n=t.nextResult(n,i,r)}})),n}function hp(e,t){return dp(e,y(m({},t),{initialResult:[],nextResult:(n,i,r)=>(n.push(...t.transform(i,r)),n)}))}function gp(e,t){let{predicate:n,create:i,getChildren:r}=t,s=(o,a)=>{let l=r(o,a),c=[];l.forEach((d,g)=>{let v=[...a,g],b=s(d,v);b&&c.push(b)});let u=a.length===0,h=n(o,a),p=c.length>0;return u||h||p?i(o,c,a):null};return s(e,[])||i(e,[],[])}function fp(e,t){let n=[],i=0,r=new Map,s=new Map;return $e(e,{getChildren:t.getChildren,onEnter:(o,a)=>{r.has(o)||r.set(o,i++);let l=t.getChildren(o,a);l.forEach(d=>{s.has(d)||s.set(d,o),r.has(d)||r.set(d,i++)});let c=l.length>0?l.map(d=>r.get(d)):void 0,u=s.get(o),h=u?r.get(u):void 0,p=r.get(o);n.push(y(m({},o),{_children:c,_parent:h,_index:p}))}}),n}function pp(e,t){return{type:"insert",index:e,nodes:t}}function mp(e){return{type:"remove",indexes:e}}function no(){return{type:"replace"}}function Fl(e){return[e.slice(0,-1),e[e.length-1]]}function Ml(e,t,n=new Map){var o;let[i,r]=Fl(e);for(let a=i.length-1;a>=0;a--){let l=i.slice(0,a).join();switch((o=n.get(l))==null?void 0:o.type){case"remove":continue}n.set(l,no())}let s=n.get(i.join());switch(s==null?void 0:s.type){case"remove":n.set(i.join(),{type:"removeThenInsert",removeIndexes:s.indexes,insertIndex:r,insertNodes:t});break;default:n.set(i.join(),pp(r,t))}return n}function $l(e){var i;let t=new Map,n=new Map;for(let r of e){let s=r.slice(0,-1).join(),o=(i=n.get(s))!=null?i:[];o.push(r[r.length-1]),n.set(s,o.sort((a,l)=>a-l))}for(let r of e)for(let s=r.length-2;s>=0;s--){let o=r.slice(0,s).join();t.has(o)||t.set(o,no())}for(let[r,s]of n)t.set(r,mp(s));return t}function vp(e,t){let n=new Map,[i,r]=Fl(e);for(let s=i.length-1;s>=0;s--){let o=i.slice(0,s).join();n.set(o,no())}return n.set(i.join(),{type:"removeThenInsert",removeIndexes:[r],insertIndex:r,insertNodes:[t]}),n}function Nr(e,t,n){return yp(e,y(m({},n),{getChildren:(i,r)=>{let s=r.join(),o=t.get(s);switch(o==null?void 0:o.type){case"replace":case"remove":case"removeThenInsert":case"insert":return n.getChildren(i,r);default:return[]}},transform:(i,r,s)=>{let o=s.join(),a=t.get(o);switch(a==null?void 0:a.type){case"remove":return n.create(i,r.filter((u,h)=>!a.indexes.includes(h)),s);case"removeThenInsert":let l=r.filter((u,h)=>!a.removeIndexes.includes(h)),c=a.removeIndexes.reduce((u,h)=>h<u?u-1:u,a.insertIndex);return n.create(i,Al(l,c,0,...a.insertNodes),s);case"insert":return n.create(i,Al(r,a.index,0,...a.nodes),s);case"replace":return n.create(i,r,s);default:return i}}}))}function Al(e,t,n,...i){return[...e.slice(0,t),...i,...e.slice(t+n)]}function yp(e,t){let n={};return $e(e,y(m({},t),{onLeave:(i,r)=>{var u,h;let s=[0,...r],o=s.join(),a=t.transform(i,(u=n[o])!=null?u:[],r),l=s.slice(0,-1).join(),c=(h=n[l])!=null?h:[];c.push(a),n[l]=c}})),n[""][0]}function bp(e,t){let{nodes:n,at:i}=t;if(i.length===0)throw new Error("Can't insert nodes at the root");let r=Ml(i,n);return Nr(e,r,t)}function Ep(e,t){if(t.at.length===0)return t.node;let n=vp(t.at,t.node);return Nr(e,n,t)}function Cp(e,t){if(t.indexPaths.length===0)return e;for(let i of t.indexPaths)if(i.length===0)throw new Error("Can't remove the root node");let n=$l(t.indexPaths);return Nr(e,n,t)}function Ip(e,t){if(t.indexPaths.length===0)return e;for(let s of t.indexPaths)if(s.length===0)throw new Error("Can't move the root node");if(t.to.length===0)throw new Error("Can't move nodes to the root");let n=ap(t.indexPaths),i=n.map(s=>Dl(e,s,t)),r=Ml(t.to,i,$l(n));return Nr(e,r,t)}function $e(e,t){let{onEnter:n,onLeave:i,getChildren:r}=t,s=[],o=[{node:e}],a=t.reuseIndexPath?()=>s:()=>s.slice();for(;o.length>0;){let l=o[o.length-1];if(l.state===void 0){let u=n==null?void 0:n(l.node,a());if(u==="stop")return;l.state=u==="skip"?-1:0}let c=l.children||r(l.node,a());if(l.children||(l.children=c),l.state!==-1){if(l.state<c.length){let h=l.state;s.push(h),o.push({node:c[h]}),l.state=h+1;continue}if((i==null?void 0:i(l.node,a()))==="stop")return}s.pop(),o.pop()}}var rp,sp,$,kr,Xn,op,io,jn,Ar=fe(()=>{"use strict";me();rp=Object.defineProperty,sp=(e,t,n)=>t in e?rp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t,n)=>sp(e,typeof t!="symbol"?t+"":t,n),kr={itemToValue(e){return typeof e=="string"?e:Yt(e)&&Me(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:Yt(e)&&Me(e,"label")?e.label:kr.itemToValue(e)},isItemDisabled(e){return Yt(e)&&Me(e,"disabled")?!!e.disabled:!1}},Xn=class Rl{constructor(t){this.options=t,$(this,"items"),$(this,"indexMap",null),$(this,"copy",n=>new Rl(y(m({},this.options),{items:n!=null?n:[...this.items]}))),$(this,"isEqual",n=>he(this.items,n.items)),$(this,"setItems",n=>this.copy(n)),$(this,"getValues",(n=this.items)=>{let i=[];for(let r of n){let s=this.getItemValue(r);s!=null&&i.push(s)}return i}),$(this,"find",n=>{if(n==null)return null;let i=this.indexOf(n);return i!==-1?this.at(i):null}),$(this,"findMany",n=>{let i=[];for(let r of n){let s=this.find(r);s!=null&&i.push(s)}return i}),$(this,"at",n=>{var s;if(!this.options.groupBy&&!this.options.groupSort)return(s=this.items[n])!=null?s:null;let i=0,r=this.group();for(let[,o]of r)for(let a of o){if(i===n)return a;i++}return null}),$(this,"sortFn",(n,i)=>{let r=this.indexOf(n),s=this.indexOf(i);return(r!=null?r:0)-(s!=null?s:0)}),$(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),$(this,"getItemValue",n=>{var i,r,s;return n==null?null:(s=(r=(i=this.options).itemToValue)==null?void 0:r.call(i,n))!=null?s:kr.itemToValue(n)}),$(this,"getItemDisabled",n=>{var i,r,s;return n==null?!1:(s=(r=(i=this.options).isItemDisabled)==null?void 0:r.call(i,n))!=null?s:kr.isItemDisabled(n)}),$(this,"stringifyItem",n=>{var i,r,s;return n==null?null:(s=(r=(i=this.options).itemToString)==null?void 0:r.call(i,n))!=null?s:kr.itemToString(n)}),$(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),$(this,"stringifyItems",(n,i=", ")=>{let r=[];for(let s of n){let o=this.stringifyItem(s);o!=null&&r.push(o)}return r.join(i)}),$(this,"stringifyMany",(n,i)=>this.stringifyItems(this.findMany(n),i)),$(this,"has",n=>this.indexOf(n)!==-1),$(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),$(this,"group",()=>{let{groupBy:n,groupSort:i}=this.options;if(!n)return[["",[...this.items]]];let r=new Map;this.items.forEach((o,a)=>{let l=n(o,a);r.has(l)||r.set(l,[]),r.get(l).push(o)});let s=Array.from(r.entries());return i&&s.sort(([o],[a])=>{if(typeof i=="function")return i(o,a);if(Array.isArray(i)){let l=i.indexOf(o),c=i.indexOf(a);return l===-1?1:c===-1?-1:l-c}return i==="asc"?o.localeCompare(a):i==="desc"?a.localeCompare(o):0}),s}),$(this,"getNextValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.min(s+i,this.size-1):s+i;s<=this.size&&this.getItemDisabled(this.at(s));)s++;return this.getItemValue(this.at(s))}),$(this,"getPreviousValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.max(s-i,0):s-i;s>=0&&this.getItemDisabled(this.at(s));)s--;return this.getItemValue(this.at(s))}),$(this,"indexOf",n=>{var i;if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(r=>this.getItemValue(r)===n);if(!this.indexMap){this.indexMap=new Map;let r=0,s=this.group();for(let[,o]of s)for(let a of o){let l=this.getItemValue(a);l!=null&&this.indexMap.set(l,r),r++}}return(i=this.indexMap.get(n))!=null?i:-1}),$(this,"getByText",(n,i)=>{let r=i!=null?this.indexOf(i):-1,s=n.length===1;for(let o=0;o<this.items.length;o++){let a=this.items[(r+o+1)%this.items.length];if(!(s&&this.getItemValue(a)===i)&&!this.getItemDisabled(a)&&op(this.stringifyItem(a),n))return a}}),$(this,"search",(n,i)=>{let{state:r,currentValue:s,timeout:o=350}=i,a=r.keysSoFar+n,c=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=this.getByText(c,s),h=this.getItemValue(u);function p(){clearTimeout(r.timer),r.timer=-1}function d(g){r.keysSoFar=g,p(),g!==""&&(r.timer=+setTimeout(()=>{d(""),p()},o))}return d(a),h}),$(this,"update",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy([...this.items.slice(0,r),i,...this.items.slice(r+1)])}),$(this,"upsert",(n,i,r="append")=>{let s=this.indexOf(n);return s===-1?(r==="append"?this.append:this.prepend)(i):this.copy([...this.items.slice(0,s),i,...this.items.slice(s+1)])}),$(this,"insert",(n,...i)=>this.copy(wi(this.items,n,...i))),$(this,"insertBefore",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(wi(this.items,r,...i))}),$(this,"insertAfter",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(wi(this.items,r+1,...i))}),$(this,"prepend",(...n)=>this.copy(wi(this.items,0,...n))),$(this,"append",(...n)=>this.copy(wi(this.items,this.items.length,...n))),$(this,"filter",n=>{let i=this.items.filter((r,s)=>n(this.stringifyItem(r),s,r));return this.copy(i)}),$(this,"remove",(...n)=>{let i=n.map(r=>typeof r=="string"?r:this.getItemValue(r));return this.copy(this.items.filter(r=>{let s=this.getItemValue(r);return s==null?!1:!i.includes(s)}))}),$(this,"move",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy(xr(this.items,[r],i))}),$(this,"moveBefore",(n,...i)=>{let r=this.items.findIndex(o=>this.getItemValue(o)===n);if(r===-1)return this;let s=i.map(o=>this.items.findIndex(a=>this.getItemValue(a)===o)).sort((o,a)=>o-a);return this.copy(xr(this.items,s,r))}),$(this,"moveAfter",(n,...i)=>{let r=this.items.findIndex(o=>this.getItemValue(o)===n);if(r===-1)return this;let s=i.map(o=>this.items.findIndex(a=>this.getItemValue(a)===o)).sort((o,a)=>o-a);return this.copy(xr(this.items,s,r+1))}),$(this,"reorder",(n,i)=>this.copy(xr(this.items,[n],i))),$(this,"compareValue",(n,i)=>{let r=this.indexOf(n),s=this.indexOf(i);return r<s?-1:r>s?1:0}),$(this,"range",(n,i)=>{let r=[],s=n;for(;s!=null;){if(this.find(s)&&r.push(s),s===i)return r;s=this.getNextValue(s)}return[]}),$(this,"getValueRange",(n,i)=>n&&i?this.compareValue(n,i)<=0?this.range(n,i):this.range(i,n):[]),$(this,"toString",()=>{let n="";for(let i of this.items){let r=this.getItemValue(i),s=this.stringifyItem(i),o=this.getItemDisabled(i),a=[r,s,o].filter(Boolean).join(":");n+=a+","}return n}),$(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*Ea(this.items)}},op=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase()));io=class _l{constructor(t){this.options=t,$(this,"rootNode"),$(this,"isEqual",n=>he(this.rootNode,n.rootNode)),$(this,"getNodeChildren",n=>{var i,r,s,o;return(o=(s=(r=(i=this.options).nodeToChildren)==null?void 0:r.call(i,n))!=null?s:jn.nodeToChildren(n))!=null?o:[]}),$(this,"resolveIndexPath",n=>typeof n=="string"?this.getIndexPath(n):n),$(this,"resolveNode",n=>{let i=this.resolveIndexPath(n);return i?this.at(i):void 0}),$(this,"getNodeChildrenCount",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToChildrenCount)==null?void 0:r.call(i,n))!=null?s:jn.nodeToChildrenCount(n)}),$(this,"getNodeValue",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToValue)==null?void 0:r.call(i,n))!=null?s:jn.nodeToValue(n)}),$(this,"getNodeDisabled",n=>{var i,r,s;return(s=(r=(i=this.options).isNodeDisabled)==null?void 0:r.call(i,n))!=null?s:jn.isNodeDisabled(n)}),$(this,"stringify",n=>{let i=this.findNode(n);return i?this.stringifyNode(i):null}),$(this,"stringifyNode",n=>{var i,r,s;return(s=(r=(i=this.options).nodeToString)==null?void 0:r.call(i,n))!=null?s:jn.nodeToString(n)}),$(this,"getFirstNode",(n=this.rootNode,i={})=>{let r;return $e(n,{getChildren:this.getNodeChildren,onEnter:(s,o)=>{var a;if(!this.isSameNode(s,n)){if((a=i.skip)!=null&&a.call(i,{value:this.getNodeValue(s),node:s,indexPath:o}))return"skip";if(!r&&o.length>0&&!this.getNodeDisabled(s))return r=s,"stop"}}}),r}),$(this,"getLastNode",(n=this.rootNode,i={})=>{let r;return $e(n,{getChildren:this.getNodeChildren,onEnter:(s,o)=>{var a;if(!this.isSameNode(s,n)){if((a=i.skip)!=null&&a.call(i,{value:this.getNodeValue(s),node:s,indexPath:o}))return"skip";o.length>0&&!this.getNodeDisabled(s)&&(r=s)}}}),r}),$(this,"at",n=>Dl(this.rootNode,n,{getChildren:this.getNodeChildren})),$(this,"findNode",(n,i=this.rootNode)=>cp(i,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===n})),$(this,"findNodes",(n,i=this.rootNode)=>{let r=new Set(n.filter(s=>s!=null));return up(i,{getChildren:this.getNodeChildren,predicate:s=>r.has(this.getNodeValue(s))})}),$(this,"sort",n=>n.reduce((i,r)=>{let s=this.getIndexPath(r);return s&&i.push({value:r,indexPath:s}),i},[]).sort((i,r)=>Ll(i.indexPath,r.indexPath)).map(({value:i})=>i)),$(this,"getIndexPath",n=>Nl(this.rootNode,{getChildren:this.getNodeChildren,predicate:i=>this.getNodeValue(i)===n})),$(this,"getValue",n=>{let i=this.at(n);return i?this.getNodeValue(i):void 0}),$(this,"getValuePath",n=>{if(!n)return[];let i=[],r=[...n];for(;r.length>0;){let s=this.at(r);s&&i.unshift(this.getNodeValue(s)),r.pop()}return i}),$(this,"getDepth",n=>{var r;let i=Nl(this.rootNode,{getChildren:this.getNodeChildren,predicate:s=>this.getNodeValue(s)===n});return(r=i==null?void 0:i.length)!=null?r:0}),$(this,"isSameNode",(n,i)=>this.getNodeValue(n)===this.getNodeValue(i)),$(this,"isRootNode",n=>this.isSameNode(n,this.rootNode)),$(this,"contains",(n,i)=>!n||!i?!1:i.slice(0,n.length).every((r,s)=>n[s]===i[s])),$(this,"getNextNode",(n,i={})=>{let r=!1,s;return $e(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(o,a)=>{var c;if(this.isRootNode(o))return;let l=this.getNodeValue(o);if((c=i.skip)!=null&&c.call(i,{value:l,node:o,indexPath:a}))return l===n&&(r=!0),"skip";if(r&&!this.getNodeDisabled(o))return s=o,"stop";l===n&&(r=!0)}}),s}),$(this,"getPreviousNode",(n,i={})=>{let r,s=!1;return $e(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(o,a)=>{var c;if(this.isRootNode(o))return;let l=this.getNodeValue(o);if((c=i.skip)!=null&&c.call(i,{value:l,node:o,indexPath:a}))return"skip";if(l===n)return s=!0,"stop";this.getNodeDisabled(o)||(r=o)}}),s?r:void 0}),$(this,"getParentNodes",n=>{var s;let i=(s=this.resolveIndexPath(n))==null?void 0:s.slice();if(!i)return[];let r=[];for(;i.length>0;){i.pop();let o=this.at(i);o&&!this.isRootNode(o)&&r.unshift(o)}return r}),$(this,"getDescendantNodes",(n,i)=>{let r=this.resolveNode(n);if(!r)return[];let s=[];return $e(r,{getChildren:this.getNodeChildren,onEnter:(o,a)=>{a.length!==0&&(!(i!=null&&i.withBranch)&&this.isBranchNode(o)||s.push(o))}}),s}),$(this,"getDescendantValues",(n,i)=>this.getDescendantNodes(n,i).map(s=>this.getNodeValue(s))),$(this,"getParentIndexPath",n=>n.slice(0,-1)),$(this,"getParentNode",n=>{let i=this.resolveIndexPath(n);return i?this.at(this.getParentIndexPath(i)):void 0}),$(this,"visit",n=>{let s=n,{skip:i}=s,r=ze(s,["skip"]);$e(this.rootNode,y(m({},r),{getChildren:this.getNodeChildren,onEnter:(o,a)=>{var l;if(!this.isRootNode(o))return i!=null&&i({value:this.getNodeValue(o),node:o,indexPath:a})?"skip":(l=r.onEnter)==null?void 0:l.call(r,o,a)}}))}),$(this,"getPreviousSibling",n=>{let i=this.getParentNode(n);if(!i)return;let r=this.getNodeChildren(i),s=n[n.length-1];for(;--s>=0;){let o=r[s];if(!this.getNodeDisabled(o))return o}}),$(this,"getNextSibling",n=>{let i=this.getParentNode(n);if(!i)return;let r=this.getNodeChildren(i),s=n[n.length-1];for(;++s<r.length;){let o=r[s];if(!this.getNodeDisabled(o))return o}}),$(this,"getSiblingNodes",n=>{let i=this.getParentNode(n);return i?this.getNodeChildren(i):[]}),$(this,"getValues",(n=this.rootNode)=>hp(n,{getChildren:this.getNodeChildren,transform:r=>[this.getNodeValue(r)]}).slice(1)),$(this,"isValidDepth",(n,i)=>i==null?!0:typeof i=="function"?i(n.length):n.length===i),$(this,"isBranchNode",n=>this.getNodeChildren(n).length>0||this.getNodeChildrenCount(n)!=null),$(this,"getBranchValues",(n=this.rootNode,i={})=>{let r=[];return $e(n,{getChildren:this.getNodeChildren,onEnter:(s,o)=>{var l;if(o.length===0)return;let a=this.getNodeValue(s);if((l=i.skip)!=null&&l.call(i,{value:a,node:s,indexPath:o}))return"skip";this.isBranchNode(s)&&this.isValidDepth(o,i.depth)&&r.push(this.getNodeValue(s))}}),r}),$(this,"flatten",(n=this.rootNode)=>fp(n,{getChildren:this.getNodeChildren})),$(this,"_create",(n,i)=>this.getNodeChildren(n).length>0||i.length>0?y(m({},n),{children:i}):m({},n)),$(this,"_insert",(n,i,r)=>this.copy(bp(n,{at:i,nodes:r,getChildren:this.getNodeChildren,create:this._create}))),$(this,"copy",n=>new _l(y(m({},this.options),{rootNode:n}))),$(this,"_replace",(n,i,r)=>this.copy(Ep(n,{at:i,node:r,getChildren:this.getNodeChildren,create:this._create}))),$(this,"_move",(n,i,r)=>this.copy(Ip(n,{indexPaths:i,to:r,getChildren:this.getNodeChildren,create:this._create}))),$(this,"_remove",(n,i)=>this.copy(Cp(n,{indexPaths:i,getChildren:this.getNodeChildren,create:this._create}))),$(this,"replace",(n,i)=>this._replace(this.rootNode,n,i)),$(this,"remove",n=>this._remove(this.rootNode,n)),$(this,"insertBefore",(n,i)=>this.getParentNode(n)?this._insert(this.rootNode,n,i):void 0),$(this,"insertAfter",(n,i)=>{if(!this.getParentNode(n))return;let s=[...n.slice(0,-1),n[n.length-1]+1];return this._insert(this.rootNode,s,i)}),$(this,"move",(n,i)=>this._move(this.rootNode,n,i)),$(this,"filter",n=>{let i=gp(this.rootNode,{predicate:n,getChildren:this.getNodeChildren,create:this._create});return this.copy(i)}),$(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=t.rootNode}},jn={nodeToValue(e){return typeof e=="string"?e:Yt(e)&&Me(e,"value")?e.value:""},nodeToString(e){return typeof e=="string"?e:Yt(e)&&Me(e,"label")?e.label:jn.nodeToValue(e)},isNodeDisabled(e){return Yt(e)&&Me(e,"disabled")?!!e.disabled:!1},nodeToChildren(e){return e.children},nodeToChildrenCount(e){if(Yt(e)&&Me(e,"childrenCount"))return e.childrenCount}}});function so(e,t,n){return _e(e,jt(t,n))}function At(e,t){return typeof e=="function"?e(t):e}function Rt(e){return e.split("-")[0]}function zn(e){return e.split("-")[1]}function lo(e){return e==="x"?"y":"x"}function co(e){return e==="y"?"height":"width"}function gt(e){return Pp.has(Rt(e))?"y":"x"}function uo(e){return lo(gt(e))}function wp(e,t,n){n===void 0&&(n=!1);let i=zn(e),r=uo(e),s=co(r),o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Lr(o)),[o,Lr(o)]}function Vp(e){let t=Lr(e);return[oo(e),t,oo(t)]}function oo(e){return e.replace(/start|end/g,t=>Sp[t])}function Np(e,t,n){switch(e){case"top":case"bottom":return n?t?Bl:Hl:t?Hl:Bl;case"left":case"right":return t?xp:kp;default:return[]}}function Ap(e,t,n,i){let r=zn(e),s=Np(Rt(e),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),t&&(s=s.concat(s.map(oo)))),s}function Lr(e){return e.replace(/left|right|bottom|top/g,t=>Op[t])}function Rp(e){return m({top:0,right:0,bottom:0,left:0},e)}function Zl(e){return typeof e!="number"?Rp(e):{top:e,right:e,bottom:e,left:e}}function Fr(e){let{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function Gl(e,t,n){let{reference:i,floating:r}=e,s=gt(t),o=uo(t),a=co(o),l=Rt(t),c=s==="y",u=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2,d;switch(l){case"top":d={x:u,y:i.y-r.height};break;case"bottom":d={x:u,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:h};break;case"left":d={x:i.x-r.width,y:h};break;default:d={x:i.x,y:i.y}}switch(zn(t)){case"start":d[o]-=p*(n&&c?-1:1);break;case"end":d[o]+=p*(n&&c?-1:1);break}return d}function Dp(e,t){return Ee(this,null,function*(){var n;t===void 0&&(t={});let{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:d=0}=At(t,e),g=Zl(d),b=a[p?h==="floating"?"reference":"floating":h],V=Fr(yield s.getClippingRect({element:(n=yield s.isElement==null?void 0:s.isElement(b))==null||n?b:b.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),S=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,E=yield s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating),f=(yield s.isElement==null?void 0:s.isElement(E))?(yield s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=Fr(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:l}):S);return{top:(V.top-C.top+g.top)/f.y,bottom:(C.bottom-V.bottom+g.bottom)/f.y,left:(V.left-C.left+g.left)/f.x,right:(C.right-V.right+g.right)/f.x}})}function Ul(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ql(e){return Tp.some(t=>e[t]>=0)}function _p(e,t){return Ee(this,null,function*(){let{placement:n,platform:i,elements:r}=e,s=yield i.isRTL==null?void 0:i.isRTL(r.floating),o=Rt(n),a=zn(n),l=gt(n)==="y",c=zl.has(o)?-1:1,u=s&&l?-1:1,h=At(t,e),{mainAxis:p,crossAxis:d,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(d=a==="end"?g*-1:g),l?{x:d*u,y:p*c}:{x:p*c,y:d*u}})}function Mr(){return typeof window!="undefined"}function Qn(e){return Ql(e)?(e.nodeName||"").toLowerCase():"#document"}function He(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mt(e){var t;return(t=(Ql(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ql(e){return Mr()?e instanceof Node||e instanceof He(e).Node:!1}function st(e){return Mr()?e instanceof Element||e instanceof He(e).Element:!1}function pt(e){return Mr()?e instanceof HTMLElement||e instanceof He(e).HTMLElement:!1}function Wl(e){return!Mr()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof He(e).ShadowRoot}function ki(e){let{overflow:t,overflowX:n,overflowY:i,display:r}=ot(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!qp.has(r)}function Kp(e){return Wp.has(Qn(e))}function $r(e){return Yp.some(t=>{try{return e.matches(t)}catch(n){return!1}})}function ho(e){let t=go(),n=st(e)?ot(e):e;return jp.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Xp.some(i=>(n.willChange||"").includes(i))||Jp.some(i=>(n.contain||"").includes(i))}function Zp(e){let t=Xt(e);for(;pt(t)&&!Zn(t);){if(ho(t))return t;if($r(t))return null;t=Xt(t)}return null}function go(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zn(e){return zp.has(Qn(e))}function ot(e){return He(e).getComputedStyle(e)}function _r(e){return st(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xt(e){if(Qn(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Wl(e)&&e.host||mt(e);return Wl(t)?t.host:t}function ec(e){let t=Xt(e);return Zn(t)?e.ownerDocument?e.ownerDocument.body:e.body:pt(t)&&ki(t)?t:ec(t)}function xi(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);let r=ec(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),o=He(r);if(s){let a=ao(o);return t.concat(o,o.visualViewport||[],ki(r)?r:[],a&&n?xi(a):[])}return t.concat(r,xi(r,[],n))}function ao(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tc(e){let t=ot(e),n=parseFloat(t.width)||0,i=parseFloat(t.height)||0,r=pt(e),s=r?e.offsetWidth:n,o=r?e.offsetHeight:i,a=Dr(n)!==s||Dr(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function fo(e){return st(e)?e:e.contextElement}function Jn(e){let t=fo(e);if(!pt(t))return ft(1);let n=t.getBoundingClientRect(),{width:i,height:r,$:s}=tc(t),o=(s?Dr(n.width):n.width)/i,a=(s?Dr(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}function nc(e){let t=He(e);return!go()||!t.visualViewport?Qp:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function em(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==He(e)?!1:t}function hn(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);let r=e.getBoundingClientRect(),s=fo(e),o=ft(1);t&&(i?st(i)&&(o=Jn(i)):o=Jn(e));let a=em(s,n,i)?nc(s):ft(0),l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(s){let p=He(s),d=i&&st(i)?He(i):i,g=p,v=ao(g);for(;v&&i&&d!==g;){let b=Jn(v),V=v.getBoundingClientRect(),S=ot(v),E=V.left+(v.clientLeft+parseFloat(S.paddingLeft))*b.x,f=V.top+(v.clientTop+parseFloat(S.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,h*=b.y,l+=E,c+=f,g=He(v),v=ao(g)}}return Fr({width:u,height:h,x:l,y:c})}function Hr(e,t){let n=_r(e).scrollLeft;return t?t.left+n:hn(mt(e)).left+n}function ic(e,t){let n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Hr(e,n),r=n.top+t.scrollTop;return{x:i,y:r}}function tm(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e,s=r==="fixed",o=mt(i),a=t?$r(t.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ft(1),u=ft(0),h=pt(i);if((h||!h&&!s)&&((Qn(i)!=="body"||ki(o))&&(l=_r(i)),pt(i))){let d=hn(i);c=Jn(i),u.x=d.x+i.clientLeft,u.y=d.y+i.clientTop}let p=o&&!h&&!s?ic(o,l):ft(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function nm(e){return Array.from(e.getClientRects())}function im(e){let t=mt(e),n=_r(e),i=e.ownerDocument.body,r=_e(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=_e(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),o=-n.scrollLeft+Hr(e),a=-n.scrollTop;return ot(i).direction==="rtl"&&(o+=_e(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function rm(e,t){let n=He(e),i=mt(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;let u=go();(!u||u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}let c=Hr(i);if(c<=0){let u=i.ownerDocument,h=u.body,p=getComputedStyle(h),d=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(i.clientWidth-h.clientWidth-d);g<=Kl&&(s-=g)}else c<=Kl&&(s+=c);return{width:s,height:o,x:a,y:l}}function om(e,t){let n=hn(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=pt(e)?Jn(e):ft(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function Yl(e,t,n){let i;if(t==="viewport")i=rm(e,n);else if(t==="document")i=im(mt(e));else if(st(t))i=om(t,n);else{let r=nc(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Fr(i)}function rc(e,t){let n=Xt(e);return n===t||!st(n)||Zn(n)?!1:ot(n).position==="fixed"||rc(n,t)}function am(e,t){let n=t.get(e);if(n)return n;let i=xi(e,[],!1).filter(a=>st(a)&&Qn(a)!=="body"),r=null,s=ot(e).position==="fixed",o=s?Xt(e):e;for(;st(o)&&!Zn(o);){let a=ot(o),l=ho(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&sm.has(r.position)||ki(o)&&!l&&rc(e,o))?i=i.filter(u=>u!==o):r=a,o=Xt(o)}return t.set(e,i),i}function lm(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e,o=[...n==="clippingAncestors"?$r(t)?[]:am(t,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{let h=Yl(t,u,r);return c.top=_e(h.top,c.top),c.right=jt(h.right,c.right),c.bottom=jt(h.bottom,c.bottom),c.left=_e(h.left,c.left),c},Yl(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cm(e){let{width:t,height:n}=tc(e);return{width:t,height:n}}function um(e,t,n){let i=pt(t),r=mt(t),s=n==="fixed",o=hn(e,!0,s,t),a={scrollLeft:0,scrollTop:0},l=ft(0);function c(){l.x=Hr(r)}if(i||!i&&!s)if((Qn(t)!=="body"||ki(r))&&(a=_r(t)),i){let d=hn(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else r&&c();s&&!i&&r&&c();let u=r&&!i&&!s?ic(r,a):ft(0),h=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function ro(e){return ot(e).position==="static"}function jl(e,t){if(!pt(e)||ot(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mt(e)===n&&(n=n.ownerDocument.body),n}function sc(e,t){let n=He(e);if($r(e))return n;if(!pt(e)){let r=Xt(e);for(;r&&!Zn(r);){if(st(r)&&!ro(r))return r;r=Xt(r)}return n}let i=jl(e,t);for(;i&&Kp(i)&&ro(i);)i=jl(i,t);return i&&Zn(i)&&ro(i)&&!ho(i)?n:i||Zp(e)||n}function hm(e){return ot(e).direction==="rtl"}function oc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fm(e,t){let n=null,i,r=mt(e);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();let c=e.getBoundingClientRect(),{left:u,top:h,width:p,height:d}=c;if(a||t(),!p||!d)return;let g=Rr(h),v=Rr(r.clientWidth-(u+p)),b=Rr(r.clientHeight-(h+d)),V=Rr(u),E={rootMargin:-g+"px "+-v+"px "+-b+"px "+-V+"px",threshold:_e(0,jt(1,l))||1},f=!0;function C(I){let P=I[0].intersectionRatio;if(P!==l){if(!f)return o();P?o(!1,P):i=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!oc(c,e.getBoundingClientRect())&&o(),f=!1}try{n=new IntersectionObserver(C,y(m({},E),{root:r.ownerDocument}))}catch(I){n=new IntersectionObserver(C,E)}n.observe(e)}return o(!0),s}function pm(e,t,n,i){i===void 0&&(i={});let{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=fo(e),u=r||s?[...c?xi(c):[],...xi(t)]:[];u.forEach(V=>{r&&V.addEventListener("scroll",n,{passive:!0}),s&&V.addEventListener("resize",n)});let h=c&&a?fm(c,n):null,p=-1,d=null;o&&(d=new ResizeObserver(V=>{let[S]=V;S&&S.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=d)==null||E.observe(t)})),n()}),c&&!l&&d.observe(c),d.observe(t));let g,v=l?hn(e):null;l&&b();function b(){let V=hn(e);v&&!oc(v,V)&&n(),v=V,g=requestAnimationFrame(b)}return n(),()=>{var V;u.forEach(S=>{r&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),h==null||h(),(V=d)==null||V.disconnect(),d=null,l&&cancelAnimationFrame(g)}}function Xl(e=0,t=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,i);let r={x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:t+i,left:e};return y(m({},r),{toJSON:()=>r})}function Om(e){if(!e)return Xl();let{x:t,y:n,width:i,height:r}=e;return Xl(t,n,i,r)}function Sm(e,t){return{contextElement:ce(e)?e:e==null?void 0:e.contextElement,getBoundingClientRect:()=>{let n=e,i=t==null?void 0:t(n);return i||!n?Om(i):n.getBoundingClientRect()}}}function wm(e,t){return{name:"transformOrigin",fn(n){var w,N,R,L,M;let{elements:i,middlewareData:r,placement:s,rects:o,y:a}=n,l=s.split("-")[0],c=Pm(l),u=((w=r.arrow)==null?void 0:w.x)||0,h=((N=r.arrow)==null?void 0:N.y)||0,p=(t==null?void 0:t.clientWidth)||0,d=(t==null?void 0:t.clientHeight)||0,g=u+p/2,v=h+d/2,b=Math.abs(((R=r.shift)==null?void 0:R.y)||0),V=o.reference.height/2,S=d/2,E=(M=(L=e.offset)==null?void 0:L.mainAxis)!=null?M:e.gutter,f=typeof E=="number"?E+S:E!=null?E:S,C=b>f,I={top:`${g}px calc(100% + ${f}px)`,bottom:`${g}px ${-f}px`,left:`calc(100% + ${f}px) ${v}px`,right:`${-f}px ${v}px`}[l],P=`${g}px ${o.reference.y+V-a}px`,A=!!e.overlap&&c==="y"&&C;return i.floating.style.setProperty(Nt.transformOrigin.variable,A?P:I),{data:{transformOrigin:A?P:I}}}}}function km(e){let[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function ac(e){return e.split("-")[0]}function Jl(e,t){let n=e.devicePixelRatio||1;return Math.round(t*n)/n}function po(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function Am(e,t,n){let i=e||t.createElement("div");return Cm({element:i,padding:n.arrowPadding})}function Rm(e,t){var n;if(!al((n=t.offset)!=null?n:t.gutter))return mm(({placement:i})=>{var u,h,p,d;let r=((e==null?void 0:e.clientHeight)||0)/2,s=(h=(u=t.offset)==null?void 0:u.mainAxis)!=null?h:t.gutter,o=typeof s=="number"?s+r:s!=null?s:r,{hasAlign:a}=km(i),l=a?void 0:t.shift,c=(d=(p=t.offset)==null?void 0:p.crossAxis)!=null?d:l;return Gn({crossAxis:c,mainAxis:o,alignmentAxis:t.shift})})}function Dm(e){if(!e.flip)return;let t=po(e.boundary);return ym(y(m({},t?{boundary:t}:void 0),{padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip}))}function Lm(e){if(!e.slide&&!e.overlap)return;let t=po(e.boundary);return vm(y(m({},t?{boundary:t}:void 0),{mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Im()}))}function Fm(e){return bm({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:i,availableWidth:r}){let s=t.floating,o=Math.round(n.reference.width),a=Math.round(n.reference.height);r=Math.floor(r),i=Math.floor(i),s.style.setProperty("--reference-width",`${o}px`),s.style.setProperty("--reference-height",`${a}px`),s.style.setProperty("--available-width",`${r}px`),s.style.setProperty("--available-height",`${i}px`)}})}function Mm(e){var t;if(e.hideWhenDetached)return Em({strategy:"referenceHidden",boundary:(t=po(e.boundary))!=null?t:"clippingAncestors"})}function $m(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function _m(e,t,n={}){var b,V;let i=(V=(b=n.getAnchorElement)==null?void 0:b.call(n))!=null?V:e,r=Sm(i,n.getAnchorRect);if(!t||!r)return;let s=Object.assign({},Nm,n),o=t.querySelector("[data-part=arrow]"),a=[Rm(o,s),Dm(s),Lm(s),Am(o,t.ownerDocument,s),xm(o),wm({gutter:s.gutter,offset:s.offset,overlap:s.overlap},o),Fm(s),Mm(s),Vm],{placement:l,strategy:c,onComplete:u,onPositioned:h}=s,p=()=>Ee(null,null,function*(){var P;if(!r||!t)return;let S=yield Tm(r,t,{placement:l,middleware:a,strategy:c});u==null||u(S),h==null||h({placed:!0});let E=oe(t),f=Jl(E,S.x),C=Jl(E,S.y);t.style.setProperty("--x",`${f}px`),t.style.setProperty("--y",`${C}px`),s.hideWhenDetached&&(((P=S.middlewareData.hide)==null?void 0:P.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));let I=t.firstElementChild;if(I){let A=qt(I);t.style.setProperty("--z-index",A.zIndex)}}),d=()=>Ee(null,null,function*(){n.updatePosition?(yield n.updatePosition({updatePosition:p,floatingElement:t}),h==null||h({placed:!0})):yield p()}),g=$m(s.listeners),v=s.listeners?pm(r,t,d,g):cl;return d(),()=>{v==null||v(),h==null||h({placed:!1})}}function at(e,t,n={}){let a=n,{defer:i}=a,r=ze(a,["defer"]),s=i?H:l=>l(),o=[];return o.push(s(()=>{let l=typeof e=="function"?e():e,c=typeof t=="function"?t():t;o.push(_m(l,c,r))})),()=>{o.forEach(l=>l==null?void 0:l())}}function Jt(e={}){let{placement:t,sameWidth:n,fitViewport:i,strategy:r="absolute"}=e;return{arrow:{position:"absolute",width:Nt.arrowSize.reference,height:Nt.arrowSize.reference,[Nt.arrowSizeHalf.variable]:`calc(${Nt.arrowSize.reference} / 2)`,[Nt.arrowOffset.variable]:`calc(${Nt.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?Hm[t.split("-")[0]]:void 0,background:Nt.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:r,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Tp,jt,_e,Dr,Rr,ft,Op,Sp,Pp,Hl,Bl,xp,kp,Lp,Fp,Mp,$p,zl,Hp,Bp,Gp,Up,qp,Wp,Yp,jp,Xp,Jp,zp,Qp,Kl,sm,dm,gm,mm,vm,ym,bm,Em,Cm,Im,Tm,Vi,Nt,Pm,Vm,xm,Nm,Hm,Ni=fe(()=>{"use strict";me();Tp=["top","right","bottom","left"],jt=Math.min,_e=Math.max,Dr=Math.round,Rr=Math.floor,ft=e=>({x:e,y:e}),Op={left:"right",right:"left",bottom:"top",top:"bottom"},Sp={start:"end",end:"start"};Pp=new Set(["top","bottom"]);Hl=["left","right"],Bl=["right","left"],xp=["top","bottom"],kp=["bottom","top"];Lp=(e,t,n)=>Ee(null,null,function*(){let{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=yield o.isRTL==null?void 0:o.isRTL(t),c=yield o.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:h}=Gl(c,i,l),p=i,d={},g=0;for(let b=0;b<a.length;b++){var v;let{name:V,fn:S}=a[b],{x:E,y:f,data:C,reset:I}=yield S({x:u,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:d,rects:c,platform:y(m({},o),{detectOverflow:(v=o.detectOverflow)!=null?v:Dp}),elements:{reference:e,floating:t}});u=E!=null?E:u,h=f!=null?f:h,d=y(m({},d),{[V]:m(m({},d[V]),C)}),I&&g<=50&&(g++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(c=I.rects===!0?yield o.getElementRects({reference:e,floating:t,strategy:r}):I.rects),{x:u,y:h}=Gl(c,p,l)),b=-1)}return{x:u,y:h,placement:p,strategy:r,middlewareData:d}}),Fp=e=>({name:"arrow",options:e,fn(n){return Ee(this,null,function*(){let{x:i,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=n,{element:u,padding:h=0}=At(e,n)||{};if(u==null)return{};let p=Zl(h),d={x:i,y:r},g=uo(s),v=co(g),b=yield a.getDimensions(u),V=g==="y",S=V?"top":"left",E=V?"bottom":"right",f=V?"clientHeight":"clientWidth",C=o.reference[v]+o.reference[g]-d[g]-o.floating[v],I=d[g]-o.reference[g],P=yield a.getOffsetParent==null?void 0:a.getOffsetParent(u),A=P?P[f]:0;(!A||!(yield a.isElement==null?void 0:a.isElement(P)))&&(A=l.floating[f]||o.floating[v]);let w=C/2-I/2,N=A/2-b[v]/2-1,R=jt(p[S],N),L=jt(p[E],N),M=R,j=A-b[v]-L,q=A/2-b[v]/2+w,Z=so(M,q,j),W=!c.arrow&&zn(s)!=null&&q!==Z&&o.reference[v]/2-(q<M?R:L)-b[v]/2<0,ge=W?q<M?q-M:q-j:0;return{[g]:d[g]+ge,data:m({[g]:Z,centerOffset:q-Z-ge},W&&{alignmentOffset:ge}),reset:W}})}}),Mp=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return Ee(this,null,function*(){var i,r;let{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=n,q=At(e,n),{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:d,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0}=q,V=ze(q,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=o.arrow)!=null&&i.alignmentOffset)return{};let S=Rt(s),E=gt(l),f=Rt(l)===l,C=yield c.isRTL==null?void 0:c.isRTL(u.floating),I=d||(f||!b?[Lr(l)]:Vp(l)),P=v!=="none";!d&&P&&I.push(...Ap(l,b,v,C));let A=[l,...I],w=yield c.detectOverflow(n,V),N=[],R=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&N.push(w[S]),p){let Z=wp(s,a,C);N.push(w[Z[0]],w[Z[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every(Z=>Z<=0)){var L,M;let Z=(((L=o.flip)==null?void 0:L.index)||0)+1,W=A[Z];if(W&&(!(p==="alignment"?E!==gt(W):!1)||R.every(X=>gt(X.placement)===E?X.overflows[0]>0:!0)))return{data:{index:Z,overflows:R},reset:{placement:W}};let ge=(M=R.filter(de=>de.overflows[0]<=0).sort((de,X)=>de.overflows[1]-X.overflows[1])[0])==null?void 0:M.placement;if(!ge)switch(g){case"bestFit":{var j;let de=(j=R.filter(X=>{if(P){let ue=gt(X.placement);return ue===E||ue==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ue=>ue>0).reduce((ue,qe)=>ue+qe,0)]).sort((X,ue)=>X[1]-ue[1])[0])==null?void 0:j[0];de&&(ge=de);break}case"initialPlacement":ge=l;break}if(s!==ge)return{reset:{placement:ge}}}return{}})}}};$p=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return Ee(this,null,function*(){let{rects:i,platform:r}=n,a=At(e,n),{strategy:s="referenceHidden"}=a,o=ze(a,["strategy"]);switch(s){case"referenceHidden":{let l=yield r.detectOverflow(n,y(m({},o),{elementContext:"reference"})),c=Ul(l,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ql(c)}}}case"escaped":{let l=yield r.detectOverflow(n,y(m({},o),{altBoundary:!0})),c=Ul(l,i.floating);return{data:{escapedOffsets:c,escaped:ql(c)}}}default:return{}}})}}},zl=new Set(["left","top"]);Hp=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return Ee(this,null,function*(){var i,r;let{x:s,y:o,placement:a,middlewareData:l}=n,c=yield _p(n,e);return a===((i=l.offset)==null?void 0:i.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:y(m({},c),{placement:a})}})}}},Bp=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return Ee(this,null,function*(){let{x:i,y:r,placement:s,platform:o}=n,S=At(e,n),{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:f,y:C}=E;return{x:f,y:C}}}}=S,u=ze(S,["mainAxis","crossAxis","limiter"]),h={x:i,y:r},p=yield o.detectOverflow(n,u),d=gt(Rt(s)),g=lo(d),v=h[g],b=h[d];if(a){let E=g==="y"?"top":"left",f=g==="y"?"bottom":"right",C=v+p[E],I=v-p[f];v=so(C,v,I)}if(l){let E=d==="y"?"top":"left",f=d==="y"?"bottom":"right",C=b+p[E],I=b-p[f];b=so(C,b,I)}let V=c.fn(y(m({},n),{[g]:v,[d]:b}));return y(m({},V),{data:{x:V.x-i,y:V.y-r,enabled:{[g]:a,[d]:l}}})})}}},Gp=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:i,placement:r,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=At(e,t),u={x:n,y:i},h=gt(r),p=lo(h),d=u[p],g=u[h],v=At(a,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:m({mainAxis:0,crossAxis:0},v);if(l){let E=p==="y"?"height":"width",f=s.reference[p]-s.floating[E]+b.mainAxis,C=s.reference[p]+s.reference[E]-b.mainAxis;d<f?d=f:d>C&&(d=C)}if(c){var V,S;let E=p==="y"?"width":"height",f=zl.has(Rt(r)),C=s.reference[h]-s.floating[E]+(f&&((V=o.offset)==null?void 0:V[h])||0)+(f?0:b.crossAxis),I=s.reference[h]+s.reference[E]+(f?0:((S=o.offset)==null?void 0:S[h])||0)-(f?b.crossAxis:0);g<C?g=C:g>I&&(g=I)}return{[p]:d,[h]:g}}}},Up=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return Ee(this,null,function*(){var i,r;let{placement:s,rects:o,platform:a,elements:l}=n,R=At(e,n),{apply:c=()=>{}}=R,u=ze(R,["apply"]),h=yield a.detectOverflow(n,u),p=Rt(s),d=zn(s),g=gt(s)==="y",{width:v,height:b}=o.floating,V,S;p==="top"||p==="bottom"?(V=p,S=d===((yield a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,V=d==="end"?"top":"bottom");let E=b-h.top-h.bottom,f=v-h.left-h.right,C=jt(b-h[V],E),I=jt(v-h[S],f),P=!n.middlewareData.shift,A=C,w=I;if((i=n.middlewareData.shift)!=null&&i.enabled.x&&(w=f),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(A=E),P&&!d){let L=_e(h.left,0),M=_e(h.right,0),j=_e(h.top,0),q=_e(h.bottom,0);g?w=v-2*(L!==0||M!==0?L+M:_e(h.left,h.right)):A=b-2*(j!==0||q!==0?j+q:_e(h.top,h.bottom))}yield c(y(m({},n),{availableWidth:w,availableHeight:A}));let N=yield a.getDimensions(l.floating);return v!==N.width||b!==N.height?{reset:{rects:!0}}:{}})}}};qp=new Set(["inline","contents"]);Wp=new Set(["table","td","th"]);Yp=[":popover-open",":modal"];jp=["transform","translate","scale","rotate","perspective"],Xp=["transform","translate","scale","rotate","perspective","filter"],Jp=["paint","layout","strict","content"];zp=new Set(["html","body","#document"]);Qp=ft(0);Kl=25;sm=new Set(["absolute","fixed"]);dm=function(e){return Ee(this,null,function*(){let t=this.getOffsetParent||sc,n=this.getDimensions,i=yield n(e.floating);return{reference:um(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};gm={convertOffsetParentRelativeRectToViewportRelativeRect:tm,getDocumentElement:mt,getClippingRect:lm,getOffsetParent:sc,getElementRects:dm,getClientRects:nm,getDimensions:cm,getScale:Jn,isElement:st,isRTL:hm};mm=Hp,vm=Bp,ym=Mp,bm=Up,Em=$p,Cm=Fp,Im=Gp,Tm=(e,t,n)=>{let i=new Map,r=m({platform:gm},n),s=y(m({},r.platform),{_c:i});return Lp(e,t,y(m({},r),{platform:s}))};Vi=e=>({variable:e,reference:`var(${e})`}),Nt={arrowSize:Vi("--arrow-size"),arrowSizeHalf:Vi("--arrow-size-half"),arrowBg:Vi("--arrow-background"),transformOrigin:Vi("--transform-origin"),arrowOffset:Vi("--arrow-offset")},Pm=e=>e==="top"||e==="bottom"?"y":"x";Vm={name:"rects",fn({rects:e}){return{data:e}}},xm=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};let{x:i,y:r}=n.arrow,s=t.split("-")[0];return Object.assign(e.style,{left:i!=null?`${i}px`:"",top:r!=null?`${r}px`:"",[s]:`calc(100% + ${Nt.arrowOffset.reference})`}),{}}}};Nm={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};Hm={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"}});function Bm(e){let t={each(n){var i;for(let r=0;r<((i=e.frames)==null?void 0:i.length);r+=1){let s=e.frames[r];s&&n(s)}},addEventListener(n,i,r){return t.each(s=>{try{s.document.addEventListener(n,i,r)}catch(o){}}),()=>{try{t.removeEventListener(n,i,r)}catch(s){}}},removeEventListener(n,i,r){t.each(s=>{try{s.document.removeEventListener(n,i,r)}catch(o){}})}};return t}function Gm(e){let t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,i,r)=>{try{t==null||t.addEventListener(n,i,r)}catch(s){}return()=>{try{t==null||t.removeEventListener(n,i,r)}catch(s){}}},removeEventListener:(n,i,r)=>{try{t==null||t.removeEventListener(n,i,r)}catch(s){}}}}function Um(e){for(let t of e)if(ce(t)&&Qe(t))return!0;return!1}function qm(e,t){if(!pc(t)||!e)return!1;let n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Wm(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function uc(e,t){if(!t||!pc(e))return!1;let n=t.scrollHeight>t.clientHeight,i=n&&e.clientX>t.offsetLeft+t.clientWidth,r=t.scrollWidth>t.clientWidth,s=r&&e.clientY>t.offsetTop+t.clientHeight,o={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(r?16:0)},a={x:e.clientX,y:e.clientY};return Wm(o,a)?i||s:!1}function Km(e,t){let{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:o,followControlledElements:a=!0}=t;if(!e)return;let l=we(e),c=oe(e),u=Bm(c),h=Gm(c);function p(E,f){if(!ce(f)||!f.isConnected||pe(e,f)||qm(e,E)||a&&lr(e,f))return!1;let C=l.querySelector(`[aria-controls="${e.id}"]`);if(C){let P=fr(C);if(uc(E,P))return!1}let I=fr(e);return uc(E,I)?!1:!(n!=null&&n(f))}let d=new Set,g=nn(e==null?void 0:e.getRootNode());function v(E){function f(C){var w,N;let I=o&&!Fs()?H:R=>R(),P=C!=null?C:E,A=(N=(w=P==null?void 0:P.composedPath)==null?void 0:w.call(P))!=null?N:[P==null?void 0:P.target];I(()=>{let R=g?A[0]:K(E);if(!(!e||!p(E,R))){if(r||s){let L=Bn(r,s);e.addEventListener(lc,L,{once:!0})}dc(e,lc,{bubbles:!1,cancelable:!0,detail:{originalEvent:P,contextmenu:An(P),focusable:Um(A),target:R}})}})}E.pointerType==="touch"?(d.forEach(C=>C()),d.add(re(l,"click",f,{once:!0})),d.add(h.addEventListener("click",f,{once:!0})),d.add(u.addEventListener("click",f,{once:!0}))):f()}let b=new Set,V=setTimeout(()=>{b.add(re(l,"pointerdown",v,!0)),b.add(h.addEventListener("pointerdown",v,!0)),b.add(u.addEventListener("pointerdown",v,!0))},0);function S(E){(o?H:C=>C())(()=>{var P,A;let C=(A=(P=E==null?void 0:E.composedPath)==null?void 0:P.call(E))!=null?A:[E==null?void 0:E.target],I=g?C[0]:K(E);if(!(!e||!p(E,I))){if(i||s){let w=Bn(i,s);e.addEventListener(cc,w,{once:!0})}dc(e,cc,{bubbles:!1,cancelable:!0,detail:{originalEvent:E,contextmenu:!1,focusable:Qe(I),target:I}})}})}return Fs()||(b.add(re(l,"focusin",S,!0)),b.add(h.addEventListener("focusin",S,!0)),b.add(u.addEventListener("focusin",S,!0))),()=>{clearTimeout(V),d.forEach(E=>E()),b.forEach(E=>E())}}function Ym(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=typeof e=="function"?e():e;r.push(Km(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function dc(e,t,n){let i=e.ownerDocument.defaultView||window,r=new i.CustomEvent(t,n);return e.dispatchEvent(r)}function jm(e,t){let n=i=>{i.key==="Escape"&&(i.isComposing||t==null||t(i))};return re(we(e),"keydown",n,{capture:!0})}function Xm(e,t,n){let i=e.ownerDocument.defaultView||window,r=new i.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(r)}function Jm(e,t,n){e.addEventListener(t,n,{once:!0})}function fc(){Re.layers.forEach(({node:e})=>{e.style.pointerEvents=Re.isBelowPointerBlockingLayer(e)?"none":"auto"})}function Zm(e){e.style.pointerEvents=""}function zm(e,t){let n=we(e),i=[];return Re.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(gc=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(r=>{let[s,o]=el(()=>{let a=r();return ce(a)?a:null},{timeout:1e3});s.then(a=>i.push(cn(a,{pointerEvents:"auto"}))),i.push(o)}),()=>{Re.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=gc,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function Qm(e,t){let{warnOnMissingNode:n=!0}=t;if(n&&!e){wt("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;let{onDismiss:i,onRequestDismiss:r,pointerBlocking:s,exclude:o,debug:a,type:l="dialog"}=t,c={dismiss:i,node:e,type:l,pointerBlocking:s,requestDismiss:r};Re.add(c),fc();function u(v){var V,S;let b=K(v.detail.originalEvent);Re.isBelowPointerBlockingLayer(e)||Re.isInBranch(b)||((V=t.onPointerDownOutside)==null||V.call(t,v),(S=t.onInteractOutside)==null||S.call(t,v),!v.defaultPrevented&&(a&&console.log("onPointerDownOutside:",v.detail.originalEvent),i==null||i()))}function h(v){var V,S;let b=K(v.detail.originalEvent);Re.isInBranch(b)||((V=t.onFocusOutside)==null||V.call(t,v),(S=t.onInteractOutside)==null||S.call(t,v),!v.defaultPrevented&&(a&&console.log("onFocusOutside:",v.detail.originalEvent),i==null||i()))}function p(v){var b;Re.isTopMost(e)&&((b=t.onEscapeKeyDown)==null||b.call(t,v),!v.defaultPrevented&&i&&(v.preventDefault(),i()))}function d(v){var E;if(!e)return!1;let b=typeof o=="function"?o():o,V=Array.isArray(b)?b:[b],S=(E=t.persistentElements)==null?void 0:E.map(f=>f()).filter(ce);return S&&V.push(...S),V.some(f=>pe(f,v))||Re.isInNestedLayer(e,v)}let g=[s?zm(e,t.persistentElements):void 0,jm(e,p),Ym(e,{exclude:d,onFocusOutside:h,onPointerDownOutside:u,defer:t.defer})];return()=>{Re.remove(e),fc(),Zm(e),g.forEach(v=>v==null?void 0:v())}}function vt(e,t){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=Ot(e)?e():e;r.push(Qm(s,t))})),()=>{r.forEach(s=>s==null?void 0:s())}}function mc(e,t={}){let{defer:n}=t,i=n?H:s=>s(),r=[];return r.push(i(()=>{let s=Ot(e)?e():e;if(!s){wt("[@zag-js/dismissable] branch node is `null` or `undefined`");return}Re.addBranch(s),r.push(()=>{Re.removeBranch(s)})})),()=>{r.forEach(s=>s==null?void 0:s())}}var lc,cc,pc,hc,Re,gc,gn=fe(()=>{"use strict";me();lc="pointerdown.outside",cc="focus.outside";pc=e=>"clientY"in e;hc="layer:request-dismiss",Re={layers:[],branches:[],recentlyRemoved:new Set,count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var i;let t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return t<n},isTopMost(e){let t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){let n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(i=>i.type===t)},getParentLayerOfType(e,t){let n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(i=>i.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return!!(this.getNestedLayers(e).some(i=>pe(i.node,t))||this.recentlyRemoved.size>0)},isInBranch(e){return Array.from(this.branches).some(t=>pe(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){let t=this.indexOf(e);t<0||(this.recentlyRemoved.add(e),an(()=>this.recentlyRemoved.delete(e)),t<this.count()-1&&this.getNestedLayers(e).forEach(i=>Re.dismiss(i.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){let t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);let i=this.countNestedLayersOfType(e.node,e.type);i>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${i}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){let n=this.indexOf(e);if(n===-1)return;let i=this.layers[n];Jm(e,hc,r=>{var s;(s=i.requestDismiss)==null||s.call(i,r),r.defaultPrevented||i==null||i.dismiss()}),Xm(e,hc,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}}});var wc={};Oe(wc,{Combobox:()=>vv});function sv(e,t){let{context:n,prop:i,state:r,send:s,scope:o,computed:a,event:l}=e,c=i("translations"),u=i("collection"),h=!!i("disabled"),p=a("isInteractive"),d=!!i("invalid"),g=!!i("required"),v=!!i("readOnly"),b=r.hasTag("open"),V=r.hasTag("focused"),S=i("composite"),E=n.get("highlightedValue"),f=Jt(y(m({},i("positioning")),{placement:n.get("currentPlacement")}));function C(I){let P=u.getItemDisabled(I.item),A=u.getItemValue(I.item);return qn(A,()=>`[zag-js] No value found for item ${JSON.stringify(I.item)}`),{value:A,disabled:!!(P||P),highlighted:E===A,selected:n.get("value").includes(A)}}return{focused:V,open:b,inputValue:n.get("inputValue"),highlightedValue:E,highlightedItem:n.get("highlightedItem"),value:n.get("value"),valueAsString:a("valueAsString"),hasSelectedItems:a("hasSelectedItems"),selectedItems:n.get("selectedItems"),collection:i("collection"),multiple:!!i("multiple"),disabled:!!h,syncSelectedItems(){s({type:"SELECTED_ITEMS.SYNC"})},reposition(I={}){s({type:"POSITIONING.SET",options:I})},setHighlightValue(I){s({type:"HIGHLIGHTED_VALUE.SET",value:I})},clearHighlightValue(){s({type:"HIGHLIGHTED_VALUE.CLEAR"})},selectValue(I){s({type:"ITEM.SELECT",value:I})},setValue(I){s({type:"VALUE.SET",value:I})},setInputValue(I,P="script"){s({type:"INPUT_VALUE.SET",value:I,src:P})},clearValue(I){I!=null?s({type:"ITEM.CLEAR",value:I}):s({type:"VALUE.CLEAR"})},focus(){var I;(I=pn(o))==null||I.focus()},setOpen(I,P="script"){r.hasTag("open")!==I&&s({type:I?"OPEN":"CLOSE",src:P})},getRootProps(){return t.element(y(m({},De.root.attrs),{dir:i("dir"),id:tv(o),"data-invalid":T(d),"data-readonly":T(v)}))},getLabelProps(){return t.label(y(m({},De.label.attrs),{dir:i("dir"),htmlFor:Br(o),id:mo(o),"data-readonly":T(v),"data-disabled":T(h),"data-invalid":T(d),"data-required":T(g),"data-focus":T(V),onClick(I){var P;S||(I.preventDefault(),(P=Ai(o))==null||P.focus({preventScroll:!0}))}}))},getControlProps(){return t.element(y(m({},De.control.attrs),{dir:i("dir"),id:Tc(o),"data-state":b?"open":"closed","data-focus":T(V),"data-disabled":T(h),"data-invalid":T(d)}))},getPositionerProps(){return t.element(y(m({},De.positioner.attrs),{dir:i("dir"),id:Oc(o),style:f.floating}))},getInputProps(){return t.input(y(m({},De.input.attrs),{dir:i("dir"),"aria-invalid":ie(d),"data-invalid":T(d),"data-autofocus":T(i("autoFocus")),name:i("name"),form:i("form"),disabled:h,required:i("required"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:v,placeholder:i("placeholder"),id:Br(o),type:"text",role:"combobox",defaultValue:n.get("inputValue"),"aria-autocomplete":a("autoComplete")?"both":"list","aria-controls":Gr(o),"aria-expanded":b,"data-state":b?"open":"closed","aria-activedescendant":E?yc(o,E):void 0,onClick(I){I.defaultPrevented||i("openOnClick")&&p&&s({type:"INPUT.CLICK",src:"input-click"})},onFocus(){h||s({type:"INPUT.FOCUS"})},onBlur(){h||s({type:"INPUT.BLUR"})},onChange(I){s({type:"INPUT.CHANGE",value:I.currentTarget.value,src:"input-change"})},onKeyDown(I){if(I.defaultPrevented||!p||I.ctrlKey||I.shiftKey||Vt(I))return;let P=i("openOnKeyPress"),A=I.ctrlKey||I.metaKey||I.shiftKey,w=!0,N={ArrowDown(M){!P&&!b||(s({type:M.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:w,src:"arrow-key"}),M.preventDefault())},ArrowUp(){!P&&!b||(s({type:I.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:w,src:"arrow-key"}),I.preventDefault())},Home(M){A||(s({type:"INPUT.HOME",keypress:w}),b&&M.preventDefault())},End(M){A||(s({type:"INPUT.END",keypress:w}),b&&M.preventDefault())},Enter(M){var ge;s({type:"INPUT.ENTER",keypress:w,src:"item-select"});let j=a("isCustomValue")&&i("allowCustomValue"),q=E!=null,Z=i("alwaysSubmitOnEnter");if(b&&!j&&!Z&&q&&M.preventDefault(),E==null)return;let W=ei(o,E);We(W)&&((ge=i("navigate"))==null||ge({value:E,node:W,href:W.href}))},Escape(){s({type:"INPUT.ESCAPE",keypress:w,src:"escape-key"}),I.preventDefault()}},R=ve(I,{dir:i("dir")}),L=N[R];L==null||L(I)}}))},getTriggerProps(I={}){return t.button(y(m({},De.trigger.attrs),{dir:i("dir"),id:Sc(o),"aria-haspopup":S?"listbox":"dialog",type:"button",tabIndex:I.focusable?void 0:-1,"aria-label":c.triggerLabel,"aria-expanded":b,"data-state":b?"open":"closed","aria-controls":b?Gr(o):void 0,disabled:h,"data-invalid":T(d),"data-focusable":T(I.focusable),"data-readonly":T(v),"data-disabled":T(h),onFocus(){I.focusable&&s({type:"INPUT.FOCUS",src:"trigger"})},onClick(P){P.defaultPrevented||p&&et(P)&&s({type:"TRIGGER.CLICK",src:"trigger-click"})},onPointerDown(P){p&&P.pointerType!=="touch"&&et(P)&&(P.preventDefault(),queueMicrotask(()=>{var A;(A=pn(o))==null||A.focus({preventScroll:!0})}))},onKeyDown(P){if(P.defaultPrevented||S)return;let A={ArrowDown(){s({type:"INPUT.ARROW_DOWN",src:"arrow-key"})},ArrowUp(){s({type:"INPUT.ARROW_UP",src:"arrow-key"})}},w=ve(P,{dir:i("dir")}),N=A[w];N&&(N(P),P.preventDefault())}}))},getContentProps(){return t.element(y(m({},De.content.attrs),{dir:i("dir"),id:Gr(o),role:S?"listbox":"dialog",tabIndex:-1,hidden:!b,"data-state":b?"open":"closed","data-placement":n.get("currentPlacement"),"aria-labelledby":mo(o),"aria-multiselectable":i("multiple")&&S?!0:void 0,"data-empty":T(u.size===0),onPointerDown(I){et(I)&&I.preventDefault()}}))},getListProps(){return t.element(y(m({},De.list.attrs),{role:S?void 0:"listbox","data-empty":T(u.size===0),"aria-labelledby":mo(o),"aria-multiselectable":i("multiple")&&!S?!0:void 0}))},getClearTriggerProps(){return t.button(y(m({},De.clearTrigger.attrs),{dir:i("dir"),id:Pc(o),type:"button",tabIndex:-1,disabled:h,"data-invalid":T(d),"aria-label":c.clearTriggerLabel,"aria-controls":Br(o),hidden:!n.get("value").length,onPointerDown(I){et(I)&&I.preventDefault()},onClick(I){I.defaultPrevented||p&&s({type:"VALUE.CLEAR",src:"clear-trigger"})}}))},getItemState:C,getItemProps(I){let P=C(I),A=P.value;return t.element(y(m({},De.item.attrs),{dir:i("dir"),id:yc(o,A),role:"option",tabIndex:-1,"data-highlighted":T(P.highlighted),"data-state":P.selected?"checked":"unchecked","aria-selected":ie(P.highlighted),"aria-disabled":ie(P.disabled),"data-disabled":T(P.disabled),"data-value":P.value,onPointerMove(){P.disabled||P.highlighted||s({type:"ITEM.POINTER_MOVE",value:A})},onPointerLeave(){if(I.persistFocus||P.disabled)return;let w=l.previous();w!=null&&w.type.includes("POINTER")&&s({type:"ITEM.POINTER_LEAVE",value:A})},onClick(w){Ei(w)||sn(w)||An(w)||P.disabled||s({type:"ITEM.CLICK",src:"item-select",value:A})}}))},getItemTextProps(I){let P=C(I);return t.element(y(m({},De.itemText.attrs),{dir:i("dir"),"data-state":P.selected?"checked":"unchecked","data-disabled":T(P.disabled),"data-highlighted":T(P.highlighted)}))},getItemIndicatorProps(I){let P=C(I);return t.element(y(m({"aria-hidden":!0},De.itemIndicator.attrs),{dir:i("dir"),"data-state":P.selected?"checked":"unchecked",hidden:!P.selected}))},getItemGroupProps(I){let{id:P}=I;return t.element(y(m({},De.itemGroup.attrs),{dir:i("dir"),id:nv(o,P),"aria-labelledby":vc(o,P),"data-empty":T(u.size===0),role:"group"}))},getItemGroupLabelProps(I){let{htmlFor:P}=I;return t.element(y(m({},De.itemGroupLabel.attrs),{dir:i("dir"),id:vc(o,P),role:"presentation"}))}}}function Ic(e){return(e.previousEvent||e).src}function pv(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function mv(e){let t={};for(let[n,i]of Object.entries(e)){let r=pv(n);t[r]=i}return t}var ev,De,Ur,tv,mo,Tc,Br,Gr,Oc,Sc,Pc,nv,vc,yc,fn,pn,bc,Ec,Ai,iv,ei,Cc,rv,ov,av,lv,be,Be,cv,uv,dT,dv,hT,hv,gT,gv,fT,fv,vv,Vc=fe(()=>{"use strict";Ar();Ni();gn();me();ev=J("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),De=ev.build(),Ur=e=>new Xn(e);Ur.empty=()=>new Xn({items:[]});tv=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`combobox:${e.id}`},mo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`combobox:${e.id}:label`},Tc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`combobox:${e.id}:control`},Br=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.input)!=null?n:`combobox:${e.id}:input`},Gr=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`combobox:${e.id}:content`},Oc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`combobox:${e.id}:popper`},Sc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`combobox:${e.id}:toggle-btn`},Pc=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`combobox:${e.id}:clear-btn`},nv=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:optgroup:${t}`},vc=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:optgroup-label:${t}`},yc=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`combobox:${e.id}:option:${t}`},fn=e=>e.getById(Gr(e)),pn=e=>e.getById(Br(e)),bc=e=>e.getById(Oc(e)),Ec=e=>e.getById(Tc(e)),Ai=e=>e.getById(Sc(e)),iv=e=>e.getById(Pc(e)),ei=(e,t)=>{if(t==null)return null;let n=`[role=option][data-value="${CSS.escape(t)}"]`;return Mn(fn(e),n)},Cc=e=>{let t=pn(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})},rv=e=>{let t=Ai(e);e.isActiveElement(t)||t==null||t.focus({preventScroll:!0})};({guards:ov,createMachine:av,choose:lv}=Wn()),{and:be,not:Be}=ov,cv=av({props({props:e}){return y(m({loopFocus:!0,openOnClick:!1,defaultValue:[],defaultInputValue:"",closeOnSelect:!e.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:e.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:t}){Fn(t)},collection:Ur.empty()},e),{positioning:m({placement:"bottom",sameWidth:!0},e.positioning),translations:m({triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value"},e.translations)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"suggesting":"idle"},context({prop:e,bindable:t,getContext:n,getEvent:i}){return{currentPlacement:t(()=>({defaultValue:void 0})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:he,hash(r){return r.join(",")},onChange(r){var c;let s=n(),o=s.get("selectedItems"),a=e("collection"),l=r.map(u=>o.find(p=>a.getItemValue(p)===u)||a.find(u));s.set("selectedItems",l),(c=e("onValueChange"))==null||c({value:r,items:l})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(r){var o;let s=e("collection").find(r);(o=e("onHighlightChange"))==null||o({highlightedValue:r,highlightedItem:s})}})),inputValue:t(()=>{let r=e("inputValue")||e("defaultInputValue"),s=e("value")||e("defaultValue");if(!r.trim()&&!e("multiple")){let o=e("collection").stringifyMany(s);r=Ve(e("selectionBehavior"),{preserve:r||o,replace:o,clear:""})}return{defaultValue:r,value:e("inputValue"),onChange(o){var c;let a=i(),l=(a.previousEvent||a).src;(c=e("onInputValueChange"))==null||c({inputValue:o,reason:l})}}}),highlightedItem:t(()=>{let r=e("highlightedValue");return{defaultValue:e("collection").find(r)}}),selectedItems:t(()=>{let r=e("value")||e("defaultValue")||[];return{defaultValue:e("collection").findMany(r)}})}},computed:{isInputValueEmpty:({context:e})=>e.get("inputValue").length===0,isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),autoComplete:({prop:e})=>e("inputBehavior")==="autocomplete",autoHighlight:({prop:e})=>e("inputBehavior")==="autohighlight",hasSelectedItems:({context:e})=>e.get("value").length>0,valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems")),isCustomValue:({context:e,computed:t})=>e.get("inputValue")!==t("valueAsString")},watch({context:e,prop:t,track:n,action:i,send:r}){n([()=>e.hash("value")],()=>{i(["syncSelectedItems"])}),n([()=>e.get("inputValue")],()=>{i(["syncInputValue"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem","autofillInputValue"])}),n([()=>t("open")],()=>{i(["toggleVisibility"])}),n([()=>t("collection").toString()],()=>{r({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:lv([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:be("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:be("isCustomValue",Be("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:be("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:be("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:be("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:be("isOpenControlled","isCustomValue",Be("hasHighlightedItem"),Be("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:be("isCustomValue",Be("hasHighlightedItem"),Be("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:be("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:be("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:be("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:be("isOpenControlled","isCustomValue",Be("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:be("isCustomValue",Be("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:be("isHighlightedItemRemoved","hasCollectionItems","autoHighlight"),actions:["clearHighlightedValue","highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{guard:"autoHighlight",actions:["highlightFirstItem"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:be("isOpenControlled","isCustomValue",Be("hasHighlightedItem"),Be("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:be("isCustomValue",Be("hasHighlightedItem"),Be("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:be("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:be("isOpenControlled","isCustomValue",Be("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:be("isCustomValue",Be("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:be("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:e})=>e("isInputValueEmpty"),autoComplete:({computed:e,prop:t})=>e("autoComplete")&&!t("multiple"),autoHighlight:({computed:e})=>e("autoHighlight"),isFirstItemHighlighted:({prop:e,context:t})=>e("collection").firstValue===t.get("highlightedValue"),isLastItemHighlighted:({prop:e,context:t})=>e("collection").lastValue===t.get("highlightedValue"),isCustomValue:({computed:e})=>e("isCustomValue"),allowCustomValue:({prop:e})=>!!e("allowCustomValue"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null,openOnChange:({prop:e,context:t})=>{let n=e("openOnChange");return sl(n)?n:!!(n!=null&&n({inputValue:t.get("inputValue")}))},restoreFocus:({event:e})=>{var n,i;let t=(i=e.restoreFocus)!=null?i:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null?!0:!!t},isChangeEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INPUT.CHANGE"},autoFocus:({prop:e})=>!!e("autoFocus"),isHighlightedItemRemoved:({prop:e,context:t})=>!e("collection").has(t.get("highlightedValue")),hasCollectionItems:({prop:e})=>e("collection").size>0},effects:{trackDismissableLayer({send:e,prop:t,scope:n}){return t("disableLayer")?void 0:vt(()=>fn(n),{type:"listbox",defer:!0,exclude:()=>[pn(n),Ai(n),iv(n)],onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside:t("onInteractOutside"),onEscapeKeyDown(r){r.preventDefault(),r.stopPropagation(),e({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){e({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},trackPlacement({context:e,prop:t,scope:n}){let i=()=>Ec(n)||Ai(n),r=()=>bc(n);return e.set("currentPlacement",t("positioning").placement),at(i,r,y(m({},t("positioning")),{defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n,event:i}){let r=pn(n),s=[],o=c=>{let u=i.current().type.includes("POINTER"),h=e.get("highlightedValue");if(u||!h)return;let p=fn(n),d=t("scrollToIndexFn");if(d){let b=t("collection").indexOf(h);d({index:b,immediate:c,getElement:()=>ei(n,h)});return}let g=ei(n,h),v=H(()=>{ln(g,{rootEl:p,block:"nearest"})});s.push(v)},a=H(()=>o(!0));s.push(a);let l=Ln(r,{attributes:["aria-activedescendant"],callback:()=>o(!1)});return s.push(l),()=>{s.forEach(c=>c())}}},actions:{reposition({context:e,prop:t,scope:n,event:i}){at(()=>Ec(n),()=>bc(n),y(m(m({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(o){e.set("currentPlacement",o.placement)}}))},setHighlightedValue({context:e,event:t}){t.value!=null&&e.set("highlightedValue",t.value)},clearHighlightedValue({context:e}){e.set("highlightedValue",null)},selectHighlightedItem(e){var a;let{context:t,prop:n}=e,i=n("collection"),r=t.get("highlightedValue");if(!r||!i.has(r))return;let s=n("multiple")?rt(t.get("value"),r):[r];(a=n("onSelect"))==null||a({value:s,itemValue:r}),t.set("value",s);let o=Ve(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(s),clear:""});t.set("inputValue",o)},scrollToHighlightedItem({context:e,prop:t,scope:n}){an(()=>{let i=e.get("highlightedValue");if(i==null)return;let r=ei(n,i),s=fn(n),o=t("scrollToIndexFn");if(o){let a=t("collection").indexOf(i);o({index:a,immediate:!0,getElement:()=>ei(n,i)});return}ln(r,{rootEl:s,block:"nearest"})})},selectItem(e){let{context:t,event:n,flush:i,prop:r}=e;n.value!=null&&i(()=>{var a;let s=r("multiple")?rt(t.get("value"),n.value):[n.value];(a=r("onSelect"))==null||a({value:s,itemValue:n.value}),t.set("value",s);let o=Ve(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});t.set("inputValue",o)})},clearItem(e){let{context:t,event:n,flush:i,prop:r}=e;n.value!=null&&i(()=>{let s=ht(t.get("value"),n.value);t.set("value",s);let o=Ve(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});t.set("inputValue",o)})},setInitialFocus({scope:e}){H(()=>{Cc(e)})},setFinalFocus({scope:e}){H(()=>{let t=Ai(e);(t==null?void 0:t.dataset.focusable)==null?Cc(e):rv(e)})},syncInputValue({context:e,scope:t,event:n}){let i=pn(t);i&&(i.value=e.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&Aa(i)}))},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearInputValue({context:e}){e.set("inputValue","")},revertInputValue({context:e,prop:t,computed:n}){let i=t("selectionBehavior"),r=Ve(i,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:e.get("inputValue"),clear:""});e.set("inputValue",r)},setValue(e){let{context:t,flush:n,event:i,prop:r}=e;n(()=>{t.set("value",i.value);let s=Ve(r("selectionBehavior"),{preserve:t.get("inputValue"),replace:r("collection").stringifyMany(i.value),clear:""});t.set("inputValue",s)})},clearSelectedItems(e){let{context:t,flush:n,prop:i}=e;n(()=>{t.set("value",[]);let r=Ve(i("selectionBehavior"),{preserve:t.get("inputValue"),replace:i("collection").stringifyMany([]),clear:""});t.set("inputValue",r)})},scrollContentToTop({prop:e,scope:t}){let n=e("scrollToIndexFn");if(n){let i=e("collection").firstValue;n({index:0,immediate:!0,getElement:()=>ei(t,i)})}else{let i=fn(t);if(!i)return;i.scrollTop=0}},invokeOnOpen({prop:e,event:t,context:n}){var r;let i=Ic(t);(r=e("onOpenChange"))==null||r({open:!0,reason:i,value:n.get("value")})},invokeOnClose({prop:e,event:t,context:n}){var r;let i=Ic(t);(r=e("onOpenChange"))==null||r({open:!1,reason:i,value:n.get("value")})},highlightFirstItem({context:e,prop:t,scope:n}){(fn(n)?queueMicrotask:H)(()=>{let r=t("collection").firstValue;r&&e.set("highlightedValue",r)})},highlightFirstItemIfNeeded({computed:e,action:t}){e("autoHighlight")&&t(["highlightFirstItem"])},highlightLastItem({context:e,prop:t,scope:n}){(fn(n)?queueMicrotask:H)(()=>{let r=t("collection").lastValue;r&&e.set("highlightedValue",r)})},highlightNextItem({context:e,prop:t}){let n=null,i=e.get("highlightedValue"),r=t("collection");i?(n=r.getNextValue(i),!n&&t("loopFocus")&&(n=r.firstValue)):n=r.firstValue,n&&e.set("highlightedValue",n)},highlightPrevItem({context:e,prop:t}){let n=null,i=e.get("highlightedValue"),r=t("collection");i?(n=r.getPreviousValue(i),!n&&t("loopFocus")&&(n=r.lastValue)):n=r.lastValue,n&&e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t}){H(()=>{let[n]=t("collection").sort(e.get("value"));n&&e.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let i=null;n("hasSelectedItems")?i=t("collection").sort(e.get("value"))[0]:i=t("collection").firstValue,i&&e.set("highlightedValue",i)})},highlightLastOrSelectedItem({context:e,prop:t,computed:n}){H(()=>{let i=t("collection"),r=null;n("hasSelectedItems")?r=i.sort(e.get("value"))[0]:r=i.lastValue,r&&e.set("highlightedValue",r)})},autofillInputValue({context:e,computed:t,prop:n,event:i,scope:r}){let s=pn(r),o=n("collection");if(!t("autoComplete")||!s||!i.keypress)return;let a=o.stringify(e.get("highlightedValue"));H(()=>{s.value=a||e.get("inputValue")})},syncSelectedItems(e){queueMicrotask(()=>{let{context:t,prop:n}=e,i=n("collection"),r=t.get("value"),s=r.map(a=>t.get("selectedItems").find(c=>i.getItemValue(c)===a)||i.find(a));t.set("selectedItems",s);let o=Ve(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:i.stringifyMany(r),clear:""});t.set("inputValue",o)})},syncHighlightedItem({context:e,prop:t}){let n=t("collection").find(e.get("highlightedValue"));e.set("highlightedItem",n)},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});uv=G()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]),dT=B(uv),dv=G()(["htmlFor"]),hT=B(dv),hv=G()(["id"]),gT=B(hv),gv=G()(["item","persistFocus"]),fT=B(gv),fv=class extends te{constructor(){super(...arguments);U(this,"options",[]);U(this,"allOptions",[]);U(this,"hasGroups",!1)}setAllOptions(t){this.allOptions=t,this.options=t}getCollection(){let t=this.options||this.allOptions||[];return this.hasGroups?Ur({items:t,itemToValue:n=>n.id,itemToString:n=>n.label,isItemDisabled:n=>n.disabled,groupBy:n=>n.group}):Ur({items:t,itemToValue:n=>n.id,itemToString:n=>n.label,isItemDisabled:n=>n.disabled})}initMachine(t){let n=this;return new ee(cv,y(m({},t),{get collection(){return n.getCollection()},onOpenChange:i=>{i.open&&(n.options=n.allOptions),t.onOpenChange&&t.onOpenChange(i)},onInputValueChange:i=>{let r=n.allOptions.filter(s=>s.label.toLowerCase().includes(i.inputValue.toLowerCase()));n.options=r.length>0?r:n.allOptions,t.onInputValueChange&&t.onInputValueChange(i)}}))}initApi(){return sv(this.machine.service,Q)}renderItems(){var o,a,l;let t=this.el.querySelector('[data-scope="combobox"][data-part="content"]');if(!t)return;let n=this.el.querySelector('[data-templates="combobox"]');if(!n)return;t.querySelectorAll('[data-scope="combobox"][data-part="item"]:not([data-template])').forEach(c=>c.remove()),t.querySelectorAll('[data-scope="combobox"][data-part="item-group"]:not([data-template])').forEach(c=>c.remove());let i=this.api.collection.items,r=(l=(a=(o=this.api.collection).group)==null?void 0:a.call(o))!=null?l:[];r.some(([c])=>c!=null)?this.renderGroupedItems(t,n,r):this.renderFlatItems(t,n,i)}renderGroupedItems(t,n,i){for(let[r,s]of i){if(r==null)continue;let o=n.querySelector(`[data-scope="combobox"][data-part="item-group"][data-id="${r}"][data-template]`);if(!o)continue;let a=o.cloneNode(!0);a.removeAttribute("data-template"),this.spreadProps(a,this.api.getItemGroupProps({id:r}));let l=a.querySelector('[data-scope="combobox"][data-part="item-group-label"]');l&&this.spreadProps(l,this.api.getItemGroupLabelProps({htmlFor:r}));let c=a.querySelector('[data-scope="combobox"][data-part="item-group-content"]');if(c){c.innerHTML="";for(let u of s){let h=this.cloneItem(n,u);h&&c.appendChild(h)}t.appendChild(a)}}}renderFlatItems(t,n,i){for(let r of i){let s=this.cloneItem(n,r);s&&t.appendChild(s)}}cloneItem(t,n){let i=this.api.collection.getItemValue(n),r=t.querySelector(`[data-scope="combobox"][data-part="item"][data-value="${i}"][data-template]`);if(!r)return null;let s=r.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemProps({item:n}));let o=s.querySelector('[data-scope="combobox"][data-part="item-text"]');o&&(this.spreadProps(o,this.api.getItemTextProps({item:n})),o.children.length===0&&(o.textContent=n.label||""));let a=s.querySelector('[data-scope="combobox"][data-part="item-indicator"]');return a&&this.spreadProps(a,this.api.getItemIndicatorProps({item:n})),s}render(){let t=this.el.querySelector('[data-scope="combobox"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps()),["label","control","input","trigger","clear-trigger","positioner"].forEach(i=>{let r=this.el.querySelector(`[data-scope="combobox"][data-part="${i}"]`);if(!r)return;let s="get"+i.split("-").map(o=>o[0].toUpperCase()+o.slice(1)).join("")+"Props";this.spreadProps(r,this.api[s]())});let n=this.el.querySelector('[data-scope="combobox"][data-part="content"]');n&&(this.spreadProps(n,this.api.getContentProps()),this.renderItems())}};vv={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=JSON.parse(e.dataset.collection||"[]"),i=n.some(a=>a.group!==void 0),r=y(m({id:e.id},O(e,"controlled")?{value:Y(e,"value")}:{defaultValue:Y(e,"defaultValue")}),{disabled:O(e,"disabled"),placeholder:x(e,"placeholder"),alwaysSubmitOnEnter:O(e,"alwaysSubmitOnEnter"),autoFocus:O(e,"autoFocus"),closeOnSelect:O(e,"closeOnSelect"),dir:x(e,"dir",["ltr","rtl"]),inputBehavior:x(e,"inputBehavior",["autohighlight","autocomplete","none"]),loopFocus:O(e,"loopFocus"),multiple:O(e,"multiple"),invalid:O(e,"invalid"),allowCustomValue:!1,selectionBehavior:"replace",name:x(e,"name"),form:x(e,"form"),readOnly:O(e,"readOnly"),required:O(e,"required"),positioning:(()=>{let a=e.dataset.positioning;if(a)try{let l=JSON.parse(a);return mv(l)}catch(l){return}})(),onOpenChange:a=>{let l=x(e,"onOpenChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{open:a.open,reason:a.reason,value:a.value,id:e.id});let c=x(e,"onOpenChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:O(e,"bubble"),detail:{open:a.open,reason:a.reason,value:a.value,id:e.id}}))},onInputValueChange:a=>{let l=x(e,"onInputValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(l,{value:a.inputValue,reason:a.reason,id:e.id});let c=x(e,"onInputValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:O(e,"bubble"),detail:{value:a.inputValue,reason:a.reason,id:e.id}}))},onValueChange:a=>{let l=e.querySelector('[data-scope="combobox"][data-part="value-input"]');if(l){let h=a.value.length===0?"":a.value.length===1?String(a.value[0]):a.value.map(String).join(",");l.value=h;let p=l.getAttribute("form"),d=null;p?d=document.getElementById(p):d=l.closest("form");let g=new Event("change",{bubbles:!0,cancelable:!0});l.dispatchEvent(g);let v=new Event("input",{bubbles:!0,cancelable:!0});l.dispatchEvent(v),d&&d.hasAttribute("phx-change")&&requestAnimationFrame(()=>{let b=d.querySelector("input, select, textarea");if(b){let V=new Event("change",{bubbles:!0,cancelable:!0});b.dispatchEvent(V)}else{let V=new Event("change",{bubbles:!0,cancelable:!0});d.dispatchEvent(V)}})}let c=x(e,"onValueChange");c&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(c,{value:a.value,items:a.items,id:e.id});let u=x(e,"onValueChangeClient");u&&e.dispatchEvent(new CustomEvent(u,{bubbles:O(e,"bubble"),detail:{value:a.value,items:a.items,id:e.id}}))}}),s=new fv(e,r);s.hasGroups=i,s.setAllOptions(n),s.init();let o=O(e,"controlled")?Y(e,"value"):Y(e,"defaultValue");if(o&&o.length>0){let a=n.filter(l=>o.includes(l.id));if(a.length>0){let l=a.map(c=>c.label).join(", ");if(s.api&&typeof s.api.setInputValue=="function")s.api.setInputValue(l);else{let c=e.querySelector('[data-scope="combobox"][data-part="input"]');c&&(c.value=l)}}}this.combobox=s,this.handlers=[]},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);if(this.combobox){this.combobox.hasGroups=t,this.combobox.setAllOptions(e),this.combobox.updateProps(y(m({},O(this.el,"controlled")?{value:Y(this.el,"value")}:{defaultValue:Y(this.el,"defaultValue")}),{name:x(this.el,"name"),form:x(this.el,"form"),disabled:O(this.el,"disabled"),multiple:O(this.el,"multiple"),dir:x(this.el,"dir",["ltr","rtl"]),invalid:O(this.el,"invalid"),required:O(this.el,"required"),readOnly:O(this.el,"readOnly")}));let n=this.el.querySelector('[data-scope="combobox"][data-part="input"]');n&&(n.removeAttribute("name"),n.removeAttribute("form"),n.name="")}},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.combobox)==null||e.destroy()}}});var Su={};Oe(Su,{DatePicker:()=>lb});function vo(e,t){return e-t*Math.floor(e/t)}function qr(e,t,n,i){t=Do(e,t);let r=t-1,s=-2;return n<=2?s=0:Zr(t)&&(s=-1),qc-1+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)+Math.floor((367*n-362)/12+s+i)}function Zr(e){return e%4===0&&(e%100!==0||e%400===0)}function Do(e,t){return e==="BC"?1-t:t}function yv(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}function bn(e,t){return t=Ue(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function Cv(e,t){return t=Ue(t,e.calendar),e=Lt(e),t=Lt(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function Iv(e,t){return t=Ue(t,e.calendar),e=Li(e),t=Li(t),e.era===t.era&&e.year===t.year}function Tv(e,t){return ts(e.calendar,t.calendar)&&bn(e,t)}function Ov(e,t){return ts(e.calendar,t.calendar)&&Cv(e,t)}function Sv(e,t){return ts(e.calendar,t.calendar)&&Iv(e,t)}function ts(e,t){var n,i,r,s;return(s=(r=(n=e.isEqual)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:(i=t.isEqual)===null||i===void 0?void 0:i.call(t,e))!==null&&s!==void 0?s:e.identifier===t.identifier}function Pv(e,t){return bn(e,ns(t))}function Wc(e,t,n){let i=e.calendar.toJulianDay(e),r=n?wv[n]:kv(t),s=Math.ceil(i+1-r)%7;return s<0&&(s+=7),s}function Kc(e){return Ft(Date.now(),e)}function ns(e){return mn(Kc(e))}function Yc(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function Vv(e,t){return xc(e)-xc(t)}function xc(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}function Lo(){return yo==null&&(yo=new Intl.DateTimeFormat().resolvedOptions().timeZone),yo}function Lt(e){return e.subtract({days:e.day-1})}function So(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function Li(e){return Lt(e.subtract({months:e.month-1}))}function xv(e){return So(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function Fi(e,t,n){let i=Wc(e,t,n);return e.subtract({days:i})}function kc(e,t,n){return Fi(e,t,n).add({days:6})}function jc(e){if(Intl.Locale){let n=Nc.get(e);return n||(n=new Intl.Locale(e).maximize().region,n&&Nc.set(e,n)),n}let t=e.split("-")[1];return t==="u"?void 0:t}function kv(e){let t=bo.get(e);if(!t){if(Intl.Locale){let i=new Intl.Locale(e);if("getWeekInfo"in i&&(t=i.getWeekInfo(),t))return bo.set(e,t),t.firstDay}let n=jc(e);if(e.includes("-fw-")){let i=e.split("-fw-")[1].split("-")[0];i==="mon"?t={firstDay:1}:i==="tue"?t={firstDay:2}:i==="wed"?t={firstDay:3}:i==="thu"?t={firstDay:4}:i==="fri"?t={firstDay:5}:i==="sat"?t={firstDay:6}:t={firstDay:0}}else e.includes("-ca-iso8601")?t={firstDay:1}:t={firstDay:n&&Ev[n]||0};bo.set(e,t)}return t.firstDay}function Nv(e,t,n){let i=e.calendar.getDaysInMonth(e);return Math.ceil((Wc(Lt(e),t,n)+i)/7)}function Xc(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function Jc(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function Rv(e,t){let n=e.calendar.toJulianDay(e),i=Math.ceil(n+1)%7;i<0&&(i+=7);let r=jc(t),[s,o]=Av[r]||[6,0];return i===s||i===o}function si(e){e=Ue(e,new ri);let t=Do(e.era,e.year);return Zc(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function Zc(e,t,n,i,r,s,o){let a=new Date;return a.setUTCHours(i,r,s,o),a.setUTCFullYear(e,t-1,n),a.getTime()}function Po(e,t){if(t==="UTC")return 0;if(e>0&&t===Lo())return new Date(e).getTimezoneOffset()*-6e4;let{year:n,month:i,day:r,hour:s,minute:o,second:a}=zc(e,t);return Zc(n,i,r,s,o,a,0)-Math.floor(e/1e3)*1e3}function zc(e,t){let n=Ac.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Ac.set(t,n));let i=n.formatToParts(new Date(e)),r={};for(let s of i)s.type!=="literal"&&(r[s.type]=s.value);return{year:r.era==="BC"||r.era==="B"?-r.year+1:+r.year,month:+r.month,day:+r.day,hour:r.hour==="24"?0:+r.hour,minute:+r.minute,second:+r.second}}function Dv(e,t,n,i){return(n===i?[n]:[n,i]).filter(s=>Lv(e,t,s))}function Lv(e,t,n){let i=zc(n,t);return e.year===i.year&&e.month===i.month&&e.day===i.day&&e.hour===i.hour&&e.minute===i.minute&&e.second===i.second}function Dt(e,t,n="compatible"){let i=vn(e);if(t==="UTC")return si(i);if(t===Lo()&&n==="compatible"){i=Ue(i,new ri);let l=new Date,c=Do(i.era,i.year);return l.setFullYear(c,i.month-1,i.day),l.setHours(i.hour,i.minute,i.second,i.millisecond),l.getTime()}let r=si(i),s=Po(r-Rc,t),o=Po(r+Rc,t),a=Dv(i,t,r-s,r-o);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(r-s,r-o);case"compatible":case"later":return Math.max(r-s,r-o);case"reject":throw new RangeError("No such absolute time found")}}function Qc(e,t,n="compatible"){return new Date(Dt(e,t,n))}function Ft(e,t){let n=Po(e,t),i=new Date(e+n),r=i.getUTCFullYear(),s=i.getUTCMonth()+1,o=i.getUTCDate(),a=i.getUTCHours(),l=i.getUTCMinutes(),c=i.getUTCSeconds(),u=i.getUTCMilliseconds();return new au(r<1?"BC":"AD",r<1?-r+1:r,s,o,t,n,a,l,c,u)}function mn(e){return new oi(e.calendar,e.era,e.year,e.month,e.day)}function vn(e,t){let n=0,i=0,r=0,s=0;if("timeZone"in e)({hour:n,minute:i,second:r,millisecond:s}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:i,second:r,millisecond:s}=t),new ny(e.calendar,e.era,e.year,e.month,e.day,n,i,r,s)}function Ue(e,t){if(ts(e.calendar,t))return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),i=e.copy();return i.calendar=t,i.era=n.era,i.year=n.year,i.month=n.month,i.day=n.day,yn(i),i}function Fv(e,t,n){if(e instanceof au)return e.timeZone===t?e:$v(e,t);let i=Dt(e,t,n);return Ft(i,t)}function Mv(e){let t=si(e)-e.offset;return new Date(t)}function $v(e,t){let n=si(e)-e.offset;return Ue(Ft(n,t),e.calendar)}function is(e,t){let n=e.copy(),i="hour"in n?Gv(n,t):0;wo(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,Vo(n),eu(n),n.day+=(t.weeks||0)*7,n.day+=t.days||0,n.day+=i,_v(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let r=n.calendar.getYearsInEra(n);if(n.year>r){var s,o;let l=(s=(o=n.calendar).isInverseEra)===null||s===void 0?void 0:s.call(o,n);n.year=r,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function wo(e,t){var n,i;!((n=(i=e.calendar).isInverseEra)===null||n===void 0)&&n.call(i,e)&&(t=-t),e.year+=t}function Vo(e){for(;e.month<1;)wo(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,wo(e,1)}function _v(e){for(;e.day<1;)e.month--,Vo(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Vo(e)}function eu(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function yn(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),eu(e)}function tu(e){let t={};for(let n in e)typeof e[n]=="number"&&(t[n]=-e[n]);return t}function nu(e,t){return is(e,tu(t))}function Fo(e,t){let n=e.copy();return t.era!=null&&(n.era=t.era),t.year!=null&&(n.year=t.year),t.month!=null&&(n.month=t.month),t.day!=null&&(n.day=t.day),yn(n),n}function es(e,t){let n=e.copy();return t.hour!=null&&(n.hour=t.hour),t.minute!=null&&(n.minute=t.minute),t.second!=null&&(n.second=t.second),t.millisecond!=null&&(n.millisecond=t.millisecond),Bv(n),n}function Hv(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=Wr(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=Wr(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=Wr(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=Wr(e.hour,24),t}function Bv(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function Wr(e,t){let n=e%t;return n<0&&(n+=t),n}function Gv(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,Hv(e)}function Mo(e,t,n,i){let r=e.copy();switch(t){case"era":{let a=e.calendar.getEras(),l=a.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=Mt(l,n,0,a.length-1,i==null?void 0:i.round),r.era=a[l],yn(r);break}case"year":var s,o;!((s=(o=r.calendar).isInverseEra)===null||s===void 0)&&s.call(o,r)&&(n=-n),r.year=Mt(e.year,n,-1/0,9999,i==null?void 0:i.round),r.year===-1/0&&(r.year=1),r.calendar.balanceYearMonth&&r.calendar.balanceYearMonth(r,e);break;case"month":r.month=Mt(e.month,n,1,e.calendar.getMonthsInYear(e),i==null?void 0:i.round);break;case"day":r.day=Mt(e.day,n,1,e.calendar.getDaysInMonth(e),i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(r),yn(r),r}function iu(e,t,n,i){let r=e.copy();switch(t){case"hour":{let s=e.hour,o=0,a=23;if((i==null?void 0:i.hourCycle)===12){let l=s>=12;o=l?12:0,a=l?23:11}r.hour=Mt(s,n,o,a,i==null?void 0:i.round);break}case"minute":r.minute=Mt(e.minute,n,0,59,i==null?void 0:i.round);break;case"second":r.second=Mt(e.second,n,0,59,i==null?void 0:i.round);break;case"millisecond":r.millisecond=Mt(e.millisecond,n,0,999,i==null?void 0:i.round);break;default:throw new Error("Unsupported field "+t)}return r}function Mt(e,t,n,i,r=!1){if(r){e+=Math.sign(t),e<n&&(e=i);let s=Math.abs(t);t>0?e=Math.ceil(e/s)*s:e=Math.floor(e/s)*s,e>i&&(e=n)}else e+=t,e<n?e=i-(n-e-1):e>i&&(e=n+(e-i-1));return e}function ru(e,t){let n;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let r=is(vn(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});n=Dt(r,e.timeZone)}else n=si(e)-e.offset;n+=t.milliseconds||0,n+=(t.seconds||0)*1e3,n+=(t.minutes||0)*6e4,n+=(t.hours||0)*36e5;let i=Ft(n,e.timeZone);return Ue(i,e.calendar)}function Uv(e,t){return ru(e,tu(t))}function qv(e,t,n,i){switch(t){case"hour":{let r=0,s=23;if((i==null?void 0:i.hourCycle)===12){let g=e.hour>=12;r=g?12:0,s=g?23:11}let o=vn(e),a=Ue(es(o,{hour:r}),new ri),l=[Dt(a,e.timeZone,"earlier"),Dt(a,e.timeZone,"later")].filter(g=>Ft(g,e.timeZone).day===a.day)[0],c=Ue(es(o,{hour:s}),new ri),u=[Dt(c,e.timeZone,"earlier"),Dt(c,e.timeZone,"later")].filter(g=>Ft(g,e.timeZone).day===c.day).pop(),h=si(e)-e.offset,p=Math.floor(h/Ri),d=h%Ri;return h=Mt(p,n,Math.floor(l/Ri),Math.floor(u/Ri),i==null?void 0:i.round)*Ri+d,Ue(Ft(h,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return iu(e,t,n,i);case"era":case"year":case"month":case"day":{let r=Mo(vn(e),t,n,i),s=Dt(r,e.timeZone);return Ue(Ft(s,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function Wv(e,t,n){let i=vn(e),r=es(Fo(i,t),t);if(r.compare(i)===0)return e;let s=Dt(r,e.timeZone,n);return Ue(Ft(s,e.timeZone),e.calendar)}function Xv(e){let t=e.match(Kv);if(!t)throw Yv.test(e)?new Error(`Invalid ISO 8601 date string: ${e}. Use parseAbsolute() instead.`):new Error("Invalid ISO 8601 date string: "+e);let n=new oi(Eo(t[1],0,9999),Eo(t[2],1,12),1);return n.day=Eo(t[3],1,n.calendar.getDaysInMonth(n)),n}function Eo(e,t,n){let i=Number(e);if(i<t||i>n)throw new RangeError(`Value out of range: ${t} <= ${i} <= ${n}`);return i}function Jv(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function su(e){let t=Ue(e,new ri),n;return t.era==="BC"?n=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):n=String(t.year).padStart(4,"0"),`${n}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function ou(e){return`${su(e)}T${Jv(e)}`}function Zv(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let n=Math.floor(e/36e5),i=Math.floor(e%36e5/6e4),r=Math.floor(e%36e5%6e4/1e3),s=`${t}${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`;return r!==0&&(s+=`:${String(r).padStart(2,"0")}`),s}function zv(e){return`${ou(e)}${Zv(e.offset)}[${e.timeZone}]`}function Qv(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $o(e,t,n){Qv(e,t),t.set(e,n)}function _o(e){let t=typeof e[0]=="object"?e.shift():new ri,n;if(typeof e[0]=="string")n=e.shift();else{let o=t.getEras();n=o[o.length-1]}let i=e.shift(),r=e.shift(),s=e.shift();return[t,n,i,r,s]}function lu(e,t={}){if(typeof t.hour12=="boolean"&&sy()){t=m({},t);let r=ry[String(t.hour12)][e.split("-")[0]],s=t.hour12?"h12":"h23";t.hourCycle=r!=null?r:s,delete t.hour12}let n=e+(t?Object.entries(t).sort((r,s)=>r[0]<s[0]?-1:1).join():"");if(Co.has(n))return Co.get(n);let i=new Intl.DateTimeFormat(e,t);return Co.set(n,i),i}function sy(){return Io==null&&(Io=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Io}function oy(){return To==null&&(To=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),To}function ay(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let n=lu(e,y(m({},t),{timeZone:void 0})),i=parseInt(n.formatToParts(new Date(2020,2,3,0)).find(s=>s.type==="hour").value,10),r=parseInt(n.formatToParts(new Date(2020,2,3,23)).find(s=>s.type==="hour").value,10);if(i===0&&r===23)return"h23";if(i===24&&r===23)return"h24";if(i===0&&r===11)return"h11";if(i===12&&r===11)return"h12";throw new Error("Unexpected hour cycle result")}function ly(e,t,n,i,r){let s={};for(let a in t){let l=a,c=t[l];c!=null&&(s[l]=Math.floor(c/2),s[l]>0&&c%2===0&&s[l]--)}let o=En(e,t,n).subtract(s);return Mi(e,o,t,n,i,r)}function En(e,t,n,i,r){let s=e;return t.years?s=Li(e):t.months?s=Lt(e):t.weeks&&(s=Fi(e,n)),Mi(e,s,t,n,i,r)}function Ho(e,t,n,i,r){let s=m({},t);s.days?s.days--:s.weeks?s.weeks--:s.months?s.months--:s.years&&s.years--;let o=En(e,t,n).subtract(s);return Mi(e,o,t,n,i,r)}function Mi(e,t,n,i,r,s){return r&&e.compare(r)>=0&&(t=Jc(t,En(mn(r),n,i))),s&&e.compare(s)<=0&&(t=Xc(t,Ho(mn(s),n,i))),t}function lt(e,t,n){let i=mn(e);return t&&(i=Jc(i,mn(t))),n&&(i=Xc(i,mn(n))),i}function Dc(e,t,n,i,r,s){switch(t){case"start":return En(e,n,i,r,s);case"end":return Ho(e,n,i,r,s);case"center":default:return ly(e,n,i,r,s)}}function Ge(e,t){return e==null||t==null?e===t:bn(e,t)}function Lc(e,t,n,i,r){return e?t!=null&&t(e,n)?!0:yt(e,i,r):!1}function yt(e,t,n){return t!=null&&e.compare(t)<0||n!=null&&e.compare(n)>0}function cy(e,t,n){let i=e.subtract({days:1});return bn(i,e)||yt(i,t,n)}function uy(e,t,n){let i=e.add({days:1});return bn(i,e)||yt(i,t,n)}function Bo(e){let t=m({},e);for(let n in t)t[n]=1;return t}function cu(e,t){let n=m({},t);return n.days?n.days--:n.days=-1,e.add(n)}function uu(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function du(e,t){let n=vn(ns(t));return new ct(e,{weekday:"long",month:"long",year:"numeric",day:"numeric",era:uu(n),timeZone:t})}function Fc(e,t){let n=ns(t);return new ct(e,{month:"long",year:"numeric",era:uu(n),calendar:n==null?void 0:n.calendar.identifier,timeZone:t})}function dy(e,t,n,i,r){let s=n.formatRangeToParts(e.toDate(r),t.toDate(r)),o=-1;for(let c=0;c<s.length;c++){let u=s[c];if(u.source==="shared"&&u.type==="literal")o=c;else if(u.source==="endRange")break}let a="",l="";for(let c=0;c<s.length;c++)c<o?a+=s[c].value:c>o&&(l+=s[c].value);return i(a,l)}function Kr(e,t,n,i){if(!e)return"";let r=e,s=t!=null?t:e,o=du(n,i);return bn(r,s)?o.format(r.toDate(i)):dy(r,s,o,(a,l)=>`${a} \u2013 ${l}`,i)}function hu(e){return e!=null?hy[e]:void 0}function gu(e,t,n){let i=hu(n);return Fi(e,t,i)}function fu(e,t,n,i){let r=t.add({weeks:e}),s=[],o=gu(r,n,i);for(;s.length<7;){s.push(o);let a=o.add({days:1});if(bn(o,a))break;o=a}return s}function gy(e,t,n,i){let r=hu(i),s=n!=null?n:Nv(e,t,r);return[...new Array(s).keys()].map(a=>fu(a,e,t,i))}function fy(e,t){let n=new ct(e,{weekday:"long",timeZone:t}),i=new ct(e,{weekday:"short",timeZone:t}),r=new ct(e,{weekday:"narrow",timeZone:t});return s=>{let o=s instanceof Date?s:s.toDate(t);return{value:s,short:i.format(o),long:n.format(o),narrow:r.format(o)}}}function py(e,t,n,i){let r=gu(e,i,t),s=[...new Array(7).keys()],o=fy(i,n);return s.map(a=>o(r.add({days:a})))}function my(e,t="long"){let n=new Date(2021,0,1),i=[];for(let r=0;r<12;r++)i.push(n.toLocaleString(e,{month:t})),n.setMonth(n.getMonth()+1);return i}function vy(e){let t=[];for(let n=e.from;n<=e.to;n+=1)t.push(n);return t}function by(e){if(e){if(e.length===3)return e.padEnd(4,"0");if(e.length===2){let t=new Date().getFullYear(),n=Math.floor(t/100)*100,i=parseInt(e.slice(-2),10),r=n+i;return r>t+yy?(r-100).toString():r.toString()}return e}}function ii(e,t){let n=t!=null&&t.strict?10:12,i=e-e%10,r=[];for(let s=0;s<n;s+=1){let o=i+s;r.push(o)}return r}function ni(e){return ns(e!=null?e:Lo())}function $i(e,t,n,i){return function(s){let{startDate:o,focusedDate:a}=s,l=cu(o,e);return yt(a,n,i)?{startDate:o,focusedDate:lt(a,n,i),endDate:l}:a.compare(o)<0?{startDate:Ho(a,e,t,n,i),focusedDate:lt(a,n,i),endDate:l}:a.compare(l)>0?{startDate:En(a,e,t,n,i),endDate:l,focusedDate:lt(a,n,i)}:{startDate:o,endDate:l,focusedDate:lt(a,n,i)}}}function pu(e,t,n,i,r,s){let o=$i(n,i,r,s),a=t.add(n);return o({focusedDate:e.add(n),startDate:En(Mi(e,a,n,i,r,s),n,i)})}function mu(e,t,n,i,r,s){let o=$i(n,i,r,s),a=t.subtract(n);return o({focusedDate:e.subtract(n),startDate:En(Mi(e,a,n,i,r,s),n,i)})}function Ey(e,t,n,i,r,s,o){let a=$i(i,r,s,o);if(!n&&!i.days)return a({focusedDate:e.add(Bo(i)),startDate:t});if(i.days)return pu(e,t,i,r,s,o);if(i.weeks)return a({focusedDate:e.add({months:1}),startDate:t});if(i.months||i.years)return a({focusedDate:e.add({years:1}),startDate:t})}function Cy(e,t,n,i,r,s,o){let a=$i(i,r,s,o);if(!n&&!i.days)return a({focusedDate:e.subtract(Bo(i)),startDate:t});if(i.days)return mu(e,t,i,r,s,o);if(i.weeks)return a({focusedDate:e.subtract({months:1}),startDate:t});if(i.months||i.years)return a({focusedDate:e.subtract({years:1}),startDate:t})}function Oy(e,t,n){var c;let i=Sy(t,n),{year:r,month:s,day:o}=(c=Py(i,e))!=null?c:{};if(r!=null||s!=null||o!=null){let u=new Date;r||(r=u.getFullYear().toString()),s||(s=(u.getMonth()+1).toString()),o||(o=u.getDate().toString())}if(Mc(r)||(r=by(r)),Mc(r)&&Iy(s)&&Ty(o))return new oi(+r,+s,+o);let l=Date.parse(e);if(!isNaN(l)){let u=new Date(l);return new oi(u.getFullYear(),u.getMonth()+1,u.getDate())}}function Sy(e,t){return new ct(e,{day:"numeric",month:"numeric",year:"numeric",timeZone:t}).formatToParts(new Date(2e3,11,25)).map(({type:r,value:s})=>r==="literal"?`${s}?`:`((?!=<${r}>)\\d+)?`).join("")}function Py(e,t){var i;let n=t.match(e);return(i=e.toString().match(/<(.+?)>/g))==null?void 0:i.map(r=>{var o;let s=r.match(/<(.+)>/);return!s||s.length<=0?null:(o=r.match(/<(.+)>/))==null?void 0:o[1]}).reduce((r,s,o)=>(s&&(n&&n.length>o?r[s]=n[o+1]:r[s]=null),r),{})}function $c(e,t,n){let i=mn(Kc(n));switch(e){case"thisWeek":return[Fi(i,t),kc(i,t)];case"thisMonth":return[Lt(i),i];case"thisQuarter":return[Lt(i).add({months:-((i.month-1)%3)}),i];case"thisYear":return[Li(i),i];case"last3Days":return[i.add({days:-2}),i];case"last7Days":return[i.add({days:-6}),i];case"last14Days":return[i.add({days:-13}),i];case"last30Days":return[i.add({days:-29}),i];case"last90Days":return[i.add({days:-89}),i];case"lastMonth":return[Lt(i.add({months:-1})),So(i.add({months:-1}))];case"lastQuarter":return[Lt(i.add({months:-((i.month-1)%3)-3})),So(i.add({months:-((i.month-1)%3)-1}))];case"lastWeek":return[Fi(i,t).add({weeks:-1}),kc(i,t).add({weeks:-1})];case"lastYear":return[Li(i.add({years:-1})),xv(i.add({years:-1}))];default:throw new Error(`Invalid date range preset: ${e}`)}}function wy(e={}){var c;let{level:t="polite",document:n=document,root:i,delay:r=0}=e,s=(c=n.defaultView)!=null?c:window,o=i!=null?i:n.body;function a(u,h){let p=n.getElementById(Yr);p==null||p.remove(),h=h!=null?h:r;let d=n.createElement("span");d.id=Yr,d.dataset.liveAnnouncer="true";let g=t!=="assertive"?"status":"alert";d.setAttribute("aria-live",t),d.setAttribute("role",g),Object.assign(d.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),o.appendChild(d),s.setTimeout(()=>{d.textContent=u},h)}function l(){let u=n.getElementById(Yr);u==null||u.remove()}return{announce:a,destroy:l,toJSON(){return Yr}}}function Ro(e){let[t,n]=e,i;return!t||!n?i=e:i=t.compare(n)<=0?e:[n,t],i}function ti(e,t){let[n,i]=t;return!n||!i?!1:n.compare(e)<=0&&i.compare(e)>=0}function jr(e){return e.slice().filter(t=>t!=null).sort((t,n)=>t.compare(n))}function _y(e){return Ve(e,{year:"calendar decade",month:"calendar year",day:"calendar month"})}function By(e){return new ct(e).formatToParts(new Date).map(t=>{var n;return(n=Hy[t.type])!=null?n:t.value}).join("")}function Uy(e){let i=new Intl.DateTimeFormat(e).formatToParts(new Date).find(r=>r.type==="literal");return i?i.value:"/"}function $t(e,t){return e?e==="day"?0:e==="month"?1:2:t||0}function Go(e){return e===0?"day":e===1?"month":"year"}function Uo(e,t,n){return Go(dl($t(e,0),$t(t,0),$t(n,2)))}function Wy(e,t){return $t(e,0)>$t(t,0)}function Ky(e,t){return $t(e,0)<$t(t,0)}function Yy(e,t,n){let i=$t(e,0)+1;return Uo(Go(i),t,n)}function jy(e,t,n){let i=$t(e,0)-1;return Uo(Go(i),t,n)}function Jy(e){Xy.forEach(t=>e(t))}function zy(e,t){let{state:n,context:i,prop:r,send:s,computed:o,scope:a}=e,l=i.get("startValue"),c=o("endValue"),u=i.get("value"),h=i.get("focusedValue"),p=i.get("hoveredValue"),d=p?Ro([u[0],p]):[],g=!!r("disabled"),v=!!r("readOnly"),b=!!r("invalid"),V=o("isInteractive"),S=u.length===0,E=r("min"),f=r("max"),C=r("locale"),I=r("timeZone"),P=r("startOfWeek"),A=n.matches("focused"),w=n.matches("open"),N=r("selectionMode")==="range",R=r("isDateUnavailable"),L=i.get("currentPlacement"),M=Jt(y(m({},r("positioning")),{placement:L})),j=Uy(C),q=m(m({},qy),r("translations"));function Z(D=l){let k=r("fixedWeeks")?6:void 0;return gy(D,C,k,P)}function W(D={}){let{format:k}=D;return my(C,k).map((F,_)=>{let z=_+1,Le=h.set({month:z}),Ie=yt(Le,E,f);return{label:F,value:z,disabled:Ie}})}function ge(){var k,F;return vy({from:(k=E==null?void 0:E.year)!=null?k:1900,to:(F=f==null?void 0:f.year)!=null?F:2100}).map(_=>({label:_.toString(),value:_,disabled:!vr(_,E==null?void 0:E.year,f==null?void 0:f.year)}))}function de(D){return Lc(D,R,C,E,f)}function X(D){let k=l!=null?l:ni(I);s({type:"FOCUS.SET",value:k.set({month:D})})}function ue(D){let k=l!=null?l:ni(I);s({type:"FOCUS.SET",value:k.set({year:D})})}function qe(D){let{value:k,disabled:F}=D,_=h.set({year:k}),Le=!ii(l.year,{strict:!0}).includes(k),Ie=vr(k,E==null?void 0:E.year,f==null?void 0:f.year),ut={focused:h.year===D.value,selectable:Le||Ie,outsideRange:Le,selected:!!u.find(fi=>fi&&fi.year===k),valueText:k.toString(),inRange:N&&(ti(_,u)||ti(_,d)),value:_,get disabled(){return F||!ut.selectable}};return ut}function It(D){let{value:k,disabled:F}=D,_=h.set({month:k}),z=Fc(C,I),Le={focused:h.month===D.value,selectable:!yt(_,E,f),selected:!!u.find(Ie=>Ie&&Ie.month===k&&Ie.year===h.year),valueText:z.format(_.toDate(I)),inRange:N&&(ti(_,u)||ti(_,d)),value:_,get disabled(){return F||!Le.selectable}};return Le}function gi(D){let{value:k,disabled:F,visibleRange:_=o("visibleRange")}=D,z=du(C,I),Le=Bo(o("visibleDuration")),Ie=r("outsideDaySelectable"),ut=_.start.add(Le).subtract({days:1}),fi=yt(k,_.start,ut),eh=N&&ti(k,u),th=N&&Ge(k,u[0]),nh=N&&Ge(k,u[1]),Cs=N&&d.length>0,ya=Cs&&ti(k,d),ih=Cs&&Ge(k,d[0]),rh=Cs&&Ge(k,d[1]),pi={invalid:yt(k,E,f),disabled:F||!Ie&&fi||yt(k,E,f),selected:u.some(sh=>Ge(k,sh)),unavailable:Lc(k,R,C,E,f)&&!F,outsideRange:fi,today:Pv(k,I),weekend:Rv(k,C),formattedDate:z.format(k.toDate(I)),get focused(){return Ge(k,h)&&(!pi.outsideRange||Ie)},get ariaLabel(){return q.dayCell(pi)},get selectable(){return!pi.disabled&&!pi.unavailable},inRange:eh||ya,firstInRange:th,lastInRange:nh,inHoveredRange:ya,firstInHoveredRange:ih,lastInHoveredRange:rh};return pi}function Es(D){let{view:k="day",id:F}=D;return[k,F].filter(Boolean).join(" ")}return{focused:A,open:w,disabled:g,invalid:b,readOnly:v,inline:!!r("inline"),numOfMonths:r("numOfMonths"),selectionMode:r("selectionMode"),view:i.get("view"),getRangePresetValue(D){return $c(D,C,I)},getDaysInWeek(D,k=l){return fu(D,k,C,P)},getOffset(D){let k=l.add(D),F=c.add(D),_=Fc(C,I);return{visibleRange:{start:k,end:F},weeks:Z(k),visibleRangeText:{start:_.format(k.toDate(I)),end:_.format(F.toDate(I))}}},getMonthWeeks:Z,isUnavailable:de,weeks:Z(),weekDays:py(ni(I),P,I,C),visibleRangeText:o("visibleRangeText"),value:u,valueAsDate:u.filter(D=>D!=null).map(D=>D.toDate(I)),valueAsString:o("valueAsString"),focusedValue:h,focusedValueAsDate:h==null?void 0:h.toDate(I),focusedValueAsString:r("format")(h,{locale:C,timeZone:I}),visibleRange:o("visibleRange"),selectToday(){let D=lt(ni(I),E,f);s({type:"VALUE.SET",value:D})},setValue(D){let k=D.map(F=>lt(F,E,f));s({type:"VALUE.SET",value:k})},clearValue(){s({type:"VALUE.CLEAR"})},setFocusedValue(D){s({type:"FOCUS.SET",value:D})},setOpen(D){r("inline")||n.matches("open")===D||s({type:D?"OPEN":"CLOSE"})},focusMonth:X,focusYear:ue,getYears:ge,getMonths:W,getYearsGrid(D={}){let{columns:k=1}=D,F=ii(l.year,{strict:!0}).map(_=>({label:_.toString(),value:_,disabled:!vr(_,E==null?void 0:E.year,f==null?void 0:f.year)}));return Ws(F,k)},getDecade(){let D=ii(l.year,{strict:!0});return{start:D.at(0),end:D.at(-1)}},getMonthsGrid(D={}){let{columns:k=1,format:F}=D;return Ws(W({format:F}),k)},format(D,k={month:"long",year:"numeric"}){return new ct(C,k).format(D.toDate(I))},setView(D){s({type:"VIEW.SET",view:D})},goToNext(){s({type:"GOTO.NEXT",view:i.get("view")})},goToPrev(){s({type:"GOTO.PREV",view:i.get("view")})},getRootProps(){return t.element(y(m({},se.root.attrs),{dir:r("dir"),id:ky(a),"data-state":w?"open":"closed","data-disabled":T(g),"data-readonly":T(v),"data-empty":T(S)}))},getLabelProps(D={}){let{index:k=0}=D;return t.label(y(m({},se.label.attrs),{id:xy(a,k),dir:r("dir"),htmlFor:_c(a,k),"data-state":w?"open":"closed","data-index":k,"data-disabled":T(g),"data-readonly":T(v)}))},getControlProps(){return t.element(y(m({},se.control.attrs),{dir:r("dir"),id:yu(a),"data-disabled":T(g),"data-placeholder-shown":T(S)}))},getRangeTextProps(){return t.element(y(m({},se.rangeText.attrs),{dir:r("dir")}))},getContentProps(){return t.element(y(m({},se.content.attrs),{hidden:!w,dir:r("dir"),"data-state":w?"open":"closed","data-placement":L,"data-inline":T(r("inline")),id:Ao(a),tabIndex:-1,role:"application","aria-roledescription":"datepicker","aria-label":q.content}))},getTableProps(D={}){let{view:k="day",columns:F=k==="day"?7:4}=D,_=Es(D);return t.element(y(m({},se.table.attrs),{role:"grid","data-columns":F,"aria-roledescription":_y(k),id:Ny(a,_),"aria-readonly":ie(v),"aria-disabled":ie(g),"aria-multiselectable":ie(r("selectionMode")!=="single"),"data-view":k,dir:r("dir"),tabIndex:-1,onKeyDown(z){if(z.defaultPrevented)return;let Ie={Enter(){k==="day"&&de(h)||k==="month"&&!It({value:h.month}).selectable||k==="year"&&!qe({value:h.year}).selectable||s({type:"TABLE.ENTER",view:k,columns:F,focus:!0})},ArrowLeft(){s({type:"TABLE.ARROW_LEFT",view:k,columns:F,focus:!0})},ArrowRight(){s({type:"TABLE.ARROW_RIGHT",view:k,columns:F,focus:!0})},ArrowUp(){s({type:"TABLE.ARROW_UP",view:k,columns:F,focus:!0})},ArrowDown(){s({type:"TABLE.ARROW_DOWN",view:k,columns:F,focus:!0})},PageUp(ut){s({type:"TABLE.PAGE_UP",larger:ut.shiftKey,view:k,columns:F,focus:!0})},PageDown(ut){s({type:"TABLE.PAGE_DOWN",larger:ut.shiftKey,view:k,columns:F,focus:!0})},Home(){s({type:"TABLE.HOME",view:k,columns:F,focus:!0})},End(){s({type:"TABLE.END",view:k,columns:F,focus:!0})}}[ve(z,{dir:r("dir")})];Ie&&(Ie(z),z.preventDefault(),z.stopPropagation())},onPointerLeave(){s({type:"TABLE.POINTER_LEAVE"})},onPointerDown(){s({type:"TABLE.POINTER_DOWN",view:k})},onPointerUp(){s({type:"TABLE.POINTER_UP",view:k})}}))},getTableHeadProps(D={}){let{view:k="day"}=D;return t.element(y(m({},se.tableHead.attrs),{"aria-hidden":!0,dir:r("dir"),"data-view":k,"data-disabled":T(g)}))},getTableHeaderProps(D={}){let{view:k="day"}=D;return t.element(y(m({},se.tableHeader.attrs),{dir:r("dir"),"data-view":k,"data-disabled":T(g)}))},getTableBodyProps(D={}){let{view:k="day"}=D;return t.element(y(m({},se.tableBody.attrs),{"data-view":k,"data-disabled":T(g)}))},getTableRowProps(D={}){let{view:k="day"}=D;return t.element(y(m({},se.tableRow.attrs),{"aria-disabled":ie(g),"data-disabled":T(g),"data-view":k}))},getDayTableCellState:gi,getDayTableCellProps(D){let{value:k}=D,F=gi(D);return t.element(y(m({},se.tableCell.attrs),{role:"gridcell","aria-disabled":ie(!F.selectable),"aria-selected":F.selected||F.inRange,"aria-invalid":ie(F.invalid),"aria-current":F.today?"date":void 0,"data-value":k.toString()}))},getDayTableCellTriggerProps(D){let{value:k}=D,F=gi(D);return t.element(y(m({},se.tableCellTrigger.attrs),{id:Oo(a,k.toString()),role:"button",dir:r("dir"),tabIndex:F.focused?0:-1,"aria-label":F.ariaLabel,"aria-disabled":ie(!F.selectable),"aria-invalid":ie(F.invalid),"data-disabled":T(!F.selectable),"data-selected":T(F.selected),"data-value":k.toString(),"data-view":"day","data-today":T(F.today),"data-focus":T(F.focused),"data-unavailable":T(F.unavailable),"data-range-start":T(F.firstInRange),"data-range-end":T(F.lastInRange),"data-in-range":T(F.inRange),"data-outside-range":T(F.outsideRange),"data-weekend":T(F.weekend),"data-in-hover-range":T(F.inHoveredRange),"data-hover-range-start":T(F.firstInHoveredRange),"data-hover-range-end":T(F.lastInHoveredRange),onClick(_){_.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"day",value:k})},onPointerMove:N?_=>{if(_.pointerType==="touch"||!F.selectable)return;let z=!a.isActiveElement(_.currentTarget);p&&Tv(k,p)||s({type:"CELL.POINTER_MOVE",cell:"day",value:k,focus:z})}:void 0}))},getMonthTableCellState:It,getMonthTableCellProps(D){let{value:k,columns:F}=D,_=It(D);return t.element(y(m({},se.tableCell.attrs),{dir:r("dir"),colSpan:F,role:"gridcell","aria-selected":ie(_.selected||_.inRange),"data-selected":T(_.selected),"aria-disabled":ie(!_.selectable),"data-value":k}))},getMonthTableCellTriggerProps(D){let{value:k}=D,F=It(D);return t.element(y(m({},se.tableCellTrigger.attrs),{dir:r("dir"),role:"button",id:Oo(a,k.toString()),"data-selected":T(F.selected),"aria-disabled":ie(!F.selectable),"data-disabled":T(!F.selectable),"data-focus":T(F.focused),"data-in-range":T(F.inRange),"data-outside-range":T(F.outsideRange),"aria-label":F.valueText,"data-view":"month","data-value":k,tabIndex:F.focused?0:-1,onClick(_){_.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"month",value:k})},onPointerMove:N?_=>{if(_.pointerType==="touch"||!F.selectable)return;let z=!a.isActiveElement(_.currentTarget);p&&F.value&&Ov(F.value,p)||s({type:"CELL.POINTER_MOVE",cell:"month",value:F.value,focus:z})}:void 0}))},getYearTableCellState:qe,getYearTableCellProps(D){let{value:k,columns:F}=D,_=qe(D);return t.element(y(m({},se.tableCell.attrs),{dir:r("dir"),colSpan:F,role:"gridcell","aria-selected":ie(_.selected),"data-selected":T(_.selected),"aria-disabled":ie(!_.selectable),"data-value":k}))},getYearTableCellTriggerProps(D){let{value:k}=D,F=qe(D);return t.element(y(m({},se.tableCellTrigger.attrs),{dir:r("dir"),role:"button",id:Oo(a,k.toString()),"data-selected":T(F.selected),"data-focus":T(F.focused),"data-in-range":T(F.inRange),"aria-disabled":ie(!F.selectable),"data-disabled":T(!F.selectable),"aria-label":F.valueText,"data-outside-range":T(F.outsideRange),"data-value":k,"data-view":"year",tabIndex:F.focused?0:-1,onClick(_){_.defaultPrevented||F.selectable&&s({type:"CELL.CLICK",cell:"year",value:k})},onPointerMove:N?_=>{if(_.pointerType==="touch"||!F.selectable)return;let z=!a.isActiveElement(_.currentTarget);p&&F.value&&Sv(F.value,p)||s({type:"CELL.POINTER_MOVE",cell:"year",value:F.value,focus:z})}:void 0}))},getNextTriggerProps(D={}){let{view:k="day"}=D,F=g||!o("isNextVisibleRangeValid");return t.button(y(m({},se.nextTrigger.attrs),{dir:r("dir"),id:Ry(a,k),type:"button","aria-label":q.nextTrigger(k),disabled:F,"data-disabled":T(F),onClick(_){_.defaultPrevented||s({type:"GOTO.NEXT",view:k})}}))},getPrevTriggerProps(D={}){let{view:k="day"}=D,F=g||!o("isPrevVisibleRangeValid");return t.button(y(m({},se.prevTrigger.attrs),{dir:r("dir"),id:Ay(a,k),type:"button","aria-label":q.prevTrigger(k),disabled:F,"data-disabled":T(F),onClick(_){_.defaultPrevented||s({type:"GOTO.PREV",view:k})}}))},getClearTriggerProps(){return t.button(y(m({},se.clearTrigger.attrs),{id:vu(a),dir:r("dir"),type:"button","aria-label":q.clearTrigger,hidden:!u.length,onClick(D){D.defaultPrevented||s({type:"VALUE.CLEAR"})}}))},getTriggerProps(){return t.button(y(m({},se.trigger.attrs),{id:bu(a),dir:r("dir"),type:"button","data-placement":L,"aria-label":q.trigger(w),"aria-controls":Ao(a),"data-state":w?"open":"closed","data-placeholder-shown":T(S),"aria-haspopup":"grid",disabled:g,onClick(D){D.defaultPrevented||V&&s({type:"TRIGGER.CLICK"})}}))},getViewProps(D={}){let{view:k="day"}=D;return t.element(y(m({},se.view.attrs),{"data-view":k,hidden:i.get("view")!==k}))},getViewTriggerProps(D={}){let{view:k="day"}=D;return t.button(y(m({},se.viewTrigger.attrs),{"data-view":k,dir:r("dir"),id:Dy(a,k),type:"button",disabled:g,"aria-label":q.viewTrigger(k),onClick(F){F.defaultPrevented||V&&s({type:"VIEW.TOGGLE",src:"viewTrigger"})}}))},getViewControlProps(D={}){let{view:k="day"}=D;return t.element(y(m({},se.viewControl.attrs),{"data-view":k,dir:r("dir")}))},getInputProps(D={}){let{index:k=0,fixOnBlur:F=!0}=D;return t.input(y(m({},se.input.attrs),{id:_c(a,k),autoComplete:"off",autoCorrect:"off",spellCheck:"false",dir:r("dir"),name:r("name"),"data-index":k,"data-state":w?"open":"closed","data-placeholder-shown":T(S),readOnly:v,disabled:g,required:r("required"),"aria-invalid":ie(b),"data-invalid":T(b),placeholder:r("placeholder")||By(C),defaultValue:o("valueAsString")[k],onBeforeInput(_){let{data:z}=Ms(_);Ou(z,j)||_.preventDefault()},onFocus(){s({type:"INPUT.FOCUS",index:k})},onBlur(_){let z=_.currentTarget.value.trim();s({type:"INPUT.BLUR",value:z,index:k,fixOnBlur:F})},onKeyDown(_){if(_.defaultPrevented||!V)return;let Le={Enter(Ie){Vt(Ie)||de(h)||Ie.currentTarget.value.trim()!==""&&s({type:"INPUT.ENTER",value:Ie.currentTarget.value,index:k})}}[_.key];Le&&(Le(_),_.preventDefault())},onInput(_){let z=_.currentTarget.value;s({type:"INPUT.CHANGE",value:Gy(z,j),index:k})}}))},getMonthSelectProps(){return t.select(y(m({},se.monthSelect.attrs),{id:Cu(a),"aria-label":q.monthSelect,disabled:g,dir:r("dir"),defaultValue:l.month,onChange(D){X(Number(D.currentTarget.value))}}))},getYearSelectProps(){return t.select(y(m({},se.yearSelect.attrs),{id:Iu(a),disabled:g,"aria-label":q.yearSelect,dir:r("dir"),defaultValue:l.year,onChange(D){ue(Number(D.currentTarget.value))}}))},getPositionerProps(){return t.element(y(m({id:Eu(a)},se.positioner.attrs),{dir:r("dir"),style:M.floating}))},getPresetTriggerProps(D){let k=Array.isArray(D.value)?D.value:$c(D.value,C,I),F=k.filter(_=>_!=null).map(_=>_.toDate(I).toDateString());return t.button(y(m({},se.presetTrigger.attrs),{"aria-label":q.presetTrigger(F),type:"button",onClick(_){_.defaultPrevented||s({type:"PRESET.CLICK",value:k})}}))}}}function Qy(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!1;let n=Math.max(e.length,t.length);for(let i=0;i<n;i++)if(!Ge(e[i],t[i]))return!1;return!0}function Xr(e,t){return e.map(n=>n==null?"":t("format")(n,{locale:t("locale"),timeZone:t("timeZone")}))}function ae(e,t){let{context:n,prop:i,computed:r}=e;if(!t)return;let s=Qr(e,t);if(Ge(n.get("focusedValue"),s))return;let a=$i(r("visibleDuration"),i("locale"),i("min"),i("max"))({focusedDate:s,startDate:n.get("startValue")});n.set("startValue",a.startDate),n.set("focusedValue",a.focusedDate)}function Jr(e,t){let{context:n}=e;n.set("startValue",t.startDate);let i=n.get("focusedValue");Ge(i,t.focusedDate)||n.set("focusedValue",t.focusedDate)}function Je(e){return Array.isArray(e)?e.map(t=>Je(t)):e instanceof Date?new oi(e.getFullYear(),e.getMonth()+1,e.getDate()):Xv(e)}function Uc(e){let t=n=>String(n).padStart(2,"0");return`${e.year}-${t(e.month)}-${t(e.day)}`}var qc,bv,ri,Ev,wv,yo,Nc,bo,Av,Ac,Rc,Ri,Kv,Yv,jv,ET,ey,oi,ty,ny,iy,au,Co,ct,ry,Io,To,hy,yy,Mc,Iy,Ty,Yr,Vy,se,xy,ky,Ny,Ao,Oo,Ay,Ry,Dy,vu,yu,_c,bu,Eu,Cu,Iu,Hc,Bc,zr,Di,Ly,Fy,My,$y,Tu,Hy,Ou,Gc,Gy,qy,Xy,Zy,Xe,eb,Qr,tb,CT,nb,IT,ib,TT,rb,OT,sb,ST,ob,PT,ab,lb,Pu=fe(()=>{"use strict";Ni();gn();me();qc=1721426;bv={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]},ri=class{fromJulianDay(e){let t=e,n=t-qc,i=Math.floor(n/146097),r=vo(n,146097),s=Math.floor(r/36524),o=vo(r,36524),a=Math.floor(o/1461),l=vo(o,1461),c=Math.floor(l/365),u=i*400+s*100+a*4+c+(s!==4&&c!==4?1:0),[h,p]=yv(u),d=t-qr(h,p,1,1),g=2;t<qr(h,p,3,1)?g=0:Zr(p)&&(g=1);let v=Math.floor(((d+g)*12+373)/367),b=t-qr(h,p,v,1)+1;return new oi(h,p,v,b)}toJulianDay(e){return qr(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return bv[Zr(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return Zr(e.year)?366:365}getMaximumMonthsInYear(){return 12}getMaximumDaysInMonth(){return 31}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}},Ev={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};wv={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};yo=null;Nc=new Map,bo=new Map;Av={AF:[4,5],AE:[5,6],BH:[5,6],DZ:[5,6],EG:[5,6],IL:[5,6],IQ:[5,6],IR:[5,5],JO:[5,6],KW:[5,6],LY:[5,6],OM:[5,6],QA:[5,6],SA:[5,6],SD:[5,6],SY:[5,6],YE:[5,6]};Ac=new Map;Rc=864e5;Ri=36e5;Kv=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,Yv=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/,jv=["hours","minutes","seconds"],ET=["years","months","weeks","days",...jv];ey=new WeakMap,oi=class xo{copy(){return this.era?new xo(this.calendar,this.era,this.year,this.month,this.day):new xo(this.calendar,this.year,this.month,this.day)}add(t){return is(this,t)}subtract(t){return nu(this,t)}set(t){return Fo(this,t)}cycle(t,n,i){return Mo(this,t,n,i)}toDate(t){return Qc(this,t)}toString(){return su(this)}compare(t){return Yc(this,t)}constructor(...t){$o(this,ey,{writable:!0,value:void 0});let[n,i,r,s,o]=_o(t);this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=o,yn(this)}},ty=new WeakMap,ny=class ko{copy(){return this.era?new ko(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new ko(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return is(this,t)}subtract(t){return nu(this,t)}set(t){return Fo(es(this,t),t)}cycle(t,n,i){switch(t){case"era":case"year":case"month":case"day":return Mo(this,t,n,i);default:return iu(this,t,n,i)}}toDate(t,n){return Qc(this,t,n)}toString(){return ou(this)}compare(t){let n=Yc(this,t);return n===0?Vv(this,vn(t)):n}constructor(...t){$o(this,ty,{writable:!0,value:void 0});let[n,i,r,s,o]=_o(t);this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=o,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,yn(this)}},iy=new WeakMap,au=class No{copy(){return this.era?new No(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new No(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return ru(this,t)}subtract(t){return Uv(this,t)}set(t,n){return Wv(this,t,n)}cycle(t,n,i){return qv(this,t,n,i)}toDate(){return Mv(this)}toString(){return zv(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-Fv(t,this.timeZone).toDate().getTime()}constructor(...t){$o(this,iy,{writable:!0,value:void 0});let[n,i,r,s,o]=_o(t),a=t.shift(),l=t.shift();this.calendar=n,this.era=i,this.year=r,this.month=s,this.day=o,this.timeZone=a,this.offset=l,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,yn(this)}},Co=new Map,ct=class{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} \u2013 ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...n.map(r=>y(m({},r),{source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(r=>y(m({},r),{source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return oy()&&(this.resolvedHourCycle||(this.resolvedHourCycle=ay(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=lu(e,t),this.options=t}},ry={true:{ja:"h11"},false:{}};Io=null;To=null;hy=["sun","mon","tue","wed","thu","fri","sat"];yy=10;Mc=e=>e!=null&&e.length===4,Iy=e=>e!=null&&parseFloat(e)<=12,Ty=e=>e!=null&&parseFloat(e)<=31;Yr="__live-region__";Vy=J("date-picker").parts("clearTrigger","content","control","input","label","monthSelect","nextTrigger","positioner","presetTrigger","prevTrigger","rangeText","root","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","view","viewControl","viewTrigger","yearSelect"),se=Vy.build(),xy=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.label)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:label:${t}`},ky=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`datepicker:${e.id}`},Ny=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.table)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:table:${t}`},Ao=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`datepicker:${e.id}:content`},Oo=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.cellTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:cell-trigger:${t}`},Ay=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.prevTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:prev:${t}`},Ry=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.nextTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:next:${t}`},Dy=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.viewTrigger)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:view:${t}`},vu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`datepicker:${e.id}:clear`},yu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`datepicker:${e.id}:control`},_c=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.input)==null?void 0:i.call(n,t))!=null?r:`datepicker:${e.id}:input:${t}`},bu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`datepicker:${e.id}:trigger`},Eu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`datepicker:${e.id}:positioner`},Cu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.monthSelect)!=null?n:`datepicker:${e.id}:month-select`},Iu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.yearSelect)!=null?n:`datepicker:${e.id}:year-select`},Hc=(e,t)=>Mn(zr(e),`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`),Bc=e=>e.getById(bu(e)),zr=e=>e.getById(Ao(e)),Di=e=>dt(Tu(e),"[data-part=input]"),Ly=e=>e.getById(Iu(e)),Fy=e=>e.getById(Cu(e)),My=e=>e.getById(vu(e)),$y=e=>e.getById(Eu(e)),Tu=e=>e.getById(yu(e));Hy={day:"dd",month:"mm",year:"yyyy"};Ou=(e,t)=>e?/\d/.test(e)||e===t||e.length!==1:!0,Gc=e=>!Number.isNaN(e.day)&&!Number.isNaN(e.month)&&!Number.isNaN(e.year),Gy=(e,t)=>e.split("").filter(n=>Ou(n,t)).join("");qy={dayCell(e){return e.unavailable?`Not available. ${e.formattedDate}`:e.selected?`Selected date. ${e.formattedDate}`:`Choose ${e.formattedDate}`},trigger(e){return e?"Close calendar":"Open calendar"},viewTrigger(e){return Ve(e,{year:"Switch to month view",month:"Switch to day view",day:"Switch to year view"})},presetTrigger(e){let[t="",n=""]=e;return`select ${t} to ${n}`},prevTrigger(e){return Ve(e,{year:"Switch to previous decade",month:"Switch to previous year",day:"Switch to previous month"})},nextTrigger(e){return Ve(e,{year:"Switch to next decade",month:"Switch to next year",day:"Switch to next month"})},placeholder(){return{day:"dd",month:"mm",year:"yyyy"}},content:"calendar",monthSelect:"Select month",yearSelect:"Select year",clearTrigger:"Clear selected dates"};Xy=["day","month","year"];Zy=gl(e=>[e.view,e.startValue.toString(),e.endValue.toString(),e.locale],([e],t)=>{let{startValue:n,endValue:i,locale:r,timeZone:s,selectionMode:o}=t;if(e==="year"){let h=ii(n.year,{strict:!0}),p=h.at(0).toString(),d=h.at(-1).toString();return{start:p,end:d,formatted:`${p} - ${d}`}}if(e==="month"){let h=new ct(r,{year:"numeric",timeZone:s}),p=h.format(n.toDate(s)),d=h.format(i.toDate(s)),g=o==="range"?`${p} - ${d}`:p;return{start:p,end:d,formatted:g}}let a=new ct(r,{month:"long",year:"numeric",timeZone:s}),l=a.format(n.toDate(s)),c=a.format(i.toDate(s)),u=o==="range"?`${l} - ${c}`:l;return{start:l,end:c,formatted:u}});({and:Xe}=ye());eb={props({props:e}){let t=e.locale||"en-US",n=e.timeZone||"UTC",i=e.selectionMode||"single",r=e.numOfMonths||1,s=e.defaultValue?jr(e.defaultValue).map(h=>lt(h,e.min,e.max)):void 0,o=e.value?jr(e.value).map(h=>lt(h,e.min,e.max)):void 0,a=e.focusedValue||e.defaultFocusedValue||(o==null?void 0:o[0])||(s==null?void 0:s[0])||ni(n);a=lt(a,e.min,e.max);let l="day",c="year",u=Uo(e.view||l,l,c);return y(m({locale:t,numOfMonths:r,timeZone:n,selectionMode:i,defaultView:u,minView:l,maxView:c,outsideDaySelectable:!1,closeOnSelect:!0,format(h,{locale:p,timeZone:d}){return new ct(p,{timeZone:d,day:"2-digit",month:"2-digit",year:"numeric"}).format(h.toDate(d))},parse(h,{locale:p,timeZone:d}){return Oy(h,p,d)}},e),{focusedValue:typeof e.focusedValue=="undefined"?void 0:a,defaultFocusedValue:a,value:o,defaultValue:s!=null?s:[],positioning:m({placement:"bottom"},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},refs(){return{announcer:void 0}},context({prop:e,bindable:t,getContext:n}){return{focusedValue:t(()=>({defaultValue:e("defaultFocusedValue"),value:e("focusedValue"),isEqual:Ge,hash:i=>i.toString(),sync:!0,onChange(i){var l;let r=n(),s=r.get("view"),o=r.get("value"),a=Xr(o,e);(l=e("onFocusChange"))==null||l({value:o,valueAsString:a,view:s,focusedValue:i})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:Qy,hash:i=>i.map(r=>{var s;return(s=r==null?void 0:r.toString())!=null?s:""}).join(","),onChange(i){var o;let r=n(),s=Xr(i,e);(o=e("onValueChange"))==null||o({value:i,valueAsString:s,view:r.get("view")})}})),inputValue:t(()=>({defaultValue:""})),activeIndex:t(()=>({defaultValue:0,sync:!0})),hoveredValue:t(()=>({defaultValue:null,isEqual:Ge})),view:t(()=>({defaultValue:e("defaultView"),value:e("view"),onChange(i){var r;(r=e("onViewChange"))==null||r({view:i})}})),startValue:t(()=>{let i=e("focusedValue")||e("defaultFocusedValue");return{defaultValue:Dc(i,"start",{months:e("numOfMonths")},e("locale")),isEqual:Ge,hash:r=>r.toString()}}),currentPlacement:t(()=>({defaultValue:void 0})),restoreFocus:t(()=>({defaultValue:!1}))}},computed:{isInteractive:({prop:e})=>!e("disabled")&&!e("readOnly"),visibleDuration:({prop:e})=>({months:e("numOfMonths")}),endValue:({context:e,computed:t})=>cu(e.get("startValue"),t("visibleDuration")),visibleRange:({context:e,computed:t})=>({start:e.get("startValue"),end:t("endValue")}),visibleRangeText:({context:e,prop:t,computed:n})=>Zy({view:e.get("view"),startValue:e.get("startValue"),endValue:n("endValue"),locale:t("locale"),timeZone:t("timeZone"),selectionMode:t("selectionMode")}),isPrevVisibleRangeValid:({context:e,prop:t})=>!cy(e.get("startValue"),t("min"),t("max")),isNextVisibleRangeValid:({prop:e,computed:t})=>!uy(t("endValue"),e("min"),e("max")),valueAsString:({context:e,prop:t})=>Xr(e.get("value"),t)},effects:["setupLiveRegion"],watch({track:e,prop:t,context:n,action:i,computed:r}){e([()=>t("locale")],()=>{i(["setStartValue","syncInputElement"])}),e([()=>n.hash("focusedValue")],()=>{i(["setStartValue","focusActiveCellIfNeeded","setHoveredValueIfKeyboard"])}),e([()=>n.hash("startValue")],()=>{i(["syncMonthSelectElement","syncYearSelectElement","invokeOnVisibleRangeChange"])}),e([()=>n.get("inputValue")],()=>{i(["syncInputValue"])}),e([()=>n.hash("value")],()=>{i(["syncInputElement"])}),e([()=>r("valueAsString").toString()],()=>{i(["announceValueText"])}),e([()=>n.get("view")],()=>{i(["focusActiveCell"])}),e([()=>t("open")],()=>{i(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setDateValue","setFocusedDate"]},"VIEW.SET":{actions:["setView"]},"FOCUS.SET":{actions:["setFocusedDate"]},"VALUE.CLEAR":{actions:["clearDateValue","clearFocusedDate","focusFirstInputElement"]},"INPUT.CHANGE":[{guard:"isInputValueEmpty",actions:["setInputValue","clearDateValue","clearFocusedDate"]},{actions:["setInputValue","focusParsedDate"]}],"INPUT.ENTER":{actions:["focusParsedDate","selectFocusedDate"]},"INPUT.FOCUS":{actions:["setActiveIndex"]},"INPUT.BLUR":[{guard:"shouldFixOnBlur",actions:["setActiveIndexToStart","selectParsedDate"]},{actions:["setActiveIndexToStart"]}],"PRESET.CLICK":[{guard:"isOpenControlled",actions:["setDateValue","setFocusedDate","invokeOnClose"]},{target:"focused",actions:["setDateValue","setFocusedDate","focusInputElement"]}],"GOTO.NEXT":[{guard:"isYearView",actions:["focusNextDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusNextYear","announceVisibleRange"]},{actions:["focusNextPage"]}],"GOTO.PREV":[{guard:"isYearView",actions:["focusPreviousDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusPreviousYear","announceVisibleRange"]},{actions:["focusPreviousPage"]}]},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],exit:["clearHoveredDate","resetView"],on:{"CONTROLLED.CLOSE":[{guard:Xe("shouldRestoreFocus","isInteractOutsideEvent"),target:"focused",actions:["focusTriggerElement"]},{guard:"shouldRestoreFocus",target:"focused",actions:["focusInputElement"]},{target:"idle"}],"CELL.CLICK":[{guard:"isAboveMinView",actions:["setFocusedValueForView","setPreviousView"]},{guard:Xe("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","resetSelection","setActiveIndexToEnd"]},{guard:Xe("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","setRestoreFocus"]},{guard:Xe("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:Xe("isRangePicker","isSelectingEndDate"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setFocusedDate","setSelectedDate","setActiveIndexToEnd"]},{guard:"isMultiPicker",actions:["setFocusedDate","toggleSelectedDate"]},{guard:Xe("closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setFocusedDate","setSelectedDate","invokeOnClose","focusInputElement"]},{actions:["setFocusedDate","setSelectedDate"]}],"CELL.POINTER_MOVE":{guard:Xe("isRangePicker","isSelectingEndDate"),actions:["setHoveredDate","setFocusedDate"]},"TABLE.POINTER_LEAVE":{guard:"isRangePicker",actions:["clearHoveredDate"]},"TABLE.POINTER_DOWN":{actions:["disableTextSelection"]},"TABLE.POINTER_UP":{actions:["enableTextSelection"]},"TABLE.ESCAPE":[{guard:"isOpenControlled",actions:["focusFirstSelectedDate","invokeOnClose"]},{target:"focused",actions:["focusFirstSelectedDate","invokeOnClose","focusTriggerElement"]}],"TABLE.ENTER":[{guard:"isAboveMinView",actions:["setPreviousView"]},{guard:Xe("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","clearDateValue","setSelectedDate","setActiveIndexToEnd"]},{guard:Xe("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose"]},{guard:Xe("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:Xe("isRangePicker","isSelectingEndDate"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setSelectedDate","setActiveIndexToEnd","focusNextDay"]},{guard:"isMultiPicker",actions:["toggleSelectedDate"]},{guard:Xe("closeOnSelect","isOpenControlled"),actions:["selectFocusedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectFocusedDate","invokeOnClose","focusInputElement"]},{actions:["selectFocusedDate"]}],"TABLE.ARROW_RIGHT":[{guard:"isMonthView",actions:["focusNextMonth"]},{guard:"isYearView",actions:["focusNextYear"]},{actions:["focusNextDay","setHoveredDate"]}],"TABLE.ARROW_LEFT":[{guard:"isMonthView",actions:["focusPreviousMonth"]},{guard:"isYearView",actions:["focusPreviousYear"]},{actions:["focusPreviousDay"]}],"TABLE.ARROW_UP":[{guard:"isMonthView",actions:["focusPreviousMonthColumn"]},{guard:"isYearView",actions:["focusPreviousYearColumn"]},{actions:["focusPreviousWeek"]}],"TABLE.ARROW_DOWN":[{guard:"isMonthView",actions:["focusNextMonthColumn"]},{guard:"isYearView",actions:["focusNextYearColumn"]},{actions:["focusNextWeek"]}],"TABLE.PAGE_UP":{actions:["focusPreviousSection"]},"TABLE.PAGE_DOWN":{actions:["focusNextSection"]},"TABLE.HOME":[{guard:"isMonthView",actions:["focusFirstMonth"]},{guard:"isYearView",actions:["focusFirstYear"]},{actions:["focusSectionStart"]}],"TABLE.END":[{guard:"isMonthView",actions:["focusLastMonth"]},{guard:"isYearView",actions:["focusLastYear"]},{actions:["focusSectionEnd"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"VIEW.TOGGLE":{actions:["setNextView"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["setActiveIndexToStart","invokeOnClose","focusTriggerElement"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}]}}},implementations:{guards:{isAboveMinView:({context:e,prop:t})=>Wy(e.get("view"),t("minView")),isDayView:({context:e,event:t})=>(t.view||e.get("view"))==="day",isMonthView:({context:e,event:t})=>(t.view||e.get("view"))==="month",isYearView:({context:e,event:t})=>(t.view||e.get("view"))==="year",isRangePicker:({prop:e})=>e("selectionMode")==="range",hasSelectedRange:({context:e})=>e.get("value").length===2,isMultiPicker:({prop:e})=>e("selectionMode")==="multiple",shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus"),isSelectingEndDate:({context:e})=>e.get("activeIndex")===1,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),isInteractOutsideEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="INTERACT_OUTSIDE"},isInputValueEmpty:({event:e})=>e.value.trim()==="",shouldFixOnBlur:({event:e})=>!!e.fixOnBlur},effects:{trackPositioning({context:e,prop:t,scope:n}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);let i=Tu(n);return at(i,()=>$y(n),y(m({},t("positioning")),{defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}}))},setupLiveRegion({scope:e,refs:t}){let n=e.getDoc();return t.set("announcer",wy({level:"assertive",document:n})),()=>{var i,r;return(r=(i=t.get("announcer"))==null?void 0:i.destroy)==null?void 0:r.call(i)}},trackDismissableElement({scope:e,send:t,context:n,prop:i}){return i("inline")?void 0:vt(()=>zr(e),{type:"popover",defer:!0,exclude:[...Di(e),Bc(e),My(e)],onInteractOutside(s){n.set("restoreFocus",!s.detail.focusable)},onDismiss(){t({type:"INTERACT_OUTSIDE"})},onEscapeKeyDown(s){s.preventDefault(),t({type:"TABLE.ESCAPE",src:"dismissable"})}})}},actions:{setNextView({context:e,prop:t}){let n=Yy(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setPreviousView({context:e,prop:t}){let n=jy(e.get("view"),t("minView"),t("maxView"));e.set("view",n)},setView({context:e,event:t}){e.set("view",t.view)},setRestoreFocus({context:e}){e.set("restoreFocus",!0)},announceValueText({context:e,prop:t,refs:n}){var a;let i=e.get("value"),r=t("locale"),s=t("timeZone"),o;if(t("selectionMode")==="range"){let[l,c]=i;l&&c?o=Kr(l,c,r,s):l?o=Kr(l,null,r,s):c?o=Kr(c,null,r,s):o=""}else o=i.map(l=>Kr(l,null,r,s)).filter(Boolean).join(",");(a=n.get("announcer"))==null||a.announce(o,3e3)},announceVisibleRange({computed:e,refs:t}){var i;let{formatted:n}=e("visibleRangeText");(i=t.get("announcer"))==null||i.announce(n)},disableTextSelection({scope:e}){Bs({target:zr(e),doc:e.getDoc()})},enableTextSelection({scope:e}){Hs({doc:e.getDoc(),target:zr(e)})},focusFirstSelectedDate(e){let{context:t}=e;t.get("value").length&&ae(e,t.get("value")[0])},syncInputElement({scope:e,computed:t}){H(()=>{Di(e).forEach((i,r)=>{xt(i,t("valueAsString")[r]||"")})})},setFocusedDate(e){let{event:t}=e,n=Array.isArray(t.value)?t.value[0]:t.value;ae(e,n)},setFocusedValueForView(e){let{context:t,event:n}=e;ae(e,t.get("focusedValue").set({[t.get("view")]:n.value}))},focusNextMonth(e){let{context:t}=e;ae(e,t.get("focusedValue").add({months:1}))},focusPreviousMonth(e){let{context:t}=e;ae(e,t.get("focusedValue").subtract({months:1}))},setDateValue({context:e,event:t,prop:n}){if(!Array.isArray(t.value))return;let i=t.value.map(r=>lt(r,n("min"),n("max")));e.set("value",i)},clearDateValue({context:e}){e.set("value",[])},setSelectedDate(e){var r;let{context:t,event:n}=e,i=Array.from(t.get("value"));i[t.get("activeIndex")]=Qr(e,(r=n.value)!=null?r:t.get("focusedValue")),t.set("value",Ro(i))},resetSelection(e){var r;let{context:t,event:n}=e,i=Qr(e,(r=n.value)!=null?r:t.get("focusedValue"));t.set("value",[i])},toggleSelectedDate(e){var s;let{context:t,event:n}=e,i=Qr(e,(s=n.value)!=null?s:t.get("focusedValue")),r=t.get("value").findIndex(o=>Ge(o,i));if(r===-1){let o=[...t.get("value"),i];t.set("value",jr(o))}else{let o=Array.from(t.get("value"));o.splice(r,1),t.set("value",jr(o))}},setHoveredDate({context:e,event:t}){e.set("hoveredValue",t.value)},clearHoveredDate({context:e}){e.set("hoveredValue",null)},selectFocusedDate({context:e,computed:t}){let n=Array.from(e.get("value")),i=e.get("activeIndex");n[i]=e.get("focusedValue").copy(),e.set("value",Ro(n));let r=t("valueAsString");e.set("inputValue",r[i])},focusPreviousDay(e){let{context:t}=e,n=t.get("focusedValue").subtract({days:1});ae(e,n)},focusNextDay(e){let{context:t}=e,n=t.get("focusedValue").add({days:1});ae(e,n)},focusPreviousWeek(e){let{context:t}=e,n=t.get("focusedValue").subtract({weeks:1});ae(e,n)},focusNextWeek(e){let{context:t}=e,n=t.get("focusedValue").add({weeks:1});ae(e,n)},focusNextPage(e){let{context:t,computed:n,prop:i}=e,r=pu(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),i("locale"),i("min"),i("max"));Jr(e,r)},focusPreviousPage(e){let{context:t,computed:n,prop:i}=e,r=mu(t.get("focusedValue"),t.get("startValue"),n("visibleDuration"),i("locale"),i("min"),i("max"));Jr(e,r)},focusSectionStart(e){let{context:t}=e;ae(e,t.get("startValue").copy())},focusSectionEnd(e){let{computed:t}=e;ae(e,t("endValue").copy())},focusNextSection(e){let{context:t,event:n,computed:i,prop:r}=e,s=Ey(t.get("focusedValue"),t.get("startValue"),n.larger,i("visibleDuration"),r("locale"),r("min"),r("max"));s&&Jr(e,s)},focusPreviousSection(e){let{context:t,event:n,computed:i,prop:r}=e,s=Cy(t.get("focusedValue"),t.get("startValue"),n.larger,i("visibleDuration"),r("locale"),r("min"),r("max"));s&&Jr(e,s)},focusNextYear(e){let{context:t}=e,n=t.get("focusedValue").add({years:1});ae(e,n)},focusPreviousYear(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:1});ae(e,n)},focusNextDecade(e){let{context:t}=e,n=t.get("focusedValue").add({years:10});ae(e,n)},focusPreviousDecade(e){let{context:t}=e,n=t.get("focusedValue").subtract({years:10});ae(e,n)},clearFocusedDate(e){let{prop:t}=e;ae(e,ni(t("timeZone")))},focusPreviousMonthColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").subtract({months:n.columns});ae(e,i)},focusNextMonthColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").add({months:n.columns});ae(e,i)},focusPreviousYearColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").subtract({years:n.columns});ae(e,i)},focusNextYearColumn(e){let{context:t,event:n}=e,i=t.get("focusedValue").add({years:n.columns});ae(e,i)},focusFirstMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:1});ae(e,n)},focusLastMonth(e){let{context:t}=e,n=t.get("focusedValue").set({month:12});ae(e,n)},focusFirstYear(e){let{context:t}=e,n=ii(t.get("focusedValue").year),i=t.get("focusedValue").set({year:n[0]});ae(e,i)},focusLastYear(e){let{context:t}=e,n=ii(t.get("focusedValue").year),i=t.get("focusedValue").set({year:n[n.length-1]});ae(e,i)},setActiveIndex({context:e,event:t}){e.set("activeIndex",t.index)},setActiveIndexToEnd({context:e}){e.set("activeIndex",1)},setActiveIndexToStart({context:e}){e.set("activeIndex",0)},focusActiveCell({scope:e,context:t}){H(()=>{var i;let n=t.get("view");(i=Hc(e,n))==null||i.focus({preventScroll:!0})})},focusActiveCellIfNeeded({scope:e,context:t,event:n}){n.focus&&H(()=>{var r;let i=t.get("view");(r=Hc(e,i))==null||r.focus({preventScroll:!0})})},setHoveredValueIfKeyboard({context:e,event:t,prop:n}){!t.type.startsWith("TABLE.ARROW")||n("selectionMode")!=="range"||e.get("activeIndex")===0||e.set("hoveredValue",e.get("focusedValue").copy())},focusTriggerElement({scope:e}){H(()=>{var t;(t=Bc(e))==null||t.focus({preventScroll:!0})})},focusFirstInputElement({scope:e}){H(()=>{let[t]=Di(e);t==null||t.focus({preventScroll:!0})})},focusInputElement({scope:e}){H(()=>{let t=Di(e),n=t.findLastIndex(s=>s.value!==""),i=Math.max(n,0),r=t[i];r==null||r.focus({preventScroll:!0}),r==null||r.setSelectionRange(r.value.length,r.value.length)})},syncMonthSelectElement({scope:e,context:t}){let n=Fy(e);xt(n,t.get("startValue").month.toString())},syncYearSelectElement({scope:e,context:t}){let n=Ly(e);xt(n,t.get("startValue").year.toString())},setInputValue({context:e,event:t}){e.get("activeIndex")===t.index&&e.set("inputValue",t.value)},syncInputValue({scope:e,context:t,event:n}){queueMicrotask(()=>{var s;let i=Di(e),r=(s=n.index)!=null?s:t.get("activeIndex");xt(i[r],t.get("inputValue"))})},focusParsedDate(e){let{event:t,prop:n}=e;if(t.index==null)return;let r=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});!r||!Gc(r)||ae(e,r)},selectParsedDate({context:e,event:t,prop:n}){if(t.index==null)return;let r=n("parse")(t.value,{locale:n("locale"),timeZone:n("timeZone")});if((!r||!Gc(r))&&t.value&&(r=e.get("focusedValue").copy()),!r)return;r=lt(r,n("min"),n("max"));let s=Array.from(e.get("value"));s[t.index]=r,e.set("value",s);let o=Xr(s,n);e.set("inputValue",o[t.index])},resetView({context:e}){e.set("view",e.initial("view"))},setStartValue({context:e,computed:t,prop:n}){let i=e.get("focusedValue");if(!yt(i,e.get("startValue"),t("endValue")))return;let s=Dc(i,"start",{months:n("numOfMonths")},n("locale"));e.set("startValue",s)},invokeOnOpen({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;e("inline")||(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},invokeOnVisibleRangeChange({prop:e,context:t,computed:n}){var i;(i=e("onVisibleRangeChange"))==null||i({view:t.get("view"),visibleRange:n("visibleRange")})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}},Qr=(e,t)=>{let{context:n,prop:i}=e,r=n.get("view"),s=typeof t=="number"?n.get("focusedValue").set({[r]:t}):t;return Jy(o=>{Ky(o,i("minView"))&&(s=s.set({[o]:o==="day"?1:0}))}),s};tb=G()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","parse","placeholder","getRootNode","id","ids","inline","invalid","isDateUnavailable","locale","max","min","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","onVisibleRangeChange","open","defaultOpen","positioning","readOnly","required","selectionMode","startOfWeek","timeZone","translations","value","defaultView","defaultValue","view","defaultFocusedValue","outsideDaySelectable","minView","maxView"]),CT=B(tb),nb=G()(["index","fixOnBlur"]),IT=B(nb),ib=G()(["value"]),TT=B(ib),rb=G()(["columns","id","view"]),OT=B(rb),sb=G()(["disabled","value","columns"]),ST=B(sb),ob=G()(["view"]),PT=B(ob),ab=class extends te{constructor(){super(...arguments);U(this,"_lastView",null);U(this,"_lastDayRangeKey","");U(this,"_lastMonthYear",null);U(this,"_lastYearDecade","");U(this,"getDayView",()=>this.el.querySelector('[data-part="day-view"]'));U(this,"getMonthView",()=>this.el.querySelector('[data-part="month-view"]'));U(this,"getYearView",()=>this.el.querySelector('[data-part="year-view"]'));U(this,"renderDayTableHeader",()=>{let t=this.getDayView(),n=t==null?void 0:t.querySelector("thead");if(!n||!this.api.weekDays)return;let i=this.doc.createElement("tr");this.spreadProps(i,this.api.getTableRowProps({view:"day"})),this.api.weekDays.forEach(r=>{let s=this.doc.createElement("th");s.scope="col",s.setAttribute("aria-label",r.long),s.textContent=r.narrow,i.appendChild(s)}),n.innerHTML="",n.appendChild(i)});U(this,"renderDayTableBody",()=>{let t=this.getDayView(),n=t==null?void 0:t.querySelector("tbody");n&&(this.spreadProps(n,this.api.getTableBodyProps({view:"day"})),this.api.weeks&&(n.innerHTML="",this.api.weeks.forEach(i=>{let r=this.doc.createElement("tr");this.spreadProps(r,this.api.getTableRowProps({view:"day"})),i.forEach(s=>{let o=this.doc.createElement("td");this.spreadProps(o,this.api.getDayTableCellProps({value:s}));let a=this.doc.createElement("div");this.spreadProps(a,this.api.getDayTableCellTriggerProps({value:s})),a.textContent=String(s.day),o.appendChild(a),r.appendChild(o)}),n.appendChild(r)})))});U(this,"renderMonthTableBody",()=>{let t=this.getMonthView(),n=t==null?void 0:t.querySelector("tbody");if(!n)return;this.spreadProps(n,this.api.getTableBodyProps({view:"month"}));let i=this.api.getMonthsGrid({columns:4,format:"short"});n.innerHTML="",i.forEach(r=>{let s=this.doc.createElement("tr");this.spreadProps(s,this.api.getTableRowProps()),r.forEach(o=>{let a=this.doc.createElement("td");this.spreadProps(a,this.api.getMonthTableCellProps(y(m({},o),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getMonthTableCellTriggerProps(y(m({},o),{columns:4}))),l.textContent=o.label,a.appendChild(l),s.appendChild(a)}),n.appendChild(s)})});U(this,"renderYearTableBody",()=>{let t=this.getYearView(),n=t==null?void 0:t.querySelector("tbody");if(!n)return;this.spreadProps(n,this.api.getTableBodyProps());let i=this.api.getYearsGrid({columns:4});n.innerHTML="",i.forEach(r=>{let s=this.doc.createElement("tr");this.spreadProps(s,this.api.getTableRowProps({view:"year"})),r.forEach(o=>{let a=this.doc.createElement("td");this.spreadProps(a,this.api.getYearTableCellProps(y(m({},o),{columns:4})));let l=this.doc.createElement("div");this.spreadProps(l,this.api.getYearTableCellTriggerProps(y(m({},o),{columns:4}))),l.textContent=o.label,a.appendChild(l),s.appendChild(a)}),n.appendChild(s)})})}initMachine(t){return new ee(eb,m({},t))}initApi(){return zy(this.machine.service,Q)}render(){let t=this.el.querySelector('[data-scope="date-picker"][data-part="root"]');t&&this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="date-picker"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="date-picker"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="date-picker"][data-part="input"]');if(r){let l=m({},this.api.getInputProps()),c=this.el.dataset.inputAriaLabel;c&&(l["aria-label"]=c),this.spreadProps(r,l)}let s=this.el.querySelector('[data-scope="date-picker"][data-part="trigger"]');if(s){let l=m({},this.api.getTriggerProps()),c=this.el.dataset.triggerAriaLabel;c&&(l["aria-label"]=c),this.spreadProps(s,l)}let o=this.el.querySelector('[data-scope="date-picker"][data-part="positioner"]');o&&this.spreadProps(o,this.api.getPositionerProps());let a=this.el.querySelector('[data-scope="date-picker"][data-part="content"]');if(a&&this.spreadProps(a,this.api.getContentProps()),this.api.open){let l=this.getDayView(),c=this.getMonthView(),u=this.getYearView();if(l&&(l.hidden=this.api.view!=="day"),c&&(c.hidden=this.api.view!=="month"),u&&(u.hidden=this.api.view!=="year"),this.api.view==="day"&&l){let h=l.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"year"}));let p=l.querySelector('[data-part="prev-trigger"]');p&&this.spreadProps(p,this.api.getPrevTriggerProps());let d=l.querySelector('[data-part="view-trigger"]');d&&(this.spreadProps(d,this.api.getViewTriggerProps()),d.textContent=this.api.visibleRangeText.start);let g=l.querySelector('[data-part="next-trigger"]');g&&this.spreadProps(g,this.api.getNextTriggerProps());let v=l.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"day"}));let b=l.querySelector("thead");b&&this.spreadProps(b,this.api.getTableHeaderProps({view:"day"})),this.renderDayTableHeader(),this.renderDayTableBody()}else if(this.api.view==="month"&&c){let h=c.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"month"}));let p=c.querySelector('[data-part="prev-trigger"]');p&&this.spreadProps(p,this.api.getPrevTriggerProps({view:"month"}));let d=c.querySelector('[data-part="view-trigger"]');d&&(this.spreadProps(d,this.api.getViewTriggerProps({view:"month"})),d.textContent=String(this.api.visibleRange.start.year));let g=c.querySelector('[data-part="next-trigger"]');g&&this.spreadProps(g,this.api.getNextTriggerProps({view:"month"}));let v=c.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"month",columns:4})),this.renderMonthTableBody()}else if(this.api.view==="year"&&u){let h=u.querySelector('[data-part="view-control"]');h&&this.spreadProps(h,this.api.getViewControlProps({view:"year"}));let p=u.querySelector('[data-part="prev-trigger"]');p&&this.spreadProps(p,this.api.getPrevTriggerProps({view:"year"}));let d=u.querySelector('[data-part="decade"]');if(d){let b=this.api.getDecade();d.textContent=`${b.start} - ${b.end}`}let g=u.querySelector('[data-part="next-trigger"]');g&&this.spreadProps(g,this.api.getNextTriggerProps({view:"year"}));let v=u.querySelector("table");v&&this.spreadProps(v,this.api.getTableProps({view:"year",columns:4})),this.renderYearTableBody()}}}};lb={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=this.liveSocket,i=x(e,"min"),r=x(e,"max"),s=x(e,"positioning"),o=u=>u?u.map(h=>Je(h)):void 0,a=u=>u?Je(u):void 0,l=new ab(e,y(m({id:e.id},O(e,"controlled")?{value:o(Y(e,"value"))}:{defaultValue:o(Y(e,"defaultValue"))}),{defaultFocusedValue:a(x(e,"focusedValue")),defaultView:x(e,"defaultView",["day","month","year"]),dir:x(e,"dir",["ltr","rtl"]),locale:x(e,"locale"),timeZone:x(e,"timeZone"),disabled:O(e,"disabled"),readOnly:O(e,"readOnly"),required:O(e,"required"),invalid:O(e,"invalid"),outsideDaySelectable:O(e,"outsideDaySelectable"),closeOnSelect:O(e,"closeOnSelect"),min:i?Je(i):void 0,max:r?Je(r):void 0,numOfMonths:Se(e,"numOfMonths"),startOfWeek:Se(e,"startOfWeek"),fixedWeeks:O(e,"fixedWeeks"),selectionMode:x(e,"selectionMode",["single","multiple","range"]),placeholder:x(e,"placeholder"),minView:x(e,"minView",["day","month","year"]),maxView:x(e,"maxView",["day","month","year"]),inline:O(e,"inline"),positioning:s?JSON.parse(s):void 0,onValueChange:u=>{var g;let h=(g=u.value)!=null&&g.length?u.value.map(v=>Uc(v)).join(","):"",p=e.querySelector(`#${e.id}-value`);p&&p.value!==h&&(p.value=h,p.dispatchEvent(new Event("input",{bubbles:!0})),p.dispatchEvent(new Event("change",{bubbles:!0})));let d=x(e,"onValueChange");d&&n.main.isConnected()&&t(d,{id:e.id,value:h||null})},onFocusChange:u=>{var p;let h=x(e,"onFocusChange");h&&n.main.isConnected()&&t(h,{id:e.id,focused:(p=u.focused)!=null?p:!1})},onViewChange:u=>{let h=x(e,"onViewChange");h&&n.main.isConnected()&&t(h,{id:e.id,view:u.view})},onVisibleRangeChange:u=>{let h=x(e,"onVisibleRangeChange");h&&n.main.isConnected()&&t(h,{id:e.id,start:u.start,end:u.end})},onOpenChange:u=>{let h=x(e,"onOpenChange");h&&n.main.isConnected()&&t(h,{id:e.id,open:u.open})}}));l.init(),this.datePicker=l;let c=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');c&&c.removeAttribute("data-loading"),this.handlers=[],this.handlers.push(this.handleEvent("date_picker_set_value",u=>{let h=u.date_picker_id;h&&h!==e.id||l.api.setValue([Je(u.value)])})),this.onSetValue=u=>{var p;let h=(p=u.detail)==null?void 0:p.value;typeof h=="string"&&l.api.setValue([Je(h)])},e.addEventListener("phx:date-picker:set-value",this.onSetValue)},updated(){var l,c;let e=this.el,t=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');t&&t.removeAttribute("data-loading");let n=u=>u?u.map(h=>Je(h)):void 0,i=x(e,"min"),r=x(e,"max"),s=x(e,"positioning"),o=O(e,"controlled"),a=x(e,"focusedValue");if((l=this.datePicker)==null||l.updateProps(y(m({},O(e,"controlled")?{value:n(Y(e,"value"))}:{defaultValue:n(Y(e,"defaultValue"))}),{defaultFocusedValue:a?Je(a):void 0,defaultView:x(e,"defaultView",["day","month","year"]),dir:x(this.el,"dir",["ltr","rtl"]),locale:x(this.el,"locale"),timeZone:x(this.el,"timeZone"),disabled:O(this.el,"disabled"),readOnly:O(this.el,"readOnly"),required:O(this.el,"required"),invalid:O(this.el,"invalid"),outsideDaySelectable:O(this.el,"outsideDaySelectable"),closeOnSelect:O(this.el,"closeOnSelect"),min:i?Je(i):void 0,max:r?Je(r):void 0,numOfMonths:Se(this.el,"numOfMonths"),startOfWeek:Se(this.el,"startOfWeek"),fixedWeeks:O(this.el,"fixedWeeks"),selectionMode:x(this.el,"selectionMode",["single","multiple","range"]),placeholder:x(this.el,"placeholder"),minView:x(this.el,"minView",["day","month","year"]),maxView:x(this.el,"maxView",["day","month","year"]),inline:O(this.el,"inline"),positioning:s?JSON.parse(s):void 0})),o&&this.datePicker){let u=Y(e,"value"),h=(c=u==null?void 0:u.join(","))!=null?c:"",p=this.datePicker.api.value,d=p!=null&&p.length?p.map(g=>Uc(g)).join(","):"";if(h!==d){let g=u!=null&&u.length?u.map(v=>Je(v)):[];this.datePicker.api.setValue(g)}}},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:date-picker:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.datePicker)==null||e.destroy()}}});var Lu={};Oe(Lu,{Dialog:()=>_b});function mb(e,t={}){let{defer:n=!0}=t,i=n?pb:s=>s(),r=[];return r.push(i(()=>{let o=(typeof e=="function"?e():e).filter(Boolean);o.length!==0&&r.push(fb(o))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Sb(e,t={}){let n,i=H(()=>{let s=(Array.isArray(e)?e:[e]).map(a=>typeof a=="function"?a():a).filter(a=>a!=null);if(s.length===0)return;let o=s[0];n=new Eb(s,y(m({escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:o},t),{document:we(o)}));try{n.activate()}catch(a){}});return function(){n==null||n.deactivate(),i()}}function Pb(e){let t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function xu(e){let t=qt(e),n=t==null?void 0:t.scrollbarGutter;return n==="stable"||(n==null?void 0:n.startsWith("stable "))===!0}function wb(e){var d;let t=e!=null?e:document,n=(d=t.defaultView)!=null?d:window,{documentElement:i,body:r}=t;if(r.hasAttribute(Ko))return;let o=xu(i)||xu(r),a=n.innerWidth-i.clientWidth;r.setAttribute(Ko,"");let l=()=>Qa(i,"--scrollbar-width",`${a}px`),c=Pb(i),u=()=>{let g={overflow:"hidden"};return!o&&a>0&&(g[c]=`${a}px`),cn(r,g)},h=()=>{var C,I;let{scrollX:g,scrollY:v,visualViewport:b}=n,V=(C=b==null?void 0:b.offsetLeft)!=null?C:0,S=(I=b==null?void 0:b.offsetTop)!=null?I:0,E={position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(S))}px`,left:`${-(g-Math.floor(V))}px`,right:"0"};!o&&a>0&&(E[c]=`${a}px`);let f=cn(r,E);return()=>{f==null||f(),n.scrollTo({left:g,top:v,behavior:"instant"})}},p=[l(),bi()?h():u()];return()=>{p.forEach(g=>g==null?void 0:g()),r.removeAttribute(Ko)}}function Lb(e,t){let{state:n,send:i,context:r,prop:s,scope:o}=e,a=s("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&i({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button(y(m({},Cn.trigger.attrs),{dir:s("dir"),id:Ru(o),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":Yo(o),onClick(c){c.defaultPrevented||i({type:"TOGGLE"})}}))},getBackdropProps(){return t.element(y(m({},Cn.backdrop.attrs),{dir:s("dir"),hidden:!l,id:Au(o),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(m({},Cn.positioner.attrs),{dir:s("dir"),id:Nu(o),style:{pointerEvents:l?void 0:"none"}}))},getContentProps(){let c=r.get("rendered");return t.element(y(m({},Cn.content.attrs),{dir:s("dir"),role:s("role"),hidden:!l,id:Yo(o),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":a||void 0,"aria-labelledby":a||!c.title?void 0:jo(o),"aria-describedby":c.description?Xo(o):void 0}))},getTitleProps(){return t.element(y(m({},Cn.title.attrs),{dir:s("dir"),id:jo(o)}))},getDescriptionProps(){return t.element(y(m({},Cn.description.attrs),{dir:s("dir"),id:Xo(o)}))},getCloseTriggerProps(){return t.button(y(m({},Cn.closeTrigger.attrs),{dir:s("dir"),id:Du(o),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),i({type:"CLOSE"}))}}))}}}var ai,rs,ss,qo,ku,cb,ub,db,hb,gb,fb,pb,vb,yb,le,wu,bb,Eb,Jo,Wo,Cb,Ib,_i,Tb,Vu,Ob,Ko,Vb,Cn,Nu,Au,Yo,Ru,jo,Xo,Du,os,xb,kb,Nb,Ab,Rb,Db,Fb,Mb,RT,$b,_b,Fu=fe(()=>{"use strict";gn();me();ai=new WeakMap,rs=new WeakMap,ss={},qo=0,ku=e=>e&&(e.host||ku(e.parentNode)),cb=(e,t)=>t.map(n=>{if(e.contains(n))return n;let i=ku(n);return i&&e.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),ub=new Set(["script","output","status","next-route-announcer"]),db=e=>ub.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),hb=(e,t)=>{let{parentNode:n,markerName:i,controlAttribute:r,followControlledElements:s=!0}=t,o=cb(n,Array.isArray(e)?e:[e]);ss[i]||(ss[i]=new WeakMap);let a=ss[i],l=[],c=new Set,u=new Set(o),h=d=>{!d||c.has(d)||(c.add(d),h(d.parentNode))};o.forEach(d=>{h(d),s&&ce(d)&&Ds(d,g=>{h(g)})});let p=d=>{!d||u.has(d)||Array.prototype.forEach.call(d.children,g=>{if(c.has(g))p(g);else try{if(db(g))return;let b=g.getAttribute(r)==="true",V=(ai.get(g)||0)+1,S=(a.get(g)||0)+1;ai.set(g,V),a.set(g,S),l.push(g),V===1&&b&&rs.set(g,!0),S===1&&g.setAttribute(i,""),b||g.setAttribute(r,"true")}catch(v){console.error("[zag-js > ariaHidden] cannot operate on ",g,v)}})};return p(n),c.clear(),qo++,()=>{l.forEach(d=>{let g=ai.get(d)-1,v=a.get(d)-1;ai.set(d,g),a.set(d,v),g||(rs.has(d)||d.removeAttribute(r),rs.delete(d)),v||d.removeAttribute(i)}),qo--,qo||(ai=new WeakMap,ai=new WeakMap,rs=new WeakMap,ss={})}},gb=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,fb=(e,t=gb(e),n="data-aria-hidden",i=!0)=>{if(t)return hb(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:i})},pb=e=>{let t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};vb=Object.defineProperty,yb=(e,t,n)=>t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,le=(e,t,n)=>yb(e,typeof t!="symbol"?t+"":t,n),wu={activateTrap(e,t){if(e.length>0){let i=e[e.length-1];i!==t&&i.pause()}let n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){let n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},bb=[],Eb=class{constructor(e,t){le(this,"trapStack"),le(this,"config"),le(this,"doc"),le(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),le(this,"portalContainers",new Set),le(this,"listenerCleanups",[]),le(this,"handleFocus",i=>{let r=K(i),s=this.findContainerIndex(r,i)>=0;if(s||yi(r))s&&(this.state.mostRecentlyFocusedNode=r);else{i.stopImmediatePropagation();let o,a=!0;if(this.state.mostRecentlyFocusedNode)if(Dn(this.state.mostRecentlyFocusedNode)>0){let l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){let u=c.findIndex(h=>h===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<c.length&&(o=c[u+1],a=!1):u-1>=0&&(o=c[u-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>Dn(c)>0))||(a=!1);else a=!1;a&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),le(this,"handlePointerDown",i=>{let r=K(i);if(!(this.findContainerIndex(r,i)>=0)){if(_i(this.config.clickOutsideDeactivates,i)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}_i(this.config.allowOutsideClick,i)||i.preventDefault()}}),le(this,"handleClick",i=>{let r=K(i);this.findContainerIndex(r,i)>=0||_i(this.config.clickOutsideDeactivates,i)||_i(this.config.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())}),le(this,"handleTabKey",i=>{if(this.config.isKeyForward(i)||this.config.isKeyBackward(i)){this.state.recentNavEvent=i;let r=this.config.isKeyBackward(i),s=this.findNextNavNode({event:i,isBackward:r});if(!s)return;Wo(i)&&i.preventDefault(),this.tryFocus(s)}}),le(this,"handleEscapeKey",i=>{Tb(i)&&_i(this.config.escapeDeactivates,i)!==!1&&(i.preventDefault(),this.deactivate())}),le(this,"_mutationObserver"),le(this,"setupMutationObserver",()=>{let i=this.doc.defaultView||window;this._mutationObserver=new i.MutationObserver(r=>{r.some(a=>Array.from(a.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),r.some(a=>a.type==="attributes"&&(a.attributeName==="aria-controls"||a.attributeName==="aria-expanded")?!0:a.type==="childList"&&a.addedNodes.length>0?Array.from(a.addedNodes).some(l=>{if(l.nodeType!==Node.ELEMENT_NODE)return!1;let c=l;return Ma(c)?!0:c.id&&!this.state.containers.some(u=>u.contains(c))?$a(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),le(this,"updateObservedNodes",()=>{var i;(i=this._mutationObserver)==null||i.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(r=>{var s;(s=this._mutationObserver)==null||s.observe(r,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(r=>{this.observePortalContainer(r)}))}),le(this,"getInitialFocusNode",()=>{let i=this.getNodeForOption("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Qe(i)){let r=kn(this.doc);if(r&&this.findContainerIndex(r)>=0)i=r;else{let s=this.state.tabbableGroups[0];i=s&&s.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else i===null&&(i=this.getNodeForOption("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i.isConnected||(i=this.getNodeForOption("fallbackFocus")),i}),le(this,"tryFocus",i=>{if(i!==!1&&i!==kn(this.doc)){if(!i||!i.focus){this.tryFocus(this.getInitialFocusNode());return}i.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=i,Ob(i)&&i.select()}}),le(this,"deactivate",i=>{if(!this.state.active)return this;let r=m({onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus},i);clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),wu.deactivateTrap(this.trapStack,this),this.portalContainers.clear();let s=this.getOption(r,"onDeactivate"),o=this.getOption(r,"onPostDeactivate"),a=this.getOption(r,"checkCanReturnFocus"),l=this.getOption(r,"returnFocus","returnFocusOnDeactivate");s==null||s();let c=()=>{Vu(()=>{if(l){let u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}o==null||o()})};if(l&&a){let u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(u).then(c,c),this}return c(),this}),le(this,"pause",i=>{if(this.state.paused||!this.state.active)return this;let r=this.getOption(i,"onPause"),s=this.getOption(i,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),le(this,"unpause",i=>{if(!this.state.paused||!this.state.active)return this;let r=this.getOption(i,"onUnpause"),s=this.getOption(i,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),le(this,"updateContainerElements",i=>(this.state.containers=Array.isArray(i)?i.filter(Boolean):[i].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),le(this,"getReturnFocusNode",i=>{let r=this.getNodeForOption("setReturnFocus",{params:[i]});return r||(r===!1?!1:i)}),le(this,"getOption",(i,r,s)=>i&&i[r]!==void 0?i[r]:this.config[s||r]),le(this,"getNodeForOption",(i,{hasFallback:r=!1,params:s=[]}={})=>{let o=this.config[i];if(typeof o=="function"&&(o=o(...s)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${i}\` was specified but was not a node, or did not return a node`)}let a=o;if(typeof o=="string"){try{a=this.doc.querySelector(o)}catch(l){throw new Error(`\`${i}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!r)throw new Error(`\`${i}\` as selector refers to no known node`)}return a}),le(this,"findNextNavNode",i=>{let{event:r,isBackward:s=!1}=i,o=i.target||K(r);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){let l=this.findContainerIndex(o,r),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>o===h);if(u<0&&((c==null?void 0:c.container)===o||Qe(o)&&!Bt(o)&&!(c!=null&&c.nextTabbableNode(o,!1)))&&(u=l),u>=0){let h=u===0?this.state.tabbableGroups.length-1:u-1,p=this.state.tabbableGroups[h];a=Dn(o)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else Wo(r)||(a=c==null?void 0:c.nextTabbableNode(o,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>o===h);if(u<0&&((c==null?void 0:c.container)===o||Qe(o)&&!Bt(o)&&!(c!=null&&c.nextTabbableNode(o)))&&(u=l),u>=0){let h=u===this.state.tabbableGroups.length-1?0:u+1,p=this.state.tabbableGroups[h];a=Dn(o)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else Wo(r)||(a=c==null?void 0:c.nextTabbableNode(o))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=t.trapStack||bb;let n=m({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:Cb,isKeyBackward:Ib},t);this.doc=n.document||we(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){let t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Fa(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){let n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:i,tabbableNodes:r})=>i.contains(e)||(n==null?void 0:n.includes(i))||r.find(s=>s===e)||this.isControlledElement(i,e))}isControlledElement(e,t){return this.config.followControlledElements?lr(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let t=on(e,{getShadowRoot:this.config.getShadowRoot}),n=Ii(e,{getShadowRoot:this.config.getShadowRoot}),i=t[0],r=t[t.length-1],s=i,o=r,a=!1;for(let c=0;c<t.length;c++)if(Dn(t[c])>0){a=!0;break}function l(c,u=!0){let h=t.indexOf(c);if(h>=0)return t[h+(u?1:-1)];let p=n.indexOf(c);if(!(p<0)){if(u){for(let d=p+1;d<n.length;d++)if(Bt(n[d]))return n[d]}else for(let d=p-1;d>=0;d--)if(Bt(n[d]))return n[d]}}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:i,lastTabbableNode:r,firstDomTabbableNode:s,lastDomTabbableNode:o,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return wu.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?Vu(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(re(this.doc,"focusin",this.handleFocus,!0),re(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),re(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),re(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),re(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),re(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),i=this.getOption(e,"checkCanFocusTrap");i||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=kn(this.doc),t==null||t();let r=()=>{i&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return i?(i(this.state.containers.concat()).then(r,r),this):(r(),this)}},Jo=e=>e.type==="keydown",Wo=e=>Jo(e)&&(e==null?void 0:e.key)==="Tab",Cb=e=>Jo(e)&&e.key==="Tab"&&!(e!=null&&e.shiftKey),Ib=e=>Jo(e)&&e.key==="Tab"&&(e==null?void 0:e.shiftKey),_i=(e,...t)=>typeof e=="function"?e(...t):e,Tb=e=>!e.isComposing&&e.key==="Escape",Vu=e=>setTimeout(e,0),Ob=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";Ko="data-scroll-lock";Vb=J("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Cn=Vb.build(),Nu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`dialog:${e.id}:positioner`},Au=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.backdrop)!=null?n:`dialog:${e.id}:backdrop`},Yo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`dialog:${e.id}:content`},Ru=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`dialog:${e.id}:trigger`},jo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.title)!=null?n:`dialog:${e.id}:title`},Xo=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.description)!=null?n:`dialog:${e.id}:description`},Du=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.closeTrigger)!=null?n:`dialog:${e.id}:close`},os=e=>e.getById(Yo(e)),xb=e=>e.getById(Nu(e)),kb=e=>e.getById(Au(e)),Nb=e=>e.getById(Ru(e)),Ab=e=>e.getById(jo(e)),Rb=e=>e.getById(Xo(e)),Db=e=>e.getById(Du(e));Fb={props({props:e,scope:t}){let n=e.role==="alertdialog",i=n?()=>Db(t):void 0,r=typeof e.modal=="boolean"?e.modal:!0;return m({role:"dialog",modal:r,trapFocus:r,preventScroll:r,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:i},e)},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return vt(()=>os(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[Nb(e)],onInteractOutside(r){var s;(s=n("onInteractOutside"))==null||s(r),n("closeOnInteractOutside")||r.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(r){var s;(s=n("onEscapeKeyDown"))==null||s(r),n("closeOnEscape")||r.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return wb(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?Sb(()=>os(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:i=>{var r,s;return(s=(r=t("finalFocusEl"))==null?void 0:r())!=null?s:i},getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?mb(()=>[os(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){H(()=>{e.set("rendered",{title:!!Ab(t),description:!!Rb(t)})})},syncZIndex({scope:e}){H(()=>{let t=os(e);if(!t)return;let n=qt(t);[xb(e),kb(e)].forEach(r=>{r==null||r.style.setProperty("--z-index",n.zIndex),r==null||r.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}},Mb=G()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),RT=B(Mb),$b=class extends te{initMachine(e){return new ee(Fb,e)}initApi(){return Lb(this.machine.service,Q)}getPart(e){let t=this.el,n=t.querySelector(`[data-scope="dialog"][data-part="${e}"]`);if(n)return n;let i=this.doc.getElementById(`dialog:${t.id}:${e}`);if(i)return i;let r=this.doc.getElementById(`_lv_portal_wrap_dialog:${t.id}:portal`);if(r){let s=r.querySelector(`[data-scope="dialog"][data-part="${e}"]`);if(s)return s}return null}render(){let e=this.getPart("trigger");e&&this.spreadProps(e,this.api.getTriggerProps());let t=this.getPart("backdrop");t&&this.spreadProps(t,this.api.getBackdropProps());let n=this.getPart("positioner");n&&(this.spreadProps(n,this.api.getPositionerProps()),n.hidden=!this.api.open,n.dataset.state=this.api.open?"open":"closed");let i=this.getPart("content");i&&this.spreadProps(i,this.api.getContentProps());let r=this.getPart("title");r&&this.spreadProps(r,this.api.getTitleProps());let s=this.getPart("description");s&&this.spreadProps(s,this.api.getDescriptionProps());let o=this.getPart("close-trigger");o&&this.spreadProps(o,this.api.getCloseTriggerProps())}},_b={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new $b(e,y(m({id:e.id},O(e,"controlled")?{open:O(e,"open")}:{defaultOpen:O(e,"defaultOpen")}),{modal:O(e,"modal"),closeOnInteractOutside:O(e,"closeOnInteractOutside"),closeOnEscape:O(e,"closeOnEscapeKeyDown"),preventScroll:O(e,"preventScroll"),restoreFocus:O(e,"restoreFocus"),dir:x(e,"dir",["ltr","rtl"]),onOpenChange:i=>{let r=x(e,"onOpenChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,open:i.open});let s=x(e,"onOpenChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,open:i.open}}))}}));n.init(),this.dialog=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{var i;(i=this.dialog)==null||i.render()})}),this.onSetOpen=i=>{let{open:r}=i.detail;n.api.setOpen(r)},e.addEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("dialog_set_open",i=>{let r=i.dialog_id;r&&r!==e.id||n.api.setOpen(i.open)})),this.handlers.push(this.handleEvent("dialog_open",()=>{this.pushEvent("dialog_open_response",{value:n.api.open})}))},updated(){var e;(e=this.dialog)==null||e.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{open:O(this.el,"open")}:{defaultOpen:O(this.el,"defaultOpen")}),{modal:O(this.el,"modal"),closeOnInteractOutside:O(this.el,"closeOnInteractOutside"),closeOnEscape:O(this.el,"closeOnEscapeKeyDown"),preventScroll:O(this.el,"preventScroll"),restoreFocus:O(this.el,"restoreFocus"),dir:x(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetOpen&&this.el.removeEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.dialog)==null||e.destroy()}}});var Wu={};Oe(Wu,{Menu:()=>cE});function Hb(e){let{x:t,y:n,width:i,height:r}=e,s=t+i/2,o=n+r/2;return{x:t,y:n,width:i,height:r,minX:t,minY:n,maxX:t+i,maxY:n+r,midX:s,midY:o,center:Hi(s,o)}}function Bb(e){let t=Hi(e.minX,e.minY),n=Hi(e.maxX,e.minY),i=Hi(e.maxX,e.maxY),r=Hi(e.minX,e.maxY);return{top:t,right:n,bottom:i,left:r}}function Gb(e,t){let n=Hb(e),{top:i,right:r,left:s,bottom:o}=Bb(n),[a]=t.split("-");return{top:[s,i,r,o],right:[i,r,o,s],bottom:[i,s,o,r],left:[r,i,s,o]}[a]}function Gu(e,t){let{x:n,y:i}=t,r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){let a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>i!=u>i&&n<(c-a)*(i-l)/(u-l)+a&&(r=!r)}return r}function zb(e,t){if(!e)return;let n=oe(e),i=new n.CustomEvent(zo,{detail:{value:t}});e.dispatchEvent(i)}function Qb(e,t){let{context:n,send:i,state:r,computed:s,prop:o,scope:a}=e,l=r.hasTag("open"),c=n.get("isSubmenu"),u=s("isTypingAhead"),h=o("composite"),p=n.get("currentPlacement"),d=n.get("anchorPoint"),g=n.get("highlightedValue"),v=Jt(y(m({},o("positioning")),{placement:d?"bottom":p}));function b(f){return{id:Bi(a,f.value),disabled:!!f.disabled,highlighted:g===f.value}}function V(f){var I;let C=(I=f.valueText)!=null?I:f.value;return y(m({},f),{id:f.value,valueText:C})}function S(f){let C=b(V(f));return y(m({},C),{checked:!!f.checked})}function E(f){let{closeOnSelect:C,valueText:I,value:P}=f,A=b(f),w=Bi(a,P);return t.element(y(m({},xe.item.attrs),{id:w,role:"menuitem","aria-disabled":ie(A.disabled),"data-disabled":T(A.disabled),"data-ownedby":ci(a),"data-highlighted":T(A.highlighted),"data-value":P,"data-valuetext":I,onDragStart(N){N.currentTarget.matches("a[href]")&&N.preventDefault()},onPointerMove(N){if(A.disabled||N.pointerType!=="mouse")return;let R=N.currentTarget;if(A.highlighted)return;let L=Pt(N);i({type:"ITEM_POINTERMOVE",id:w,target:R,closeOnSelect:C,point:L})},onPointerLeave(N){var M;if(A.disabled||N.pointerType!=="mouse"||!((M=e.event.previous())==null?void 0:M.type.includes("POINTER")))return;let L=N.currentTarget;i({type:"ITEM_POINTERLEAVE",id:w,target:L,closeOnSelect:C})},onPointerDown(N){if(A.disabled)return;let R=N.currentTarget;i({type:"ITEM_POINTERDOWN",target:R,id:w,closeOnSelect:C})},onClick(N){if(Ei(N)||sn(N)||A.disabled)return;let R=N.currentTarget;i({type:"ITEM_CLICK",target:R,id:w,closeOnSelect:C})}}))}return{highlightedValue:g,open:l,setOpen(f){r.hasTag("open")!==f&&i({type:f?"OPEN":"CLOSE"})},setHighlightedValue(f){i({type:"HIGHLIGHTED.SET",value:f})},setParent(f){i({type:"PARENT.SET",value:f,id:f.prop("id")})},setChild(f){i({type:"CHILD.SET",value:f,id:f.prop("id")})},reposition(f={}){i({type:"POSITIONING.SET",options:f})},addItemListener(f){let C=a.getById(f.id);if(!C)return;let I=()=>{var P;return(P=f.onSelect)==null?void 0:P.call(f)};return C.addEventListener(zo,I),()=>C.removeEventListener(zo,I)},getContextTriggerProps(){return t.element(y(m({},xe.contextTrigger.attrs),{dir:o("dir"),id:Uu(a),"data-state":l?"open":"closed",onPointerDown(f){if(f.pointerType==="mouse")return;let C=Pt(f);i({type:"CONTEXT_MENU_START",point:C})},onPointerCancel(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(f){f.pointerType!=="mouse"&&i({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(f){let C=Pt(f);i({type:"CONTEXT_MENU",point:C}),f.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}}))},getTriggerItemProps(f){let C=f.getTriggerProps();return hl(E({value:C.id}),C)},getTriggerProps(){return t.button(y(m({},c?xe.triggerItem.attrs:xe.trigger.attrs),{"data-placement":n.get("currentPlacement"),type:"button",dir:o("dir"),id:cs(a),"data-uid":o("id"),"aria-haspopup":h?"menu":"dialog","aria-controls":ci(a),"data-controls":ci(a),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(f){if(f.pointerType!=="mouse"||ls(f.currentTarget)||!c)return;let I=Pt(f);i({type:"TRIGGER_POINTERMOVE",target:f.currentTarget,point:I})},onPointerLeave(f){if(ls(f.currentTarget)||f.pointerType!=="mouse"||!c)return;let C=Pt(f);i({type:"TRIGGER_POINTERLEAVE",target:f.currentTarget,point:C})},onPointerDown(f){ls(f.currentTarget)||An(f)||f.preventDefault()},onClick(f){f.defaultPrevented||ls(f.currentTarget)||i({type:"TRIGGER_CLICK",target:f.currentTarget})},onBlur(){i({type:"TRIGGER_BLUR"})},onFocus(){i({type:"TRIGGER_FOCUS"})},onKeyDown(f){if(f.defaultPrevented)return;let C={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},Enter(){i({type:"ARROW_DOWN",src:"enter"})},Space(){i({type:"ARROW_DOWN",src:"space"})}},I=ve(f,{orientation:"vertical",dir:o("dir")}),P=C[I];P&&(f.preventDefault(),P(f))}}))},getIndicatorProps(){return t.element(y(m({},xe.indicator.attrs),{dir:o("dir"),"data-state":l?"open":"closed"}))},getPositionerProps(){return t.element(y(m({},xe.positioner.attrs),{dir:o("dir"),id:qu(a),style:v.floating}))},getArrowProps(){return t.element(y(m({id:qb(a)},xe.arrow.attrs),{dir:o("dir"),style:v.arrow}))},getArrowTipProps(){return t.element(y(m({},xe.arrowTip.attrs),{dir:o("dir"),style:v.arrowTip}))},getContentProps(){return t.element(y(m({},xe.content.attrs),{id:ci(a),"aria-label":o("aria-label"),hidden:!l,"data-state":l?"open":"closed",role:h?"menu":"dialog",tabIndex:0,dir:o("dir"),"aria-activedescendant":s("highlightedId")||void 0,"aria-labelledby":cs(a),"data-placement":p,onPointerEnter(f){f.pointerType==="mouse"&&i({type:"MENU_POINTERENTER"})},onKeyDown(f){if(f.defaultPrevented||!pe(f.currentTarget,K(f)))return;let C=K(f);if(!((C==null?void 0:C.closest("[role=menu]"))===f.currentTarget||C===f.currentTarget))return;if(f.key==="Tab"&&!gr(f)){f.preventDefault();return}let P={ArrowDown(){i({type:"ARROW_DOWN"})},ArrowUp(){i({type:"ARROW_UP"})},ArrowLeft(){i({type:"ARROW_LEFT"})},ArrowRight(){i({type:"ARROW_RIGHT"})},Enter(){i({type:"ENTER"})},Space(N){var R;u?i({type:"TYPEAHEAD",key:N.key}):(R=P.Enter)==null||R.call(P,N)},Home(){i({type:"HOME"})},End(){i({type:"END"})}},A=ve(f,{dir:o("dir")}),w=P[A];if(w){w(f),f.stopPropagation(),f.preventDefault();return}o("typeahead")&&Ba(f)&&(Fe(f)||Ut(C)||(i({type:"TYPEAHEAD",key:f.key}),f.preventDefault()))}}))},getSeparatorProps(){return t.element(y(m({},xe.separator.attrs),{role:"separator",dir:o("dir"),"aria-orientation":"horizontal"}))},getItemState:b,getItemProps:E,getOptionItemState:S,getOptionItemProps(f){let{type:C,disabled:I,closeOnSelect:P}=f,A=V(f),w=S(f);return m(m({},E(A)),t.element(y(m({"data-type":C},xe.item.attrs),{dir:o("dir"),"data-value":A.value,role:`menuitem${C}`,"aria-checked":!!w.checked,"data-state":w.checked?"checked":"unchecked",onClick(N){if(I||Ei(N)||sn(N))return;let R=N.currentTarget;i({type:"ITEM_CLICK",target:R,option:A,closeOnSelect:P})}})))},getItemIndicatorProps(f){let C=S(Ys(f)),I=C.checked?"checked":"unchecked";return t.element(y(m({},xe.itemIndicator.attrs),{dir:o("dir"),"data-disabled":T(C.disabled),"data-highlighted":T(C.highlighted),"data-state":Me(f,"checked")?I:void 0,hidden:Me(f,"checked")?!C.checked:void 0}))},getItemTextProps(f){let C=S(Ys(f)),I=C.checked?"checked":"unchecked";return t.element(y(m({},xe.itemText.attrs),{dir:o("dir"),"data-disabled":T(C.disabled),"data-highlighted":T(C.highlighted),"data-state":Me(f,"checked")?I:void 0}))},getItemGroupLabelProps(f){return t.element(y(m({},xe.itemGroupLabel.attrs),{id:Mu(a,f.htmlFor),dir:o("dir")}))},getItemGroupProps(f){return t.element(y(m({id:Wb(a,f.id)},xe.itemGroup.attrs),{dir:o("dir"),"aria-labelledby":Mu(a,f.id),role:"group"}))}}}function Hu(e){let t=e.parent;for(;t&&t.context.get("isSubmenu");)t=t.refs.get("parent");t==null||t.send({type:"CLOSE"})}function nE(e,t){return e?Gu(e,t):!1}function iE(e,t,n){let i=Object.keys(e).length>0;if(!t)return null;if(!i)return Bi(n,t);for(let r in e){let s=e[r],o=cs(s.scope);if(o===t)return o}return Bi(n,t)}var Hi,HT,BT,GT,UT,qT,Ub,xe,cs,Uu,ci,qb,qu,Wb,Bi,In,Mu,_t,$u,as,Kb,Zo,Gi,Yb,jb,Qo,Xb,Jb,Zb,ls,_u,zo,Ze,li,eE,tE,rE,WT,sE,KT,oE,YT,aE,jT,lE,XT,Bu,cE,Ku=fe(()=>{"use strict";Ni();gn();me();Hi=(e,t)=>({x:e,y:t});({min:HT,max:BT}=Math);({sign:GT,abs:UT,min:qT}=Math),Ub=J("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),xe=Ub.build(),cs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`menu:${e.id}:trigger`},Uu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.contextTrigger)!=null?n:`menu:${e.id}:ctx-trigger`},ci=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`menu:${e.id}:content`},qb=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.arrow)!=null?n:`menu:${e.id}:arrow`},qu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`menu:${e.id}:popper`},Wb=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.group)==null?void 0:i.call(n,t))!=null?r:`menu:${e.id}:group:${t}`},Bi=(e,t)=>`${e.id}/${t}`,In=e=>{var t;return(t=e==null?void 0:e.dataset.value)!=null?t:null},Mu=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,t))!=null?r:`menu:${e.id}:group-label:${t}`},_t=e=>e.getById(ci(e)),$u=e=>e.getById(qu(e)),as=e=>e.getById(cs(e)),Kb=(e,t)=>t?e.getById(Bi(e,t)):null,Zo=e=>e.getById(Uu(e)),Gi=e=>{let n=`[role^="menuitem"][data-ownedby=${CSS.escape(ci(e))}]:not([data-disabled])`;return dt(_t(e),n)},Yb=e=>Ke(Gi(e)),jb=e=>nt(Gi(e)),Qo=(e,t)=>t?e.id===t||e.dataset.value===t:!1,Xb=(e,t)=>{var r;let n=Gi(e),i=n.findIndex(s=>Qo(s,t.value));return il(n,i,{loop:(r=t.loop)!=null?r:t.loopFocus})},Jb=(e,t)=>{var r;let n=Gi(e),i=n.findIndex(s=>Qo(s,t.value));return rl(n,i,{loop:(r=t.loop)!=null?r:t.loopFocus})},Zb=(e,t)=>{var r;let n=Gi(e),i=n.find(s=>Qo(s,t.value));return tt(n,{state:t.typeaheadState,key:t.key,activeId:(r=i==null?void 0:i.id)!=null?r:null})},ls=e=>ce(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),_u=e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("data-controls"))},zo="menu:select";({not:Ze,and:li,or:eE}=ye()),tE={props({props:e}){return y(m({closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(t){Fn(t.node)}},e),{positioning:m({placement:"bottom-start",gutter:8},e.positioning)})},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},context({bindable:e,prop:t}){return{suspendPointer:e(()=>({defaultValue:!1})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(n){var i;(i=t("onHighlightChange"))==null||i({highlightedValue:n})}})),lastHighlightedValue:e(()=>({defaultValue:null})),currentPlacement:e(()=>({defaultValue:void 0})),intentPolygon:e(()=>({defaultValue:null})),anchorPoint:e(()=>({defaultValue:null,hash(n){return`x: ${n==null?void 0:n.x}, y: ${n==null?void 0:n.y}`}})),isSubmenu:e(()=>({defaultValue:!1}))}},refs(){return{parent:null,children:{},typeaheadState:m({},tt.defaultOptions),positioningOverride:{}}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar!=="",highlightedId:({context:e,scope:t,refs:n})=>iE(n.get("children"),e.get("highlightedValue"),t)},watch({track:e,action:t,context:n,prop:i}){e([()=>n.get("isSubmenu")],()=>{t(["setSubmenuPlacement"])}),e([()=>n.hash("anchorPoint")],()=>{n.get("anchorPoint")&&t(["reposition"])}),e([()=>i("open")],()=>{t(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:Ze("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer","clearAnchorPoint"],on:{"CONTROLLED.OPEN":[{guard:eE("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:li(Ze("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:Ze("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:li("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:Ze("isPointerSuspended"),actions:["setHighlightedItem","focusMenu","closeSiblingMenus"]},{actions:["setLastHighlightedItem","closeSiblingMenus"]}],ITEM_POINTERLEAVE:{guard:li(Ze("isPointerSuspended"),Ze("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:li(Ze("isTriggerItemHighlighted"),Ze("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:li(Ze("isTriggerItemHighlighted"),Ze("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:li(Ze("isTriggerItemHighlighted"),Ze("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing",actions:["setIntentPolygon"]},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t==null?void 0:t.closeOnSelect)!=null?n:e("closeOnSelect"))},isTriggerItem:({event:e})=>_u(e.target),isTriggerItemHighlighted:({event:e,scope:t,computed:n})=>{var r;let i=(r=e.target)!=null?r:t.getById(n("highlightedId"));return!!(i!=null&&i.hasAttribute("data-controls"))},isSubmenu:({context:e})=>e.get("isSubmenu"),isPointerSuspended:({context:e})=>e.get("suspendPointer"),isHighlightedItemEditable:({scope:e,computed:t})=>Ut(e.getById(t("highlightedId"))),isOpenControlled:({prop:e})=>e("open")!==void 0,isArrowLeftEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_LEFT"},isArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_UP"},isArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.OPEN"})},200);return()=>clearTimeout(t)},waitForCloseDelay({send:e}){let t=setTimeout(()=>{e({type:"DELAY.CLOSE"})},100);return()=>clearTimeout(t)},waitForLongPress({send:e}){let t=setTimeout(()=>{e({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(t)},trackPositioning({context:e,prop:t,scope:n,refs:i}){if(Zo(n))return;let r=m(m({},t("positioning")),i.get("positioningOverride"));e.set("currentPlacement",r.placement);let s=()=>$u(n);return at(as(n),s,y(m({},r),{defer:!0,onComplete(o){e.set("currentPlacement",o.placement)}}))},trackInteractOutside({refs:e,scope:t,prop:n,context:i,send:r}){let s=()=>_t(t),o=!0;return vt(s,{type:"menu",defer:!0,exclude:[as(t)],onInteractOutside:n("onInteractOutside"),onRequestDismiss:n("onRequestDismiss"),onFocusOutside(a){var u;(u=n("onFocusOutside"))==null||u(a);let l=K(a.detail.originalEvent);if(pe(Zo(t),l)){a.preventDefault();return}},onEscapeKeyDown(a){var l;(l=n("onEscapeKeyDown"))==null||l(a),i.get("isSubmenu")&&a.preventDefault(),Hu({parent:e.get("parent")})},onPointerDownOutside(a){var u;(u=n("onPointerDownOutside"))==null||u(a);let l=K(a.detail.originalEvent);if(pe(Zo(t),l)&&a.detail.contextmenu){a.preventDefault();return}o=!a.detail.focusable},onDismiss(){r({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},trackPointerMove({context:e,scope:t,send:n,refs:i,flush:r}){let s=i.get("parent");r(()=>{s.context.set("suspendPointer",!0)});let o=t.getDoc();return re(o,"pointermove",a=>{nE(e.get("intentPolygon"),{x:a.clientX,y:a.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),s.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:e,scope:t,computed:n}){let i=()=>{if(e.current().type.startsWith("ITEM_POINTER"))return;let s=t.getById(n("highlightedId")),o=_t(t);ln(s,{rootEl:o,block:"nearest"})};return H(()=>i()),Ln(()=>_t(t),{defer:!0,attributes:["aria-activedescendant"],callback:i})}},actions:{setAnchorPoint({context:e,event:t}){e.set("anchorPoint",n=>he(n,t.point)?n:t.point)},setSubmenuPlacement({context:e,computed:t,refs:n}){if(!e.get("isSubmenu"))return;let i=t("isRtl")?"left-start":"right-start";n.set("positioningOverride",{placement:i,gutter:0})},reposition({context:e,scope:t,prop:n,event:i,refs:r}){var c;let s=()=>$u(t),o=e.get("anchorPoint"),a=o?()=>m({width:0,height:0},o):void 0,l=m(m({},n("positioning")),r.get("positioningOverride"));at(as(t),s,y(m(y(m({},l),{defer:!0,getAnchorRect:a}),(c=i.options)!=null?c:{}),{listeners:!1,onComplete(u){e.set("currentPlacement",u.placement)}}))},setOptionState({event:e}){if(!e.option)return;let{checked:t,onCheckedChange:n,type:i}=e.option;i==="radio"?n==null||n(!0):i==="checkbox"&&(n==null||n(!t))},clickHighlightedItem({scope:e,computed:t,prop:n,context:i}){var o;let r=e.getById(t("highlightedId"));if(!r||r.dataset.disabled)return;let s=i.get("highlightedValue");We(r)?(o=n("navigate"))==null||o({value:s,node:r,href:r.href}):queueMicrotask(()=>r.click())},setIntentPolygon({context:e,scope:t,event:n}){let i=_t(t),r=e.get("currentPlacement");if(!i||!r)return;let s=i.getBoundingClientRect(),o=Gb(s,r);if(!o)return;let l=ac(r)==="right"?-5:5;e.set("intentPolygon",[y(m({},n.point),{x:n.point.x+l}),...o])},clearIntentPolygon({context:e}){e.set("intentPolygon",null)},clearAnchorPoint({context:e}){e.set("anchorPoint",null)},resumePointer({refs:e,flush:t}){let n=e.get("parent");n&&t(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:e,event:t}){let n=t.value||In(t.target);e.set("highlightedValue",n)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},focusMenu({scope:e}){H(()=>{let t=_t(e),n=hr({root:t,enabled:!pe(t,e.getActiveElement()),filter(i){var r;return!((r=i.role)!=null&&r.startsWith("menuitem"))}});n==null||n.focus({preventScroll:!0})})},highlightFirstItem({context:e,scope:t}){(_t(t)?queueMicrotask:H)(()=>{let i=Yb(t);i&&e.set("highlightedValue",In(i))})},highlightLastItem({context:e,scope:t}){(_t(t)?queueMicrotask:H)(()=>{let i=jb(t);i&&e.set("highlightedValue",In(i))})},highlightNextItem({context:e,scope:t,event:n,prop:i}){let r=Xb(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",In(r))},highlightPrevItem({context:e,scope:t,event:n,prop:i}){let r=Jb(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:i("loopFocus")});e.set("highlightedValue",In(r))},invokeOnSelect({context:e,prop:t,scope:n}){var s;let i=e.get("highlightedValue");if(i==null)return;let r=Kb(n,i);zb(r,i),(s=t("onSelect"))==null||s({value:i})},focusTrigger({scope:e,context:t,event:n}){t.get("isSubmenu")||t.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>{var i;return(i=as(e))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem({scope:e,context:t,event:n,refs:i}){let r=Zb(e,{key:n.key,value:t.get("highlightedValue"),typeaheadState:i.get("typeaheadState")});r&&t.set("highlightedValue",In(r))},setParentMenu({refs:e,event:t,context:n}){e.set("parent",t.value),n.set("isSubmenu",!0)},setChildMenu({refs:e,event:t}){let n=e.get("children");n[t.id]=t.value,e.set("children",n)},closeSiblingMenus({refs:e,event:t,scope:n}){var o;let i=t.target;if(!_u(i))return;let r=i==null?void 0:i.getAttribute("data-uid"),s=e.get("children");for(let a in s){if(a===r)continue;let l=s[a],c=l.context.get("intentPolygon");c&&t.point&&Gu(c,t.point)||((o=_t(n))==null||o.focus({preventScroll:!0}),l.send({type:"CLOSE"}))}},closeRootMenu({refs:e}){Hu({parent:e.get("parent")})},openSubmenu({refs:e,scope:t,computed:n}){let i=t.getById(n("highlightedId")),r=i==null?void 0:i.getAttribute("data-uid"),s=e.get("children"),o=r?s[r]:null;o==null||o.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:e,event:t}){e.set("lastHighlightedValue",In(t.target))},restoreHighlightedItem({context:e}){e.get("lastHighlightedValue")&&(e.set("highlightedValue",e.get("lastHighlightedValue")),e.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:e}){var t;(t=e.get("parent"))==null||t.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};rE=G()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]),WT=B(rE),sE=G()(["closeOnSelect","disabled","value","valueText"]),KT=B(sE),oE=G()(["htmlFor"]),YT=B(oE),aE=G()(["id"]),jT=B(aE),lE=G()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]),XT=B(lE),Bu=class extends te{constructor(){super(...arguments);U(this,"children",[])}initMachine(t){return new ee(tE,t)}initApi(){return Qb(this.machine.service,Q)}setChild(t){this.api.setChild(t.machine.service),this.children.includes(t)||this.children.push(t)}setParent(t){this.api.setParent(t.machine.service)}isOwnElement(t){return t.closest('[phx-hook="Menu"]')===this.el}renderSubmenuTriggers(){let t=this.el.querySelector('[data-scope="menu"][data-part="content"]');if(!t)return;let n=t.querySelectorAll('[data-scope="menu"][data-nested-menu]');for(let i of n){if(!this.isOwnElement(i))continue;let r=i.dataset.nestedMenu;if(!r)continue;let s=this.children.find(a=>a.el.id===`menu:${r}`);if(!s)continue;let o=()=>{let a=this.api.getTriggerItemProps(s.api);this.spreadProps(i,a)};o(),this.machine.subscribe(o),s.machine.subscribe(o)}}render(){let t=this.el.querySelector('[data-scope="menu"][data-part="trigger"]');t&&this.spreadProps(t,this.api.getTriggerProps());let n=this.el.querySelector('[data-scope="menu"][data-part="positioner"]'),i=this.el.querySelector('[data-scope="menu"][data-part="content"]');n&&i&&(this.spreadProps(n,this.api.getPositionerProps()),this.spreadProps(i,this.api.getContentProps()),n.hidden=!this.api.open,this.api.open&&(i.querySelectorAll('[data-scope="menu"][data-part="item"]').forEach(c=>{if(!this.isOwnElement(c))return;let u=c.dataset.value;if(u){let h=c.hasAttribute("data-disabled");this.spreadProps(c,this.api.getItemProps({value:u,disabled:h||void 0}))}}),i.querySelectorAll('[data-scope="menu"][data-part="option-item"]').forEach(c=>{if(!this.isOwnElement(c))return;let u=c.dataset.value,h=c.dataset.type;if(u&&h){let p=c.hasAttribute("data-checked"),d=c.hasAttribute("data-disabled");this.spreadProps(c,this.api.getOptionItemProps({value:u,type:h,checked:p,disabled:d||void 0}))}}),i.querySelectorAll('[data-scope="menu"][data-part="item-group"]').forEach(c=>{if(!this.isOwnElement(c))return;let u=c.id;u&&this.spreadProps(c,this.api.getItemGroupProps({id:u}))}),i.querySelectorAll('[data-scope="menu"][data-part="separator"]').forEach(c=>{this.isOwnElement(c)&&this.spreadProps(c,this.api.getSeparatorProps())})));let r=this.el.querySelector('[data-scope="menu"][data-part="indicator"]');r&&this.spreadProps(r,this.api.getIndicatorProps())}},cE={mounted(){let e=this.el;if(e.hasAttribute("data-nested"))return;let t=new Bu(e,y(m({id:e.id.replace("menu:","")},O(e,"controlled")?{open:O(e,"open")}:{defaultOpen:O(e,"defaultOpen")}),{closeOnSelect:O(e,"closeOnSelect"),loopFocus:O(e,"loopFocus"),typeahead:O(e,"typeahead"),composite:O(e,"composite"),dir:x(e,"dir",["ltr","rtl"]),onSelect:r=>{var p,d;let s=O(e,"redirect"),o=[...e.querySelectorAll('[data-scope="menu"][data-part="item"]')].find(g=>g.getAttribute("data-value")===r.value),a=o==null?void 0:o.getAttribute("data-redirect"),l=o==null?void 0:o.hasAttribute("data-new-tab");s&&r.value&&!this.liveSocket.main.isConnected()&&a!=="false"&&(l?window.open(r.value,"_blank","noopener,noreferrer"):window.location.href=r.value);let u=x(e,"onSelect");u&&this.liveSocket.main.isConnected()&&this.pushEvent(u,{id:e.id,value:(p=r.value)!=null?p:null});let h=x(e,"onSelectClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{id:e.id,value:(d=r.value)!=null?d:null}}))},onOpenChange:r=>{var a,l;let s=x(e,"onOpenChange");s&&this.liveSocket.main.isConnected()&&this.pushEvent(s,{id:e.id,open:(a=r.open)!=null?a:!1});let o=x(e,"onOpenChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:{id:e.id,open:(l=r.open)!=null?l:!1}}))}}));t.init(),this.menu=t,this.nestedMenus=new Map;let n=e.querySelectorAll('[data-scope="menu"][data-nested="menu"]'),i=[];n.forEach(r=>{var o;let s=r.id;if(s){let a=s.replace("menu:",""),l=new Bu(r,{id:a,dir:x(r,"dir",["ltr","rtl"]),closeOnSelect:O(r,"closeOnSelect"),loopFocus:O(r,"loopFocus"),typeahead:O(r,"typeahead"),composite:O(r,"composite")});l.init(),(o=this.nestedMenus)==null||o.set(s,l),i.push(l)}}),setTimeout(()=>{i.forEach(r=>{this.menu&&(this.menu.setChild(r),r.setParent(this.menu))}),this.menu&&(this.menu.api=this.menu.initApi(),this.menu.render()),i.forEach(r=>{r.api=r.initApi(),r.render()}),this.menu&&this.menu.children.length>0&&this.menu.renderSubmenuTriggers()},0),this.onSetOpen=r=>{let{open:s}=r.detail;t.api.setOpen(s)},e.addEventListener("phx:menu:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("menu_set_open",r=>{let s=r.menu_id;s&&s!==e.id||t.api.setOpen(r.open)})),this.handlers.push(this.handleEvent("menu_open",()=>{this.pushEvent("menu_open_response",{open:t.api.open})}))},updated(){var e;this.el.hasAttribute("data-nested")||(e=this.menu)==null||e.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{open:O(this.el,"open")}:{defaultOpen:O(this.el,"defaultOpen")}),{closeOnSelect:O(this.el,"closeOnSelect"),loopFocus:O(this.el,"loopFocus"),typeahead:O(this.el,"typeahead"),composite:O(this.el,"composite"),dir:x(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(!this.el.hasAttribute("data-nested")){if(this.onSetOpen&&this.el.removeEventListener("phx:menu:set-open",this.onSetOpen),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);if(this.nestedMenus)for(let[,t]of this.nestedMenus)t.destroy();(e=this.menu)==null||e.destroy()}}}});var zu={};Oe(zu,{Select:()=>SE});function pE(e,t){let{context:n,prop:i,scope:r,state:s,computed:o,send:a}=e,l=i("disabled")||n.get("fieldsetDisabled"),c=!!i("invalid"),u=!!i("required"),h=!!i("readOnly"),p=i("composite"),d=i("collection"),g=s.hasTag("open"),v=s.matches("focused"),b=n.get("highlightedValue"),V=n.get("highlightedItem"),S=n.get("selectedItems"),E=n.get("currentPlacement"),f=o("isTypingAhead"),C=o("isInteractive"),I=b?ra(r,b):void 0;function P(w){let N=d.getItemDisabled(w.item),R=d.getItemValue(w.item);return qn(R,()=>`[zag-js] No value found for item ${JSON.stringify(w.item)}`),{value:R,disabled:!!(l||N),highlighted:b===R,selected:n.get("value").includes(R)}}let A=Jt(y(m({},i("positioning")),{placement:E}));return{open:g,focused:v,empty:n.get("value").length===0,highlightedItem:V,highlightedValue:b,selectedItems:S,hasSelectedItems:o("hasSelectedItems"),value:n.get("value"),valueAsString:o("valueAsString"),collection:d,multiple:!!i("multiple"),disabled:!!l,reposition(w={}){a({type:"POSITIONING.SET",options:w})},focus(){var w;(w=On(r))==null||w.focus({preventScroll:!0})},setOpen(w){s.hasTag("open")!==w&&a({type:w?"OPEN":"CLOSE"})},selectValue(w){a({type:"ITEM.SELECT",value:w})},setValue(w){a({type:"VALUE.SET",value:w})},selectAll(){a({type:"VALUE.SET",value:d.getValues()})},setHighlightValue(w){a({type:"HIGHLIGHTED_VALUE.SET",value:w})},clearHighlightValue(){a({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(w){a(w?{type:"ITEM.CLEAR",value:w}:{type:"VALUE.CLEAR"})},getItemState:P,getRootProps(){return t.element(y(m({},ke.root.attrs),{dir:i("dir"),id:dE(r),"data-invalid":T(c),"data-readonly":T(h)}))},getLabelProps(){return t.label(y(m({dir:i("dir"),id:us(r)},ke.label.attrs),{"data-disabled":T(l),"data-invalid":T(c),"data-readonly":T(h),"data-required":T(u),htmlFor:sa(r),onClick(w){var N;w.defaultPrevented||l||(N=On(r))==null||N.focus({preventScroll:!0})}}))},getControlProps(){return t.element(y(m({},ke.control.attrs),{dir:i("dir"),id:hE(r),"data-state":g?"open":"closed","data-focus":T(v),"data-disabled":T(l),"data-invalid":T(c)}))},getValueTextProps(){return t.element(y(m({},ke.valueText.attrs),{dir:i("dir"),"data-disabled":T(l),"data-invalid":T(c),"data-focus":T(v)}))},getTriggerProps(){return t.button(y(m({id:ia(r),disabled:l,dir:i("dir"),type:"button",role:"combobox","aria-controls":na(r),"aria-expanded":g,"aria-haspopup":"listbox","data-state":g?"open":"closed","aria-invalid":c,"aria-required":u,"aria-labelledby":us(r)},ke.trigger.attrs),{"data-disabled":T(l),"data-invalid":T(c),"data-readonly":T(h),"data-placement":E,"data-placeholder-shown":T(!o("hasSelectedItems")),onClick(w){C&&(w.defaultPrevented||a({type:"TRIGGER.CLICK"}))},onFocus(){a({type:"TRIGGER.FOCUS"})},onBlur(){a({type:"TRIGGER.BLUR"})},onKeyDown(w){if(w.defaultPrevented||!C)return;let R={ArrowUp(){a({type:"TRIGGER.ARROW_UP"})},ArrowDown(L){a({type:L.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){a({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){a({type:"TRIGGER.ARROW_RIGHT"})},Home(){a({type:"TRIGGER.HOME"})},End(){a({type:"TRIGGER.END"})},Enter(){a({type:"TRIGGER.ENTER"})},Space(L){a(f?{type:"TRIGGER.TYPEAHEAD",key:L.key}:{type:"TRIGGER.ENTER"})}}[ve(w,{dir:i("dir"),orientation:"vertical"})];if(R){R(w),w.preventDefault();return}tt.isValidEvent(w)&&(a({type:"TRIGGER.TYPEAHEAD",key:w.key}),w.preventDefault())}}))},getIndicatorProps(){return t.element(y(m({},ke.indicator.attrs),{dir:i("dir"),"aria-hidden":!0,"data-state":g?"open":"closed","data-disabled":T(l),"data-invalid":T(c),"data-readonly":T(h)}))},getItemProps(w){let N=P(w);return t.element(y(m({id:ra(r,N.value),role:"option"},ke.item.attrs),{dir:i("dir"),"data-value":N.value,"aria-selected":N.selected,"data-state":N.selected?"checked":"unchecked","data-highlighted":T(N.highlighted),"data-disabled":T(N.disabled),"aria-disabled":ie(N.disabled),onPointerMove(R){N.disabled||R.pointerType!=="mouse"||N.value!==b&&a({type:"ITEM.POINTER_MOVE",value:N.value})},onClick(R){R.defaultPrevented||N.disabled||a({type:"ITEM.CLICK",src:"pointerup",value:N.value})},onPointerLeave(R){var M;N.disabled||w.persistFocus||R.pointerType!=="mouse"||!((M=e.event.previous())!=null&&M.type.includes("POINTER"))||a({type:"ITEM.POINTER_LEAVE"})}}))},getItemTextProps(w){let N=P(w);return t.element(y(m({},ke.itemText.attrs),{"data-state":N.selected?"checked":"unchecked","data-disabled":T(N.disabled),"data-highlighted":T(N.highlighted)}))},getItemIndicatorProps(w){let N=P(w);return t.element(y(m({"aria-hidden":!0},ke.itemIndicator.attrs),{"data-state":N.selected?"checked":"unchecked",hidden:!N.selected}))},getItemGroupLabelProps(w){let{htmlFor:N}=w;return t.element(y(m({},ke.itemGroupLabel.attrs),{id:Yu(r,N),dir:i("dir"),role:"presentation"}))},getItemGroupProps(w){let{id:N}=w;return t.element(y(m({},ke.itemGroup.attrs),{"data-disabled":T(l),id:gE(r,N),"aria-labelledby":Yu(r,N),role:"group",dir:i("dir")}))},getClearTriggerProps(){return t.button(y(m({},ke.clearTrigger.attrs),{id:Ju(r),type:"button","aria-label":"Clear value","data-invalid":T(c),disabled:l,hidden:!o("hasSelectedItems"),dir:i("dir"),onClick(w){w.defaultPrevented||a({type:"CLEAR.CLICK"})}}))},getHiddenSelectProps(){let w=n.get("value"),N=i("multiple")?w:w==null?void 0:w[0];return t.select({name:i("name"),form:i("form"),disabled:l,multiple:i("multiple"),required:i("required"),"aria-hidden":!0,id:sa(r),defaultValue:N,style:Hn,tabIndex:-1,onFocus(){var R;(R=On(r))==null||R.focus({preventScroll:!0})},"aria-labelledby":us(r)})},getPositionerProps(){return t.element(y(m({},ke.positioner.attrs),{dir:i("dir"),id:Zu(r),style:A.floating}))},getContentProps(){return t.element(y(m({hidden:!g,dir:i("dir"),id:na(r),role:p?"listbox":"dialog"},ke.content.attrs),{"data-state":g?"open":"closed","data-placement":E,"data-activedescendant":I,"aria-activedescendant":p?I:void 0,"aria-multiselectable":i("multiple")&&p?!0:void 0,"aria-labelledby":us(r),tabIndex:0,onKeyDown(w){if(!C||!pe(w.currentTarget,K(w)))return;if(w.key==="Tab"&&!gr(w)){w.preventDefault();return}let N={ArrowUp(){a({type:"CONTENT.ARROW_UP"})},ArrowDown(){a({type:"CONTENT.ARROW_DOWN"})},Home(){a({type:"CONTENT.HOME"})},End(){a({type:"CONTENT.END"})},Enter(){a({type:"ITEM.CLICK",src:"keydown.enter"})},Space(M){var j;f?a({type:"CONTENT.TYPEAHEAD",key:M.key}):(j=N.Enter)==null||j.call(N,M)}},R=N[ve(w)];if(R){R(w),w.preventDefault();return}let L=K(w);Ut(L)||tt.isValidEvent(w)&&(a({type:"CONTENT.TYPEAHEAD",key:w.key}),w.preventDefault())}}))},getListProps(){return t.element(y(m({},ke.list.attrs),{tabIndex:0,role:p?void 0:"listbox","aria-labelledby":ia(r),"aria-activedescendant":p?void 0:I,"aria-multiselectable":!p&&i("multiple")?!0:void 0}))}}}function Xu(e){var n,i;let t=(i=e.restoreFocus)!=null?i:(n=e.previousEvent)==null?void 0:n.restoreFocus;return t==null||!!t}function TE(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function OE(e){let t={};for(let[n,i]of Object.entries(e)){let r=TE(n);t[r]=i}return t}var uE,ke,ds,dE,na,ia,Ju,us,hE,ra,sa,Zu,gE,Yu,ea,Ui,On,fE,ju,ta,qi,Tn,mE,vE,yE,nO,bE,iO,EE,rO,CE,sO,IE,SE,Qu=fe(()=>{"use strict";Ar();Ni();gn();me();uE=J("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),ke=uE.build(),ds=e=>new Xn(e);ds.empty=()=>new Xn({items:[]});dE=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`select:${e.id}`},na=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.content)!=null?n:`select:${e.id}:content`},ia=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.trigger)!=null?n:`select:${e.id}:trigger`},Ju=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.clearTrigger)!=null?n:`select:${e.id}:clear-trigger`},us=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`select:${e.id}:label`},hE=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`select:${e.id}:control`},ra=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:option:${t}`},sa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenSelect)!=null?n:`select:${e.id}:select`},Zu=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.positioner)!=null?n:`select:${e.id}:positioner`},gE=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup:${t}`},Yu=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))!=null?r:`select:${e.id}:optgroup-label:${t}`},ea=e=>e.getById(sa(e)),Ui=e=>e.getById(na(e)),On=e=>e.getById(ia(e)),fE=e=>e.getById(Ju(e)),ju=e=>e.getById(Zu(e)),ta=(e,t)=>t==null?null:e.getById(ra(e,t));({and:qi,not:Tn,or:mE}=ye()),vE={props({props:e}){var t;return y(m({loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[]},e),{collection:(t=e.collection)!=null?t:ds.empty(),positioning:m({placement:"bottom-start",gutter:8},e.positioning)})},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:he,onChange(n){var r;let i=e("collection").findMany(n);return(r=e("onValueChange"))==null?void 0:r({value:n,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{var r,s;let n=(s=(r=e("value"))!=null?r:e("defaultValue"))!=null?s:[];return{defaultValue:e("collection").findMany(n)}})}},refs(){return{typeahead:m({},tt.defaultOptions)}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value").toString()],()=>{i(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>t("open")],()=>{i(["toggleVisibility"])}),n([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{i(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:mE("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:qi(Tn("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:Tn("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:qi(Tn("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:Tn("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:Tn("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:Tn("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:Tn("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:qi("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:qi("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:qi("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>{var n;return!!((n=t.closeOnSelect)!=null?n:e("closeOnSelect"))},restoreFocus:({event:e})=>Xu(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:e,scope:t}){return Rn(ea(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){let n=e.initial("value");e.set("value",n)}})},trackDismissableElement({scope:e,send:t,prop:n}){let i=()=>Ui(e),r=!0;return vt(i,{type:"listbox",defer:!0,exclude:[On(e),fE(e)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(s){var o;(o=n("onInteractOutside"))==null||o(s),r=!(s.detail.focusable||s.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:r})}})},computePlacement({context:e,prop:t,scope:n}){let i=t("positioning");return e.set("currentPlacement",i.placement),at(()=>On(n),()=>ju(n),y(m({defer:!0},i),{onComplete(o){e.set("currentPlacement",o.placement)}}))},scrollToHighlightedItem({context:e,prop:t,scope:n,event:i}){let r=o=>{let a=e.get("highlightedValue");if(a==null||i.current().type.includes("POINTER"))return;let l=Ui(n),c=t("scrollToIndexFn");if(c){let h=t("collection").indexOf(a);c==null||c({index:h,immediate:o,getElement:()=>ta(n,a)});return}let u=ta(n,a);ln(u,{rootEl:l,block:"nearest"})};return H(()=>r(!0)),Ln(()=>Ui(n),{defer:!0,attributes:["data-activedescendant"],callback(){r(!1)}})}},actions:{reposition({context:e,prop:t,scope:n,event:i}){let r=()=>ju(n);at(On(n),r,y(m(m({},t("positioning")),i.options),{defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}}))},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let i=t("collection").getPreviousValue(n,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightNextItem({context:e,prop:t}){let n=e.get("highlightedValue");if(n==null)return;let i=t("collection").getNextValue(n,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightFirstItem({context:e,prop:t}){let n=t("collection").firstValue;e.set("highlightedValue",n)},highlightLastItem({context:e,prop:t}){let n=t("collection").lastValue;e.set("highlightedValue",n)},setInitialFocus({scope:e}){H(()=>{let t=hr({root:Ui(e)});t==null||t.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){Xu(e)&&H(()=>{let n=On(t);n==null||n.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:n}){var s,o;let i=(s=n.value)!=null?s:e.get("highlightedValue");if(i==null||!t("collection").has(i))return;(o=t("onSelect"))==null||o({value:i}),i=t("deselectable")&&!t("multiple")&&e.get("value").includes(i)?null:i,e.set("value",a=>i==null?[]:t("multiple")?rt(a,i):[i])},highlightComputedFirstItem({context:e,prop:t,computed:n}){let i=t("collection"),r=n("hasSelectedItems")?i.sort(e.get("value"))[0]:i.firstValue;e.set("highlightedValue",r)},highlightComputedLastItem({context:e,prop:t,computed:n}){let i=t("collection"),r=n("hasSelectedItems")?i.sort(e.get("value"))[0]:i.lastValue;e.set("highlightedValue",r)},highlightFirstSelectedItem({context:e,prop:t,computed:n}){if(!n("hasSelectedItems"))return;let i=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",i)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});r!=null&&e.set("highlightedValue",r)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n}){var s;(s=t("onSelect"))==null||s({value:n.value});let r=t("deselectable")&&!t("multiple")&&e.get("value").includes(n.value)?null:n.value;e.set("value",o=>r==null?[]:t("multiple")?rt(o,r):[r])},clearItem({context:e,event:t}){e.set("value",n=>n.filter(i=>i!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){let[n]=e.get("value"),i=t("collection").getPreviousValue(n);i&&e.set("value",[i])},selectNextItem({context:e,prop:t}){let[n]=e.get("value"),i=t("collection").getNextValue(n);i&&e.set("value",[i])},selectFirstItem({context:e,prop:t}){let n=t("collection").firstValue;n&&e.set("value",[n])},selectLastItem({context:e,prop:t}){let n=t("collection").lastValue;n&&e.set("value",[n])},selectMatchingItem({context:e,prop:t,event:n,refs:i}){let r=t("collection").search(n.key,{state:i.get("typeahead"),currentValue:e.get("value")[0]});r!=null&&e.set("value",[r])},scrollContentToTop({prop:e,scope:t}){var n,i;if(e("scrollToIndexFn")){let r=e("collection").firstValue;(n=e("scrollToIndexFn"))==null||n({index:0,immediate:!0,getElement:()=>ta(t,r)})}else(i=Ui(t))==null||i.scrollTo(0,0)},invokeOnOpen({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){var n;(n=e("onOpenChange"))==null||n({open:!1,value:t.get("value")})},syncSelectElement({context:e,prop:t,scope:n}){let i=ea(n);if(i){if(e.get("value").length===0&&!t("multiple")){i.selectedIndex=-1;return}for(let r of i.options)r.selected=e.get("value").includes(r.value)}},syncCollection({context:e,prop:t}){let n=t("collection"),i=n.find(e.get("highlightedValue"));i&&e.set("highlightedItem",i);let r=n.findMany(e.get("value"));e.set("selectedItems",r)},syncSelectedItems({context:e,prop:t}){let n=t("collection"),i=e.get("selectedItems"),s=e.get("value").map(o=>i.find(l=>n.getItemValue(l)===o)||n.find(o));e.set("selectedItems",s)},syncHighlightedItem({context:e,prop:t}){let n=t("collection"),i=e.get("highlightedValue"),r=i?n.find(i):null;e.set("highlightedItem",r)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{let t=ea(e);if(!t)return;let n=e.getWin(),i=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(i)})}}}};yE=G()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),nO=B(yE),bE=G()(["item","persistFocus"]),iO=B(bE),EE=G()(["id"]),rO=B(EE),CE=G()(["htmlFor"]),sO=B(CE),IE=class extends te{constructor(t,n){super(t,n);U(this,"_options",[]);U(this,"hasGroups",!1);U(this,"placeholder","");this.placeholder=x(this.el,"placeholder")||""}get options(){return Array.isArray(this._options)?this._options:[]}setOptions(t){this._options=Array.isArray(t)?t:[]}getCollection(){let t=this.options;return this.hasGroups?ds({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled,groupBy:n=>n.group}):ds({items:t,itemToValue:n=>{var i,r;return(r=(i=n.id)!=null?i:n.value)!=null?r:""},itemToString:n=>n.label,isItemDisabled:n=>!!n.disabled})}initMachine(t){let n=this;return new ee(vE,y(m({},t),{get collection(){return n.getCollection()}}))}initApi(){return pE(this.machine.service,Q)}renderItems(){var o,a,l;let t=this.el.querySelector('[data-scope="select"][data-part="content"]');if(!t)return;let n=this.el.querySelector('[data-templates="select"]');if(!n)return;t.querySelectorAll('[data-scope="select"][data-part="item"]:not([data-template])').forEach(c=>c.remove()),t.querySelectorAll('[data-scope="select"][data-part="item-group"]:not([data-template])').forEach(c=>c.remove());let i=this.api.collection.items,r=(l=(a=(o=this.api.collection).group)==null?void 0:a.call(o))!=null?l:[];r.some(([c])=>c!=null)?this.renderGroupedItems(t,n,r):this.renderFlatItems(t,n,i)}renderGroupedItems(t,n,i){for(let[r,s]of i){if(r==null)continue;let o=n.querySelector(`[data-scope="select"][data-part="item-group"][data-id="${r}"][data-template]`);if(!o)continue;let a=o.cloneNode(!0);a.removeAttribute("data-template"),this.spreadProps(a,this.api.getItemGroupProps({id:r}));let l=a.querySelector('[data-scope="select"][data-part="item-group-label"]');l&&this.spreadProps(l,this.api.getItemGroupLabelProps({htmlFor:r})),a.querySelectorAll('[data-scope="select"][data-part="item"][data-template]').forEach(u=>u.remove());for(let u of s){let h=this.cloneItem(n,u);h&&a.appendChild(h)}t.appendChild(a)}}renderFlatItems(t,n,i){for(let r of i){let s=this.cloneItem(n,r);s&&t.appendChild(s)}}cloneItem(t,n){let i=this.api.collection.getItemValue(n),r=t.querySelector(`[data-scope="select"][data-part="item"][data-value="${i}"][data-template]`);if(!r)return null;let s=r.cloneNode(!0);s.removeAttribute("data-template"),this.spreadProps(s,this.api.getItemProps({item:n}));let o=s.querySelector('[data-scope="select"][data-part="item-text"]');o&&this.spreadProps(o,this.api.getItemTextProps({item:n}));let a=s.querySelector('[data-scope="select"][data-part="item-indicator"]');return a&&this.spreadProps(a,this.api.getItemIndicatorProps({item:n})),s}render(){let t=this.el.querySelector('[data-scope="select"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="select"][data-part="hidden-select"]'),i=this.el.querySelector('[data-scope="select"][data-part="value-input"]');i&&(!this.api.value||this.api.value.length===0?i.value="":this.api.value.length===1?i.value=String(this.api.value[0]):i.value=this.api.value.map(String).join(",")),n&&this.spreadProps(n,this.api.getHiddenSelectProps()),["label","control","trigger","indicator","clear-trigger","positioner"].forEach(o=>{let a=this.el.querySelector(`[data-scope="select"][data-part="${o}"]`);if(!a)return;let l="get"+o.split("-").map(c=>c[0].toUpperCase()+c.slice(1)).join("")+"Props";this.spreadProps(a,this.api[l]())});let r=this.el.querySelector('[data-scope="select"][data-part="item-text"]');if(r){let o=this.api.valueAsString;if(this.api.value&&this.api.value.length>0&&!o){let a=this.api.value[0],l=this.options.find(c=>{var h,p;let u=(p=(h=c.id)!=null?h:c.value)!=null?p:"";return String(u)===String(a)});l?r.textContent=l.label:r.textContent=this.placeholder||""}else r.textContent=o||this.placeholder||""}let s=this.el.querySelector('[data-scope="select"][data-part="content"]');s&&(this.spreadProps(s,this.api.getContentProps()),this.renderItems())}};SE={mounted(){let e=this.el,t=JSON.parse(e.dataset.collection||"[]"),n=t.some(s=>s.group!==void 0),i,r=this;this.wasFocused=!1,i=new IE(e,y(m({id:e.id},O(e,"controlled")?{value:Y(e,"value")}:{defaultValue:Y(e,"defaultValue")}),{disabled:O(e,"disabled"),closeOnSelect:O(e,"closeOnSelect"),dir:x(e,"dir",["ltr","rtl"]),loopFocus:O(e,"loopFocus"),multiple:O(e,"multiple"),invalid:O(e,"invalid"),name:x(e,"name"),form:x(e,"form"),readOnly:O(e,"readOnly"),required:O(e,"required"),positioning:(()=>{let s=e.dataset.positioning;if(s)try{let o=JSON.parse(s);return OE(o)}catch(o){return}})(),onValueChange:s=>{var S;let o=O(e,"redirect"),a=s.value.length>0?String(s.value[0]):null,l=(S=s.items)!=null&&S.length?s.items[0]:null,c=l&&typeof l=="object"&&l!==null&&"redirect"in l?l.redirect:void 0,u=l&&typeof l=="object"&&l!==null&&"new_tab"in l?l.new_tab:void 0;o&&a&&r.liveSocket.main.isDead&&c!==!1&&(u===!0?window.open(a,"_blank","noopener,noreferrer"):window.location.href=a);let d=e.querySelector('[data-scope="select"][data-part="value-input"]');d&&(d.value=s.value.length===0?"":s.value.length===1?String(s.value[0]):s.value.map(String).join(","),d.dispatchEvent(new Event("input",{bubbles:!0})),d.dispatchEvent(new Event("change",{bubbles:!0})));let g={value:s.value,items:s.items,id:e.id},v=e.getAttribute("data-on-value-change-js");if(v){let E=v,f=[...E.matchAll(/__VALUE_(\d+)__/g)].map(I=>parseInt(I[1],10)),C=[...new Set(f)].sort((I,P)=>P-I);for(let I of C){let P=s.value[I],A=P!=null?String(P):"",w=JSON.stringify(A).slice(1,-1);E=E.split(`__VALUE_${I}__`).join(w)}E=E.split("__VALUE__").join(JSON.stringify(s.value)),r.liveSocket.execJS(e,E)}let b=x(e,"onValueChangeClient");b&&e.dispatchEvent(new CustomEvent(b,{bubbles:!0,detail:g}));let V=x(e,"onValueChange");V&&!r.liveSocket.main.isDead&&r.liveSocket.main.isConnected()&&this.pushEvent(V,g)}})),i.hasGroups=n,i.setOptions(t),i.init(),this.select=i,this.handlers=[]},beforeUpdate(){var e,t,n;this.wasFocused=(n=(t=(e=this.select)==null?void 0:e.api)==null?void 0:t.focused)!=null?n:!1},updated(){let e=JSON.parse(this.el.dataset.collection||"[]"),t=e.some(n=>n.group!==void 0);if(this.select&&(this.select.hasGroups=t,this.select.setOptions(e),this.select.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{value:Y(this.el,"value")}:{defaultValue:Y(this.el,"defaultValue")}),{name:x(this.el,"name"),form:x(this.el,"form"),disabled:O(this.el,"disabled"),multiple:O(this.el,"multiple"),dir:x(this.el,"dir",["ltr","rtl"]),invalid:O(this.el,"invalid"),required:O(this.el,"required"),readOnly:O(this.el,"readOnly")})),O(this.el,"controlled")&&this.wasFocused)){let n=this.el.querySelector('[data-scope="select"][data-part="trigger"]');n&&document.activeElement!==n&&n.focus()}},destroyed(){var e;if(this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.select)==null||e.destroy()}}});var bd={};Oe(bd,{SignaturePad:()=>zE});function nd(e,t,n,i=r=>r){return e*i(.5-t*(.5-n))}function gd(e,t,n){let i=oa(1,t/n);return oa(1,e+(oa(1,1-i)-e)*(i*.275))}function wE(e){return[-e[0],-e[1]]}function bt(e,t){return[e[0]+t[0],e[1]+t[1]]}function id(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function en(e,t){return[e[0]-t[0],e[1]-t[1]]}function ca(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Qt(e,t){return[e[0]*t,e[1]*t]}function aa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function VE(e,t){return[e[0]/t,e[1]/t]}function fd(e){return[e[1],-e[0]]}function la(e,t){let n=t[0];return e[0]=t[1],e[1]=-n,e}function rd(e,t){return e[0]*t[0]+e[1]*t[1]}function xE(e,t){return e[0]===t[0]&&e[1]===t[1]}function kE(e){return Math.hypot(e[0],e[1])}function sd(e,t){let n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function pd(e){return VE(e,kE(e))}function NE(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ua(e,t,n){let i=Math.sin(n),r=Math.cos(n),s=e[0]-t[0],o=e[1]-t[1],a=s*r-o*i,l=s*i+o*r;return[a+t[0],l+t[1]]}function od(e,t,n,i){let r=Math.sin(i),s=Math.cos(i),o=t[0]-n[0],a=t[1]-n[1],l=o*s-a*r,c=o*r+a*s;return e[0]=l+n[0],e[1]=c+n[1],e}function ad(e,t,n){return bt(e,Qt(en(t,e),n))}function AE(e,t,n,i){let r=n[0]-t[0],s=n[1]-t[1];return e[0]=t[0]+r*i,e[1]=t[1]+s*i,e}function md(e,t,n){return bt(e,Qt(t,n))}function RE(e,t){let n=md(e,pd(fd(en(e,bt(e,[1,1])))),-t),i=[],r=1/13;for(let s=r;s<=1;s+=r)i.push(ua(n,e,Wi*2*s));return i}function DE(e,t,n){let i=[],r=1/n;for(let s=r;s<=1;s+=r)i.push(ua(t,e,Wi*s));return i}function LE(e,t,n){let i=en(t,n),r=Qt(i,.5),s=Qt(i,.51);return[en(e,r),en(e,s),bt(e,s),bt(e,r)]}function FE(e,t,n,i){let r=[],s=md(e,t,n),o=1/i;for(let a=o;a<1;a+=o)r.push(ua(s,e,Wi*3*a));return r}function ME(e,t,n){return[bt(e,Qt(t,n)),bt(e,Qt(t,n*.99)),en(e,Qt(t,n*.99)),en(e,Qt(t,n))]}function ld(e,t,n){return e===!1||e===void 0?0:e===!0?Math.max(t,n):e}function $E(e,t,n){return e.slice(0,10).reduce((i,r)=>{let s=r.pressure;return t&&(s=gd(i,r.distance,n)),(i+s)/2},e[0].pressure)}function _E(e,t={}){let{size:n=16,smoothing:i=.5,thinning:r=.5,simulatePressure:s=!0,easing:o=W=>W,start:a={},end:l={},last:c=!1}=t,{cap:u=!0,easing:h=W=>W*(2-W)}=a,{cap:p=!0,easing:d=W=>--W*W*W+1}=l;if(e.length===0||n<=0)return[];let g=e[e.length-1].runningLength,v=ld(a.taper,n,g),b=ld(l.taper,n,g),V=(n*i)**2,S=[],E=[],f=$E(e,s,n),C=nd(n,r,e[e.length-1].pressure,o),I,P=e[0].vector,A=e[0].point,w=A,N=A,R=w,L=!1;for(let W=0;W<e.length;W++){let{pressure:ge}=e[W],{point:de,vector:X,distance:ue,runningLength:qe}=e[W],It=W===e.length-1;if(!It&&g-qe<3)continue;r?(s&&(ge=gd(f,ue,n)),C=nd(n,r,ge,o)):C=n/2,I===void 0&&(I=C);let gi=qe<v?h(qe/v):1,Es=g-qe<b?d((g-qe)/b):1;C=Math.max(.01,C*Math.min(gi,Es));let D=(It?e[W]:e[W+1]).vector,k=It?1:rd(X,D),F=rd(X,P)<0&&!L,_=k!==null&&k<0;if(F||_){la(Te,P),aa(Te,Te,C);for(let z=0;z<=1;z+=.07692307692307693)ca(Zt,de,Te),od(Zt,Zt,de,Wi*z),N=[Zt[0],Zt[1]],S.push(N),id(zt,de,Te),od(zt,zt,de,Wi*-z),R=[zt[0],zt[1]],E.push(R);A=N,w=R,_&&(L=!0);continue}if(L=!1,It){la(Te,X),aa(Te,Te,C),S.push(en(de,Te)),E.push(bt(de,Te));continue}AE(Te,D,X,k),la(Te,Te),aa(Te,Te,C),ca(Zt,de,Te),N=[Zt[0],Zt[1]],(W<=1||sd(A,N)>V)&&(S.push(N),A=N),id(zt,de,Te),R=[zt[0],zt[1]],(W<=1||sd(w,R)>V)&&(E.push(R),w=R),f=ge,P=X}let M=[e[0].point[0],e[0].point[1]],j=e.length>1?[e[e.length-1].point[0],e[e.length-1].point[1]]:bt(e[0].point,[1,1]),q=[],Z=[];if(e.length===1){if(!(v||b)||c)return RE(M,I||C)}else{v||b&&e.length===1||(u?q.push(...DE(M,E[0],13)):q.push(...LE(M,S[0],E[0])));let W=fd(wE(e[e.length-1].vector));b||v&&e.length===1?Z.push(j):p?Z.push(...FE(j,W,C,29)):Z.push(...ME(j,W,C))}return S.concat(Z,E.reverse(),q)}function ud(e){return e!=null&&e>=0}function HE(e,t={}){var p;let{streamline:n=.5,size:i=16,last:r=!1}=t;if(e.length===0)return[];let s=.15+(1-n)*.85,o=Array.isArray(e[0])?e:e.map(({x:d,y:g,pressure:v=ed})=>[d,g,v]);if(o.length===2){let d=o[1];o=o.slice(0,-1);for(let g=1;g<5;g++)o.push(ad(o[0],d,g/4))}o.length===1&&(o=[...o,[...bt(o[0],td),...o[0].slice(2)]]);let a=[{point:[o[0][0],o[0][1]],pressure:ud(o[0][2])?o[0][2]:.25,vector:[...td],distance:0,runningLength:0}],l=!1,c=0,u=a[0],h=o.length-1;for(let d=1;d<o.length;d++){let g=r&&d===h?[o[d][0],o[d][1]]:ad(u.point,o[d],s);if(xE(u.point,g))continue;let v=NE(g,u.point);if(c+=v,d<h&&!l){if(c<i)continue;l=!0}ca(cd,u.point,g),u={point:g,pressure:ud(o[d][2])?o[d][2]:ed,vector:pd(cd),distance:v,runningLength:c},a.push(u)}return a[0].vector=((p=a[1])==null?void 0:p.vector)||[0,0],a}function BE(e,t={}){return _E(HE(e,t),t)}function YE(e,t){let{state:n,send:i,prop:r,computed:s,context:o,scope:a}=e,l=n.matches("drawing"),c=s("isEmpty"),u=s("isInteractive"),h=!!r("disabled"),p=!!r("required"),d=r("translations");return{empty:c,drawing:l,currentPath:o.get("currentPath"),paths:o.get("paths"),clear(){i({type:"CLEAR"})},getDataUrl(g,v){return s("isEmpty")?Promise.resolve(""):yd(a,{type:g,quality:v})},getLabelProps(){return t.label(y(m({},Sn.label.attrs),{id:WE(a),"data-disabled":T(h),"data-required":T(p),htmlFor:dd(a),onClick(g){if(!u||g.defaultPrevented)return;let v=fs(a);v==null||v.focus({preventScroll:!0})}}))},getRootProps(){return t.element(y(m({},Sn.root.attrs),{"data-disabled":T(h),id:qE(a)}))},getControlProps(){return t.element(y(m({},Sn.control.attrs),{tabIndex:h?void 0:0,id:vd(a),role:"application","aria-roledescription":"signature pad","aria-label":d.control,"aria-disabled":h,"data-disabled":T(h),onPointerDown(g){if(!et(g)||Fe(g)||!u)return;let v=K(g);if(v!=null&&v.closest("[data-part=clear-trigger]"))return;g.currentTarget.setPointerCapture(g.pointerId);let b={x:g.clientX,y:g.clientY},V=fs(a);if(!V)return;let{offset:S}=_s(b,V);i({type:"POINTER_DOWN",point:S,pressure:g.pressure})},onPointerUp(g){u&&g.currentTarget.hasPointerCapture(g.pointerId)&&g.currentTarget.releasePointerCapture(g.pointerId)},style:{position:"relative",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}))},getSegmentProps(){return t.svg(y(m({},Sn.segment.attrs),{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",fill:r("drawing").fill}}))},getSegmentPathProps(g){return t.path(y(m({},Sn.segmentPath.attrs),{d:g.path}))},getGuideProps(){return t.element(y(m({},Sn.guide.attrs),{"data-disabled":T(h)}))},getClearTriggerProps(){return t.button(y(m({},Sn.clearTrigger.attrs),{type:"button","aria-label":d.clearTrigger,hidden:!o.get("paths").length||l,disabled:h,onClick(){i({type:"CLEAR"})}}))},getHiddenInputProps(g){return t.input({id:dd(a),type:"text",hidden:!0,disabled:h,required:r("required"),readOnly:!0,name:r("name"),value:g.value})}}}function jE(e,t=!0){let n=e.length;if(n<4)return"";let i=e[0],r=e[1],s=e[2],o=`M${i[0].toFixed(2)},${i[1].toFixed(2)} Q${r[0].toFixed(2)},${r[1].toFixed(2)} ${hs(r[0],s[0]).toFixed(2)},${hs(r[1],s[1]).toFixed(2)} T`;for(let a=2,l=n-1;a<l;a++)i=e[a],r=e[a+1],o+=`${hs(i[0],r[0]).toFixed(2)},${hs(i[1],r[1]).toFixed(2)} `;return t&&(o+="Z"),o}function gs(e,t){let n=e.dataset[t];if(!n)return[];try{return JSON.parse(n)}catch(i){return[]}}function hd(e){var t,n,i,r;return{fill:x(e,"drawingFill")||"black",size:(t=Se(e,"drawingSize"))!=null?t:2,simulatePressure:O(e,"drawingSimulatePressure"),smoothing:(n=Se(e,"drawingSmoothing"))!=null?n:.5,thinning:(i=Se(e,"drawingThinning"))!=null?i:.7,streamline:(r=Se(e,"drawingStreamline"))!=null?r:.65}}var PE,Wi,ed,td,oa,Te,Zt,zt,cd,GE,UE,Sn,qE,vd,WE,dd,fs,KE,yd,hs,XE,JE,cO,ZE,zE,Ed=fe(()=>{"use strict";me();({PI:PE}=Math),Wi=PE+1e-4,ed=.5,td=[1,1];({min:oa}=Math);Te=[0,0],Zt=[0,0],zt=[0,0];cd=[0,0];GE=BE,UE=J("signature-pad").parts("root","control","segment","segmentPath","guide","clearTrigger","label"),Sn=UE.build(),qE=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`signature-${e.id}`},vd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`signature-control-${e.id}`},WE=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`signature-label-${e.id}`},dd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`signature-input-${e.id}`},fs=e=>e.getById(vd(e)),KE=e=>Mn(fs(e),"[data-part=segment]"),yd=(e,t)=>_a(KE(e),t);hs=(e,t)=>(e+t)/2;XE={props({props:e}){return y(m({defaultPaths:[]},e),{drawing:m({size:2,simulatePressure:!1,thinning:.7,smoothing:.4,streamline:.6},e.drawing),translations:m({control:"signature pad",clearTrigger:"clear signature"},e.translations)})},initialState(){return"idle"},context({prop:e,bindable:t}){return{paths:t(()=>({defaultValue:e("defaultPaths"),value:e("paths"),sync:!0,onChange(n){var i;(i=e("onDraw"))==null||i({paths:n})}})),currentPoints:t(()=>({defaultValue:[]})),currentPath:t(()=>({defaultValue:null}))}},computed:{isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),isEmpty:({context:e})=>e.get("paths").length===0},on:{CLEAR:{actions:["clearPoints","invokeOnDrawEnd","focusCanvasEl"]}},states:{idle:{on:{POINTER_DOWN:{target:"drawing",actions:["addPoint"]}}},drawing:{effects:["trackPointerMove"],on:{POINTER_MOVE:{actions:["addPoint","invokeOnDraw"]},POINTER_UP:{target:"idle",actions:["endStroke","invokeOnDrawEnd"]}}}},implementations:{effects:{trackPointerMove({scope:e,send:t}){let n=e.getDoc();return Ja(n,{onPointerMove({event:i,point:r}){let s=fs(e);if(!s)return;let{offset:o}=_s(r,s);t({type:"POINTER_MOVE",point:o,pressure:i.pressure})},onPointerUp(){t({type:"POINTER_UP"})}})}},actions:{addPoint({context:e,event:t,prop:n}){let i=[...e.get("currentPoints"),t.point];e.set("currentPoints",i);let r=GE(i,n("drawing"));e.set("currentPath",jE(r))},endStroke({context:e}){let t=[...e.get("paths"),e.get("currentPath")];e.set("paths",t),e.set("currentPoints",[]),e.set("currentPath",null)},clearPoints({context:e}){e.set("currentPoints",[]),e.set("paths",[]),e.set("currentPath",null)},focusCanvasEl({scope:e}){queueMicrotask(()=>{var t;(t=e.getActiveElement())==null||t.focus({preventScroll:!0})})},invokeOnDraw({context:e,prop:t}){var n;(n=t("onDraw"))==null||n({paths:[...e.get("paths"),e.get("currentPath")]})},invokeOnDrawEnd({context:e,prop:t,scope:n,computed:i}){var r;(r=t("onDrawEnd"))==null||r({paths:[...e.get("paths")],getDataUrl(s,o=.92){return i("isEmpty")?Promise.resolve(""):yd(n,{type:s,quality:o})}})}}}},JE=G()(["defaultPaths","dir","disabled","drawing","getRootNode","id","ids","name","onDraw","onDrawEnd","paths","readOnly","required","translations"]),cO=B(JE),ZE=class extends te{constructor(){super(...arguments);U(this,"imageURL","");U(this,"paths",[]);U(this,"name");U(this,"syncPaths",()=>{let t=this.el.querySelector('[data-scope="signature-pad"][data-part="segment"]');if(!t)return;if(this.api.paths.length+(this.api.currentPath?1:0)===0){t.innerHTML="",this.imageURL="",this.paths=[];let i=this.el.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');i&&(i.value="");return}if(t.innerHTML="",this.api.paths.forEach(i=>{let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("data-scope","signature-pad"),r.setAttribute("data-part","path"),this.spreadProps(r,this.api.getSegmentPathProps({path:i})),t.appendChild(r)}),this.api.currentPath){let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("data-scope","signature-pad"),i.setAttribute("data-part","current-path"),this.spreadProps(i,this.api.getSegmentPathProps({path:this.api.currentPath})),t.appendChild(i)}})}initMachine(t){return this.name=t.name,new ee(XE,t)}setName(t){this.name=t}setPaths(t){this.paths=t}initApi(){return YE(this.machine.service,Q)}render(){let t=this.el.querySelector('[data-scope="signature-pad"][data-part="root"]');if(!t)return;this.spreadProps(t,this.api.getRootProps());let n=t.querySelector('[data-scope="signature-pad"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=t.querySelector('[data-scope="signature-pad"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=t.querySelector('[data-scope="signature-pad"][data-part="segment"]');r&&this.spreadProps(r,this.api.getSegmentProps());let s=t.querySelector('[data-scope="signature-pad"][data-part="guide"]');s&&this.spreadProps(s,this.api.getGuideProps());let o=t.querySelector('[data-scope="signature-pad"][data-part="clear-trigger"]');if(o){this.spreadProps(o,this.api.getClearTriggerProps());let l=this.api.paths.length>0||!!this.api.currentPath;o.hidden=!l}let a=t.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');if(a){let l=this.paths.length>0?this.paths:this.api.paths;this.paths.length===0&&this.api.paths.length>0&&(this.paths=[...this.api.paths]);let c=l.length>0?JSON.stringify(l):"";this.spreadProps(a,this.api.getHiddenInputProps({value:c})),this.name&&(a.name=this.name),a.value=c}this.syncPaths()}};zE={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=O(e,"controlled"),i=gs(e,"paths"),r=gs(e,"defaultPaths"),s=new ZE(e,y(m(m({id:e.id,name:x(e,"name")},n&&i.length>0?{paths:i}:void 0),!n&&r.length>0?{defaultPaths:r}:void 0),{drawing:hd(e),onDrawEnd:a=>{s.setPaths(a.paths);let l=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');l&&(l.value=JSON.stringify(a.paths)),a.getDataUrl("image/png").then(c=>{s.imageURL=c;let u=x(e,"onDrawEnd");u&&this.liveSocket.main.isConnected()&&t(u,{id:e.id,paths:a.paths,url:c});let h=x(e,"onDrawEndClient");h&&e.dispatchEvent(new CustomEvent(h,{bubbles:!0,detail:{id:e.id,paths:a.paths,url:c}}))})}}));if(s.init(),this.signaturePad=s,(n?i:r).length>0){let a=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');a&&(a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0})))}this.onClear=a=>{let{id:l}=a.detail;if(l&&l!==e.id)return;s.api.clear(),s.imageURL="",s.setPaths([]);let c=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');c&&(c.value="")},e.addEventListener("phx:signature-pad:clear",this.onClear),this.handlers=[],this.handlers.push(this.handleEvent("signature_pad_clear",a=>{let l=a.signature_pad_id;if(l&&l!==e.id)return;s.api.clear(),s.imageURL="",s.setPaths([]);let c=e.querySelector('[data-scope="signature-pad"][data-part="hidden-input"]');c&&(c.value="")}))},updated(){var r,s;let e=O(this.el,"controlled"),t=gs(this.el,"paths"),n=gs(this.el,"defaultPaths"),i=x(this.el,"name");i&&((r=this.signaturePad)==null||r.setName(i)),(s=this.signaturePad)==null||s.updateProps(y(m(m({id:this.el.id,name:i},e&&t.length>0?{paths:t}:{}),!e&&n.length>0?{defaultPaths:n}:{}),{drawing:hd(this.el)}))},destroyed(){var e;if(this.onClear&&this.el.removeEventListener("phx:signature-pad:clear",this.onClear),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.signaturePad)==null||e.destroy()}}});var Od={};Oe(Od,{Switch:()=>aC});function iC(e,t){let{context:n,send:i,prop:r,scope:s}=e,o=!!r("disabled"),a=!!r("readOnly"),l=!!r("required"),c=!!n.get("checked"),u=!o&&n.get("focused"),h=!o&&n.get("focusVisible"),p=!o&&n.get("active"),d={"data-active":T(p),"data-focus":T(u),"data-focus-visible":T(h),"data-readonly":T(a),"data-hover":T(n.get("hovered")),"data-disabled":T(o),"data-state":c?"checked":"unchecked","data-invalid":T(r("invalid")),"data-required":T(l)};return{checked:c,disabled:o,focused:u,setChecked(g){i({type:"CHECKED.SET",checked:g,isTrusted:!1})},toggleChecked(){i({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return t.label(y(m(m({},ps.root.attrs),d),{dir:r("dir"),id:Td(s),htmlFor:da(s),onPointerMove(){o||i({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){o||i({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(g){var b;if(o)return;K(g)===ui(s)&&g.stopPropagation(),Wt()&&((b=ui(s))==null||b.focus())}}))},getLabelProps(){return t.element(y(m(m({},ps.label.attrs),d),{dir:r("dir"),id:Cd(s)}))},getThumbProps(){return t.element(y(m(m({},ps.thumb.attrs),d),{dir:r("dir"),id:eC(s),"aria-hidden":!0}))},getControlProps(){return t.element(y(m(m({},ps.control.attrs),d),{dir:r("dir"),id:tC(s),"aria-hidden":!0}))},getHiddenInputProps(){return t.input({id:da(s),type:"checkbox",required:r("required"),defaultChecked:c,disabled:o,"aria-labelledby":Cd(s),"aria-invalid":r("invalid"),name:r("name"),form:r("form"),value:r("value"),style:Hn,onFocus(){let g=Kn();i({type:"CONTEXT.SET",context:{focused:!0,focusVisible:g}})},onBlur(){i({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(g){if(a){g.preventDefault();return}let v=g.currentTarget.checked;i({type:"CHECKED.SET",checked:v,isTrusted:!0})}})}}}var QE,ps,Td,Cd,eC,tC,da,nC,ui,Id,rC,sC,fO,oC,aC,Sd=fe(()=>{"use strict";zs();me();QE=J("switch").parts("root","label","control","thumb"),ps=QE.build(),Td=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`switch:${e.id}`},Cd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`switch:${e.id}:label`},eC=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.thumb)!=null?n:`switch:${e.id}:thumb`},tC=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.control)!=null?n:`switch:${e.id}:control`},da=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.hiddenInput)!=null?n:`switch:${e.id}:input`},nC=e=>e.getById(Td(e)),ui=e=>e.getById(da(e));({not:Id}=ye()),rC={props({props:e}){return m({defaultChecked:!1,label:"switch",value:"on"},e)},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var i;(i=e("onCheckedChange"))==null||i({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:i}){e([()=>t("disabled")],()=>{i(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{i(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Id("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Id("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return pr({pointerNode:nC(t),keyboardNode:ui(t),isValidKey:i=>i.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return Sr({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return Rn(ui(n),{onFieldsetDisabledChange(i){e.set("fieldsetDisabled",i)},onFormReset(){let i=e.initial("checked");t({type:"CHECKED.SET",checked:!!i,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(let n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){let n=ui(t);n&&Ci(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){queueMicrotask(()=>{let n=ui(t);ur(n,{checked:e.get("checked")})})}}}},sC=G()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),fO=B(sC),oC=class extends te{initMachine(e){return new ee(rC,e)}initApi(){return iC(this.machine.service,Q)}render(){let e=this.el.querySelector('[data-scope="switch"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelector('[data-scope="switch"][data-part="hidden-input"]');t&&this.spreadProps(t,this.api.getHiddenInputProps());let n=this.el.querySelector('[data-scope="switch"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps());let i=this.el.querySelector('[data-scope="switch"][data-part="control"]');i&&this.spreadProps(i,this.api.getControlProps());let r=this.el.querySelector('[data-scope="switch"][data-part="thumb"]');r&&this.spreadProps(r,this.api.getThumbProps())}},aC={mounted(){let e=this.el,t=this.pushEvent.bind(this);this.wasFocused=!1;let n=new oC(e,y(m({id:e.id},O(e,"controlled")?{checked:O(e,"checked")}:{defaultChecked:O(e,"defaultChecked")}),{disabled:O(e,"disabled"),name:x(e,"name"),form:x(e,"form"),value:x(e,"value"),dir:x(e,"dir",["ltr","rtl"]),invalid:O(e,"invalid"),required:O(e,"required"),readOnly:O(e,"readOnly"),label:x(e,"label"),onCheckedChange:i=>{let r=x(e,"onCheckedChange");r&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(r,{checked:i.checked,id:e.id});let s=x(e,"onCheckedChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{value:i,id:e.id}}))}}));n.init(),this.zagSwitch=n,this.onSetChecked=i=>{let{value:r}=i.detail;n.api.setChecked(r)},e.addEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers=[],this.handlers.push(this.handleEvent("switch_set_checked",i=>{let r=i.id;r&&r!==e.id||n.api.setChecked(i.value)})),this.handlers.push(this.handleEvent("switch_toggle_checked",i=>{let r=i.id;r&&r!==e.id||n.api.toggleChecked()})),this.handlers.push(this.handleEvent("switch_checked",()=>{this.pushEvent("switch_checked_response",{value:n.api.checked})})),this.handlers.push(this.handleEvent("switch_focused",()=>{this.pushEvent("switch_focused_response",{value:n.api.focused})})),this.handlers.push(this.handleEvent("switch_disabled",()=>{this.pushEvent("switch_disabled_response",{value:n.api.disabled})}))},beforeUpdate(){var e,t;this.wasFocused=(t=(e=this.zagSwitch)==null?void 0:e.api.focused)!=null?t:!1},updated(){var e;if((e=this.zagSwitch)==null||e.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{checked:O(this.el,"checked")}:{defaultChecked:O(this.el,"defaultChecked")}),{disabled:O(this.el,"disabled"),name:x(this.el,"name"),form:x(this.el,"form"),value:x(this.el,"value"),dir:x(this.el,"dir",["ltr","rtl"]),invalid:O(this.el,"invalid"),required:O(this.el,"required"),readOnly:O(this.el,"readOnly"),label:x(this.el,"label")})),O(this.el,"controlled")&&this.wasFocused){let t=this.el.querySelector('[data-part="hidden-input"]');t==null||t.focus()}},destroyed(){var e;if(this.onSetChecked&&this.el.removeEventListener("phx:switch:set-checked",this.onSetChecked),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.zagSwitch)==null||e.destroy()}}});var xd={};Oe(xd,{Tabs:()=>OC});function vC(e,t){let{state:n,send:i,context:r,prop:s,scope:o}=e,a=s("translations"),l=n.matches("focused"),c=s("orientation")==="vertical",u=s("orientation")==="horizontal",h=s("composite");function p(d){return{selected:r.get("value")===d.value,focused:r.get("focusedValue")===d.value,disabled:!!d.disabled}}return{value:r.get("value"),focusedValue:r.get("focusedValue"),setValue(d){i({type:"SET_VALUE",value:d})},clearValue(){i({type:"CLEAR_VALUE"})},setIndicatorRect(d){let g=Pn(o,d);i({type:"SET_INDICATOR_RECT",id:g})},syncTabIndex(){i({type:"SYNC_TAB_INDEX"})},selectNext(d){i({type:"TAB_FOCUS",value:d,src:"selectNext"}),i({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(d){i({type:"TAB_FOCUS",value:d,src:"selectPrev"}),i({type:"ARROW_PREV",src:"selectPrev"})},focus(){var g;let d=r.get("value");d&&((g=ms(o,d))==null||g.focus())},getRootProps(){return t.element(y(m({},Ki.root.attrs),{id:cC(o),"data-orientation":s("orientation"),"data-focus":T(l),dir:s("dir")}))},getListProps(){return t.element(y(m({},Ki.list.attrs),{id:Yi(o),role:"tablist",dir:s("dir"),"data-focus":T(l),"aria-orientation":s("orientation"),"data-orientation":s("orientation"),"aria-label":a==null?void 0:a.listLabel,onKeyDown(d){if(d.defaultPrevented||Vt(d)||!pe(d.currentTarget,K(d)))return;let g={ArrowDown(){u||i({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){u||i({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||i({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||i({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){i({type:"HOME"})},End(){i({type:"END"})}},v=ve(d,{dir:s("dir"),orientation:s("orientation")}),b=g[v];if(b){d.preventDefault(),b(d);return}}}))},getTriggerState:p,getTriggerProps(d){let{value:g,disabled:v}=d,b=p(d);return t.button(y(m({},Ki.trigger.attrs),{role:"tab",type:"button",disabled:v,dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":T(v),"aria-disabled":v,"data-value":g,"aria-selected":b.selected,"data-selected":T(b.selected),"data-focus":T(b.focused),"aria-controls":b.selected?ha(o,g):void 0,"data-ownedby":Yi(o),"data-ssr":T(r.get("ssr")),id:Pn(o,g),tabIndex:b.selected&&h?0:-1,onFocus(){i({type:"TAB_FOCUS",value:g})},onBlur(V){let S=V.relatedTarget;(S==null?void 0:S.getAttribute("role"))!=="tab"&&i({type:"TAB_BLUR"})},onClick(V){V.defaultPrevented||sn(V)||v||(Wt()&&V.currentTarget.focus(),i({type:"TAB_CLICK",value:g}))}}))},getContentProps(d){let{value:g}=d,v=r.get("value")===g;return t.element(y(m({},Ki.content.attrs),{dir:s("dir"),id:ha(o,g),tabIndex:h?0:-1,"aria-labelledby":Pn(o,g),role:"tabpanel","data-ownedby":Yi(o),"data-selected":T(v),"data-orientation":s("orientation"),hidden:!v}))},getIndicatorProps(){let d=r.get("indicatorRect"),g=d==null||d.width===0&&d.height===0&&d.x===0&&d.y===0;return t.element(y(m({id:wd(o)},Ki.indicator.attrs),{dir:s("dir"),"data-orientation":s("orientation"),hidden:g,style:{"--transition-property":"left, right, top, bottom, width, height","--left":Ae(d==null?void 0:d.x),"--top":Ae(d==null?void 0:d.y),"--width":Ae(d==null?void 0:d.width),"--height":Ae(d==null?void 0:d.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[u?"left":"top"]:u?"var(--left)":"var(--top)"}}))}}}var lC,Ki,cC,Yi,ha,Pn,wd,uC,dC,ms,Pd,di,hC,gC,fC,pC,Vd,mC,yC,bC,EC,yO,CC,bO,IC,EO,TC,OC,kd=fe(()=>{"use strict";me();lC=J("tabs").parts("root","list","trigger","content","indicator"),Ki=lC.build(),cC=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tabs:${e.id}`},Yi=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.list)!=null?n:`tabs:${e.id}:list`},ha=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.content)==null?void 0:i.call(n,t))!=null?r:`tabs:${e.id}:content-${t}`},Pn=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.trigger)==null?void 0:i.call(n,t))!=null?r:`tabs:${e.id}:trigger-${t}`},wd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.indicator)!=null?n:`tabs:${e.id}:indicator`},uC=e=>e.getById(Yi(e)),dC=(e,t)=>e.getById(ha(e,t)),ms=(e,t)=>t!=null?e.getById(Pn(e,t)):null,Pd=e=>e.getById(wd(e)),di=e=>{let n=`[role=tab][data-ownedby='${CSS.escape(Yi(e))}']:not([disabled])`;return dt(uC(e),n)},hC=e=>Ke(di(e)),gC=e=>nt(di(e)),fC=(e,t)=>$n(di(e),Pn(e,t.value),t.loopFocus),pC=(e,t)=>_n(di(e),Pn(e,t.value),t.loopFocus),Vd=e=>{var t,n,i,r;return{x:(t=e==null?void 0:e.offsetLeft)!=null?t:0,y:(n=e==null?void 0:e.offsetTop)!=null?n:0,width:(i=e==null?void 0:e.offsetWidth)!=null?i:0,height:(r=e==null?void 0:e.offsetHeight)!=null?r:0}},mC=(e,t)=>{let n=Us(di(e),Pn(e,t));return Vd(n)};({createMachine:yC}=Wn()),bC=yC({props({props:e}){return m({dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){Fn(t.node)},defaultValue:null},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(n){var i;(i=e("onFocusChange"))==null||i({focusedValue:n})}})),ssr:t(()=>({defaultValue:!0})),indicatorRect:t(()=>({defaultValue:null}))}},watch({context:e,prop:t,track:n,action:i}){n([()=>e.get("value")],()=>{i(["syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),n([()=>t("dir"),()=>t("orientation")],()=>{i(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){H(()=>{let n=e.get("focusedValue");if(!n)return;let r=t("deselectable")&&e.get("value")===n?null:n;e.set("value",r)})},setFocusedValue({context:e,event:t,flush:n}){t.value!=null&&n(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:n}){let i=n("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",i?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){H(()=>{var t;(t=hC(e))==null||t.focus()})},focusLastTab({scope:e}){H(()=>{var t;(t=gC(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:n,event:i}){var o;let r=(o=i.value)!=null?o:e.get("focusedValue");if(!r)return;let s=fC(n,{value:r,loopFocus:t("loopFocus")});H(()=>{t("composite")?s==null||s.focus():(s==null?void 0:s.dataset.value)!=null&&e.set("focusedValue",s.dataset.value)})},focusPrevTab({context:e,prop:t,scope:n,event:i}){var o;let r=(o=i.value)!=null?o:e.get("focusedValue");if(!r)return;let s=pC(n,{value:r,loopFocus:t("loopFocus")});H(()=>{t("composite")?s==null||s.focus():(s==null?void 0:s.dataset.value)!=null&&e.set("focusedValue",s.dataset.value)})},syncTabIndex({context:e,scope:t}){H(()=>{let n=e.get("value");if(!n)return;let i=dC(t,n);if(!i)return;Ii(i).length>0?i.removeAttribute("tabindex"):i.setAttribute("tabindex","0")})},cleanupObserver({refs:e}){let t=e.get("indicatorCleanup");t&&t()},setIndicatorRect({context:e,event:t,scope:n}){var o;let i=(o=t.id)!=null?o:e.get("value");!Pd(n)||!i||!ms(n,i)||e.set("indicatorRect",mC(n,i))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:n}){let i=t.get("indicatorCleanup");if(i&&i(),!Pd(n))return;let s=()=>{let l=ms(n,e.get("value"));if(!l)return;let c=Vd(l);e.set("indicatorRect",u=>he(u,c)?u:c)};s();let o=di(n),a=Bn(...o.map(l=>Za.observe(l,s)));t.set("indicatorCleanup",a)},navigateIfNeeded({context:e,prop:t,scope:n}){var s;let i=e.get("value");if(!i)return;let r=ms(n,i);We(r)&&((s=t("navigate"))==null||s({value:i,node:r,href:r.href}))}}}}),EC=G()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]),yO=B(EC),CC=G()(["disabled","value"]),bO=B(CC),IC=G()(["value"]),EO=B(IC),TC=class extends te{initMachine(e){return new ee(bC,e)}initApi(){return vC(this.machine.service,Q)}render(){let e=this.el.querySelector('[data-scope="tabs"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=e.querySelector('[data-scope="tabs"][data-part="list"]');if(!t)return;this.spreadProps(t,this.api.getListProps());let n=this.el.getAttribute("data-items"),i=n?JSON.parse(n):[],r=t.querySelectorAll('[data-scope="tabs"][data-part="trigger"]');for(let o=0;o<r.length&&o<i.length;o++){let a=r[o],l=i[o];this.spreadProps(a,this.api.getTriggerProps({value:l.value,disabled:l.disabled}))}let s=e.querySelectorAll('[data-scope="tabs"][data-part="content"]');for(let o=0;o<s.length&&o<i.length;o++){let a=s[o],l=i[o];this.spreadProps(a,this.api.getContentProps({value:l.value}))}}},OC={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=new TC(e,y(m({id:e.id},O(e,"controlled")?{value:x(e,"value")}:{defaultValue:x(e,"defaultValue")}),{orientation:x(e,"orientation",["horizontal","vertical"]),dir:x(e,"dir",["ltr","rtl"]),onValueChange:i=>{var o,a;let r=x(e,"onValueChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(o=i.value)!=null?o:null});let s=x(e,"onValueChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(a=i.value)!=null?a:null}}))},onFocusChange:i=>{var o,a;let r=x(e,"onFocusChange");r&&this.liveSocket.main.isConnected()&&t(r,{id:e.id,value:(o=i.focusedValue)!=null?o:null});let s=x(e,"onFocusChangeClient");s&&e.dispatchEvent(new CustomEvent(s,{bubbles:!0,detail:{id:e.id,value:(a=i.focusedValue)!=null?a:null}}))}}));n.init(),this.tabs=n,this.onSetValue=i=>{let{value:r}=i.detail;n.api.setValue(r)},e.addEventListener("phx:tabs:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("tabs_set_value",i=>{let r=i.tabs_id;r&&r!==e.id||n.api.setValue(i.value)})),this.handlers.push(this.handleEvent("tabs_value",()=>{this.pushEvent("tabs_value_response",{value:n.api.value})})),this.handlers.push(this.handleEvent("tabs_focused_value",()=>{this.pushEvent("tabs_focused_value_response",{value:n.api.focusedValue})}))},updated(){var e;(e=this.tabs)==null||e.updateProps(y(m({id:this.el.id},O(this.el,"controlled")?{value:x(this.el,"value")}:{defaultValue:x(this.el,"defaultValue")}),{orientation:x(this.el,"orientation",["horizontal","vertical"]),dir:x(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:tabs:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.tabs)==null||e.destroy()}}});var _d={};Oe(_d,{Toast:()=>jC});function ga(e,t){var n;return(n=e!=null?e:Ld[t])!=null?n:Ld.DEFAULT}function xC(e,t){var v;let{prop:n,computed:i,context:r}=e,{offsets:s,gap:o}=n("store").attrs,a=r.get("heights"),l=VC(s),c=n("dir")==="rtl",u=t.replace("-start",c?"-right":"-left").replace("-end",c?"-left":"-right"),h=u.includes("right"),p=u.includes("left"),d={position:"fixed",pointerEvents:i("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${o}px`,"--first-height":`${((v=a[0])==null?void 0:v.height)||0}px`,"--viewport-offset-left":l.left,"--viewport-offset-right":l.right,"--viewport-offset-top":l.top,"--viewport-offset-bottom":l.bottom,zIndex:Ra},g="center";if(h&&(g="flex-end"),p&&(g="flex-start"),d.alignItems=g,u.includes("top")){let b=l.top;d.top=`max(env(safe-area-inset-top, 0px), ${b})`}if(u.includes("bottom")){let b=l.bottom;d.bottom=`max(env(safe-area-inset-bottom, 0px), ${b})`}if(!u.includes("left")){let b=l.right;d.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${b})`}if(!u.includes("right")){let b=l.left;d.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${b})`}return d}function kC(e,t){let{prop:n,context:i,computed:r}=e,s=n("parent"),o=s.computed("placement"),{gap:a}=s.prop("store").attrs,[l]=o.split("-"),c=i.get("mounted"),u=i.get("remainingTime"),h=r("height"),p=r("frontmost"),d=!p,g=!n("stacked"),v=n("stacked"),V=n("type")==="loading"?Number.MAX_SAFE_INTEGER:u,S=r("heightIndex")*a+r("heightBefore"),E={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${n("removeDelay")}ms`,"--duration":`${V}ms`,"--initial-height":`${h}px`,"--offset":`${S}px`,"--index":n("index"),"--z-index":r("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},f=C=>Object.assign(E,C);return l==="top"?f({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):l==="bottom"&&f({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),c&&(f({"--y":"0","--opacity":"1"}),v&&f({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||f({"--opacity":"0",pointerEvents:"none"}),d&&g&&(f({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||f({"--y":"calc(var(--sign) * 40%)"})),d&&v&&!t&&f({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),p&&!t&&f({"--y":"calc(var(--lift) * -100%)"}),E}function NC(e,t){let{computed:n}=e,i={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},r=s=>Object.assign(i,s);return n("frontmost")&&!t&&r({height:"calc(var(--initial-height) + 80%)"}),i}function AC(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function RC(e,t){let{context:n,prop:i,send:r,refs:s,computed:o}=e;return{getCount(){return n.get("toasts").length},getToasts(){return n.get("toasts")},getGroupProps(a={}){let{label:l="Notifications"}=a,{hotkey:c}=i("store").attrs,u=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=o("placement"),[p,d="center"]=h.split("-");return t.element(y(m({},hi.group.attrs),{dir:i("dir"),tabIndex:-1,"aria-label":`${h} ${l} ${u}`,id:PC(h),"data-placement":h,"data-side":p,"data-align":d,"aria-live":"polite",role:"region",style:xC(e,h),onMouseEnter(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_ENTER",placement:h})},onMouseMove(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_ENTER",placement:h})},onMouseLeave(){s.get("ignoreMouseTimer").isActive()||r({type:"REGION.POINTER_LEAVE",placement:h})},onFocus(g){r({type:"REGION.FOCUS",target:g.relatedTarget})},onBlur(g){s.get("isFocusWithin")&&!pe(g.currentTarget,g.relatedTarget)&&queueMicrotask(()=>r({type:"REGION.BLUR"}))}}))},subscribe(a){return i("store").subscribe(()=>a(n.get("toasts")))}}}function $C(e,t){let{state:n,send:i,prop:r,scope:s,context:o,computed:a}=e,l=n.hasTag("visible"),c=n.hasTag("paused"),u=o.get("mounted"),h=a("frontmost"),p=r("parent").computed("placement"),d=r("type"),g=r("stacked"),v=r("title"),b=r("description"),V=r("action"),[S,E="center"]=p.split("-");return{type:d,title:v,description:b,placement:p,visible:l,paused:c,closable:!!r("closable"),pause(){i({type:"PAUSE"})},resume(){i({type:"RESUME"})},dismiss(){i({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element(y(m({},hi.root.attrs),{dir:r("dir"),id:$d(s),"data-state":l?"open":"closed","data-type":d,"data-placement":p,"data-align":E,"data-side":S,"data-mounted":T(u),"data-paused":T(c),"data-first":T(h),"data-sibling":T(!h),"data-stack":T(g),"data-overlap":T(!g),role:"status","aria-atomic":"true","aria-describedby":b?Dd(s):void 0,"aria-labelledby":v?Rd(s):void 0,tabIndex:0,style:kC(e,l),onKeyDown(f){f.defaultPrevented||f.key=="Escape"&&(i({type:"DISMISS",src:"keyboard"}),f.preventDefault())}}))},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:NC(e,l)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:AC()})},getTitleProps(){return t.element(y(m({},hi.title.attrs),{id:Rd(s)}))},getDescriptionProps(){return t.element(y(m({},hi.description.attrs),{id:Dd(s)}))},getActionTriggerProps(){return t.button(y(m({},hi.actionTrigger.attrs),{type:"button",onClick(f){var C;f.defaultPrevented||((C=V==null?void 0:V.onClick)==null||C.call(V),i({type:"DISMISS",src:"user"}))}}))},getCloseTriggerProps(){return t.button(y(m({id:wC(s)},hi.closeTrigger.attrs),{type:"button","aria-label":"Dismiss notification",onClick(f){f.defaultPrevented||i({type:"DISMISS",src:"user"})}}))}}}function Fd(e,t){let{id:n,height:i}=t;e.context.set("heights",r=>r.find(o=>o.id===n)?r.map(o=>o.id===n?y(m({},o),{height:i}):o):[{id:n,height:i},...r])}function GC(e={}){let t=BC(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0}),n=[],i=[],r=new Set,s=[],o=L=>(n.push(L),()=>{let M=n.indexOf(L);n.splice(M,1)}),a=L=>(n.forEach(M=>M(L)),L),l=L=>{if(i.length>=t.max){s.push(L);return}a(L),i.unshift(L)},c=()=>{for(;s.length>0&&i.length<t.max;){let L=s.shift();L&&(a(L),i.unshift(L))}},u=L=>{var q;let M=(q=L.id)!=null?q:`toast:${js()}`,j=i.find(Z=>Z.id===M);return r.has(M)&&r.delete(M),j?i=i.map(Z=>Z.id===M?a(y(m(m({},Z),L),{id:M})):Z):l(y(m({id:M,duration:t.duration,removeDelay:t.removeDelay,type:"info"},L),{stacked:!t.overlap,gap:t.gap})),M},h=L=>(r.add(L),L?(n.forEach(M=>M({id:L,dismiss:!0})),i=i.filter(M=>M.id!==L),c()):(i.forEach(M=>{n.forEach(j=>j({id:M.id,dismiss:!0}))}),i=[],s=[]),L);return{attrs:t,subscribe:o,create:u,update:(L,M)=>u(m({id:L},M)),remove:h,dismiss:L=>{L!=null?i=i.map(M=>M.id===L?a(y(m({},M),{message:"DISMISS"})):M):i=i.map(M=>a(y(m({},M),{message:"DISMISS"})))},error:L=>u(y(m({},L),{type:"error"})),success:L=>u(y(m({},L),{type:"success"})),info:L=>u(y(m({},L),{type:"info"})),warning:L=>u(y(m({},L),{type:"warning"})),loading:L=>u(y(m({},L),{type:"loading"})),getVisibleToasts:()=>i.filter(L=>!r.has(L.id)),getCount:()=>i.length,promise:(L,M,j={})=>{if(!M||!M.loading){wt("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}let q=u(y(m(m({},j),M.loading),{promise:L,type:"loading"})),Z=!0,W,ge=St(L).then(X=>Ee(null,null,function*(){if(W=["resolve",X],UC(X)&&!X.ok){Z=!1;let ue=St(M.error,`HTTP Error! status: ${X.status}`);u(y(m(m({},j),ue),{id:q,type:"error"}))}else if(M.success!==void 0){Z=!1;let ue=St(M.success,X);u(y(m(m({},j),ue),{id:q,type:"success"}))}})).catch(X=>Ee(null,null,function*(){if(W=["reject",X],M.error!==void 0){Z=!1;let ue=St(M.error,X);u(y(m(m({},j),ue),{id:q,type:"error"}))}})).finally(()=>{var X;Z&&h(q),(X=M.finally)==null||X.call(M)});return{id:q,unwrap:()=>new Promise((X,ue)=>ge.then(()=>W[0]==="reject"?ue(W[1]):X(W[1])).catch(ue))}},pause:L=>{L!=null?i=i.map(M=>M.id===L?a(y(m({},M),{message:"PAUSE"})):M):i=i.map(M=>a(y(m({},M),{message:"PAUSE"})))},resume:L=>{L!=null?i=i.map(M=>M.id===L?a(y(m({},M),{message:"RESUME"})):M):i=i.map(M=>a(y(m({},M),{message:"RESUME"})))},isVisible:L=>!r.has(L)&&!!i.find(M=>M.id===L),isDismissed:L=>r.has(L),expand:()=>{i=i.map(L=>a(y(m({},L),{stacked:!0})))},collapse:()=>{i=i.map(L=>a(y(m({},L),{stacked:!1})))}}}function YC(e,t){var s,o,a;let n=(s=t==null?void 0:t.id)!=null?s:rn(e,"toast"),i=(a=t==null?void 0:t.store)!=null?a:GC({placement:(o=t==null?void 0:t.placement)!=null?o:"bottom",overlap:t==null?void 0:t.overlap,max:t==null?void 0:t.max,gap:t==null?void 0:t.gap,offsets:t==null?void 0:t.offsets,pauseOnPageIdle:t==null?void 0:t.pauseOnPageIdle}),r=new KC(e,{id:n,store:i});return r.init(),qC.set(n,r),fa.set(n,i),e.dataset.toastGroup="true",e.dataset.toastGroupId=n,{group:r,store:i}}function ji(e){if(e)return fa.get(e);let t=document.querySelector("[data-toast-group]");if(!t)return;let n=t.dataset.toastGroupId||t.id;return n?fa.get(n):void 0}var SC,hi,PC,Nd,$d,Ad,Rd,Dd,wC,Ld,VC,DC,LC,FC,MC,_C,HC,BC,UC,Md,qC,fa,WC,KC,jC,Hd=fe(()=>{"use strict";gn();me();SC=J("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),hi=SC.build(),PC=e=>`toast-group:${e}`,Nd=(e,t)=>e.getById(`toast-group:${t}`),$d=e=>`toast:${e.id}`,Ad=e=>e.getById($d(e)),Rd=e=>`toast:${e.id}:title`,Dd=e=>`toast:${e.id}:description`,wC=e=>`toast${e.id}:close`,Ld={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};VC=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;({guards:DC,createMachine:LC}=Wn()),{and:FC}=DC,MC=LC({props({props:e}){return y(m({dir:"ltr",id:js()},e),{store:e.store})},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,isPointerWithin:!1,ignoreMouseTimer:$s.create(),dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(n=>n.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:n}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{n(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl","clearMouseEventTimer"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:FC("isOverlapping","isPointerOut"),target:"overlap",actions:["collapseToasts","resumeToasts","restoreFocusIfPointerOut"]},{guard:"isPointerOut",target:"stack",actions:["resumeToasts","restoreFocusIfPointerOut"]},{actions:["clearFocusWithin"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight","ignoreMouseEventsTemporarily"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["clearPointerWithin","resumeToasts","collapseToasts"]},{actions:["clearPointerWithin","resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["setPointerWithin","pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["setPointerWithin","pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap"),isPointerOut:({refs:e})=>!e.get("isPointerWithin")},effects:{subscribeToStore({context:e,prop:t}){let n=t("store");return e.set("toasts",n.getVisibleToasts()),n.subscribe(i=>{if(i.dismiss){e.set("toasts",r=>r.filter(s=>s.id!==i.id));return}e.set("toasts",r=>{let s=r.findIndex(o=>o.id===i.id);return s!==-1?[...r.slice(0,s),m(m({},r[s]),i),...r.slice(s+1)]:[i,...r]})})},trackHotKeyPress({prop:e,send:t}){return re(document,"keydown",i=>{let{hotkey:r}=e("store").attrs;r.every(o=>i[o]||i.code===o)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:n}){let{pauseOnPageIdle:i}=e("store").attrs;if(!i)return;let r=n.getDoc();return re(r,"visibilitychange",()=>{let s=r.visibilityState==="hidden";t({type:s?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:n,scope:i}){var c;let r=t.get("toasts"),s=n("placement"),o=r.length>0;if(!o){(c=e.get("dismissableCleanup"))==null||c();return}if(o&&e.get("dismissableCleanup"))return;let l=mc(()=>Nd(i,s),{defer:!0});e.set("dismissableCleanup",l)},clearDismissableBranch({refs:e}){var t;(t=e.get("dismissableCleanup"))==null||t()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{var n;(n=Nd(e,t("placement")))==null||n.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){(e==null?void 0:e.id)!=null&&queueMicrotask(()=>{t.set("heights",n=>n.filter(i=>i.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreFocusIfPointerOut({refs:e}){var t;!e.get("lastFocusedEl")||e.get("isPointerWithin")||((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},setPointerWithin({refs:e}){e.set("isPointerWithin",!0)},clearPointerWithin({refs:e}){var t;e.set("isPointerWithin",!1),e.get("lastFocusedEl")&&!e.get("isFocusWithin")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null))},clearFocusWithin({refs:e}){e.set("isFocusWithin",!1)},clearLastFocusedEl({refs:e}){var t;e.get("lastFocusedEl")&&((t=e.get("lastFocusedEl"))==null||t.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},ignoreMouseEventsTemporarily({refs:e}){e.get("ignoreMouseTimer").request()},clearMouseEventTimer({refs:e}){e.get("ignoreMouseTimer").cancel()}}}});({not:_C}=ye()),HC={props({props:e}){return yr(e,["id","type","parent","removeDelay"],"toast"),y(m({closable:!0},e),{duration:ga(e.duration,e.type)})},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:ga(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{let t=e("parent").context.get("toasts"),n=t.findIndex(i=>i.id===e("id"));return t.length-n},height:({prop:e})=>{var i;let n=e("parent").context.get("heights").find(r=>r.id===e("id"));return(i=n==null?void 0:n.height)!=null?i:0},heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(n=>n.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{let t=e("parent").context.get("heights"),n=t.findIndex(i=>i.id===e("id"));return t.reduce((i,r,s)=>s>=n?i:i+r.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:n}){e([()=>t("message")],()=>{let i=t("message");i&&n({type:i,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{n({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:_C("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return Un(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:n}){if(!n("shouldPersist"))return Un(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return Un(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let n;return H(()=>{let i=Ad(e);if(!i)return;let r=()=>{let a=i.style.height;i.style.height="auto";let l=i.getBoundingClientRect().height;i.style.height=a;let c={id:t("id"),height:l};Fd(t("parent"),c)},s=e.getWin(),o=new s.MutationObserver(r);o.observe(i,{childList:!0,subtree:!0,characterData:!0}),n=()=>o.disconnect()}),()=>n==null?void 0:n()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){H(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:n}){queueMicrotask(()=>{let i=Ad(e);if(!i)return;let r=i.style.height;i.style.height="auto";let s=i.getBoundingClientRect().height;i.style.height=r,n.set("initialHeight",s);let o={id:t("id"),height:s};Fd(t("parent"),o)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:n}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",ga(n("duration"),n("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",n=>{let i=t.get("closeTimerStartTime"),r=Date.now()-i;return t.set("lastCloseStartTimerStartTime",Date.now()),n-r})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){var n;(n=e("onStatusChange"))==null||n({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"unmounted"})},invokeOnVisible({prop:e}){var t;(t=e("onStatusChange"))==null||t({status:"visible"})}}}};BC=(e,t)=>m(m({},t),Gn(e));UC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Md={connect:RC,machine:MC},qC=new Map,fa=new Map,WC=class extends te{constructor(t,n){super(t,n);U(this,"parts");U(this,"duration");U(this,"destroy",()=>{this.machine.stop(),this.el.remove()});this.duration=n.duration,this.el.setAttribute("data-scope","toast"),this.el.setAttribute("data-part","root"),this.el.innerHTML=`
      <span data-scope="toast" data-part="ghost-before"></span>
      <div data-scope="toast" data-part="progressbar"></div>
      <div data-scope="toast" data-part="loading-spinner" style="display: none;"></div>

      <div data-scope="toast" data-part="content">
        <div data-scope="toast" data-part="title"></div>
        <div data-scope="toast" data-part="description"></div>
      </div>

      <button data-scope="toast" data-part="close-trigger">
        <svg viewBox="0 0 20 20" aria-hidden="true">
          <path d="M4.293 4.293 10 8.586l5.707-5.707 1.414 1.414L11.414 10l5.707 5.707-1.414 1.414L10 11.414l-5.707 5.707-1.414-1.414L8.586 10 2.879 4.293z"/>
        </svg>
      </button>

      <span data-scope="toast" data-part="ghost-after"></span>
    `,this.parts={title:this.el.querySelector('[data-scope="toast"][data-part="title"]'),description:this.el.querySelector('[data-scope="toast"][data-part="description"]'),close:this.el.querySelector('[data-scope="toast"][data-part="close-trigger"]'),ghostBefore:this.el.querySelector('[data-scope="toast"][data-part="ghost-before"]'),ghostAfter:this.el.querySelector('[data-scope="toast"][data-part="ghost-after"]'),progressbar:this.el.querySelector('[data-scope="toast"][data-part="progressbar"]'),loadingSpinner:this.el.querySelector('[data-scope="toast"][data-part="loading-spinner"]')}}initMachine(t){return new ee(HC,t)}initApi(){return $C(this.machine.service,Q)}render(){var o,a;this.spreadProps(this.el,this.api.getRootProps()),this.spreadProps(this.parts.close,this.api.getCloseTriggerProps()),this.spreadProps(this.parts.ghostBefore,this.api.getGhostBeforeProps()),this.spreadProps(this.parts.ghostAfter,this.api.getGhostAfterProps()),this.parts.title.textContent!==this.api.title&&(this.parts.title.textContent=(o=this.api.title)!=null?o:""),this.parts.description.textContent!==this.api.description&&(this.parts.description.textContent=(a=this.api.description)!=null?a:""),this.spreadProps(this.parts.title,this.api.getTitleProps()),this.spreadProps(this.parts.description,this.api.getDescriptionProps());let t=this.duration,n=t==="Infinity"||t===1/0||t===Number.POSITIVE_INFINITY,i=this.el.closest('[phx-hook="Toast"]'),r=i==null?void 0:i.querySelector("[data-loading-icon-template]"),s=r==null?void 0:r.innerHTML;n?(this.parts.progressbar.style.display="none",this.parts.loadingSpinner.style.display="flex",this.el.setAttribute("data-duration-infinity","true"),s&&this.parts.loadingSpinner.innerHTML!==s&&(this.parts.loadingSpinner.innerHTML=s)):(this.parts.progressbar.style.display="block",this.parts.loadingSpinner.style.display="none",this.el.removeAttribute("data-duration-infinity"))}},KC=class extends te{constructor(t,n){var i;super(t,n);U(this,"toastComponents",new Map);U(this,"groupEl");U(this,"store");U(this,"destroy",()=>{for(let t of this.toastComponents.values())t.destroy();this.toastComponents.clear(),this.machine.stop()});this.store=n.store,this.groupEl=(i=t.querySelector('[data-part="group"]'))!=null?i:(()=>{let r=document.createElement("div");return r.setAttribute("data-scope","toast"),r.setAttribute("data-part","group"),t.appendChild(r),r})()}initMachine(t){return new ee(Md.machine,t)}initApi(){return Md.connect(this.machine.service,Q)}render(){this.spreadProps(this.groupEl,this.api.getGroupProps());let t=this.api.getToasts().filter(i=>typeof i.id=="string"),n=new Set(t.map(i=>i.id));t.forEach((i,r)=>{let s=this.toastComponents.get(i.id);if(s)s.duration=i.duration,s.updateProps(y(m({},i),{parent:this.machine.service,index:r}));else{let o=document.createElement("div");o.setAttribute("data-scope","toast"),o.setAttribute("data-part","root"),this.groupEl.appendChild(o),s=new WC(o,y(m({},i),{parent:this.machine.service,index:r})),s.init(),this.toastComponents.set(i.id,s)}});for(let[i,r]of this.toastComponents)n.has(i)||(r.destroy(),this.toastComponents.delete(i))}};jC={mounted(){var h;let e=this.el;e.id||(e.id=rn(e,"toast")),this.groupId=e.id;let t=p=>{if(p)try{return p.includes("{")?JSON.parse(p):p}catch(d){return p}},n=p=>p==="Infinity"||p===1/0?1/0:typeof p=="string"?parseInt(p,10)||void 0:p,i=(h=x(e,"placement",["top-start","top","top-end","bottom-start","bottom","bottom-end"]))!=null?h:"bottom-end";YC(e,{id:this.groupId,placement:i,overlap:O(e,"overlap"),max:Se(e,"max"),gap:Se(e,"gap"),offsets:t(x(e,"offset")),pauseOnPageIdle:O(e,"pauseOnPageIdle")});let r=ji(this.groupId),s=e.getAttribute("data-flash-info"),o=e.getAttribute("data-flash-info-title"),a=e.getAttribute("data-flash-error"),l=e.getAttribute("data-flash-error-title"),c=e.getAttribute("data-flash-info-duration"),u=e.getAttribute("data-flash-error-duration");if(r&&s)try{r.create({title:o||"Success",description:s,type:"info",id:rn(void 0,"toast"),duration:n(c!=null?c:void 0)})}catch(p){console.error("Failed to create flash info toast:",p)}if(r&&a)try{r.create({title:l||"Error",description:a,type:"error",id:rn(void 0,"toast"),duration:n(u!=null?u:void 0)})}catch(p){console.error("Failed to create flash error toast:",p)}this.handlers=[],this.handlers.push(this.handleEvent("toast-create",p=>{let d=ji(p.groupId||this.groupId);if(d)try{d.create({title:p.title,description:p.description,type:p.type||"info",id:p.id||rn(void 0,"toast"),duration:n(p.duration)})}catch(g){console.error("Failed to create toast:",g)}})),this.handlers.push(this.handleEvent("toast-update",p=>{let d=ji(p.groupId||this.groupId);if(d)try{d.update(p.id,{title:p.title,description:p.description,type:p.type})}catch(g){console.error("Failed to update toast:",g)}})),this.handlers.push(this.handleEvent("toast-dismiss",p=>{let d=ji(p.groupId||this.groupId);if(d)try{d.dismiss(p.id)}catch(g){console.error("Failed to dismiss toast:",g)}})),e.addEventListener("toast:create",p=>{let{detail:d}=p,g=ji(d.groupId||this.groupId);if(g)try{g.create({title:d.title,description:d.description,type:d.type||"info",id:d.id||rn(void 0,"toast"),duration:n(d.duration)})}catch(v){console.error("Failed to create toast:",v)}})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e)}}});var Wd={};Oe(Wd,{ToggleGroup:()=>oI});function eI(e,t){let{context:n,send:i,prop:r,scope:s}=e,o=n.get("value"),a=r("disabled"),l=!r("multiple"),c=r("rovingFocus"),u=r("orientation")==="horizontal";function h(p){let d=JC(s,p.value);return{id:d,disabled:!!(p.disabled||a),pressed:!!o.includes(p.value),focused:n.get("focusedId")===d}}return{value:o,setValue(p){i({type:"VALUE.SET",value:p})},getRootProps(){return t.element(y(m({},Bd.root.attrs),{id:vs(s),dir:r("dir"),role:l?"radiogroup":"group",tabIndex:n.get("isTabbingBackward")?-1:0,"data-disabled":T(a),"data-orientation":r("orientation"),"data-focus":T(n.get("focusedId")!=null),style:{outline:"none"},onMouseDown(){a||i({type:"ROOT.MOUSE_DOWN"})},onFocus(p){a||p.currentTarget===K(p)&&(n.get("isClickFocus")||n.get("isTabbingBackward")||i({type:"ROOT.FOCUS"}))},onBlur(p){let d=p.relatedTarget;pe(p.currentTarget,d)||a||i({type:"ROOT.BLUR"})}}))},getItemState:h,getItemProps(p){let d=h(p),g=d.focused?0:-1;return t.button(y(m({},Bd.item.attrs),{id:d.id,type:"button","data-ownedby":vs(s),"data-focus":T(d.focused),disabled:d.disabled,tabIndex:c?g:void 0,role:l?"radio":void 0,"aria-checked":l?d.pressed:void 0,"aria-pressed":l?void 0:d.pressed,"data-disabled":T(d.disabled),"data-orientation":r("orientation"),dir:r("dir"),"data-state":d.pressed?"on":"off",onFocus(){d.disabled||i({type:"TOGGLE.FOCUS",id:d.id})},onClick(v){d.disabled||(i({type:"TOGGLE.CLICK",id:d.id,value:p.value}),Wt()&&v.currentTarget.focus({preventScroll:!0}))},onKeyDown(v){if(v.defaultPrevented||!pe(v.currentTarget,K(v))||d.disabled)return;let V={Tab(S){let E=S.shiftKey;i({type:"TOGGLE.SHIFT_TAB",isShiftTab:E})},ArrowLeft(){!c||!u||i({type:"TOGGLE.FOCUS_PREV"})},ArrowRight(){!c||!u||i({type:"TOGGLE.FOCUS_NEXT"})},ArrowUp(){!c||u||i({type:"TOGGLE.FOCUS_PREV"})},ArrowDown(){!c||u||i({type:"TOGGLE.FOCUS_NEXT"})},Home(){c&&i({type:"TOGGLE.FOCUS_FIRST"})},End(){c&&i({type:"TOGGLE.FOCUS_LAST"})}}[ve(v)];V&&(V(v),v.key!=="Tab"&&v.preventDefault())}}))}}}var XC,Bd,vs,JC,qd,ys,Gd,ZC,zC,QC,Ud,tI,nI,iI,xO,rI,kO,sI,oI,Kd=fe(()=>{"use strict";me();XC=J("toggle-group").parts("root","item"),Bd=XC.build(),vs=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`toggle-group:${e.id}`},JC=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))!=null?r:`toggle-group:${e.id}:${t}`},qd=e=>e.getById(vs(e)),ys=e=>{let n=`[data-ownedby='${CSS.escape(vs(e))}']:not([data-disabled])`;return dt(qd(e),n)},Gd=e=>Ke(ys(e)),ZC=e=>nt(ys(e)),zC=(e,t,n)=>$n(ys(e),t,n),QC=(e,t,n)=>_n(ys(e),t,n);({not:Ud,and:tI}=ye()),nI={props({props:e}){return m({defaultValue:[],orientation:"horizontal",rovingFocus:!0,loopFocus:!0,deselectable:!0},e)},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var i;(i=e("onValueChange"))==null||i({value:n})}})),focusedId:t(()=>({defaultValue:null})),isTabbingBackward:t(()=>({defaultValue:!1})),isClickFocus:t(()=>({defaultValue:!1})),isWithinToolbar:t(()=>({defaultValue:!1}))}},computed:{currentLoopFocus:({context:e,prop:t})=>t("loopFocus")&&!e.get("isWithinToolbar")},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:Ud(tI("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward","clearFocusedId","clearClickFocus"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":[{guard:Ud("isFirstToggleFocused"),target:"idle",actions:["setIsTabbingBackward"]},{actions:["setIsTabbingBackward"]}]}}},implementations:{guards:{isClickFocus:({context:e})=>e.get("isClickFocus"),isTabbingBackward:({context:e})=>e.get("isTabbingBackward"),isFirstToggleFocused:({context:e,scope:t})=>{var n;return e.get("focusedId")===((n=Gd(t))==null?void 0:n.id)}},actions:{setIsTabbingBackward({context:e}){e.set("isTabbingBackward",!0)},clearIsTabbingBackward({context:e}){e.set("isTabbingBackward",!1)},setClickFocus({context:e}){e.set("isClickFocus",!0)},clearClickFocus({context:e}){e.set("isClickFocus",!1)},checkIfWithinToolbar({context:e,scope:t}){var i;let n=(i=qd(t))==null?void 0:i.closest("[role=toolbar]");e.set("isWithinToolbar",!!n)},setFocusedId({context:e,event:t}){e.set("focusedId",t.id)},clearFocusedId({context:e}){e.set("focusedId",null)},setValue({context:e,event:t,prop:n}){yr(t,["value"]);let i=e.get("value");Kt(t.value)?i=t.value:n("multiple")?i=rt(i,t.value):i=he(i,[t.value])&&n("deselectable")?[]:[t.value],e.set("value",i)},focusNextToggle({context:e,scope:t,prop:n}){H(()=>{var r;let i=e.get("focusedId");i&&((r=zC(t,i,n("loopFocus")))==null||r.focus({preventScroll:!0}))})},focusPrevToggle({context:e,scope:t,prop:n}){H(()=>{var r;let i=e.get("focusedId");i&&((r=QC(t,i,n("loopFocus")))==null||r.focus({preventScroll:!0}))})},focusFirstToggle({scope:e}){H(()=>{var t;(t=Gd(e))==null||t.focus({preventScroll:!0})})},focusLastToggle({scope:e}){H(()=>{var t;(t=ZC(e))==null||t.focus({preventScroll:!0})})}}}},iI=G()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value","defaultValue","deselectable"]),xO=B(iI),rI=G()(["value","disabled"]),kO=B(rI),sI=class extends te{initMachine(e){return new ee(nI,e)}initApi(){return eI(this.machine.service,Q)}render(){let e=this.el.querySelector('[data-scope="toggle-group"][data-part="root"]');if(!e)return;this.spreadProps(e,this.api.getRootProps());let t=this.el.querySelectorAll('[data-scope="toggle-group"][data-part="item"]');for(let n=0;n<t.length;n++){let i=t[n],r=x(i,"value");if(!r)continue;let s=O(i,"disabled");this.spreadProps(i,this.api.getItemProps({value:r,disabled:s}))}}},oI={mounted(){let e=this.el,t=this.pushEvent.bind(this),n=y(m({id:e.id},O(e,"controlled")?{value:Y(e,"value")}:{defaultValue:Y(e,"defaultValue")}),{defaultValue:Y(e,"defaultValue"),deselectable:O(e,"deselectable"),loopFocus:O(e,"loopFocus"),rovingFocus:O(e,"rovingFocus"),disabled:O(e,"disabled"),multiple:O(e,"multiple"),orientation:x(e,"orientation",["horizontal","vertical"]),dir:x(e,"dir",["ltr","rtl"]),onValueChange:r=>{let s=x(e,"onValueChange");s&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&t(s,{value:r.value,id:e.id});let o=x(e,"onValueChangeClient");o&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:{value:r.value,id:e.id}}))}}),i=new sI(e,n);i.init(),this.toggleGroup=i,this.onSetValue=r=>{let{value:s}=r.detail;i.api.setValue(s)},e.addEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers=[],this.handlers.push(this.handleEvent("toggle-group_set_value",r=>{let s=r.id;s&&s!==e.id||i.api.setValue(r.value)})),this.handlers.push(this.handleEvent("toggle-group:value",()=>{this.pushEvent("toggle-group:value_response",{value:i.api.value})}))},updated(){var e;(e=this.toggleGroup)==null||e.updateProps(y(m({},O(this.el,"controlled")?{value:Y(this.el,"value")}:{defaultValue:Y(this.el,"defaultValue")}),{deselectable:O(this.el,"deselectable"),loopFocus:O(this.el,"loopFocus"),rovingFocus:O(this.el,"rovingFocus"),disabled:O(this.el,"disabled"),multiple:O(this.el,"multiple"),orientation:x(this.el,"orientation",["horizontal","vertical"]),dir:x(this.el,"dir",["ltr","rtl"])}))},destroyed(){var e;if(this.onSetValue&&this.el.removeEventListener("phx:toggle-group:set-value",this.onSetValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.toggleGroup)==null||e.destroy()}}});var Zd={};Oe(Zd,{TreeView:()=>vI});function Jd(e,t,n){let i=e.getNodeValue(t);if(!e.isBranchNode(t))return n.includes(i);let r=e.getDescendantValues(i),s=r.every(a=>n.includes(a)),o=r.some(a=>n.includes(a));return s?!0:o?"indeterminate":!1}function cI(e,t,n){let i=e.getDescendantValues(t),r=i.every(s=>n.includes(s));return kt(r?ht(n,...i):it(n,...i))}function uI(e,t){let n=new Map;return e.visit({onEnter:i=>{let r=e.getNodeValue(i),s=e.isBranchNode(i),o=Jd(e,i,t);n.set(r,{type:s?"branch":"leaf",checked:o})}}),n}function dI(e,t){let{context:n,scope:i,computed:r,prop:s,send:o}=e,a=s("collection"),l=Array.from(n.get("expandedValue")),c=Array.from(n.get("selectedValue")),u=Array.from(n.get("checkedValue")),h=r("isTypingAhead"),p=n.get("focusedValue"),d=n.get("loadingStatus"),g=n.get("renamingValue"),v=({indexPath:E})=>a.getValuePath(E).slice(0,-1).some(C=>!l.includes(C)),b=a.getFirstNode(void 0,{skip:v}),V=b?a.getNodeValue(b):null;function S(E){let{node:f,indexPath:C}=E,I=a.getNodeValue(f);return{id:va(i,I),value:I,indexPath:C,valuePath:a.getValuePath(C),disabled:!!f.disabled,focused:p==null?V===I:p===I,selected:c.includes(I),expanded:l.includes(I),loading:d[I]==="loading",depth:C.length,isBranch:a.isBranchNode(f),renaming:g===I,get checked(){return Jd(a,f,u)}}}return{collection:a,expandedValue:l,selectedValue:c,checkedValue:u,toggleChecked(E,f){o({type:"CHECKED.TOGGLE",value:E,isBranch:f})},setChecked(E){o({type:"CHECKED.SET",value:E})},clearChecked(){o({type:"CHECKED.CLEAR"})},getCheckedMap(){return uI(a,u)},expand(E){o({type:E?"BRANCH.EXPAND":"EXPANDED.ALL",value:E})},collapse(E){o({type:E?"BRANCH.COLLAPSE":"EXPANDED.CLEAR",value:E})},deselect(E){o({type:E?"NODE.DESELECT":"SELECTED.CLEAR",value:E})},select(E){o({type:E?"NODE.SELECT":"SELECTED.ALL",value:E,isTrusted:!1})},getVisibleNodes(){return r("visibleNodes")},focus(E){Ce(i,E)},selectParent(E){let f=a.getParentNode(E);if(!f)return;let C=it(c,a.getNodeValue(f));o({type:"SELECTED.SET",value:C,src:"select.parent"})},expandParent(E){let f=a.getParentNode(E);if(!f)return;let C=it(l,a.getNodeValue(f));o({type:"EXPANDED.SET",value:C,src:"expand.parent"})},setExpandedValue(E){let f=kt(E);o({type:"EXPANDED.SET",value:f})},setSelectedValue(E){let f=kt(E);o({type:"SELECTED.SET",value:f})},startRenaming(E){o({type:"NODE.RENAME",value:E})},submitRenaming(E,f){o({type:"RENAME.SUBMIT",value:E,label:f})},cancelRenaming(){o({type:"RENAME.CANCEL"})},getRootProps(){return t.element(y(m({},Ne.root.attrs),{id:lI(i),dir:s("dir")}))},getLabelProps(){return t.element(y(m({},Ne.label.attrs),{id:Yd(i),dir:s("dir")}))},getTreeProps(){return t.element(y(m({},Ne.tree.attrs),{id:pa(i),dir:s("dir"),role:"tree","aria-label":"Tree View","aria-labelledby":Yd(i),"aria-multiselectable":s("selectionMode")==="multiple"||void 0,tabIndex:-1,onKeyDown(E){if(E.defaultPrevented||Vt(E))return;let f=K(E);if(Ut(f))return;let C=f==null?void 0:f.closest("[data-part=branch-control], [data-part=item]");if(!C)return;let I=C.dataset.value;if(I==null){console.warn("[zag-js/tree-view] Node id not found for node",C);return}let P=C.matches("[data-part=branch-control]"),A={ArrowDown(R){Fe(R)||(R.preventDefault(),o({type:"NODE.ARROW_DOWN",id:I,shiftKey:R.shiftKey}))},ArrowUp(R){Fe(R)||(R.preventDefault(),o({type:"NODE.ARROW_UP",id:I,shiftKey:R.shiftKey}))},ArrowLeft(R){Fe(R)||C.dataset.disabled||(R.preventDefault(),o({type:P?"BRANCH_NODE.ARROW_LEFT":"NODE.ARROW_LEFT",id:I}))},ArrowRight(R){!P||C.dataset.disabled||(R.preventDefault(),o({type:"BRANCH_NODE.ARROW_RIGHT",id:I}))},Home(R){Fe(R)||(R.preventDefault(),o({type:"NODE.HOME",id:I,shiftKey:R.shiftKey}))},End(R){Fe(R)||(R.preventDefault(),o({type:"NODE.END",id:I,shiftKey:R.shiftKey}))},Space(R){var L;C.dataset.disabled||(h?o({type:"TREE.TYPEAHEAD",key:R.key}):(L=A.Enter)==null||L.call(A,R))},Enter(R){C.dataset.disabled||We(f)&&Fe(R)||(o({type:P?"BRANCH_NODE.CLICK":"NODE.CLICK",id:I,src:"keyboard"}),We(f)||R.preventDefault())},"*"(R){C.dataset.disabled||(R.preventDefault(),o({type:"SIBLINGS.EXPAND",id:I}))},a(R){!R.metaKey||C.dataset.disabled||(R.preventDefault(),o({type:"SELECTED.ALL",moveFocus:!0}))},F2(R){if(C.dataset.disabled)return;let L=s("canRename");if(!L)return;let M=a.getIndexPath(I);if(M){let j=a.at(M);if(j&&!L(j,M))return}R.preventDefault(),o({type:"NODE.RENAME",value:I})}},w=ve(E,{dir:s("dir")}),N=A[w];if(N){N(E);return}tt.isValidEvent(E)&&(o({type:"TREE.TYPEAHEAD",key:E.key,id:I}),E.preventDefault())}}))},getNodeState:S,getItemProps(E){let f=S(E);return t.element(y(m({},Ne.item.attrs),{id:f.id,dir:s("dir"),"data-ownedby":pa(i),"data-path":E.indexPath.join("/"),"data-value":f.value,tabIndex:f.focused?0:-1,"data-focus":T(f.focused),role:"treeitem","aria-current":f.selected?"true":void 0,"aria-selected":f.disabled?void 0:f.selected,"data-selected":T(f.selected),"aria-disabled":ie(f.disabled),"data-disabled":T(f.disabled),"data-renaming":T(f.renaming),"aria-level":f.depth,"data-depth":f.depth,style:{"--depth":f.depth},onFocus(C){C.stopPropagation(),o({type:"NODE.FOCUS",id:f.value})},onClick(C){if(f.disabled||!et(C)||We(C.currentTarget)&&Fe(C))return;let I=C.metaKey||C.ctrlKey;o({type:"NODE.CLICK",id:f.value,shiftKey:C.shiftKey,ctrlKey:I}),C.stopPropagation(),We(C.currentTarget)||C.preventDefault()}}))},getItemTextProps(E){let f=S(E);return t.element(y(m({},Ne.itemText.attrs),{"data-disabled":T(f.disabled),"data-selected":T(f.selected),"data-focus":T(f.focused)}))},getItemIndicatorProps(E){let f=S(E);return t.element(y(m({},Ne.itemIndicator.attrs),{"aria-hidden":!0,"data-disabled":T(f.disabled),"data-selected":T(f.selected),"data-focus":T(f.focused),hidden:!f.selected}))},getBranchProps(E){let f=S(E);return t.element(y(m({},Ne.branch.attrs),{"data-depth":f.depth,dir:s("dir"),"data-branch":f.value,role:"treeitem","data-ownedby":pa(i),"data-value":f.value,"aria-level":f.depth,"aria-selected":f.disabled?void 0:f.selected,"data-path":E.indexPath.join("/"),"data-selected":T(f.selected),"aria-expanded":f.expanded,"data-state":f.expanded?"open":"closed","aria-disabled":ie(f.disabled),"data-disabled":T(f.disabled),"data-loading":T(f.loading),"aria-busy":ie(f.loading),style:{"--depth":f.depth}}))},getBranchIndicatorProps(E){let f=S(E);return t.element(y(m({},Ne.branchIndicator.attrs),{"aria-hidden":!0,"data-state":f.expanded?"open":"closed","data-disabled":T(f.disabled),"data-selected":T(f.selected),"data-focus":T(f.focused),"data-loading":T(f.loading)}))},getBranchTriggerProps(E){let f=S(E);return t.element(y(m({},Ne.branchTrigger.attrs),{role:"button",dir:s("dir"),"data-disabled":T(f.disabled),"data-state":f.expanded?"open":"closed","data-value":f.value,"data-loading":T(f.loading),disabled:f.loading,onClick(C){f.disabled||f.loading||(o({type:"BRANCH_TOGGLE.CLICK",id:f.value}),C.stopPropagation())}}))},getBranchControlProps(E){let f=S(E);return t.element(y(m({},Ne.branchControl.attrs),{role:"button",id:f.id,dir:s("dir"),tabIndex:f.focused?0:-1,"data-path":E.indexPath.join("/"),"data-state":f.expanded?"open":"closed","data-disabled":T(f.disabled),"data-selected":T(f.selected),"data-focus":T(f.focused),"data-renaming":T(f.renaming),"data-value":f.value,"data-depth":f.depth,"data-loading":T(f.loading),"aria-busy":ie(f.loading),onFocus(C){o({type:"NODE.FOCUS",id:f.value}),C.stopPropagation()},onClick(C){if(f.disabled||f.loading||!et(C)||We(C.currentTarget)&&Fe(C))return;let I=C.metaKey||C.ctrlKey;o({type:"BRANCH_NODE.CLICK",id:f.value,shiftKey:C.shiftKey,ctrlKey:I}),C.stopPropagation()}}))},getBranchTextProps(E){let f=S(E);return t.element(y(m({},Ne.branchText.attrs),{dir:s("dir"),"data-disabled":T(f.disabled),"data-state":f.expanded?"open":"closed","data-loading":T(f.loading)}))},getBranchContentProps(E){let f=S(E);return t.element(y(m({},Ne.branchContent.attrs),{role:"group",dir:s("dir"),"data-state":f.expanded?"open":"closed","data-depth":f.depth,"data-path":E.indexPath.join("/"),"data-value":f.value,hidden:!f.expanded}))},getBranchIndentGuideProps(E){let f=S(E);return t.element(y(m({},Ne.branchIndentGuide.attrs),{"data-depth":f.depth}))},getNodeCheckboxProps(E){let f=S(E),C=f.checked;return t.element(y(m({},Ne.nodeCheckbox.attrs),{tabIndex:-1,role:"checkbox","data-state":C===!0?"checked":C===!1?"unchecked":"indeterminate","aria-checked":C===!0?"true":C===!1?"false":"mixed","data-disabled":T(f.disabled),onClick(I){if(I.defaultPrevented||f.disabled||!et(I))return;o({type:"CHECKED.TOGGLE",value:f.value,isBranch:f.isBranch}),I.stopPropagation();let P=I.currentTarget.closest("[role=treeitem]");P==null||P.focus({preventScroll:!0})}}))},getNodeRenameInputProps(E){let f=S(E);return t.input(y(m({},Ne.nodeRenameInput.attrs),{id:Xd(i,f.value),type:"text","aria-label":"Rename tree item",hidden:!f.renaming,onKeyDown(C){Vt(C)||(C.key==="Escape"&&(o({type:"RENAME.CANCEL"}),C.preventDefault()),C.key==="Enter"&&(o({type:"RENAME.SUBMIT",label:C.currentTarget.value}),C.preventDefault()),C.stopPropagation())},onBlur(C){o({type:"RENAME.SUBMIT",label:C.currentTarget.value})}}))}}}function bs(e,t){let{context:n,prop:i,refs:r}=e;if(!i("loadChildren")){n.set("expandedValue",v=>kt(it(v,...t)));return}let s=n.get("loadingStatus"),[o,a]=Ks(t,v=>s[v]==="loaded");if(o.length>0&&n.set("expandedValue",v=>kt(it(v,...o))),a.length===0)return;let l=i("collection"),[c,u]=Ks(a,v=>{let b=l.findNode(v);return l.getNodeChildren(b).length>0});if(c.length>0&&n.set("expandedValue",v=>kt(it(v,...c))),u.length===0)return;n.set("loadingStatus",v=>m(m({},v),u.reduce((b,V)=>y(m({},b),{[V]:"loading"}),{})));let h=u.map(v=>{let b=l.getIndexPath(v),V=l.getValuePath(b),S=l.findNode(v);return{id:v,indexPath:b,valuePath:V,node:S}}),p=r.get("pendingAborts"),d=i("loadChildren");qn(d,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");let g=h.map(({id:v,indexPath:b,valuePath:V,node:S})=>{let E=p.get(v);E&&(E.abort(),p.delete(v));let f=new AbortController;return p.set(v,f),d({valuePath:V,indexPath:b,node:S,signal:f.signal})});Promise.allSettled(g).then(v=>{var f,C;let b=[],V=[],S=n.get("loadingStatus"),E=i("collection");v.forEach((I,P)=>{let{id:A,indexPath:w,node:N,valuePath:R}=h[P];I.status==="fulfilled"?(S[A]="loaded",b.push(A),E=E.replace(w,y(m({},N),{children:I.value}))):(p.delete(A),Reflect.deleteProperty(S,A),V.push({node:N,error:I.reason,indexPath:w,valuePath:R}))}),n.set("loadingStatus",S),b.length&&(n.set("expandedValue",I=>kt(it(I,...b))),(f=i("onLoadChildrenComplete"))==null||f({collection:E})),V.length&&((C=i("onLoadChildrenError"))==null||C({nodes:V}))})}function Et(e){let{prop:t,context:n}=e;return function({indexPath:r}){return t("collection").getValuePath(r).slice(0,-1).some(o=>!n.get("expandedValue").includes(o))}}function wn(e,t){let{prop:n,scope:i,computed:r}=e,s=n("scrollToIndexFn");if(!s)return!1;let o=n("collection"),a=r("visibleNodes");for(let l=0;l<a.length;l++){let{node:c,indexPath:u}=a[l];if(o.getNodeValue(c)===t)return s({index:l,node:c,indexPath:u,getElement:()=>i.getById(va(i,t))}),!0}return!1}function pI(e){var s;let n=e.querySelectorAll('[data-scope="tree-view"][data-part="branch"], [data-scope="tree-view"][data-part="item"]'),i=[];for(let o of n){let a=o.getAttribute("data-path"),l=o.getAttribute("data-value");if(a==null||l==null)continue;let c=a.split("/").map(p=>parseInt(p,10));if(c.some(Number.isNaN))continue;let u=(s=o.getAttribute("data-name"))!=null?s:l,h=o.getAttribute("data-part")==="branch";i.push({pathArr:c,id:l,name:u,isBranch:h})}i.sort((o,a)=>{let l=Math.min(o.pathArr.length,a.pathArr.length);for(let c=0;c<l;c++)if(o.pathArr[c]!==a.pathArr[c])return o.pathArr[c]-a.pathArr[c];return o.pathArr.length-a.pathArr.length});let r={id:"ROOT",name:"",children:[]};for(let{pathArr:o,id:a,name:l,isBranch:c}of i){let u=r;for(let p=0;p<o.length-1;p++){let d=o[p];u.children||(u.children=[]),u=u.children[d]}let h=o[o.length-1];u.children||(u.children=[]),u.children[h]=c?{id:a,name:l,children:[]}:{id:a,name:l}}return r}var aI,Ne,ma,lI,Yd,va,pa,Ce,Xd,jd,Ct,hI,gI,LO,fI,FO,mI,vI,zd=fe(()=>{"use strict";Ar();me();aI=J("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","nodeRenameInput","root","tree"),Ne=aI.build(),ma=e=>new io(e);ma.empty=()=>new io({rootNode:{children:[]}});lI=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.root)!=null?n:`tree:${e.id}:root`},Yd=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.label)!=null?n:`tree:${e.id}:label`},va=(e,t)=>{var n,i,r;return(r=(i=(n=e.ids)==null?void 0:n.node)==null?void 0:i.call(n,t))!=null?r:`tree:${e.id}:node:${t}`},pa=e=>{var t,n;return(n=(t=e.ids)==null?void 0:t.tree)!=null?n:`tree:${e.id}:tree`},Ce=(e,t)=>{var n;t!=null&&((n=e.getById(va(e,t)))==null||n.focus())},Xd=(e,t)=>`tree:${e.id}:rename-input:${t}`,jd=(e,t)=>e.getById(Xd(e,t));({and:Ct}=ye()),hI={props({props:e}){return m({selectionMode:"single",collection:ma.empty(),typeahead:!0,expandOnClick:!0,defaultExpandedValue:[],defaultSelectedValue:[]},e)},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{expandedValue:t(()=>({defaultValue:e("defaultExpandedValue"),value:e("expandedValue"),isEqual:he,onChange(i){var o;let s=n().get("focusedValue");(o=e("onExpandedChange"))==null||o({expandedValue:i,focusedValue:s,get expandedNodes(){return e("collection").findNodes(i)}})}})),selectedValue:t(()=>({defaultValue:e("defaultSelectedValue"),value:e("selectedValue"),isEqual:he,onChange(i){var o;let s=n().get("focusedValue");(o=e("onSelectionChange"))==null||o({selectedValue:i,focusedValue:s,get selectedNodes(){return e("collection").findNodes(i)}})}})),focusedValue:t(()=>({defaultValue:e("defaultFocusedValue")||null,value:e("focusedValue"),onChange(i){var r;(r=e("onFocusChange"))==null||r({focusedValue:i,get focusedNode(){return i?e("collection").findNode(i):null}})}})),loadingStatus:t(()=>({defaultValue:{}})),checkedValue:t(()=>({defaultValue:e("defaultCheckedValue")||[],value:e("checkedValue"),isEqual:he,onChange(i){var r;(r=e("onCheckedChange"))==null||r({checkedValue:i})}})),renamingValue:t(()=>({sync:!0,defaultValue:null}))}},refs(){return{typeaheadState:m({},tt.defaultOptions),pendingAborts:new Map}},computed:{isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar.length>0,visibleNodes:({prop:e,context:t})=>{let n=[];return e("collection").visit({skip:Et({prop:e,context:t}),onEnter:(i,r)=>{n.push({node:i,indexPath:r})}}),n}},on:{"EXPANDED.SET":{actions:["setExpanded"]},"EXPANDED.CLEAR":{actions:["clearExpanded"]},"EXPANDED.ALL":{actions:["expandAllBranches"]},"BRANCH.EXPAND":{actions:["expandBranches"]},"BRANCH.COLLAPSE":{actions:["collapseBranches"]},"SELECTED.SET":{actions:["setSelected"]},"SELECTED.ALL":[{guard:Ct("isMultipleSelection","moveFocus"),actions:["selectAllNodes","focusTreeLastNode"]},{guard:"isMultipleSelection",actions:["selectAllNodes"]}],"SELECTED.CLEAR":{actions:["clearSelected"]},"NODE.SELECT":{actions:["selectNode"]},"NODE.DESELECT":{actions:["deselectNode"]},"CHECKED.TOGGLE":{actions:["toggleChecked"]},"CHECKED.SET":{actions:["setChecked"]},"CHECKED.CLEAR":{actions:["clearChecked"]},"NODE.FOCUS":{actions:["setFocusedNode"]},"NODE.ARROW_DOWN":[{guard:Ct("isShiftKey","isMultipleSelection"),actions:["focusTreeNextNode","extendSelectionToNextNode"]},{actions:["focusTreeNextNode"]}],"NODE.ARROW_UP":[{guard:Ct("isShiftKey","isMultipleSelection"),actions:["focusTreePrevNode","extendSelectionToPrevNode"]},{actions:["focusTreePrevNode"]}],"NODE.ARROW_LEFT":{actions:["focusBranchNode"]},"BRANCH_NODE.ARROW_LEFT":[{guard:"isBranchExpanded",actions:["collapseBranch"]},{actions:["focusBranchNode"]}],"BRANCH_NODE.ARROW_RIGHT":[{guard:Ct("isBranchFocused","isBranchExpanded"),actions:["focusBranchFirstNode"]},{actions:["expandBranch"]}],"SIBLINGS.EXPAND":{actions:["expandSiblingBranches"]},"NODE.HOME":[{guard:Ct("isShiftKey","isMultipleSelection"),actions:["extendSelectionToFirstNode","focusTreeFirstNode"]},{actions:["focusTreeFirstNode"]}],"NODE.END":[{guard:Ct("isShiftKey","isMultipleSelection"),actions:["extendSelectionToLastNode","focusTreeLastNode"]},{actions:["focusTreeLastNode"]}],"NODE.CLICK":[{guard:Ct("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Ct("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{actions:["selectNode"]}],"BRANCH_NODE.CLICK":[{guard:Ct("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:Ct("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{guard:"expandOnClick",actions:["selectNode","toggleBranchNode"]},{actions:["selectNode"]}],"BRANCH_TOGGLE.CLICK":{actions:["toggleBranchNode"]},"TREE.TYPEAHEAD":{actions:["focusMatchedNode"]}},exit:["clearPendingAborts"],states:{idle:{on:{"NODE.RENAME":{target:"renaming",actions:["setRenamingValue"]}}},renaming:{entry:["syncRenameInput","focusRenameInput"],on:{"RENAME.SUBMIT":{guard:"isRenameLabelValid",target:"idle",actions:["submitRenaming"]},"RENAME.CANCEL":{target:"idle",actions:["cancelRenaming"]}}}},implementations:{guards:{isBranchFocused:({context:e,event:t})=>e.get("focusedValue")===t.id,isBranchExpanded:({context:e,event:t})=>e.get("expandedValue").includes(t.id),isShiftKey:({event:e})=>e.shiftKey,isCtrlKey:({event:e})=>e.ctrlKey,hasSelectedItems:({context:e})=>e.get("selectedValue").length>0,isMultipleSelection:({prop:e})=>e("selectionMode")==="multiple",moveFocus:({event:e})=>!!e.moveFocus,expandOnClick:({prop:e})=>!!e("expandOnClick"),isRenameLabelValid:({event:e})=>e.label.trim()!==""},actions:{selectNode({context:e,event:t}){let n=t.id||t.value;e.set("selectedValue",i=>n==null?i:!t.isTrusted&&Kt(n)?i.concat(...n):[Kt(n)?nt(n):n].filter(Boolean))},deselectNode({context:e,event:t}){let n=Ti(t.id||t.value);e.set("selectedValue",i=>ht(i,...n))},setFocusedNode({context:e,event:t}){e.set("focusedValue",t.id)},clearFocusedNode({context:e}){e.set("focusedValue",null)},clearSelectedItem({context:e}){e.set("selectedValue",[])},toggleBranchNode({context:e,event:t,action:n}){let i=e.get("expandedValue").includes(t.id);n(i?["collapseBranch"]:["expandBranch"])},expandBranch(e){let{event:t}=e;bs(e,[t.id])},expandBranches(e){let{context:t,event:n}=e,i=Ti(n.value);bs(e,mr(i,t.get("expandedValue")))},collapseBranch({context:e,event:t}){e.set("expandedValue",n=>ht(n,t.id))},collapseBranches(e){let{context:t,event:n}=e,i=Ti(n.value);t.set("expandedValue",r=>ht(r,...i))},setExpanded({context:e,event:t}){Kt(t.value)&&e.set("expandedValue",t.value)},clearExpanded({context:e}){e.set("expandedValue",[])},setSelected({context:e,event:t}){Kt(t.value)&&e.set("selectedValue",t.value)},clearSelected({context:e}){e.set("selectedValue",[])},focusTreeFirstNode(e){let{prop:t,scope:n}=e,i=t("collection"),r=i.getFirstNode(void 0,{skip:Et(e)});if(!r)return;let s=i.getNodeValue(r);wn(e,s)?H(()=>Ce(n,s)):Ce(n,s)},focusTreeLastNode(e){let{prop:t,scope:n}=e,i=t("collection"),r=i.getLastNode(void 0,{skip:Et(e)}),s=i.getNodeValue(r);wn(e,s)?H(()=>Ce(n,s)):Ce(n,s)},focusBranchFirstNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.findNode(t.id),o=r.getFirstNode(s,{skip:Et(e)});if(!o)return;let a=r.getNodeValue(o);wn(e,a)?H(()=>Ce(i,a)):Ce(i,a)},focusTreeNextNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getNextNode(t.id,{skip:Et(e)});if(!s)return;let o=r.getNodeValue(s);wn(e,o)?H(()=>Ce(i,o)):Ce(i,o)},focusTreePrevNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getPreviousNode(t.id,{skip:Et(e)});if(!s)return;let o=r.getNodeValue(s);wn(e,o)?H(()=>Ce(i,o)):Ce(i,o)},focusBranchNode(e){let{event:t,prop:n,scope:i}=e,r=n("collection"),s=r.getParentNode(t.id),o=s?r.getNodeValue(s):void 0;if(!o)return;wn(e,o)?H(()=>Ce(i,o)):Ce(i,o)},selectAllNodes({context:e,prop:t}){e.set("selectedValue",t("collection").getValues())},focusMatchedNode(e){let{context:t,prop:n,refs:i,event:r,scope:s,computed:o}=e,l=o("visibleNodes").map(({node:h})=>({textContent:n("collection").stringifyNode(h),id:n("collection").getNodeValue(h)})),c=tt(l,{state:i.get("typeaheadState"),activeId:t.get("focusedValue"),key:r.key});if(!(c!=null&&c.id))return;wn(e,c.id)?H(()=>Ce(s,c.id)):Ce(s,c.id)},toggleNodeSelection({context:e,event:t}){let n=rt(e.get("selectedValue"),t.id);e.set("selectedValue",n)},expandAllBranches(e){let{context:t,prop:n}=e,i=n("collection").getBranchValues(),r=mr(i,t.get("expandedValue"));bs(e,r)},expandSiblingBranches(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getIndexPath(n.id);if(!s)return;let a=r.getSiblingNodes(s).map(c=>r.getNodeValue(c)),l=mr(a,t.get("expandedValue"));bs(e,l)},extendSelectionToNode(e){let{context:t,event:n,prop:i,computed:r}=e,s=i("collection"),o=Ke(t.get("selectedValue"))||s.getNodeValue(s.getFirstNode()),a=n.id,l=[o,a],c=0;r("visibleNodes").forEach(({node:h})=>{let p=s.getNodeValue(h);c===1&&l.push(p),(p===o||p===a)&&c++}),t.set("selectedValue",kt(l))},extendSelectionToNextNode(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getNextNode(n.id,{skip:Et(e)});if(!s)return;let o=new Set(t.get("selectedValue")),a=r.getNodeValue(s);a!=null&&(o.has(n.id)&&o.has(a)?o.delete(n.id):o.has(a)||o.add(a),t.set("selectedValue",Array.from(o)))},extendSelectionToPrevNode(e){let{context:t,event:n,prop:i}=e,r=i("collection"),s=r.getPreviousNode(n.id,{skip:Et(e)});if(!s)return;let o=new Set(t.get("selectedValue")),a=r.getNodeValue(s);a!=null&&(o.has(n.id)&&o.has(a)?o.delete(n.id):o.has(a)||o.add(a),t.set("selectedValue",Array.from(o)))},extendSelectionToFirstNode(e){let{context:t,prop:n}=e,i=n("collection"),r=Ke(t.get("selectedValue")),s=[];i.visit({skip:Et(e),onEnter:o=>{let a=i.getNodeValue(o);if(s.push(a),a===r)return"stop"}}),t.set("selectedValue",s)},extendSelectionToLastNode(e){let{context:t,prop:n}=e,i=n("collection"),r=Ke(t.get("selectedValue")),s=[],o=!1;i.visit({skip:Et(e),onEnter:a=>{let l=i.getNodeValue(a);l===r&&(o=!0),o&&s.push(l)}}),t.set("selectedValue",s)},clearPendingAborts({refs:e}){let t=e.get("pendingAborts");t.forEach(n=>n.abort()),t.clear()},toggleChecked({context:e,event:t,prop:n}){let i=n("collection");e.set("checkedValue",r=>t.isBranch?cI(i,t.value,r):rt(r,t.value))},setChecked({context:e,event:t}){e.set("checkedValue",t.value)},clearChecked({context:e}){e.set("checkedValue",[])},setRenamingValue({context:e,event:t,prop:n}){e.set("renamingValue",t.value);let i=n("onRenameStart");if(i){let r=n("collection"),s=r.getIndexPath(t.value);if(s){let o=r.at(s);o&&i({value:t.value,node:o,indexPath:s})}}},submitRenaming({context:e,event:t,prop:n,scope:i}){var c;let r=e.get("renamingValue");if(!r)return;let o=n("collection").getIndexPath(r);if(!o)return;let a=t.label.trim(),l=n("onBeforeRename");if(l&&!l({value:r,label:a,indexPath:o})){e.set("renamingValue",null),Ce(i,r);return}(c=n("onRenameComplete"))==null||c({value:r,label:a,indexPath:o}),e.set("renamingValue",null),Ce(i,r)},cancelRenaming({context:e,scope:t}){let n=e.get("renamingValue");e.set("renamingValue",null),n&&Ce(t,n)},syncRenameInput({context:e,scope:t,prop:n}){let i=e.get("renamingValue");if(!i)return;let r=n("collection"),s=r.findNode(i);if(!s)return;let o=r.stringifyNode(s),a=jd(t,i);xt(a,o)},focusRenameInput({context:e,scope:t}){let n=e.get("renamingValue");if(!n)return;let i=jd(t,n);i&&(i.focus(),i.select())}}}};gI=G()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren","canRename","onRenameStart","onBeforeRename","onRenameComplete","scrollToIndexFn"]),LO=B(gI),fI=G()(["node","indexPath"]),FO=B(fI);mI=class extends te{constructor(t,n){var s;let i=(s=n.treeData)!=null?s:pI(t),r=ma({nodeToValue:o=>o.id,nodeToString:o=>o.name,rootNode:i});super(t,y(m({},n),{collection:r}));U(this,"collection");U(this,"syncTree",()=>{let t=this.el.querySelector('[data-scope="tree-view"][data-part="tree"]');t&&(this.spreadProps(t,this.api.getTreeProps()),this.updateExistingTree(t))});this.collection=r}initMachine(t){return new ee(hI,m({},t))}initApi(){return dI(this.machine.service,Q)}getNodeAt(t){var i;if(t.length===0)return;let n=this.collection.rootNode;for(let r of t)if(n=(i=n==null?void 0:n.children)==null?void 0:i[r],!n)return;return n}updateExistingTree(t){this.spreadProps(t,this.api.getTreeProps());let n=t.querySelectorAll('[data-scope="tree-view"][data-part="branch"]');for(let r of n){let s=r.getAttribute("data-path");if(s==null)continue;let o=s.split("/").map(g=>parseInt(g,10)),a=this.getNodeAt(o);if(!a)continue;let l={indexPath:o,node:a};this.spreadProps(r,this.api.getBranchProps(l));let c=r.querySelector('[data-scope="tree-view"][data-part="branch-control"]');c&&this.spreadProps(c,this.api.getBranchControlProps(l));let u=r.querySelector('[data-scope="tree-view"][data-part="branch-text"]');u&&this.spreadProps(u,this.api.getBranchTextProps(l));let h=r.querySelector('[data-scope="tree-view"][data-part="branch-indicator"]');h&&this.spreadProps(h,this.api.getBranchIndicatorProps(l));let p=r.querySelector('[data-scope="tree-view"][data-part="branch-content"]');p&&this.spreadProps(p,this.api.getBranchContentProps(l));let d=r.querySelector('[data-scope="tree-view"][data-part="branch-indent-guide"]');d&&this.spreadProps(d,this.api.getBranchIndentGuideProps(l))}let i=t.querySelectorAll('[data-scope="tree-view"][data-part="item"]');for(let r of i){let s=r.getAttribute("data-path");if(s==null)continue;let o=s.split("/").map(c=>parseInt(c,10)),a=this.getNodeAt(o);if(!a)continue;let l={indexPath:o,node:a};this.spreadProps(r,this.api.getItemProps(l))}}render(){var i;let t=(i=this.el.querySelector('[data-scope="tree-view"][data-part="root"]'))!=null?i:this.el;this.spreadProps(t,this.api.getRootProps());let n=this.el.querySelector('[data-scope="tree-view"][data-part="label"]');n&&this.spreadProps(n,this.api.getLabelProps()),this.syncTree()}},vI={mounted(){var i;let e=this.el,t=this.pushEvent.bind(this),n=new mI(e,y(m({id:e.id},O(e,"controlled")?{expandedValue:Y(e,"expandedValue"),selectedValue:Y(e,"selectedValue")}:{defaultExpandedValue:Y(e,"defaultExpandedValue"),defaultSelectedValue:Y(e,"defaultSelectedValue")}),{selectionMode:(i=x(e,"selectionMode",["single","multiple"]))!=null?i:"single",dir:Gt(e),onSelectionChange:r=>{var d;let s=O(e,"redirect"),o=(d=r.selectedValue)!=null&&d.length?r.selectedValue[0]:void 0,a=[...e.querySelectorAll('[data-scope="tree-view"][data-part="item"], [data-scope="tree-view"][data-part="branch"]')].find(g=>g.getAttribute("data-value")===o),l=(a==null?void 0:a.getAttribute("data-part"))==="item",c=a==null?void 0:a.getAttribute("data-redirect"),u=a==null?void 0:a.hasAttribute("data-new-tab");s&&o&&l&&this.liveSocket.main.isDead&&c!=="false"&&(u?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o);let p=x(e,"onSelectionChange");p&&this.liveSocket.main.isConnected()&&t(p,{id:e.id,value:r})},onExpandedChange:r=>{let s=x(e,"onExpandedChange");s&&this.liveSocket.main.isConnected()&&t(s,{id:e.id,value:r})}}));n.init(),this.treeView=n,this.onSetExpandedValue=r=>{let{value:s}=r.detail;n.api.setExpandedValue(s)},e.addEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue=r=>{let{value:s}=r.detail;n.api.setSelectedValue(s)},e.addEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers=[],this.handlers.push(this.handleEvent("tree_view_set_expanded_value",r=>{let s=r.tree_view_id;s&&e.id!==s&&e.id!==`tree-view:${s}`||n.api.setExpandedValue(r.value)})),this.handlers.push(this.handleEvent("tree_view_set_selected_value",r=>{let s=r.tree_view_id;s&&e.id!==s&&e.id!==`tree-view:${s}`||n.api.setSelectedValue(r.value)})),this.handlers.push(this.handleEvent("tree_view_expanded_value",()=>{t("tree_view_expanded_value_response",{value:n.api.expandedValue})})),this.handlers.push(this.handleEvent("tree_view_selected_value",()=>{t("tree_view_selected_value_response",{value:n.api.selectedValue})}))},updated(){var e;O(this.el,"controlled")&&((e=this.treeView)==null||e.updateProps({expandedValue:Y(this.el,"expandedValue"),selectedValue:Y(this.el,"selectedValue")}))},destroyed(){var e;if(this.onSetExpandedValue&&this.el.removeEventListener("phx:tree-view:set-expanded-value",this.onSetExpandedValue),this.onSetSelectedValue&&this.el.removeEventListener("phx:tree-view:set-selected-value",this.onSetSelectedValue),this.handlers)for(let t of this.handlers)this.removeHandleEvent(t);(e=this.treeView)==null||e.destroy()}}});var bI={};Oe(bI,{Hooks:()=>Qd,default:()=>yI,hooks:()=>Pe});function Pe(e,t){return{mounted(){return Ee(this,null,function*(){let r=(yield e())[t];if(this._realHook=r,r!=null&&r.mounted)return r.mounted.call(this)})},updated(){var i,r;(r=(i=this._realHook)==null?void 0:i.updated)==null||r.call(this)},destroyed(){var i,r;(r=(i=this._realHook)==null?void 0:i.destroyed)==null||r.call(this)},disconnected(){var i,r;(r=(i=this._realHook)==null?void 0:i.disconnected)==null||r.call(this)},reconnected(){var i,r;(r=(i=this._realHook)==null?void 0:i.reconnected)==null||r.call(this)},beforeUpdate(){var i,r;(r=(i=this._realHook)==null?void 0:i.beforeUpdate)==null||r.call(this)}}}var Qd={Accordion:Pe(()=>Promise.resolve().then(()=>(yl(),vl)),"Accordion"),Checkbox:Pe(()=>Promise.resolve().then(()=>(Pl(),Sl)),"Checkbox"),Clipboard:Pe(()=>Promise.resolve().then(()=>(Vl(),wl)),"Clipboard"),Collapsible:Pe(()=>Promise.resolve().then(()=>(kl(),xl)),"Collapsible"),Combobox:Pe(()=>Promise.resolve().then(()=>(Vc(),wc)),"Combobox"),DatePicker:Pe(()=>Promise.resolve().then(()=>(Pu(),Su)),"DatePicker"),Dialog:Pe(()=>Promise.resolve().then(()=>(Fu(),Lu)),"Dialog"),Menu:Pe(()=>Promise.resolve().then(()=>(Ku(),Wu)),"Menu"),Select:Pe(()=>Promise.resolve().then(()=>(Qu(),zu)),"Select"),SignaturePad:Pe(()=>Promise.resolve().then(()=>(Ed(),bd)),"SignaturePad"),Switch:Pe(()=>Promise.resolve().then(()=>(Sd(),Od)),"Switch"),Tabs:Pe(()=>Promise.resolve().then(()=>(kd(),xd)),"Tabs"),Toast:Pe(()=>Promise.resolve().then(()=>(Hd(),_d)),"Toast"),ToggleGroup:Pe(()=>Promise.resolve().then(()=>(Kd(),Wd)),"ToggleGroup"),TreeView:Pe(()=>Promise.resolve().then(()=>(zd(),Zd)),"TreeView")};var yI=Qd;return hh(bI);})();
