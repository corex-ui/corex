import{b as ya,c as va}from"./chunk-S6MRQC6S.mjs";import{a as ba}from"./chunk-5MNNWH4C.mjs";import"./chunk-L4HS2GN2.mjs";import{Bb as pa,Cb as ma,Db as $a,E as oa,Fb as b,Gb as fe,Hb as xe,Ib as E,L as sa,M as ia,Ma as ct,Q as Te,_a as De,a as na,ba as re,d as y,db as Ae,e as M,eb as fa,ka as ca,la,nb as ne,oa as da,pa as ua,vb as ga,wb as ha,yb as oe}from"./chunk-IYURAQ6S.mjs";function Le(e,t){return e-t*Math.floor(e/t)}var wa=1721426;function Ne(e,t,a,r){t=He(e,t);let n=t-1,o=-2;return a<=2?o=0:Fe(t)&&(o=-1),wa-1+365*n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400)+Math.floor((367*a-362)/12+o+r)}function Fe(e){return e%4===0&&(e%100!==0||e%400===0)}function He(e,t){return e==="BC"?1-t:t}function Mr(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}var Ir={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]},Y=class{fromJulianDay(t){let a=t,r=a-wa,n=Math.floor(r/146097),o=Le(r,146097),s=Math.floor(o/36524),i=Le(o,36524),u=Math.floor(i/1461),p=Le(i,1461),h=Math.floor(p/365),f=n*400+s*100+u*4+h+(s!==4&&h!==4?1:0),[m,$]=Mr(f),v=a-Ne(m,$,1,1),S=2;a<Ne(m,$,3,1)?S=0:Fe($)&&(S=1);let N=Math.floor(((v+S)*12+373)/367),ve=a-Ne(m,$,N,1)+1;return new O(m,$,N,ve)}toJulianDay(t){return Ne(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return Ir[Fe(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return Fe(t.year)?366:365}getMaximumMonthsInYear(){return 12}getMaximumDaysInMonth(){return 31}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}};var Ta={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Q(e,t){return t=C(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function Ea(e,t){return t=C(t,e.calendar),e=U(e),t=U(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function Sa(e,t){return t=C(t,e.calendar),e=se(e),t=se(t),e.era===t.era&&e.year===t.year}function ut(e,t){return ge(e.calendar,t.calendar)&&Q(e,t)}function ft(e,t){return ge(e.calendar,t.calendar)&&Ea(e,t)}function gt(e,t){return ge(e.calendar,t.calendar)&&Sa(e,t)}function ge(e,t){var a,r,n,o;return(o=(n=(a=e.isEqual)===null||a===void 0?void 0:a.call(e,t))!==null&&n!==void 0?n:(r=t.isEqual)===null||r===void 0?void 0:r.call(t,e))!==null&&o!==void 0?o:e.identifier===t.identifier}function ht(e,t){return Q(e,he(t))}var Or={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function pt(e,t,a){let r=e.calendar.toJulianDay(e),n=a?Or[a]:kr(t),o=Math.ceil(r+1-n)%7;return o<0&&(o+=7),o}function Ye(e){return A(Date.now(),e)}function he(e){return K(Ye(e))}function mt(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function Ca(e,t){return Da(e)-Da(t)}function Da(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}var lt=null;function pe(){return lt==null&&(lt=new Intl.DateTimeFormat().resolvedOptions().timeZone),lt}function U(e){return e.subtract({days:e.day-1})}function Ee(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function se(e){return U(e.subtract({months:e.month-1}))}function $t(e){return Ee(e.add({months:e.calendar.getMonthsInYear(e)-e.month}))}function ie(e,t,a){let r=pt(e,t,a);return e.subtract({days:r})}function Be(e,t,a){return ie(e,t,a).add({days:6})}var xa=new Map,dt=new Map;function Va(e){if(Intl.Locale){let a=xa.get(e);return a||(a=new Intl.Locale(e).maximize().region,a&&xa.set(e,a)),a}let t=e.split("-")[1];return t==="u"?void 0:t}function kr(e){let t=dt.get(e);if(!t){if(Intl.Locale){let r=new Intl.Locale(e);if("getWeekInfo"in r&&(t=r.getWeekInfo(),t))return dt.set(e,t),t.firstDay}let a=Va(e);if(e.includes("-fw-")){let r=e.split("-fw-")[1].split("-")[0];r==="mon"?t={firstDay:1}:r==="tue"?t={firstDay:2}:r==="wed"?t={firstDay:3}:r==="thu"?t={firstDay:4}:r==="fri"?t={firstDay:5}:r==="sat"?t={firstDay:6}:t={firstDay:0}}else e.includes("-ca-iso8601")?t={firstDay:1}:t={firstDay:a&&Ta[a]||0};dt.set(e,t)}return t.firstDay}function yt(e,t,a){let r=e.calendar.getDaysInMonth(e);return Math.ceil((pt(U(e),t,a)+r)/7)}function We(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function _e(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}var Rr={AF:[4,5],AE:[5,6],BH:[5,6],DZ:[5,6],EG:[5,6],IL:[5,6],IQ:[5,6],IR:[5,5],JO:[5,6],KW:[5,6],LY:[5,6],OM:[5,6],QA:[5,6],SA:[5,6],SD:[5,6],SY:[5,6],YE:[5,6]};function vt(e,t){let a=e.calendar.toJulianDay(e),r=Math.ceil(a+1)%7;r<0&&(r+=7);let n=Va(t),[o,s]=Rr[n]||[6,0];return r===o||r===s}function ae(e){e=C(e,new Y);let t=He(e.era,e.year);return Ia(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function Ia(e,t,a,r,n,o,s){let i=new Date;return i.setUTCHours(r,n,o,s),i.setUTCFullYear(e,t-1,a),i.getTime()}function bt(e,t){if(t==="UTC")return 0;if(e>0&&t===pe())return new Date(e).getTimezoneOffset()*-6e4;let{year:a,month:r,day:n,hour:o,minute:s,second:i}=Oa(e,t);return Ia(a,r,n,o,s,i,0)-Math.floor(e/1e3)*1e3}var Pa=new Map;function Oa(e,t){let a=Pa.get(t);a||(a=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Pa.set(t,a));let r=a.formatToParts(new Date(e)),n={};for(let o of r)o.type!=="literal"&&(n[o.type]=o.value);return{year:n.era==="BC"||n.era==="B"?-n.year+1:+n.year,month:+n.month,day:+n.day,hour:n.hour==="24"?0:+n.hour,minute:+n.minute,second:+n.second}}var Ma=864e5;function Ar(e,t,a,r){return(a===r?[a]:[a,r]).filter(o=>Lr(e,t,o))}function Lr(e,t,a){let r=Oa(a,t);return e.year===r.year&&e.month===r.month&&e.day===r.day&&e.hour===r.hour&&e.minute===r.minute&&e.second===r.second}function B(e,t,a="compatible"){let r=W(e);if(t==="UTC")return ae(r);if(t===pe()&&a==="compatible"){r=C(r,new Y);let u=new Date,p=He(r.era,r.year);return u.setFullYear(p,r.month-1,r.day),u.setHours(r.hour,r.minute,r.second,r.millisecond),u.getTime()}let n=ae(r),o=bt(n-Ma,t),s=bt(n+Ma,t),i=Ar(r,t,n-o,n-s);if(i.length===1)return i[0];if(i.length>1)switch(a){case"compatible":case"earlier":return i[0];case"later":return i[i.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(a){case"earlier":return Math.min(n-o,n-s);case"compatible":case"later":return Math.max(n-o,n-s);case"reject":throw new RangeError("No such absolute time found")}}function wt(e,t,a="compatible"){return new Date(B(e,t,a))}function A(e,t){let a=bt(e,t),r=new Date(e+a),n=r.getUTCFullYear(),o=r.getUTCMonth()+1,s=r.getUTCDate(),i=r.getUTCHours(),u=r.getUTCMinutes(),p=r.getUTCSeconds(),h=r.getUTCMilliseconds();return new ce(n<1?"BC":"AD",n<1?-n+1:n,o,s,t,a,i,u,p,h)}function K(e){return new O(e.calendar,e.era,e.year,e.month,e.day)}function W(e,t){let a=0,r=0,n=0,o=0;if("timeZone"in e)({hour:a,minute:r,second:n,millisecond:o}=e);else if("hour"in e&&!t)return e;return t&&({hour:a,minute:r,second:n,millisecond:o}=t),new me(e.calendar,e.era,e.year,e.month,e.day,a,r,n,o)}function C(e,t){if(ge(e.calendar,t))return e;let a=t.fromJulianDay(e.calendar.toJulianDay(e)),r=e.copy();return r.calendar=t,r.era=a.era,r.year=a.year,r.month=a.month,r.day=a.day,X(r),r}function Tt(e,t,a){if(e instanceof ce)return e.timeZone===t?e:Dt(e,t);let r=B(e,t,a);return A(r,t)}function ka(e){let t=ae(e)-e.offset;return new Date(t)}function Dt(e,t){let a=ae(e)-e.offset;return C(A(a,t),e.calendar)}var Se=36e5;function Ve(e,t){let a=e.copy(),r="hour"in a?Hr(a,t):0;xt(a,t.years||0),a.calendar.balanceYearMonth&&a.calendar.balanceYearMonth(a,e),a.month+=t.months||0,Et(a),Aa(a),a.day+=(t.weeks||0)*7,a.day+=t.days||0,a.day+=r,Nr(a),a.calendar.balanceDate&&a.calendar.balanceDate(a),a.year<1&&(a.year=1,a.month=1,a.day=1);let n=a.calendar.getYearsInEra(a);if(a.year>n){var o,s;let u=(o=(s=a.calendar).isInverseEra)===null||o===void 0?void 0:o.call(s,a);a.year=n,a.month=u?1:a.calendar.getMonthsInYear(a),a.day=u?1:a.calendar.getDaysInMonth(a)}a.month<1&&(a.month=1,a.day=1);let i=a.calendar.getMonthsInYear(a);return a.month>i&&(a.month=i,a.day=a.calendar.getDaysInMonth(a)),a.day=Math.max(1,Math.min(a.calendar.getDaysInMonth(a),a.day)),a}function xt(e,t){var a,r;!((a=(r=e.calendar).isInverseEra)===null||a===void 0)&&a.call(r,e)&&(t=-t),e.year+=t}function Et(e){for(;e.month<1;)xt(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,xt(e,1)}function Nr(e){for(;e.day<1;)e.month--,Et(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Et(e)}function Aa(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function X(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),Aa(e)}function La(e){let t={};for(let a in e)typeof e[a]=="number"&&(t[a]=-e[a]);return t}function St(e,t){return Ve(e,La(t))}function Ue(e,t){let a=e.copy();return t.era!=null&&(a.era=t.era),t.year!=null&&(a.year=t.year),t.month!=null&&(a.month=t.month),t.day!=null&&(a.day=t.day),X(a),a}function Ce(e,t){let a=e.copy();return t.hour!=null&&(a.hour=t.hour),t.minute!=null&&(a.minute=t.minute),t.second!=null&&(a.second=t.second),t.millisecond!=null&&(a.millisecond=t.millisecond),Na(a),a}function Fr(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=qe(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=qe(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=qe(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=qe(e.hour,24),t}function Na(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function qe(e,t){let a=e%t;return a<0&&(a+=t),a}function Hr(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,Fr(e)}function Ze(e,t,a,r){let n=e.copy();switch(t){case"era":{let i=e.calendar.getEras(),u=i.indexOf(e.era);if(u<0)throw new Error("Invalid era: "+e.era);u=z(u,a,0,i.length-1,r?.round),n.era=i[u],X(n);break}case"year":var o,s;!((o=(s=n.calendar).isInverseEra)===null||o===void 0)&&o.call(s,n)&&(a=-a),n.year=z(e.year,a,-1/0,9999,r?.round),n.year===-1/0&&(n.year=1),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e);break;case"month":n.month=z(e.month,a,1,e.calendar.getMonthsInYear(e),r?.round);break;case"day":n.day=z(e.day,a,1,e.calendar.getDaysInMonth(e),r?.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(n),X(n),n}function Ct(e,t,a,r){let n=e.copy();switch(t){case"hour":{let o=e.hour,s=0,i=23;if(r?.hourCycle===12){let u=o>=12;s=u?12:0,i=u?23:11}n.hour=z(o,a,s,i,r?.round);break}case"minute":n.minute=z(e.minute,a,0,59,r?.round);break;case"second":n.second=z(e.second,a,0,59,r?.round);break;case"millisecond":n.millisecond=z(e.millisecond,a,0,999,r?.round);break;default:throw new Error("Unsupported field "+t)}return n}function z(e,t,a,r,n=!1){if(n){e+=Math.sign(t),e<a&&(e=r);let o=Math.abs(t);t>0?e=Math.ceil(e/o)*o:e=Math.floor(e/o)*o,e>r&&(e=a)}else e+=t,e<a?e=r-(a-e-1):e>r&&(e=a+(e-r-1));return e}function Vt(e,t){let a;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let n=Ve(W(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});a=B(n,e.timeZone)}else a=ae(e)-e.offset;a+=t.milliseconds||0,a+=(t.seconds||0)*1e3,a+=(t.minutes||0)*6e4,a+=(t.hours||0)*36e5;let r=A(a,e.timeZone);return C(r,e.calendar)}function Fa(e,t){return Vt(e,La(t))}function Ha(e,t,a,r){switch(t){case"hour":{let n=0,o=23;if(r?.hourCycle===12){let v=e.hour>=12;n=v?12:0,o=v?23:11}let s=W(e),i=C(Ce(s,{hour:n}),new Y),u=[B(i,e.timeZone,"earlier"),B(i,e.timeZone,"later")].filter(v=>A(v,e.timeZone).day===i.day)[0],p=C(Ce(s,{hour:o}),new Y),h=[B(p,e.timeZone,"earlier"),B(p,e.timeZone,"later")].filter(v=>A(v,e.timeZone).day===p.day).pop(),f=ae(e)-e.offset,m=Math.floor(f/Se),$=f%Se;return f=z(m,a,Math.floor(u/Se),Math.floor(h/Se),r?.round)*Se+$,C(A(f,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return Ct(e,t,a,r);case"era":case"year":case"month":case"day":{let n=Ze(W(e),t,a,r),o=B(n,e.timeZone);return C(A(o,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function Ya(e,t,a){let r=W(e),n=Ce(Ue(r,t),t);if(n.compare(r)===0)return e;let o=B(n,e.timeZone,a);return C(A(o,e.timeZone),e.calendar)}var Yr=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/;var Br=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/;var Wr=["hours","minutes","seconds"],so=["years","months","weeks","days",...Wr];function Mt(e){let t=e.match(Yr);if(!t)throw Br.test(e)?new Error(`Invalid ISO 8601 date string: ${e}. Use parseAbsolute() instead.`):new Error("Invalid ISO 8601 date string: "+e);let a=new O(Pt(t[1],0,9999),Pt(t[2],1,12),1);return a.day=Pt(t[3],1,a.calendar.getDaysInMonth(a)),a}function Pt(e,t,a){let r=Number(e);if(r<t||r>a)throw new RangeError(`Value out of range: ${t} <= ${r} <= ${a}`);return r}function Ba(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function It(e){let t=C(e,new Y),a;return t.era==="BC"?a=t.year===1?"0000":"-"+String(Math.abs(1-t.year)).padStart(6,"00"):a=String(t.year).padStart(4,"0"),`${a}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function Ot(e){return`${It(e)}T${Ba(e)}`}function _r(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let a=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4),n=Math.floor(e%36e5%6e4/1e3),o=`${t}${String(a).padStart(2,"0")}:${String(r).padStart(2,"0")}`;return n!==0&&(o+=`:${String(n).padStart(2,"0")}`),o}function Wa(e){return`${Ot(e)}${_r(e.offset)}[${e.timeZone}]`}function _a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ge(e,t,a){_a(e,t),t.set(e,a)}function kt(e){let t=typeof e[0]=="object"?e.shift():new Y,a;if(typeof e[0]=="string")a=e.shift();else{let s=t.getEras();a=s[s.length-1]}let r=e.shift(),n=e.shift(),o=e.shift();return[t,a,r,n,o]}var qr=new WeakMap,O=class e{copy(){return this.era?new e(this.calendar,this.era,this.year,this.month,this.day):new e(this.calendar,this.year,this.month,this.day)}add(t){return Ve(this,t)}subtract(t){return St(this,t)}set(t){return Ue(this,t)}cycle(t,a,r){return Ze(this,t,a,r)}toDate(t){return wt(this,t)}toString(){return It(this)}compare(t){return mt(this,t)}constructor(...t){Ge(this,qr,{writable:!0,value:void 0});let[a,r,n,o,s]=kt(t);this.calendar=a,this.era=r,this.year=n,this.month=o,this.day=s,X(this)}};var Ur=new WeakMap,me=class e{copy(){return this.era?new e(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new e(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return Ve(this,t)}subtract(t){return St(this,t)}set(t){return Ue(Ce(this,t),t)}cycle(t,a,r){switch(t){case"era":case"year":case"month":case"day":return Ze(this,t,a,r);default:return Ct(this,t,a,r)}}toDate(t,a){return wt(this,t,a)}toString(){return Ot(this)}compare(t){let a=mt(this,t);return a===0?Ca(this,W(t)):a}constructor(...t){Ge(this,Ur,{writable:!0,value:void 0});let[a,r,n,o,s]=kt(t);this.calendar=a,this.era=r,this.year=n,this.month=o,this.day=s,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,X(this)}},Zr=new WeakMap,ce=class e{copy(){return this.era?new e(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new e(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return Vt(this,t)}subtract(t){return Fa(this,t)}set(t,a){return Ya(this,t,a)}cycle(t,a,r){return Ha(this,t,a,r)}toDate(){return ka(this)}toString(){return Wa(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-Tt(t,this.timeZone).toDate().getTime()}constructor(...t){Ge(this,Zr,{writable:!0,value:void 0});let[a,r,n,o,s]=kt(t),i=t.shift(),u=t.shift();this.calendar=a,this.era=r,this.year=n,this.month=o,this.day=s,this.timeZone=i,this.offset=u,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,X(this)}};var Rt=new Map,I=class{format(t){return this.formatter.format(t)}formatToParts(t){return this.formatter.formatToParts(t)}formatRange(t,a){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(t,a);if(a<t)throw new RangeError("End date must be >= start date");return`${this.formatter.format(t)} \u2013 ${this.formatter.format(a)}`}formatRangeToParts(t,a){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(t,a);if(a<t)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(t),n=this.formatter.formatToParts(a);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...n.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let t=this.formatter.resolvedOptions();return Kr()&&(this.resolvedHourCycle||(this.resolvedHourCycle=Jr(t.locale,this.options)),t.hourCycle=this.resolvedHourCycle,t.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),t.calendar==="ethiopic-amete-alem"&&(t.calendar="ethioaa"),t}constructor(t,a={}){this.formatter=qa(t,a),this.options=a}},Gr={true:{ja:"h11"},false:{}};function qa(e,t={}){if(typeof t.hour12=="boolean"&&jr()){t={...t};let n=Gr[String(t.hour12)][e.split("-")[0]],o=t.hour12?"h12":"h23";t.hourCycle=n??o,delete t.hour12}let a=e+(t?Object.entries(t).sort((n,o)=>n[0]<o[0]?-1:1).join():"");if(Rt.has(a))return Rt.get(a);let r=new Intl.DateTimeFormat(e,t);return Rt.set(a,r),r}var At=null;function jr(){return At==null&&(At=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),At}var Lt=null;function Kr(){return Lt==null&&(Lt=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Lt}function Jr(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let a=qa(e,{...t,timeZone:void 0}),r=parseInt(a.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),n=parseInt(a.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(r===0&&n===23)return"h23";if(r===24&&n===23)return"h24";if(r===0&&n===11)return"h11";if(r===12&&n===11)return"h12";throw new Error("Unexpected hour cycle result")}function Qr(e,t,a,r,n){let o={};for(let i in t){let u=i,p=t[u];p!=null&&(o[u]=Math.floor(p/2),o[u]>0&&p%2===0&&o[u]--)}let s=le(e,t,a).subtract(o);return Pe(e,s,t,a,r,n)}function le(e,t,a,r,n){let o=e;return t.years?o=se(e):t.months?o=U(e):t.weeks&&(o=ie(e,a)),Pe(e,o,t,a,r,n)}function Nt(e,t,a,r,n){let o={...t};o.days?o.days--:o.weeks?o.weeks--:o.months?o.months--:o.years&&o.years--;let s=le(e,t,a).subtract(o);return Pe(e,s,t,a,r,n)}function Pe(e,t,a,r,n,o){return n&&e.compare(n)>=0&&(t=_e(t,le(K(n),a,r))),o&&e.compare(o)<=0&&(t=We(t,Nt(K(o),a,r))),t}function _(e,t,a){let r=K(e);return t&&(r=_e(r,K(t))),a&&(r=We(r,K(a))),r}function Ft(e,t,a,r,n,o){switch(t){case"start":return le(e,a,r,n,o);case"end":return Nt(e,a,r,n,o);case"center":default:return Qr(e,a,r,n,o)}}function k(e,t){return e==null||t==null?e===t:Q(e,t)}function Ht(e,t,a,r,n){return e?t?.(e,a)?!0:Z(e,r,n):!1}function Z(e,t,a){return t!=null&&e.compare(t)<0||a!=null&&e.compare(a)>0}function Za(e,t,a){let r=e.subtract({days:1});return Q(r,e)||Z(r,t,a)}function Ga(e,t,a){let r=e.add({days:1});return Q(r,e)||Z(r,t,a)}function je(e){let t={...e};for(let a in t)t[a]=1;return t}function Yt(e,t){let a={...t};return a.days?a.days--:a.days=-1,e.add(a)}function ja(e){return e?.calendar.identifier==="gregory"&&e.era==="BC"?"short":void 0}function Bt(e,t){let a=W(he(t));return new I(e,{weekday:"long",month:"long",year:"numeric",day:"numeric",era:ja(a),timeZone:t})}function Wt(e,t){let a=he(t);return new I(e,{month:"long",year:"numeric",era:ja(a),calendar:a?.calendar.identifier,timeZone:t})}function Xr(e,t,a,r,n){let o=a.formatRangeToParts(e.toDate(n),t.toDate(n)),s=-1;for(let p=0;p<o.length;p++){let h=o[p];if(h.source==="shared"&&h.type==="literal")s=p;else if(h.source==="endRange")break}let i="",u="";for(let p=0;p<o.length;p++)p<s?i+=o[p].value:p>s&&(u+=o[p].value);return r(i,u)}function Me(e,t,a,r){if(!e)return"";let n=e,o=t??e,s=Bt(a,r);return Q(n,o)?s.format(n.toDate(r)):Xr(n,o,s,(i,u)=>`${i} \u2013 ${u}`,r)}var zr=["sun","mon","tue","wed","thu","fri","sat"];function Ka(e){return e!=null?zr[e]:void 0}function Ja(e,t,a){let r=Ka(a);return ie(e,t,r)}function _t(e,t,a,r){let n=t.add({weeks:e}),o=[],s=Ja(n,a,r);for(;o.length<7;){o.push(s);let i=s.add({days:1});if(Q(s,i))break;s=i}return o}function Qa(e,t,a,r){let n=Ka(r),o=a??yt(e,t,n);return[...new Array(o).keys()].map(i=>_t(i,e,t,r))}function en(e,t){let a=new I(e,{weekday:"long",timeZone:t}),r=new I(e,{weekday:"short",timeZone:t}),n=new I(e,{weekday:"narrow",timeZone:t});return o=>{let s=o instanceof Date?o:o.toDate(t);return{value:o,short:r.format(s),long:a.format(s),narrow:n.format(s)}}}function Xa(e,t,a,r){let n=Ja(e,r,t),o=[...new Array(7).keys()],s=en(r,a);return o.map(i=>s(n.add({days:i})))}function za(e,t="long"){let a=new Date(2021,0,1),r=[];for(let n=0;n<12;n++)r.push(a.toLocaleString(e,{month:t})),a.setMonth(a.getMonth()+1);return r}function er(e){let t=[];for(let a=e.from;a<=e.to;a+=1)t.push(a);return t}var tn=10;function an(e){if(e){if(e.length===3)return e.padEnd(4,"0");if(e.length===2){let t=new Date().getFullYear(),a=Math.floor(t/100)*100,r=parseInt(e.slice(-2),10),n=a+r;return n>t+tn?(n-100).toString():n.toString()}return e}}function de(e,t){let a=t?.strict?10:12,r=e-e%10,n=[];for(let o=0;o<a;o+=1){let s=r+o;n.push(s)}return n}function ue(e){return he(e??pe())}function $e(e,t,a,r){return function(o){let{startDate:s,focusedDate:i}=o,u=Yt(s,e);return Z(i,a,r)?{startDate:s,focusedDate:_(i,a,r),endDate:u}:i.compare(s)<0?{startDate:Nt(i,e,t,a,r),focusedDate:_(i,a,r),endDate:u}:i.compare(u)>0?{startDate:le(i,e,t,a,r),endDate:u,focusedDate:_(i,a,r)}:{startDate:s,endDate:u,focusedDate:_(i,a,r)}}}function qt(e,t,a,r,n,o){let s=$e(a,r,n,o),i=t.add(a);return s({focusedDate:e.add(a),startDate:le(Pe(e,i,a,r,n,o),a,r)})}function Ut(e,t,a,r,n,o){let s=$e(a,r,n,o),i=t.subtract(a);return s({focusedDate:e.subtract(a),startDate:le(Pe(e,i,a,r,n,o),a,r)})}function tr(e,t,a,r,n,o,s){let i=$e(r,n,o,s);if(!a&&!r.days)return i({focusedDate:e.add(je(r)),startDate:t});if(r.days)return qt(e,t,r,n,o,s);if(r.weeks)return i({focusedDate:e.add({months:1}),startDate:t});if(r.months||r.years)return i({focusedDate:e.add({years:1}),startDate:t})}function ar(e,t,a,r,n,o,s){let i=$e(r,n,o,s);if(!a&&!r.days)return i({focusedDate:e.subtract(je(r)),startDate:t});if(r.days)return Ut(e,t,r,n,o,s);if(r.weeks)return i({focusedDate:e.subtract({months:1}),startDate:t});if(r.months||r.years)return i({focusedDate:e.subtract({years:1}),startDate:t})}var Ua=e=>e!=null&&e.length===4,rn=e=>e!=null&&parseFloat(e)<=12,nn=e=>e!=null&&parseFloat(e)<=31;function rr(e,t,a){let r=on(t,a),{year:n,month:o,day:s}=sn(r,e)??{};if(n!=null||o!=null||s!=null){let p=new Date;n||(n=p.getFullYear().toString()),o||(o=(p.getMonth()+1).toString()),s||(s=p.getDate().toString())}if(Ua(n)||(n=an(n)),Ua(n)&&rn(o)&&nn(s))return new O(+n,+o,+s);let u=Date.parse(e);if(!isNaN(u)){let p=new Date(u);return new O(p.getFullYear(),p.getMonth()+1,p.getDate())}}function on(e,t){return new I(e,{day:"numeric",month:"numeric",year:"numeric",timeZone:t}).formatToParts(new Date(2e3,11,25)).map(({type:n,value:o})=>n==="literal"?`${o}?`:`((?!=<${n}>)\\d+)?`).join("")}function sn(e,t){let a=t.match(e);return e.toString().match(/<(.+?)>/g)?.map(r=>{let n=r.match(/<(.+)>/);return!n||n.length<=0?null:r.match(/<(.+)>/)?.[1]}).reduce((r,n,o)=>(n&&(a&&a.length>o?r[n]=a[o+1]:r[n]=null),r),{})}function Zt(e,t,a){let r=K(Ye(a));switch(e){case"thisWeek":return[ie(r,t),Be(r,t)];case"thisMonth":return[U(r),r];case"thisQuarter":return[U(r).add({months:-((r.month-1)%3)}),r];case"thisYear":return[se(r),r];case"last3Days":return[r.add({days:-2}),r];case"last7Days":return[r.add({days:-6}),r];case"last14Days":return[r.add({days:-13}),r];case"last30Days":return[r.add({days:-29}),r];case"last90Days":return[r.add({days:-89}),r];case"lastMonth":return[U(r.add({months:-1})),Ee(r.add({months:-1}))];case"lastQuarter":return[U(r.add({months:-((r.month-1)%3)-3})),Ee(r.add({months:-((r.month-1)%3)-1}))];case"lastWeek":return[ie(r,t).add({weeks:-1}),Be(r,t).add({weeks:-1})];case"lastYear":return[se(r.add({years:-1})),$t(r.add({years:-1}))];default:throw new Error(`Invalid date range preset: ${e}`)}}var Ke="__live-region__";function nr(e={}){let{level:t="polite",document:a=document,root:r,delay:n=0}=e,o=a.defaultView??window,s=r??a.body;function i(p,h){a.getElementById(Ke)?.remove(),h=h??n;let m=a.createElement("span");m.id=Ke,m.dataset.liveAnnouncer="true";let $=t!=="assertive"?"status":"alert";m.setAttribute("aria-live",t),m.setAttribute("role",$),Object.assign(m.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}),s.appendChild(m),o.setTimeout(()=>{m.textContent=p},h)}function u(){a.getElementById(Ke)?.remove()}return{announce:i,destroy:u,toJSON(){return Ke}}}var cn=na("date-picker").parts("clearTrigger","content","control","input","label","monthSelect","nextTrigger","positioner","presetTrigger","prevTrigger","rangeText","root","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","view","viewControl","viewTrigger","yearSelect"),w=cn.build(),ln=(e,t)=>e.ids?.label?.(t)??`datepicker:${e.id}:label:${t}`,dn=e=>e.ids?.root??`datepicker:${e.id}`,un=(e,t)=>e.ids?.table?.(t)??`datepicker:${e.id}:table:${t}`,jt=e=>e.ids?.content??`datepicker:${e.id}:content`,Gt=(e,t)=>e.ids?.cellTrigger?.(t)??`datepicker:${e.id}:cell-trigger:${t}`,fn=(e,t)=>e.ids?.prevTrigger?.(t)??`datepicker:${e.id}:prev:${t}`,gn=(e,t)=>e.ids?.nextTrigger?.(t)??`datepicker:${e.id}:next:${t}`,hn=(e,t)=>e.ids?.viewTrigger?.(t)??`datepicker:${e.id}:view:${t}`,lr=e=>e.ids?.clearTrigger??`datepicker:${e.id}:clear`,dr=e=>e.ids?.control??`datepicker:${e.id}:control`,or=(e,t)=>e.ids?.input?.(t)??`datepicker:${e.id}:input:${t}`,ur=e=>e.ids?.trigger??`datepicker:${e.id}:trigger`,fr=e=>e.ids?.positioner??`datepicker:${e.id}:positioner`,gr=e=>e.ids?.monthSelect??`datepicker:${e.id}:month-select`,hr=e=>e.ids?.yearSelect??`datepicker:${e.id}:year-select`,sr=(e,t)=>ua(ze(e),`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`),ir=e=>e.getById(ur(e)),ze=e=>e.getById(jt(e)),Ie=e=>da(pr(e),"[data-part=input]"),pn=e=>e.getById(hr(e)),mn=e=>e.getById(gr(e)),$n=e=>e.getById(lr(e)),yn=e=>e.getById(fr(e)),pr=e=>e.getById(dr(e));function Kt(e){let[t,a]=e,r;return!t||!a?r=e:r=t.compare(a)<=0?e:[a,t],r}function ye(e,t){let[a,r]=t;return!a||!r?!1:a.compare(e)<=0&&r.compare(e)>=0}function Je(e){return e.slice().filter(t=>t!=null).sort((t,a)=>t.compare(a))}function vn(e){return De(e,{year:"calendar decade",month:"calendar year",day:"calendar month"})}var bn={day:"dd",month:"mm",year:"yyyy"};function wn(e){return new I(e).formatToParts(new Date).map(t=>bn[t.type]??t.value).join("")}var mr=(e,t)=>e?/\d/.test(e)||e===t||e.length!==1:!0,cr=e=>!Number.isNaN(e.day)&&!Number.isNaN(e.month)&&!Number.isNaN(e.year),Tn=(e,t)=>e.split("").filter(a=>mr(a,t)).join("");function Dn(e){let r=new Intl.DateTimeFormat(e).formatToParts(new Date).find(n=>n.type==="literal");return r?r.value:"/"}var xn={dayCell(e){return e.unavailable?`Not available. ${e.formattedDate}`:e.selected?`Selected date. ${e.formattedDate}`:`Choose ${e.formattedDate}`},trigger(e){return e?"Close calendar":"Open calendar"},viewTrigger(e){return De(e,{year:"Switch to month view",month:"Switch to day view",day:"Switch to year view"})},presetTrigger(e){let[t="",a=""]=e;return`select ${t} to ${a}`},prevTrigger(e){return De(e,{year:"Switch to previous decade",month:"Switch to previous year",day:"Switch to previous month"})},nextTrigger(e){return De(e,{year:"Switch to next decade",month:"Switch to next year",day:"Switch to next month"})},placeholder(){return{day:"dd",month:"mm",year:"yyyy"}},content:"calendar",monthSelect:"Select month",yearSelect:"Select year",clearTrigger:"Clear selected dates"};function ee(e,t){return e?e==="day"?0:e==="month"?1:2:t||0}function Jt(e){return e===0?"day":e===1?"month":"year"}function Qt(e,t,a){return Jt(fa(ee(e,0),ee(t,0),ee(a,2)))}function En(e,t){return ee(e,0)>ee(t,0)}function Sn(e,t){return ee(e,0)<ee(t,0)}function Cn(e,t,a){let r=ee(e,0)+1;return Qt(Jt(r),t,a)}function Vn(e,t,a){let r=ee(e,0)-1;return Qt(Jt(r),t,a)}var Pn=["day","month","year"];function Mn(e){Pn.forEach(t=>e(t))}var In=ga(e=>[e.view,e.startValue.toString(),e.endValue.toString(),e.locale],([e],t)=>{let{startValue:a,endValue:r,locale:n,timeZone:o,selectionMode:s}=t;if(e==="year"){let f=de(a.year,{strict:!0}),m=f.at(0).toString(),$=f.at(-1).toString();return{start:m,end:$,formatted:`${m} - ${$}`}}if(e==="month"){let f=new I(n,{year:"numeric",timeZone:o}),m=f.format(a.toDate(o)),$=f.format(r.toDate(o)),v=s==="range"?`${m} - ${$}`:m;return{start:m,end:$,formatted:v}}let i=new I(n,{month:"long",year:"numeric",timeZone:o}),u=i.format(a.toDate(o)),p=i.format(r.toDate(o)),h=s==="range"?`${u} - ${p}`:u;return{start:u,end:p,formatted:h}});function $r(e,t){let{state:a,context:r,prop:n,send:o,computed:s,scope:i}=e,u=r.get("startValue"),p=s("endValue"),h=r.get("value"),f=r.get("focusedValue"),m=r.get("hoveredValue"),$=m?Kt([h[0],m]):[],v=!!n("disabled"),S=!!n("readOnly"),N=!!n("invalid"),ve=s("isInteractive"),Oe=h.length===0,F=n("min"),H=n("max"),P=n("locale"),x=n("timeZone"),at=n("startOfWeek"),br=a.matches("focused"),te=a.matches("open"),J=n("selectionMode")==="range",Xt=n("isDateUnavailable"),rt=r.get("currentPlacement"),wr=va({...n("positioning"),placement:rt}),zt=Dn(P),G={...xn,...n("translations")};function nt(l=u){let c=n("fixedWeeks")?6:void 0;return Qa(l,P,c,at)}function ea(l={}){let{format:c}=l;return za(P,c).map((d,g)=>{let T=g+1,R=f.set({month:T}),V=Z(R,F,H);return{label:d,value:T,disabled:V}})}function Tr(){return er({from:F?.year??1900,to:H?.year??2100}).map(c=>({label:c.toString(),value:c,disabled:!Ae(c,F?.year,H?.year)}))}function ot(l){return Ht(l,Xt,P,F,H)}function ta(l){let c=u??ue(x);o({type:"FOCUS.SET",value:c.set({month:l})})}function aa(l){let c=u??ue(x);o({type:"FOCUS.SET",value:c.set({year:l})})}function ke(l){let{value:c,disabled:d}=l,g=f.set({year:c}),R=!de(u.year,{strict:!0}).includes(c),V=Ae(c,F?.year,H?.year),j={focused:f.year===l.value,selectable:R||V,outsideRange:R,selected:!!h.find(be=>be&&be.year===c),valueText:c.toString(),inRange:J&&(ye(g,h)||ye(g,$)),value:g,get disabled(){return d||!j.selectable}};return j}function Re(l){let{value:c,disabled:d}=l,g=f.set({month:c}),T=Wt(P,x),R={focused:f.month===l.value,selectable:!Z(g,F,H),selected:!!h.find(V=>V&&V.month===c&&V.year===f.year),valueText:T.format(g.toDate(x)),inRange:J&&(ye(g,h)||ye(g,$)),value:g,get disabled(){return d||!R.selectable}};return R}function st(l){let{value:c,disabled:d,visibleRange:g=s("visibleRange")}=l,T=Bt(P,x),R=je(s("visibleDuration")),V=n("outsideDaySelectable"),j=g.start.add(R).subtract({days:1}),be=Z(c,g.start,j),xr=J&&ye(c,h),Er=J&&k(c,h[0]),Sr=J&&k(c,h[1]),it=J&&$.length>0,ra=it&&ye(c,$),Cr=it&&k(c,$[0]),Vr=it&&k(c,$[1]),we={invalid:Z(c,F,H),disabled:d||!V&&be||Z(c,F,H),selected:h.some(Pr=>k(c,Pr)),unavailable:Ht(c,Xt,P,F,H)&&!d,outsideRange:be,today:ht(c,x),weekend:vt(c,P),formattedDate:T.format(c.toDate(x)),get focused(){return k(c,f)&&(!we.outsideRange||V)},get ariaLabel(){return G.dayCell(we)},get selectable(){return!we.disabled&&!we.unavailable},inRange:xr||ra,firstInRange:Er,lastInRange:Sr,inHoveredRange:ra,firstInHoveredRange:Cr,lastInHoveredRange:Vr};return we}function Dr(l){let{view:c="day",id:d}=l;return[c,d].filter(Boolean).join(" ")}return{focused:br,open:te,disabled:v,invalid:N,readOnly:S,inline:!!n("inline"),numOfMonths:n("numOfMonths"),selectionMode:n("selectionMode"),view:r.get("view"),getRangePresetValue(l){return Zt(l,P,x)},getDaysInWeek(l,c=u){return _t(l,c,P,at)},getOffset(l){let c=u.add(l),d=p.add(l),g=Wt(P,x);return{visibleRange:{start:c,end:d},weeks:nt(c),visibleRangeText:{start:g.format(c.toDate(x)),end:g.format(d.toDate(x))}}},getMonthWeeks:nt,isUnavailable:ot,weeks:nt(),weekDays:Xa(ue(x),at,x,P),visibleRangeText:s("visibleRangeText"),value:h,valueAsDate:h.filter(l=>l!=null).map(l=>l.toDate(x)),valueAsString:s("valueAsString"),focusedValue:f,focusedValueAsDate:f?.toDate(x),focusedValueAsString:n("format")(f,{locale:P,timeZone:x}),visibleRange:s("visibleRange"),selectToday(){let l=_(ue(x),F,H);o({type:"VALUE.SET",value:l})},setValue(l){let c=l.map(d=>_(d,F,H));o({type:"VALUE.SET",value:c})},clearValue(){o({type:"VALUE.CLEAR"})},setFocusedValue(l){o({type:"FOCUS.SET",value:l})},setOpen(l){n("inline")||a.matches("open")===l||o({type:l?"OPEN":"CLOSE"})},focusMonth:ta,focusYear:aa,getYears:Tr,getMonths:ea,getYearsGrid(l={}){let{columns:c=1}=l,d=de(u.year,{strict:!0}).map(g=>({label:g.toString(),value:g,disabled:!Ae(g,F?.year,H?.year)}));return ct(d,c)},getDecade(){let l=de(u.year,{strict:!0});return{start:l.at(0),end:l.at(-1)}},getMonthsGrid(l={}){let{columns:c=1,format:d}=l;return ct(ea({format:d}),c)},format(l,c={month:"long",year:"numeric"}){return new I(P,c).format(l.toDate(x))},setView(l){o({type:"VIEW.SET",view:l})},goToNext(){o({type:"GOTO.NEXT",view:r.get("view")})},goToPrev(){o({type:"GOTO.PREV",view:r.get("view")})},getRootProps(){return t.element({...w.root.attrs,dir:n("dir"),id:dn(i),"data-state":te?"open":"closed","data-disabled":y(v),"data-readonly":y(S),"data-empty":y(Oe)})},getLabelProps(l={}){let{index:c=0}=l;return t.label({...w.label.attrs,id:ln(i,c),dir:n("dir"),htmlFor:or(i,c),"data-state":te?"open":"closed","data-index":c,"data-disabled":y(v),"data-readonly":y(S)})},getControlProps(){return t.element({...w.control.attrs,dir:n("dir"),id:dr(i),"data-disabled":y(v),"data-placeholder-shown":y(Oe)})},getRangeTextProps(){return t.element({...w.rangeText.attrs,dir:n("dir")})},getContentProps(){return t.element({...w.content.attrs,hidden:!te,dir:n("dir"),"data-state":te?"open":"closed","data-placement":rt,"data-inline":y(n("inline")),id:jt(i),tabIndex:-1,role:"application","aria-roledescription":"datepicker","aria-label":G.content})},getTableProps(l={}){let{view:c="day",columns:d=c==="day"?7:4}=l,g=Dr(l);return t.element({...w.table.attrs,role:"grid","data-columns":d,"aria-roledescription":vn(c),id:un(i,g),"aria-readonly":M(S),"aria-disabled":M(v),"aria-multiselectable":M(n("selectionMode")!=="single"),"data-view":c,dir:n("dir"),tabIndex:-1,onKeyDown(T){if(T.defaultPrevented)return;let V={Enter(){c==="day"&&ot(f)||c==="month"&&!Re({value:f.month}).selectable||c==="year"&&!ke({value:f.year}).selectable||o({type:"TABLE.ENTER",view:c,columns:d,focus:!0})},ArrowLeft(){o({type:"TABLE.ARROW_LEFT",view:c,columns:d,focus:!0})},ArrowRight(){o({type:"TABLE.ARROW_RIGHT",view:c,columns:d,focus:!0})},ArrowUp(){o({type:"TABLE.ARROW_UP",view:c,columns:d,focus:!0})},ArrowDown(){o({type:"TABLE.ARROW_DOWN",view:c,columns:d,focus:!0})},PageUp(j){o({type:"TABLE.PAGE_UP",larger:j.shiftKey,view:c,columns:d,focus:!0})},PageDown(j){o({type:"TABLE.PAGE_DOWN",larger:j.shiftKey,view:c,columns:d,focus:!0})},Home(){o({type:"TABLE.HOME",view:c,columns:d,focus:!0})},End(){o({type:"TABLE.END",view:c,columns:d,focus:!0})}}[sa(T,{dir:n("dir")})];V&&(V(T),T.preventDefault(),T.stopPropagation())},onPointerLeave(){o({type:"TABLE.POINTER_LEAVE"})},onPointerDown(){o({type:"TABLE.POINTER_DOWN",view:c})},onPointerUp(){o({type:"TABLE.POINTER_UP",view:c})}})},getTableHeadProps(l={}){let{view:c="day"}=l;return t.element({...w.tableHead.attrs,"aria-hidden":!0,dir:n("dir"),"data-view":c,"data-disabled":y(v)})},getTableHeaderProps(l={}){let{view:c="day"}=l;return t.element({...w.tableHeader.attrs,dir:n("dir"),"data-view":c,"data-disabled":y(v)})},getTableBodyProps(l={}){let{view:c="day"}=l;return t.element({...w.tableBody.attrs,"data-view":c,"data-disabled":y(v)})},getTableRowProps(l={}){let{view:c="day"}=l;return t.element({...w.tableRow.attrs,"aria-disabled":M(v),"data-disabled":y(v),"data-view":c})},getDayTableCellState:st,getDayTableCellProps(l){let{value:c}=l,d=st(l);return t.element({...w.tableCell.attrs,role:"gridcell","aria-disabled":M(!d.selectable),"aria-selected":d.selected||d.inRange,"aria-invalid":M(d.invalid),"aria-current":d.today?"date":void 0,"data-value":c.toString()})},getDayTableCellTriggerProps(l){let{value:c}=l,d=st(l);return t.element({...w.tableCellTrigger.attrs,id:Gt(i,c.toString()),role:"button",dir:n("dir"),tabIndex:d.focused?0:-1,"aria-label":d.ariaLabel,"aria-disabled":M(!d.selectable),"aria-invalid":M(d.invalid),"data-disabled":y(!d.selectable),"data-selected":y(d.selected),"data-value":c.toString(),"data-view":"day","data-today":y(d.today),"data-focus":y(d.focused),"data-unavailable":y(d.unavailable),"data-range-start":y(d.firstInRange),"data-range-end":y(d.lastInRange),"data-in-range":y(d.inRange),"data-outside-range":y(d.outsideRange),"data-weekend":y(d.weekend),"data-in-hover-range":y(d.inHoveredRange),"data-hover-range-start":y(d.firstInHoveredRange),"data-hover-range-end":y(d.lastInHoveredRange),onClick(g){g.defaultPrevented||d.selectable&&o({type:"CELL.CLICK",cell:"day",value:c})},onPointerMove:J?g=>{if(g.pointerType==="touch"||!d.selectable)return;let T=!i.isActiveElement(g.currentTarget);m&&ut(c,m)||o({type:"CELL.POINTER_MOVE",cell:"day",value:c,focus:T})}:void 0})},getMonthTableCellState:Re,getMonthTableCellProps(l){let{value:c,columns:d}=l,g=Re(l);return t.element({...w.tableCell.attrs,dir:n("dir"),colSpan:d,role:"gridcell","aria-selected":M(g.selected||g.inRange),"data-selected":y(g.selected),"aria-disabled":M(!g.selectable),"data-value":c})},getMonthTableCellTriggerProps(l){let{value:c}=l,d=Re(l);return t.element({...w.tableCellTrigger.attrs,dir:n("dir"),role:"button",id:Gt(i,c.toString()),"data-selected":y(d.selected),"aria-disabled":M(!d.selectable),"data-disabled":y(!d.selectable),"data-focus":y(d.focused),"data-in-range":y(d.inRange),"data-outside-range":y(d.outsideRange),"aria-label":d.valueText,"data-view":"month","data-value":c,tabIndex:d.focused?0:-1,onClick(g){g.defaultPrevented||d.selectable&&o({type:"CELL.CLICK",cell:"month",value:c})},onPointerMove:J?g=>{if(g.pointerType==="touch"||!d.selectable)return;let T=!i.isActiveElement(g.currentTarget);m&&d.value&&ft(d.value,m)||o({type:"CELL.POINTER_MOVE",cell:"month",value:d.value,focus:T})}:void 0})},getYearTableCellState:ke,getYearTableCellProps(l){let{value:c,columns:d}=l,g=ke(l);return t.element({...w.tableCell.attrs,dir:n("dir"),colSpan:d,role:"gridcell","aria-selected":M(g.selected),"data-selected":y(g.selected),"aria-disabled":M(!g.selectable),"data-value":c})},getYearTableCellTriggerProps(l){let{value:c}=l,d=ke(l);return t.element({...w.tableCellTrigger.attrs,dir:n("dir"),role:"button",id:Gt(i,c.toString()),"data-selected":y(d.selected),"data-focus":y(d.focused),"data-in-range":y(d.inRange),"aria-disabled":M(!d.selectable),"data-disabled":y(!d.selectable),"aria-label":d.valueText,"data-outside-range":y(d.outsideRange),"data-value":c,"data-view":"year",tabIndex:d.focused?0:-1,onClick(g){g.defaultPrevented||d.selectable&&o({type:"CELL.CLICK",cell:"year",value:c})},onPointerMove:J?g=>{if(g.pointerType==="touch"||!d.selectable)return;let T=!i.isActiveElement(g.currentTarget);m&&d.value&&gt(d.value,m)||o({type:"CELL.POINTER_MOVE",cell:"year",value:d.value,focus:T})}:void 0})},getNextTriggerProps(l={}){let{view:c="day"}=l,d=v||!s("isNextVisibleRangeValid");return t.button({...w.nextTrigger.attrs,dir:n("dir"),id:gn(i,c),type:"button","aria-label":G.nextTrigger(c),disabled:d,"data-disabled":y(d),onClick(g){g.defaultPrevented||o({type:"GOTO.NEXT",view:c})}})},getPrevTriggerProps(l={}){let{view:c="day"}=l,d=v||!s("isPrevVisibleRangeValid");return t.button({...w.prevTrigger.attrs,dir:n("dir"),id:fn(i,c),type:"button","aria-label":G.prevTrigger(c),disabled:d,"data-disabled":y(d),onClick(g){g.defaultPrevented||o({type:"GOTO.PREV",view:c})}})},getClearTriggerProps(){return t.button({...w.clearTrigger.attrs,id:lr(i),dir:n("dir"),type:"button","aria-label":G.clearTrigger,hidden:!h.length,onClick(l){l.defaultPrevented||o({type:"VALUE.CLEAR"})}})},getTriggerProps(){return t.button({...w.trigger.attrs,id:ur(i),dir:n("dir"),type:"button","data-placement":rt,"aria-label":G.trigger(te),"aria-controls":jt(i),"data-state":te?"open":"closed","data-placeholder-shown":y(Oe),"aria-haspopup":"grid",disabled:v,onClick(l){l.defaultPrevented||ve&&o({type:"TRIGGER.CLICK"})}})},getViewProps(l={}){let{view:c="day"}=l;return t.element({...w.view.attrs,"data-view":c,hidden:r.get("view")!==c})},getViewTriggerProps(l={}){let{view:c="day"}=l;return t.button({...w.viewTrigger.attrs,"data-view":c,dir:n("dir"),id:hn(i,c),type:"button",disabled:v,"aria-label":G.viewTrigger(c),onClick(d){d.defaultPrevented||ve&&o({type:"VIEW.TOGGLE",src:"viewTrigger"})}})},getViewControlProps(l={}){let{view:c="day"}=l;return t.element({...w.viewControl.attrs,"data-view":c,dir:n("dir")})},getInputProps(l={}){let{index:c=0,fixOnBlur:d=!0}=l;return t.input({...w.input.attrs,id:or(i,c),autoComplete:"off",autoCorrect:"off",spellCheck:"false",dir:n("dir"),name:n("name"),"data-index":c,"data-state":te?"open":"closed","data-placeholder-shown":y(Oe),readOnly:S,disabled:v,required:n("required"),"aria-invalid":M(N),"data-invalid":y(N),placeholder:n("placeholder")||wn(P),defaultValue:s("valueAsString")[c],onBeforeInput(g){let{data:T}=ia(g);mr(T,zt)||g.preventDefault()},onFocus(){o({type:"INPUT.FOCUS",index:c})},onBlur(g){let T=g.currentTarget.value.trim();o({type:"INPUT.BLUR",value:T,index:c,fixOnBlur:d})},onKeyDown(g){if(g.defaultPrevented||!ve)return;let R={Enter(V){oa(V)||ot(f)||V.currentTarget.value.trim()!==""&&o({type:"INPUT.ENTER",value:V.currentTarget.value,index:c})}}[g.key];R&&(R(g),g.preventDefault())},onInput(g){let T=g.currentTarget.value;o({type:"INPUT.CHANGE",value:Tn(T,zt),index:c})}})},getMonthSelectProps(){return t.select({...w.monthSelect.attrs,id:gr(i),"aria-label":G.monthSelect,disabled:v,dir:n("dir"),defaultValue:u.month,onChange(l){ta(Number(l.currentTarget.value))}})},getYearSelectProps(){return t.select({...w.yearSelect.attrs,id:hr(i),disabled:v,"aria-label":G.yearSelect,dir:n("dir"),defaultValue:u.year,onChange(l){aa(Number(l.currentTarget.value))}})},getPositionerProps(){return t.element({id:fr(i),...w.positioner.attrs,dir:n("dir"),style:wr.floating})},getPresetTriggerProps(l){let c=Array.isArray(l.value)?l.value:Zt(l.value,P,x),d=c.filter(g=>g!=null).map(g=>g.toDate(x).toDateString());return t.button({...w.presetTrigger.attrs,"aria-label":G.presetTrigger(d),type:"button",onClick(g){g.defaultPrevented||o({type:"PRESET.CLICK",value:c})}})}}}var{and:q}=ha();function On(e,t){if(e?.length!==t?.length)return!1;let a=Math.max(e.length,t.length);for(let r=0;r<a;r++)if(!k(e[r],t[r]))return!1;return!0}function Qe(e,t){return e.map(a=>a==null?"":t("format")(a,{locale:t("locale"),timeZone:t("timeZone")}))}var yr={props({props:e}){let t=e.locale||"en-US",a=e.timeZone||"UTC",r=e.selectionMode||"single",n=e.numOfMonths||1,o=e.defaultValue?Je(e.defaultValue).map(f=>_(f,e.min,e.max)):void 0,s=e.value?Je(e.value).map(f=>_(f,e.min,e.max)):void 0,i=e.focusedValue||e.defaultFocusedValue||s?.[0]||o?.[0]||ue(a);i=_(i,e.min,e.max);let u="day",p="year",h=Qt(e.view||u,u,p);return{locale:t,numOfMonths:n,timeZone:a,selectionMode:r,defaultView:h,minView:u,maxView:p,outsideDaySelectable:!1,closeOnSelect:!0,format(f,{locale:m,timeZone:$}){return new I(m,{timeZone:$,day:"2-digit",month:"2-digit",year:"numeric"}).format(f.toDate($))},parse(f,{locale:m,timeZone:$}){return rr(f,m,$)},...e,focusedValue:typeof e.focusedValue>"u"?void 0:i,defaultFocusedValue:i,value:s,defaultValue:o??[],positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},refs(){return{announcer:void 0}},context({prop:e,bindable:t,getContext:a}){return{focusedValue:t(()=>({defaultValue:e("defaultFocusedValue"),value:e("focusedValue"),isEqual:k,hash:r=>r.toString(),sync:!0,onChange(r){let n=a(),o=n.get("view"),s=n.get("value"),i=Qe(s,e);e("onFocusChange")?.({value:s,valueAsString:i,view:o,focusedValue:r})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:On,hash:r=>r.map(n=>n?.toString()??"").join(","),onChange(r){let n=a(),o=Qe(r,e);e("onValueChange")?.({value:r,valueAsString:o,view:n.get("view")})}})),inputValue:t(()=>({defaultValue:""})),activeIndex:t(()=>({defaultValue:0,sync:!0})),hoveredValue:t(()=>({defaultValue:null,isEqual:k})),view:t(()=>({defaultValue:e("defaultView"),value:e("view"),onChange(r){e("onViewChange")?.({view:r})}})),startValue:t(()=>{let r=e("focusedValue")||e("defaultFocusedValue");return{defaultValue:Ft(r,"start",{months:e("numOfMonths")},e("locale")),isEqual:k,hash:n=>n.toString()}}),currentPlacement:t(()=>({defaultValue:void 0})),restoreFocus:t(()=>({defaultValue:!1}))}},computed:{isInteractive:({prop:e})=>!e("disabled")&&!e("readOnly"),visibleDuration:({prop:e})=>({months:e("numOfMonths")}),endValue:({context:e,computed:t})=>Yt(e.get("startValue"),t("visibleDuration")),visibleRange:({context:e,computed:t})=>({start:e.get("startValue"),end:t("endValue")}),visibleRangeText:({context:e,prop:t,computed:a})=>In({view:e.get("view"),startValue:e.get("startValue"),endValue:a("endValue"),locale:t("locale"),timeZone:t("timeZone"),selectionMode:t("selectionMode")}),isPrevVisibleRangeValid:({context:e,prop:t})=>!Za(e.get("startValue"),t("min"),t("max")),isNextVisibleRangeValid:({prop:e,computed:t})=>!Ga(t("endValue"),e("min"),e("max")),valueAsString:({context:e,prop:t})=>Qe(e.get("value"),t)},effects:["setupLiveRegion"],watch({track:e,prop:t,context:a,action:r,computed:n}){e([()=>t("locale")],()=>{r(["setStartValue","syncInputElement"])}),e([()=>a.hash("focusedValue")],()=>{r(["setStartValue","focusActiveCellIfNeeded","setHoveredValueIfKeyboard"])}),e([()=>a.hash("startValue")],()=>{r(["syncMonthSelectElement","syncYearSelectElement","invokeOnVisibleRangeChange"])}),e([()=>a.get("inputValue")],()=>{r(["syncInputValue"])}),e([()=>a.hash("value")],()=>{r(["syncInputElement"])}),e([()=>n("valueAsString").toString()],()=>{r(["announceValueText"])}),e([()=>a.get("view")],()=>{r(["focusActiveCell"])}),e([()=>t("open")],()=>{r(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setDateValue","setFocusedDate"]},"VIEW.SET":{actions:["setView"]},"FOCUS.SET":{actions:["setFocusedDate"]},"VALUE.CLEAR":{actions:["clearDateValue","clearFocusedDate","focusFirstInputElement"]},"INPUT.CHANGE":[{guard:"isInputValueEmpty",actions:["setInputValue","clearDateValue","clearFocusedDate"]},{actions:["setInputValue","focusParsedDate"]}],"INPUT.ENTER":{actions:["focusParsedDate","selectFocusedDate"]},"INPUT.FOCUS":{actions:["setActiveIndex"]},"INPUT.BLUR":[{guard:"shouldFixOnBlur",actions:["setActiveIndexToStart","selectParsedDate"]},{actions:["setActiveIndexToStart"]}],"PRESET.CLICK":[{guard:"isOpenControlled",actions:["setDateValue","setFocusedDate","invokeOnClose"]},{target:"focused",actions:["setDateValue","setFocusedDate","focusInputElement"]}],"GOTO.NEXT":[{guard:"isYearView",actions:["focusNextDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusNextYear","announceVisibleRange"]},{actions:["focusNextPage"]}],"GOTO.PREV":[{guard:"isYearView",actions:["focusPreviousDecade","announceVisibleRange"]},{guard:"isMonthView",actions:["focusPreviousYear","announceVisibleRange"]},{actions:["focusPreviousPage"]}]},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["focusFirstSelectedDate","focusActiveCell"]},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["focusFirstSelectedDate","focusActiveCell","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackDismissableElement","trackPositioning"],exit:["clearHoveredDate","resetView"],on:{"CONTROLLED.CLOSE":[{guard:q("shouldRestoreFocus","isInteractOutsideEvent"),target:"focused",actions:["focusTriggerElement"]},{guard:"shouldRestoreFocus",target:"focused",actions:["focusInputElement"]},{target:"idle"}],"CELL.CLICK":[{guard:"isAboveMinView",actions:["setFocusedValueForView","setPreviousView"]},{guard:q("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","resetSelection","setActiveIndexToEnd"]},{guard:q("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","setRestoreFocus"]},{guard:q("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:q("isRangePicker","isSelectingEndDate"),actions:["setFocusedDate","setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setFocusedDate","setSelectedDate","setActiveIndexToEnd"]},{guard:"isMultiPicker",actions:["setFocusedDate","toggleSelectedDate"]},{guard:q("closeOnSelect","isOpenControlled"),actions:["setFocusedDate","setSelectedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setFocusedDate","setSelectedDate","invokeOnClose","focusInputElement"]},{actions:["setFocusedDate","setSelectedDate"]}],"CELL.POINTER_MOVE":{guard:q("isRangePicker","isSelectingEndDate"),actions:["setHoveredDate","setFocusedDate"]},"TABLE.POINTER_LEAVE":{guard:"isRangePicker",actions:["clearHoveredDate"]},"TABLE.POINTER_DOWN":{actions:["disableTextSelection"]},"TABLE.POINTER_UP":{actions:["enableTextSelection"]},"TABLE.ESCAPE":[{guard:"isOpenControlled",actions:["focusFirstSelectedDate","invokeOnClose"]},{target:"focused",actions:["focusFirstSelectedDate","invokeOnClose","focusTriggerElement"]}],"TABLE.ENTER":[{guard:"isAboveMinView",actions:["setPreviousView"]},{guard:q("isRangePicker","hasSelectedRange"),actions:["setActiveIndexToStart","clearDateValue","setSelectedDate","setActiveIndexToEnd"]},{guard:q("isRangePicker","isSelectingEndDate","closeOnSelect","isOpenControlled"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose"]},{guard:q("isRangePicker","isSelectingEndDate","closeOnSelect"),target:"focused",actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate","invokeOnClose","focusInputElement"]},{guard:q("isRangePicker","isSelectingEndDate"),actions:["setSelectedDate","setActiveIndexToStart","clearHoveredDate"]},{guard:"isRangePicker",actions:["setSelectedDate","setActiveIndexToEnd","focusNextDay"]},{guard:"isMultiPicker",actions:["toggleSelectedDate"]},{guard:q("closeOnSelect","isOpenControlled"),actions:["selectFocusedDate","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectFocusedDate","invokeOnClose","focusInputElement"]},{actions:["selectFocusedDate"]}],"TABLE.ARROW_RIGHT":[{guard:"isMonthView",actions:["focusNextMonth"]},{guard:"isYearView",actions:["focusNextYear"]},{actions:["focusNextDay","setHoveredDate"]}],"TABLE.ARROW_LEFT":[{guard:"isMonthView",actions:["focusPreviousMonth"]},{guard:"isYearView",actions:["focusPreviousYear"]},{actions:["focusPreviousDay"]}],"TABLE.ARROW_UP":[{guard:"isMonthView",actions:["focusPreviousMonthColumn"]},{guard:"isYearView",actions:["focusPreviousYearColumn"]},{actions:["focusPreviousWeek"]}],"TABLE.ARROW_DOWN":[{guard:"isMonthView",actions:["focusNextMonthColumn"]},{guard:"isYearView",actions:["focusNextYearColumn"]},{actions:["focusNextWeek"]}],"TABLE.PAGE_UP":{actions:["focusPreviousSection"]},"TABLE.PAGE_DOWN":{actions:["focusNextSection"]},"TABLE.HOME":[{guard:"isMonthView",actions:["focusFirstMonth"]},{guard:"isYearView",actions:["focusFirstYear"]},{actions:["focusSectionStart"]}],"TABLE.END":[{guard:"isMonthView",actions:["focusLastMonth"]},{guard:"isYearView",actions:["focusLastYear"]},{actions:["focusSectionEnd"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"VIEW.TOGGLE":{actions:["setNextView"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["setActiveIndexToStart","invokeOnClose","focusTriggerElement"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["setActiveIndexToStart","invokeOnClose"]},{target:"idle",actions:["setActiveIndexToStart","invokeOnClose"]}]}}},implementations:{guards:{isAboveMinView:({context:e,prop:t})=>En(e.get("view"),t("minView")),isDayView:({context:e,event:t})=>(t.view||e.get("view"))==="day",isMonthView:({context:e,event:t})=>(t.view||e.get("view"))==="month",isYearView:({context:e,event:t})=>(t.view||e.get("view"))==="year",isRangePicker:({prop:e})=>e("selectionMode")==="range",hasSelectedRange:({context:e})=>e.get("value").length===2,isMultiPicker:({prop:e})=>e("selectionMode")==="multiple",shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus"),isSelectingEndDate:({context:e})=>e.get("activeIndex")===1,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),isInteractOutsideEvent:({event:e})=>e.previousEvent?.type==="INTERACT_OUTSIDE",isInputValueEmpty:({event:e})=>e.value.trim()==="",shouldFixOnBlur:({event:e})=>!!e.fixOnBlur},effects:{trackPositioning({context:e,prop:t,scope:a}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);let r=pr(a);return ya(r,()=>yn(a),{...t("positioning"),defer:!0,onComplete(o){e.set("currentPlacement",o.placement)}})},setupLiveRegion({scope:e,refs:t}){let a=e.getDoc();return t.set("announcer",nr({level:"assertive",document:a})),()=>t.get("announcer")?.destroy?.()},trackDismissableElement({scope:e,send:t,context:a,prop:r}){return r("inline")?void 0:ba(()=>ze(e),{type:"popover",defer:!0,exclude:[...Ie(e),ir(e),$n(e)],onInteractOutside(o){a.set("restoreFocus",!o.detail.focusable)},onDismiss(){t({type:"INTERACT_OUTSIDE"})},onEscapeKeyDown(o){o.preventDefault(),t({type:"TABLE.ESCAPE",src:"dismissable"})}})}},actions:{setNextView({context:e,prop:t}){let a=Cn(e.get("view"),t("minView"),t("maxView"));e.set("view",a)},setPreviousView({context:e,prop:t}){let a=Vn(e.get("view"),t("minView"),t("maxView"));e.set("view",a)},setView({context:e,event:t}){e.set("view",t.view)},setRestoreFocus({context:e}){e.set("restoreFocus",!0)},announceValueText({context:e,prop:t,refs:a}){let r=e.get("value"),n=t("locale"),o=t("timeZone"),s;if(t("selectionMode")==="range"){let[i,u]=r;i&&u?s=Me(i,u,n,o):i?s=Me(i,null,n,o):u?s=Me(u,null,n,o):s=""}else s=r.map(i=>Me(i,null,n,o)).filter(Boolean).join(",");a.get("announcer")?.announce(s,3e3)},announceVisibleRange({computed:e,refs:t}){let{formatted:a}=e("visibleRangeText");t.get("announcer")?.announce(a)},disableTextSelection({scope:e}){la({target:ze(e),doc:e.getDoc()})},enableTextSelection({scope:e}){ca({doc:e.getDoc(),target:ze(e)})},focusFirstSelectedDate(e){let{context:t}=e;t.get("value").length&&D(e,t.get("value")[0])},syncInputElement({scope:e,computed:t}){re(()=>{Ie(e).forEach((r,n)=>{Te(r,t("valueAsString")[n]||"")})})},setFocusedDate(e){let{event:t}=e,a=Array.isArray(t.value)?t.value[0]:t.value;D(e,a)},setFocusedValueForView(e){let{context:t,event:a}=e;D(e,t.get("focusedValue").set({[t.get("view")]:a.value}))},focusNextMonth(e){let{context:t}=e;D(e,t.get("focusedValue").add({months:1}))},focusPreviousMonth(e){let{context:t}=e;D(e,t.get("focusedValue").subtract({months:1}))},setDateValue({context:e,event:t,prop:a}){if(!Array.isArray(t.value))return;let r=t.value.map(n=>_(n,a("min"),a("max")));e.set("value",r)},clearDateValue({context:e}){e.set("value",[])},setSelectedDate(e){let{context:t,event:a}=e,r=Array.from(t.get("value"));r[t.get("activeIndex")]=et(e,a.value??t.get("focusedValue")),t.set("value",Kt(r))},resetSelection(e){let{context:t,event:a}=e,r=et(e,a.value??t.get("focusedValue"));t.set("value",[r])},toggleSelectedDate(e){let{context:t,event:a}=e,r=et(e,a.value??t.get("focusedValue")),n=t.get("value").findIndex(o=>k(o,r));if(n===-1){let o=[...t.get("value"),r];t.set("value",Je(o))}else{let o=Array.from(t.get("value"));o.splice(n,1),t.set("value",Je(o))}},setHoveredDate({context:e,event:t}){e.set("hoveredValue",t.value)},clearHoveredDate({context:e}){e.set("hoveredValue",null)},selectFocusedDate({context:e,computed:t}){let a=Array.from(e.get("value")),r=e.get("activeIndex");a[r]=e.get("focusedValue").copy(),e.set("value",Kt(a));let n=t("valueAsString");e.set("inputValue",n[r])},focusPreviousDay(e){let{context:t}=e,a=t.get("focusedValue").subtract({days:1});D(e,a)},focusNextDay(e){let{context:t}=e,a=t.get("focusedValue").add({days:1});D(e,a)},focusPreviousWeek(e){let{context:t}=e,a=t.get("focusedValue").subtract({weeks:1});D(e,a)},focusNextWeek(e){let{context:t}=e,a=t.get("focusedValue").add({weeks:1});D(e,a)},focusNextPage(e){let{context:t,computed:a,prop:r}=e,n=qt(t.get("focusedValue"),t.get("startValue"),a("visibleDuration"),r("locale"),r("min"),r("max"));Xe(e,n)},focusPreviousPage(e){let{context:t,computed:a,prop:r}=e,n=Ut(t.get("focusedValue"),t.get("startValue"),a("visibleDuration"),r("locale"),r("min"),r("max"));Xe(e,n)},focusSectionStart(e){let{context:t}=e;D(e,t.get("startValue").copy())},focusSectionEnd(e){let{computed:t}=e;D(e,t("endValue").copy())},focusNextSection(e){let{context:t,event:a,computed:r,prop:n}=e,o=tr(t.get("focusedValue"),t.get("startValue"),a.larger,r("visibleDuration"),n("locale"),n("min"),n("max"));o&&Xe(e,o)},focusPreviousSection(e){let{context:t,event:a,computed:r,prop:n}=e,o=ar(t.get("focusedValue"),t.get("startValue"),a.larger,r("visibleDuration"),n("locale"),n("min"),n("max"));o&&Xe(e,o)},focusNextYear(e){let{context:t}=e,a=t.get("focusedValue").add({years:1});D(e,a)},focusPreviousYear(e){let{context:t}=e,a=t.get("focusedValue").subtract({years:1});D(e,a)},focusNextDecade(e){let{context:t}=e,a=t.get("focusedValue").add({years:10});D(e,a)},focusPreviousDecade(e){let{context:t}=e,a=t.get("focusedValue").subtract({years:10});D(e,a)},clearFocusedDate(e){let{prop:t}=e;D(e,ue(t("timeZone")))},focusPreviousMonthColumn(e){let{context:t,event:a}=e,r=t.get("focusedValue").subtract({months:a.columns});D(e,r)},focusNextMonthColumn(e){let{context:t,event:a}=e,r=t.get("focusedValue").add({months:a.columns});D(e,r)},focusPreviousYearColumn(e){let{context:t,event:a}=e,r=t.get("focusedValue").subtract({years:a.columns});D(e,r)},focusNextYearColumn(e){let{context:t,event:a}=e,r=t.get("focusedValue").add({years:a.columns});D(e,r)},focusFirstMonth(e){let{context:t}=e,a=t.get("focusedValue").set({month:1});D(e,a)},focusLastMonth(e){let{context:t}=e,a=t.get("focusedValue").set({month:12});D(e,a)},focusFirstYear(e){let{context:t}=e,a=de(t.get("focusedValue").year),r=t.get("focusedValue").set({year:a[0]});D(e,r)},focusLastYear(e){let{context:t}=e,a=de(t.get("focusedValue").year),r=t.get("focusedValue").set({year:a[a.length-1]});D(e,r)},setActiveIndex({context:e,event:t}){e.set("activeIndex",t.index)},setActiveIndexToEnd({context:e}){e.set("activeIndex",1)},setActiveIndexToStart({context:e}){e.set("activeIndex",0)},focusActiveCell({scope:e,context:t}){re(()=>{let a=t.get("view");sr(e,a)?.focus({preventScroll:!0})})},focusActiveCellIfNeeded({scope:e,context:t,event:a}){a.focus&&re(()=>{let r=t.get("view");sr(e,r)?.focus({preventScroll:!0})})},setHoveredValueIfKeyboard({context:e,event:t,prop:a}){!t.type.startsWith("TABLE.ARROW")||a("selectionMode")!=="range"||e.get("activeIndex")===0||e.set("hoveredValue",e.get("focusedValue").copy())},focusTriggerElement({scope:e}){re(()=>{ir(e)?.focus({preventScroll:!0})})},focusFirstInputElement({scope:e}){re(()=>{let[t]=Ie(e);t?.focus({preventScroll:!0})})},focusInputElement({scope:e}){re(()=>{let t=Ie(e),a=t.findLastIndex(o=>o.value!==""),r=Math.max(a,0),n=t[r];n?.focus({preventScroll:!0}),n?.setSelectionRange(n.value.length,n.value.length)})},syncMonthSelectElement({scope:e,context:t}){let a=mn(e);Te(a,t.get("startValue").month.toString())},syncYearSelectElement({scope:e,context:t}){let a=pn(e);Te(a,t.get("startValue").year.toString())},setInputValue({context:e,event:t}){e.get("activeIndex")===t.index&&e.set("inputValue",t.value)},syncInputValue({scope:e,context:t,event:a}){queueMicrotask(()=>{let r=Ie(e),n=a.index??t.get("activeIndex");Te(r[n],t.get("inputValue"))})},focusParsedDate(e){let{event:t,prop:a}=e;if(t.index==null)return;let n=a("parse")(t.value,{locale:a("locale"),timeZone:a("timeZone")});!n||!cr(n)||D(e,n)},selectParsedDate({context:e,event:t,prop:a}){if(t.index==null)return;let n=a("parse")(t.value,{locale:a("locale"),timeZone:a("timeZone")});if((!n||!cr(n))&&t.value&&(n=e.get("focusedValue").copy()),!n)return;n=_(n,a("min"),a("max"));let o=Array.from(e.get("value"));o[t.index]=n,e.set("value",o);let s=Qe(o,a);e.set("inputValue",s[t.index])},resetView({context:e}){e.set("view",e.initial("view"))},setStartValue({context:e,computed:t,prop:a}){let r=e.get("focusedValue");if(!Z(r,e.get("startValue"),t("endValue")))return;let o=Ft(r,"start",{months:a("numOfMonths")},a("locale"));e.set("startValue",o)},invokeOnOpen({prop:e,context:t}){e("inline")||e("onOpenChange")?.({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){e("inline")||e("onOpenChange")?.({open:!1,value:t.get("value")})},invokeOnVisibleRangeChange({prop:e,context:t,computed:a}){e("onVisibleRangeChange")?.({view:t.get("view"),visibleRange:a("visibleRange")})},toggleVisibility({event:e,send:t,prop:a}){t({type:a("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}},et=(e,t)=>{let{context:a,prop:r}=e,n=a.get("view"),o=typeof t=="number"?a.get("focusedValue").set({[n]:t}):t;return Mn(s=>{Sn(s,r("minView"))&&(o=o.set({[s]:s==="day"?1:0}))}),o};function D(e,t){let{context:a,prop:r,computed:n}=e;if(!t)return;let o=et(e,t);if(k(a.get("focusedValue"),o))return;let i=$e(n("visibleDuration"),r("locale"),r("min"),r("max"))({focusedDate:o,startDate:a.get("startValue")});a.set("startValue",i.startDate),a.set("focusedValue",i.focusedDate)}function Xe(e,t){let{context:a}=e;a.set("startValue",t.startDate);let r=a.get("focusedValue");k(r,t.focusedDate)||a.set("focusedValue",t.focusedDate)}function L(e){return Array.isArray(e)?e.map(t=>L(t)):e instanceof Date?new O(e.getFullYear(),e.getMonth()+1,e.getDate()):Mt(e)}var kn=oe()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","parse","placeholder","getRootNode","id","ids","inline","invalid","isDateUnavailable","locale","max","min","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","onVisibleRangeChange","open","defaultOpen","positioning","readOnly","required","selectionMode","startOfWeek","timeZone","translations","value","defaultView","defaultValue","view","defaultFocusedValue","outsideDaySelectable","minView","maxView"]),rs=ne(kn),Rn=oe()(["index","fixOnBlur"]),ns=ne(Rn),An=oe()(["value"]),os=ne(An),Ln=oe()(["columns","id","view"]),ss=ne(Ln),Nn=oe()(["disabled","value","columns"]),is=ne(Nn),Fn=oe()(["view"]),cs=ne(Fn);var tt=class extends $a{initMachine(t){return new ma(yr,t)}initApi(){return $r(this.machine.service,pa)}getDayView=()=>this.el.querySelector('[data-part="day-view"]');getMonthView=()=>this.el.querySelector('[data-part="month-view"]');getYearView=()=>this.el.querySelector('[data-part="year-view"]');renderDayTableHeader=()=>{let a=this.getDayView()?.querySelector("thead");if(!a||!this.api.weekDays)return;let r=this.doc.createElement("tr");this.spreadProps(r,this.api.getTableRowProps({view:"day"})),this.api.weekDays.forEach(n=>{let o=this.doc.createElement("th");o.scope="col",o.setAttribute("aria-label",n.long),o.textContent=n.narrow,r.appendChild(o)}),a.innerHTML="",a.appendChild(r)};renderDayTableBody=()=>{let a=this.getDayView()?.querySelector("tbody");a&&(this.spreadProps(a,this.api.getTableBodyProps({view:"day"})),this.api.weeks&&(a.innerHTML="",this.api.weeks.forEach(r=>{let n=this.doc.createElement("tr");this.spreadProps(n,this.api.getTableRowProps({view:"day"})),r.forEach(o=>{let s=this.doc.createElement("td");this.spreadProps(s,this.api.getDayTableCellProps({value:o}));let i=this.doc.createElement("div");this.spreadProps(i,this.api.getDayTableCellTriggerProps({value:o})),i.textContent=String(o.day),s.appendChild(i),n.appendChild(s)}),a.appendChild(n)})))};renderMonthTableBody=()=>{let a=this.getMonthView()?.querySelector("tbody");if(!a)return;this.spreadProps(a,this.api.getTableBodyProps({view:"month"}));let r=this.api.getMonthsGrid({columns:4,format:"short"});a.innerHTML="",r.forEach(n=>{let o=this.doc.createElement("tr");this.spreadProps(o,this.api.getTableRowProps()),n.forEach(s=>{let i=this.doc.createElement("td");this.spreadProps(i,this.api.getMonthTableCellProps({...s,columns:4}));let u=this.doc.createElement("div");this.spreadProps(u,this.api.getMonthTableCellTriggerProps({...s,columns:4})),u.textContent=s.label,i.appendChild(u),o.appendChild(i)}),a.appendChild(o)})};renderYearTableBody=()=>{let a=this.getYearView()?.querySelector("tbody");if(!a)return;this.spreadProps(a,this.api.getTableBodyProps());let r=this.api.getYearsGrid({columns:4});a.innerHTML="",r.forEach(n=>{let o=this.doc.createElement("tr");this.spreadProps(o,this.api.getTableRowProps({view:"year"})),n.forEach(s=>{let i=this.doc.createElement("td");this.spreadProps(i,this.api.getYearTableCellProps({...s,columns:4}));let u=this.doc.createElement("div");this.spreadProps(u,this.api.getYearTableCellTriggerProps({...s,columns:4})),u.textContent=s.label,i.appendChild(u),o.appendChild(i)}),a.appendChild(o)})};render(){let t=this.el.querySelector('[data-scope="date-picker"][data-part="root"]');t&&this.spreadProps(t,this.api.getRootProps());let a=this.el.querySelector('[data-scope="date-picker"][data-part="label"]');a&&this.spreadProps(a,this.api.getLabelProps());let r=this.el.querySelector('[data-scope="date-picker"][data-part="control"]');r&&this.spreadProps(r,this.api.getControlProps());let n=this.el.querySelector('[data-scope="date-picker"][data-part="input"]');n&&this.spreadProps(n,this.api.getInputProps());let o=this.el.querySelector('[data-scope="date-picker"][data-part="trigger"]');o&&this.spreadProps(o,this.api.getTriggerProps());let s=this.el.querySelector('[data-scope="date-picker"][data-part="positioner"]');s&&this.spreadProps(s,this.api.getPositionerProps());let i=this.el.querySelector('[data-scope="date-picker"][data-part="content"]');if(i&&this.spreadProps(i,this.api.getContentProps()),this.api.open){let u=this.getDayView(),p=this.getMonthView(),h=this.getYearView();if(u&&(u.hidden=this.api.view!=="day"),p&&(p.hidden=this.api.view!=="month"),h&&(h.hidden=this.api.view!=="year"),this.api.view==="day"&&u){let f=u.querySelector('[data-part="view-control"]');f&&this.spreadProps(f,this.api.getViewControlProps({view:"year"}));let m=u.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps());let $=u.querySelector('[data-part="view-trigger"]');$&&(this.spreadProps($,this.api.getViewTriggerProps()),$.textContent=this.api.visibleRangeText.start);let v=u.querySelector('[data-part="next-trigger"]');v&&this.spreadProps(v,this.api.getNextTriggerProps());let S=u.querySelector("table");S&&this.spreadProps(S,this.api.getTableProps({view:"day"}));let N=u.querySelector("thead");N&&this.spreadProps(N,this.api.getTableHeaderProps({view:"day"})),this.renderDayTableHeader(),this.renderDayTableBody()}else if(this.api.view==="month"&&p){let f=p.querySelector('[data-part="view-control"]');f&&this.spreadProps(f,this.api.getViewControlProps({view:"month"}));let m=p.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps({view:"month"}));let $=p.querySelector('[data-part="view-trigger"]');$&&(this.spreadProps($,this.api.getViewTriggerProps({view:"month"})),$.textContent=String(this.api.visibleRange.start.year));let v=p.querySelector('[data-part="next-trigger"]');v&&this.spreadProps(v,this.api.getNextTriggerProps({view:"month"}));let S=p.querySelector("table");S&&this.spreadProps(S,this.api.getTableProps({view:"month",columns:4})),this.renderMonthTableBody()}else if(this.api.view==="year"&&h){let f=h.querySelector('[data-part="view-control"]');f&&this.spreadProps(f,this.api.getViewControlProps({view:"year"}));let m=h.querySelector('[data-part="prev-trigger"]');m&&this.spreadProps(m,this.api.getPrevTriggerProps({view:"year"}));let $=h.querySelector('[data-part="decade"]');if($){let N=this.api.getDecade();$.textContent=`${N.start} - ${N.end}`}let v=h.querySelector('[data-part="next-trigger"]');v&&this.spreadProps(v,this.api.getNextTriggerProps({view:"year"}));let S=h.querySelector("table");S&&this.spreadProps(S,this.api.getTableProps({view:"year",columns:4})),this.renderYearTableBody()}}}};function vr(e){let t=a=>String(a).padStart(2,"0");return`${e.year}-${t(e.month)}-${t(e.day)}`}var ps={mounted(){let e=this.el,t=this.pushEvent.bind(this),a=this.liveSocket,r=b(e,"min"),n=b(e,"max"),o=b(e,"positioning"),s=h=>h?h.map(f=>L(f)):void 0,i=h=>h?L(h):void 0,u=new tt(e,{id:e.id,...E(e,"controlled")?{value:s(fe(e,"value"))}:{defaultValue:s(fe(e,"defaultValue"))},defaultFocusedValue:i(b(e,"focusedValue")),defaultView:b(e,"defaultView",["day","month","year"]),dir:b(e,"dir",["ltr","rtl"]),locale:b(e,"locale"),timeZone:b(e,"timeZone"),disabled:E(e,"disabled"),readOnly:E(e,"readOnly"),required:E(e,"required"),invalid:E(e,"invalid"),outsideDaySelectable:E(e,"outsideDaySelectable"),closeOnSelect:E(e,"closeOnSelect"),min:r?L(r):void 0,max:n?L(n):void 0,numOfMonths:xe(e,"numOfMonths"),startOfWeek:xe(e,"startOfWeek"),fixedWeeks:E(e,"fixedWeeks"),selectionMode:b(e,"selectionMode",["single","multiple","range"]),placeholder:b(e,"placeholder"),minView:b(e,"minView",["day","month","year"]),maxView:b(e,"maxView",["day","month","year"]),inline:E(e,"inline"),positioning:o?JSON.parse(o):void 0,onValueChange:h=>{let f=h.value?.length?h.value.map(v=>vr(v)).join(","):"",m=e.querySelector(`#${e.id}-value`);m&&m.value!==f&&(m.value=f,m.dispatchEvent(new Event("input",{bubbles:!0})),m.dispatchEvent(new Event("change",{bubbles:!0})));let $=b(e,"onValueChange");$&&a.main.isConnected()&&t($,{id:e.id,value:f||null})},onFocusChange:h=>{let f=b(e,"onFocusChange");f&&a.main.isConnected()&&t(f,{id:e.id,focused:h.focused??!1})},onViewChange:h=>{let f=b(e,"onViewChange");f&&a.main.isConnected()&&t(f,{id:e.id,view:h.view})},onVisibleRangeChange:h=>{let f=b(e,"onVisibleRangeChange");f&&a.main.isConnected()&&t(f,{id:e.id,start:h.start,end:h.end})},onOpenChange:h=>{let f=b(e,"onOpenChange");f&&a.main.isConnected()&&t(f,{id:e.id,open:h.open})}});u.init(),this.datePicker=u;let p=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');p&&p.removeAttribute("data-loading"),this.handlers=[],this.handlers.push(this.handleEvent("date_picker_set_value",h=>{let f=h.date_picker_id;f&&f!==e.id||u.api.setValue([L(h.value)])})),this.onSetValue=h=>{let f=h.detail?.value;typeof f=="string"&&u.api.setValue([L(f)])},e.addEventListener("phx:date-picker:set-value",this.onSetValue)},updated(){let e=this.el,t=e.querySelector('[data-scope="date-picker"][data-part="input-wrapper"]');t&&t.removeAttribute("data-loading");let a=u=>u?u.map(p=>L(p)):void 0,r=b(e,"min"),n=b(e,"max"),o=b(e,"positioning"),s=E(e,"controlled"),i=b(e,"focusedValue");if(this.datePicker?.updateProps({...E(e,"controlled")?{value:a(fe(e,"value"))}:{defaultValue:a(fe(e,"defaultValue"))},defaultFocusedValue:i?L(i):void 0,defaultView:b(e,"defaultView",["day","month","year"]),dir:b(this.el,"dir",["ltr","rtl"]),locale:b(this.el,"locale"),timeZone:b(this.el,"timeZone"),disabled:E(this.el,"disabled"),readOnly:E(this.el,"readOnly"),required:E(this.el,"required"),invalid:E(this.el,"invalid"),outsideDaySelectable:E(this.el,"outsideDaySelectable"),closeOnSelect:E(this.el,"closeOnSelect"),min:r?L(r):void 0,max:n?L(n):void 0,numOfMonths:xe(this.el,"numOfMonths"),startOfWeek:xe(this.el,"startOfWeek"),fixedWeeks:E(this.el,"fixedWeeks"),selectionMode:b(this.el,"selectionMode",["single","multiple","range"]),placeholder:b(this.el,"placeholder"),minView:b(this.el,"minView",["day","month","year"]),maxView:b(this.el,"maxView",["day","month","year"]),inline:E(this.el,"inline"),positioning:o?JSON.parse(o):void 0}),s&&this.datePicker){let u=fe(e,"value"),p=u?.join(",")??"",h=this.datePicker.api.value,f=h?.length?h.map(m=>vr(m)).join(","):"";if(p!==f){let m=u?.length?u.map($=>L($)):[];this.datePicker.api.setValue(m)}}},destroyed(){if(this.onSetValue&&this.el.removeEventListener("phx:date-picker:set-value",this.onSetValue),this.handlers)for(let e of this.handlers)this.removeHandleEvent(e);this.datePicker?.destroy()}};export{ps as DatePicker};
