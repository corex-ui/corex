import{a as ce}from"./chunk-5MNNWH4C.mjs";import"./chunk-L4HS2GN2.mjs";import{B as N,Bb as ne,Cb as ae,Db as le,Fb as w,Ib as g,P as m,V as te,W as x,X as se,Y as F,Z as E,a as j,ba as T,f as U,g as X,l as B,n as D,nb as ie,o as S,p as Y,q as Z,r as z,s as J,t as Q,va as H,w as ee,wa as oe,yb as re}from"./chunk-IYURAQ6S.mjs";var O=new WeakMap,L=new WeakMap,A={},M=0,de=e=>e&&(e.host||de(e.parentNode)),Fe=(e,s)=>s.map(i=>{if(e.contains(i))return i;let t=de(i);return t&&e.contains(t)?t:(console.error("[zag-js > ariaHidden] target",i,"in not contained inside",e,". Doing nothing"),null)}).filter(i=>!!i),Te=new Set(["script","output","status","next-route-announcer"]),we=e=>Te.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),ke=(e,s)=>{let{parentNode:i,markerName:t,controlAttribute:o,followControlledElements:a=!0}=s,r=Fe(i,Array.isArray(e)?e:[e]);A[t]||(A[t]=new WeakMap);let n=A[t],d=[],l=new Set,u=new Set(r),f=c=>{!c||l.has(c)||(l.add(c),f(c.parentNode))};r.forEach(c=>{f(c),a&&U(c)&&Z(c,h=>{f(h)})});let b=c=>{!c||u.has(c)||Array.prototype.forEach.call(c.children,h=>{if(l.has(h))b(h);else try{if(we(h))return;let P=h.getAttribute(o)==="true",I=(O.get(h)||0)+1,C=(n.get(h)||0)+1;O.set(h,I),n.set(h,C),d.push(h),I===1&&P&&L.set(h,!0),C===1&&h.setAttribute(t,""),P||h.setAttribute(o,"true")}catch(v){console.error("[zag-js > ariaHidden] cannot operate on ",h,v)}})};return b(i),l.clear(),M++,()=>{d.forEach(c=>{let h=O.get(c)-1,v=n.get(c)-1;O.set(c,h),n.set(c,v),h||(L.has(c)||c.removeAttribute(o),L.delete(c)),v||c.removeAttribute(t)}),M--,M||(O=new WeakMap,O=new WeakMap,L=new WeakMap,A={})}},Pe=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,Ie=(e,s=Pe(e),i="data-aria-hidden",t=!0)=>{if(s)return ke(e,{parentNode:s,markerName:i,controlAttribute:"aria-hidden",followControlledElements:t})},De=e=>{let s=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(s)};function ue(e,s={}){let{defer:i=!0}=s,t=i?De:a=>a(),o=[];return o.push(t(()=>{let r=(typeof e=="function"?e():e).filter(Boolean);r.length!==0&&o.push(Ie(r))})),()=>{o.forEach(a=>a?.())}}var Se=Object.defineProperty,xe=(e,s,i)=>s in e?Se(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i,p=(e,s,i)=>xe(e,typeof s!="symbol"?s+"":s,i),pe={activateTrap(e,s){if(e.length>0){let t=e[e.length-1];t!==s&&t.pause()}let i=e.indexOf(s);i===-1||e.splice(i,1),e.push(s)},deactivateTrap(e,s){let i=e.indexOf(s);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},Le=[],Ae=class{constructor(e,s){p(this,"trapStack"),p(this,"config"),p(this,"doc"),p(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),p(this,"portalContainers",new Set),p(this,"listenerCleanups",[]),p(this,"handleFocus",t=>{let o=N(t),a=this.findContainerIndex(o,t)>=0;if(a||X(o))a&&(this.state.mostRecentlyFocusedNode=o);else{t.stopImmediatePropagation();let r,n=!0;if(this.state.mostRecentlyFocusedNode)if(E(this.state.mostRecentlyFocusedNode)>0){let d=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:l}=this.state.containerGroups[d];if(l.length>0){let u=l.findIndex(f=>f===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<l.length&&(r=l[u+1],n=!1):u-1>=0&&(r=l[u-1],n=!1))}}else this.state.containerGroups.some(d=>d.tabbableNodes.some(l=>E(l)>0))||(n=!1);else n=!1;n&&(r=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),r?this.tryFocus(r):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),p(this,"handlePointerDown",t=>{let o=N(t);if(!(this.findContainerIndex(o,t)>=0)){if(k(this.config.clickOutsideDeactivates,t)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}k(this.config.allowOutsideClick,t)||t.preventDefault()}}),p(this,"handleClick",t=>{let o=N(t);this.findContainerIndex(o,t)>=0||k(this.config.clickOutsideDeactivates,t)||k(this.config.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}),p(this,"handleTabKey",t=>{if(this.config.isKeyForward(t)||this.config.isKeyBackward(t)){this.state.recentNavEvent=t;let o=this.config.isKeyBackward(t),a=this.findNextNavNode({event:t,isBackward:o});if(!a)return;_(t)&&t.preventDefault(),this.tryFocus(a)}}),p(this,"handleEscapeKey",t=>{Be(t)&&k(this.config.escapeDeactivates,t)!==!1&&(t.preventDefault(),this.deactivate())}),p(this,"_mutationObserver"),p(this,"setupMutationObserver",()=>{let t=this.doc.defaultView||window;this._mutationObserver=new t.MutationObserver(o=>{o.some(n=>Array.from(n.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),o.some(n=>n.type==="attributes"&&(n.attributeName==="aria-controls"||n.attributeName==="aria-expanded")?!0:n.type==="childList"&&n.addedNodes.length>0?Array.from(n.addedNodes).some(d=>{if(d.nodeType!==Node.ELEMENT_NODE)return!1;let l=d;return J(l)?!0:l.id&&!this.state.containers.some(u=>u.contains(l))?Q(l):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),p(this,"updateObservedNodes",()=>{this._mutationObserver?.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(t=>{this._mutationObserver?.observe(t,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(t=>{this.observePortalContainer(t)}))}),p(this,"getInitialFocusNode",()=>{let t=this.getNodeForOption("initialFocus",{hasFallback:!0});if(t===!1)return!1;if(t===void 0||t&&!x(t)){let o=D(this.doc);if(o&&this.findContainerIndex(o)>=0)t=o;else{let a=this.state.tabbableGroups[0];t=a&&a.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else t===null&&(t=this.getNodeForOption("fallbackFocus"));if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t.isConnected||(t=this.getNodeForOption("fallbackFocus")),t}),p(this,"tryFocus",t=>{if(t!==!1&&t!==D(this.doc)){if(!t||!t.focus){this.tryFocus(this.getInitialFocusNode());return}t.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=t,He(t)&&t.select()}}),p(this,"deactivate",t=>{if(!this.state.active)return this;let o={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...t};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),pe.deactivateTrap(this.trapStack,this),this.portalContainers.clear();let a=this.getOption(o,"onDeactivate"),r=this.getOption(o,"onPostDeactivate"),n=this.getOption(o,"checkCanReturnFocus"),d=this.getOption(o,"returnFocus","returnFocusOnDeactivate");a?.();let l=()=>{he(()=>{if(d){let u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}r?.()})};if(d&&n){let u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return n(u).then(l,l),this}return l(),this}),p(this,"pause",t=>{if(this.state.paused||!this.state.active)return this;let o=this.getOption(t,"onPause"),a=this.getOption(t,"onPostPause");return this.state.paused=!0,o?.(),this.removeListeners(),this.updateObservedNodes(),a?.(),this}),p(this,"unpause",t=>{if(!this.state.paused||!this.state.active)return this;let o=this.getOption(t,"onUnpause"),a=this.getOption(t,"onPostUnpause");return this.state.paused=!1,o?.(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),a?.(),this}),p(this,"updateContainerElements",t=>(this.state.containers=Array.isArray(t)?t.filter(Boolean):[t].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),p(this,"getReturnFocusNode",t=>{let o=this.getNodeForOption("setReturnFocus",{params:[t]});return o||(o===!1?!1:t)}),p(this,"getOption",(t,o,a)=>t&&t[o]!==void 0?t[o]:this.config[a||o]),p(this,"getNodeForOption",(t,{hasFallback:o=!1,params:a=[]}={})=>{let r=this.config[t];if(typeof r=="function"&&(r=r(...a)),r===!0&&(r=void 0),!r){if(r===void 0||r===!1)return r;throw new Error(`\`${t}\` was specified but was not a node, or did not return a node`)}let n=r;if(typeof r=="string"){try{n=this.doc.querySelector(r)}catch(d){throw new Error(`\`${t}\` appears to be an invalid selector; error="${d.message}"`)}if(!n&&!o)throw new Error(`\`${t}\` as selector refers to no known node`)}return n}),p(this,"findNextNavNode",t=>{let{event:o,isBackward:a=!1}=t,r=t.target||N(o);this.updateTabbableNodes();let n=null;if(this.state.tabbableGroups.length>0){let d=this.findContainerIndex(r,o),l=d>=0?this.state.containerGroups[d]:void 0;if(d<0)a?n=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:n=this.state.tabbableGroups[0].firstTabbableNode;else if(a){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:f})=>r===f);if(u<0&&(l?.container===r||x(r)&&!F(r)&&!l?.nextTabbableNode(r,!1))&&(u=d),u>=0){let f=u===0?this.state.tabbableGroups.length-1:u-1,b=this.state.tabbableGroups[f];n=E(r)>=0?b.lastTabbableNode:b.lastDomTabbableNode}else _(o)||(n=l?.nextTabbableNode(r,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:f})=>r===f);if(u<0&&(l?.container===r||x(r)&&!F(r)&&!l?.nextTabbableNode(r))&&(u=d),u>=0){let f=u===this.state.tabbableGroups.length-1?0:u+1,b=this.state.tabbableGroups[f];n=E(r)>=0?b.firstTabbableNode:b.firstDomTabbableNode}else _(o)||(n=l?.nextTabbableNode(r))}}else n=this.getNodeForOption("fallbackFocus");return n}),this.trapStack=s.trapStack||Le;let i={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:Ge,isKeyBackward:Re,...s};this.doc=i.document||B(Array.isArray(e)?e[0]:e),this.config=i,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){let s=e.parentElement;s&&!this.portalContainers.has(s)&&(this.portalContainers.add(s),this.state.active&&!this.state.paused&&this.observePortalContainer(s))}observePortalContainer(e){this._mutationObserver?.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{z(e).forEach(i=>{this.addPortalContainer(i)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,s){let i=typeof s?.composedPath=="function"?s.composedPath():void 0;return this.state.containerGroups.findIndex(({container:t,tabbableNodes:o})=>t.contains(e)||i?.includes(t)||o.find(a=>a===e)||this.isControlledElement(t,e))}isControlledElement(e,s){return this.config.followControlledElements?Y(e,s):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let s=se(e,{getShadowRoot:this.config.getShadowRoot}),i=te(e,{getShadowRoot:this.config.getShadowRoot}),t=s[0],o=s[s.length-1],a=t,r=o,n=!1;for(let l=0;l<s.length;l++)if(E(s[l])>0){n=!0;break}function d(l,u=!0){let f=s.indexOf(l);if(f>=0)return s[f+(u?1:-1)];let b=i.indexOf(l);if(!(b<0)){if(u){for(let c=b+1;c<i.length;c++)if(F(i[c]))return i[c]}else for(let c=b-1;c>=0;c--)if(F(i[c]))return i[c]}}return{container:e,tabbableNodes:s,focusableNodes:i,posTabIndexesFound:n,firstTabbableNode:t,lastTabbableNode:o,firstDomTabbableNode:a,lastDomTabbableNode:r,nextTabbableNode:d}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return pe.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?he(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(m(this.doc,"focusin",this.handleFocus,!0),m(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),m(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),m(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),m(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),m(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let s=this.getOption(e,"onActivate"),i=this.getOption(e,"onPostActivate"),t=this.getOption(e,"checkCanFocusTrap");t||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=D(this.doc),s?.();let o=()=>{t&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),i?.()};return t?(t(this.state.containers.concat()).then(o,o),this):(o(),this)}},K=e=>e.type==="keydown",_=e=>K(e)&&e?.key==="Tab",Ge=e=>K(e)&&e.key==="Tab"&&!e?.shiftKey,Re=e=>K(e)&&e.key==="Tab"&&e?.shiftKey,k=(e,...s)=>typeof e=="function"?e(...s):e,Be=e=>!e.isComposing&&e.key==="Escape",he=e=>setTimeout(e,0),He=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function fe(e,s={}){let i,t=T(()=>{let a=(Array.isArray(e)?e:[e]).map(n=>typeof n=="function"?n():n).filter(n=>n!=null);if(a.length===0)return;let r=a[0];i=new Ae(a,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:r,...s,document:B(r)});try{i.activate()}catch{}});return function(){i?.deactivate(),t()}}var $="data-scroll-lock";function Me(e){let s=e.getBoundingClientRect().left;return Math.round(s)+e.scrollLeft?"paddingLeft":"paddingRight"}function ge(e){let i=S(e)?.scrollbarGutter;return i==="stable"||i?.startsWith("stable ")===!0}function be(e){let s=e??document,i=s.defaultView??window,{documentElement:t,body:o}=s;if(o.hasAttribute($))return;let r=ge(t)||ge(o),n=i.innerWidth-t.clientWidth;o.setAttribute($,"");let d=()=>oe(t,"--scrollbar-width",`${n}px`),l=Me(t),u=()=>{let c={overflow:"hidden"};return!r&&n>0&&(c[l]=`${n}px`),H(o,c)},f=()=>{let{scrollX:c,scrollY:h,visualViewport:v}=i,P=v?.offsetLeft??0,I=v?.offsetTop??0,C={position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(I))}px`,left:`${-(c-Math.floor(P))}px`,right:"0"};!r&&n>0&&(C[l]=`${n}px`);let Ne=H(o,C);return()=>{Ne?.(),i.scrollTo({left:c,top:h,behavior:"instant"})}},b=[d(),ee()?f():u()];return()=>{b.forEach(c=>c?.()),o.removeAttribute($)}}var _e=j("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),y=_e.build(),ve=e=>e.ids?.positioner??`dialog:${e.id}:positioner`,me=e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,V=e=>e.ids?.content??`dialog:${e.id}:content`,ye=e=>e.ids?.trigger??`dialog:${e.id}:trigger`,q=e=>e.ids?.title??`dialog:${e.id}:title`,W=e=>e.ids?.description??`dialog:${e.id}:description`,Ee=e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,G=e=>e.getById(V(e)),Ke=e=>e.getById(ve(e)),$e=e=>e.getById(me(e)),Ve=e=>e.getById(ye(e)),qe=e=>e.getById(q(e)),We=e=>e.getById(W(e)),je=e=>e.getById(Ee(e));function Oe(e,s){let{state:i,send:t,context:o,prop:a,scope:r}=e,n=a("aria-label"),d=i.matches("open");return{open:d,setOpen(l){i.matches("open")!==l&&t({type:l?"OPEN":"CLOSE"})},getTriggerProps(){return s.button({...y.trigger.attrs,dir:a("dir"),id:ye(r),"aria-haspopup":"dialog",type:"button","aria-expanded":d,"data-state":d?"open":"closed","aria-controls":V(r),onClick(l){l.defaultPrevented||t({type:"TOGGLE"})}})},getBackdropProps(){return s.element({...y.backdrop.attrs,dir:a("dir"),hidden:!d,id:me(r),"data-state":d?"open":"closed"})},getPositionerProps(){return s.element({...y.positioner.attrs,dir:a("dir"),id:ve(r),style:{pointerEvents:d?void 0:"none"}})},getContentProps(){let l=o.get("rendered");return s.element({...y.content.attrs,dir:a("dir"),role:a("role"),hidden:!d,id:V(r),tabIndex:-1,"data-state":d?"open":"closed","aria-modal":!0,"aria-label":n||void 0,"aria-labelledby":n||!l.title?void 0:q(r),"aria-describedby":l.description?W(r):void 0})},getTitleProps(){return s.element({...y.title.attrs,dir:a("dir"),id:q(r)})},getDescriptionProps(){return s.element({...y.description.attrs,dir:a("dir"),id:W(r)})},getCloseTriggerProps(){return s.button({...y.closeTrigger.attrs,dir:a("dir"),id:Ee(r),type:"button",onClick(l){l.defaultPrevented||(l.stopPropagation(),t({type:"CLOSE"}))}})}}}var Ce={props({props:e,scope:s}){let i=e.role==="alertdialog",t=i?()=>je(s):void 0,o=typeof e.modal=="boolean"?e.modal:!0;return{role:"dialog",modal:o,trapFocus:o,preventScroll:o,closeOnInteractOutside:!i,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:t,...e}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:s,prop:i}){e([()=>i("open")],()=>{s(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:s,prop:i}){return ce(()=>G(e),{type:"dialog",defer:!0,pointerBlocking:i("modal"),exclude:[Ve(e)],onInteractOutside(o){i("onInteractOutside")?.(o),i("closeOnInteractOutside")||o.preventDefault()},persistentElements:i("persistentElements"),onFocusOutside:i("onFocusOutside"),onPointerDownOutside:i("onPointerDownOutside"),onRequestDismiss:i("onRequestDismiss"),onEscapeKeyDown(o){i("onEscapeKeyDown")?.(o),i("closeOnEscape")||o.preventDefault()},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:s}){if(s("preventScroll"))return be(e.getDoc())},trapFocus({scope:e,prop:s}){return s("trapFocus")?fe(()=>G(e),{preventScroll:!0,returnFocusOnDeactivate:!!s("restoreFocus"),initialFocus:s("initialFocusEl"),setReturnFocus:t=>s("finalFocusEl")?.()??t,getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:s}){return s("modal")?ue(()=>[G(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:s}){T(()=>{e.set("rendered",{title:!!qe(s),description:!!We(s)})})},syncZIndex({scope:e}){T(()=>{let s=G(e);if(!s)return;let i=S(s);[Ke(e),$e(e)].forEach(o=>{o?.style.setProperty("--z-index",i.zIndex),o?.style.setProperty("--layer-index",i.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},toggleVisibility({prop:e,send:s,event:i}){s({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}}},Ue=re()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),ct=ie(Ue);var R=class extends le{initMachine(s){return new ae(Ce,s)}initApi(){return Oe(this.machine.service,ne)}render(){let s=this.el,i=s.querySelector('[data-scope="dialog"][data-part="trigger"]');i&&this.spreadProps(i,this.api.getTriggerProps());let t=s.querySelector('[data-scope="dialog"][data-part="backdrop"]');t&&this.spreadProps(t,this.api.getBackdropProps());let o=s.querySelector('[data-scope="dialog"][data-part="positioner"]');o&&this.spreadProps(o,this.api.getPositionerProps());let a=s.querySelector('[data-scope="dialog"][data-part="content"]');a&&this.spreadProps(a,this.api.getContentProps());let r=s.querySelector('[data-scope="dialog"][data-part="title"]');r&&this.spreadProps(r,this.api.getTitleProps());let n=s.querySelector('[data-scope="dialog"][data-part="description"]');n&&this.spreadProps(n,this.api.getDescriptionProps());let d=s.querySelector('[data-scope="dialog"][data-part="close-trigger"]');d&&this.spreadProps(d,this.api.getCloseTriggerProps())}};var vt={mounted(){let e=this.el,s=this.pushEvent.bind(this),i=new R(e,{id:e.id,...g(e,"controlled")?{open:g(e,"open")}:{defaultOpen:g(e,"defaultOpen")},modal:g(e,"modal"),closeOnInteractOutside:g(e,"closeOnInteractOutside"),closeOnEscape:g(e,"closeOnEscapeKeyDown"),preventScroll:g(e,"preventScroll"),restoreFocus:g(e,"restoreFocus"),dir:w(e,"dir",["ltr","rtl"]),onOpenChange:t=>{let o=w(e,"onOpenChange");o&&this.liveSocket.main.isConnected()&&s(o,{id:e.id,open:t.open});let a=w(e,"onOpenChangeClient");a&&e.dispatchEvent(new CustomEvent(a,{bubbles:!0,detail:{id:e.id,open:t.open}}))}});i.init(),this.dialog=i,this.onSetOpen=t=>{let{open:o}=t.detail;i.api.setOpen(o)},e.addEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers=[],this.handlers.push(this.handleEvent("dialog_set_open",t=>{let o=t.dialog_id;o&&o!==e.id||i.api.setOpen(t.open)})),this.handlers.push(this.handleEvent("dialog_open",()=>{this.pushEvent("dialog_open_response",{value:i.api.open})}))},updated(){this.dialog?.updateProps({id:this.el.id,...g(this.el,"controlled")?{open:g(this.el,"open")}:{defaultOpen:g(this.el,"defaultOpen")},modal:g(this.el,"modal"),closeOnInteractOutside:g(this.el,"closeOnInteractOutside"),closeOnEscape:g(this.el,"closeOnEscapeKeyDown"),preventScroll:g(this.el,"preventScroll"),restoreFocus:g(this.el,"restoreFocus"),dir:w(this.el,"dir",["ltr","rtl"])})},destroyed(){if(this.onSetOpen&&this.el.removeEventListener("phx:dialog:set-open",this.onSetOpen),this.handlers)for(let e of this.handlers)this.removeHandleEvent(e);this.dialog?.destroy()}};export{vt as Dialog};
