import{Bb as Ee,Cb as Pe,Db as Ne,E as ne,Fb as y,Hb as S,I as H,Ib as h,K as j,N as ie,O as ae,P as U,Q as se,U as oe,Ya as ce,a as ee,ab as me,b as G,ba as M,bb as de,c as te,cb as pe,d as m,da as le,db as fe,e as W,eb as $,fb as R,ib as ge,ja as ue,jb as he,m as re,nb as be,vb as Z,xb as ve,yb as ye,z as q}from"./chunk-IYURAQ6S.mjs";var Y=new Map,X=!1;try{X=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}var k=!1;try{k=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}var Se={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}},B=class{format(t){let r="";if(!X&&this.options.signDisplay!=null?r=ke(this.numberFormatter,this.options.signDisplay,t):r=this.numberFormatter.format(t),this.options.style==="unit"&&!k){var n;let{unit:i,unitDisplay:a="short",locale:s}=this.resolvedOptions();if(!i)return r;let l=(n=Se[i])===null||n===void 0?void 0:n[a];r+=l[s]||l.default}return r}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,r){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,r);if(r<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} \u2013 ${this.format(r)}`}formatRangeToParts(t,r){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,r);if(r<t)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(r);return[...n.map(a=>({...a,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...i.map(a=>({...a,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!X&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!k&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,r={}){this.numberFormatter=Ue(t,r),this.options=r}};function Ue(e,t={}){let{numberingSystem:r}=t;if(r&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${r}`),t.style==="unit"&&!k){var n;let{unit:s,unitDisplay:l="short"}=t;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=Se[s])===null||n===void 0)&&n[l]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${l}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((s,l)=>s[0]<l[0]?-1:1).join():"");if(Y.has(i))return Y.get(i);let a=new Intl.NumberFormat(e,t);return Y.set(i,a),a}function ke(e,t,r){if(t==="auto")return e.format(r);if(t==="never")return e.format(Math.abs(r));{let n=!1;if(t==="always"?n=r>0||Object.is(r,0):t==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):n=r>0),n){let i=e.format(-r),a=e.format(r),s=i.replace(a,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(a,"!!!").replace(s,"+").replace("!!!",a)}else return e.format(r)}}var Be=new RegExp("^.*\\(.*\\).*$"),_e=["latn","arab","hanidec","deva","beng","fullwide"],C=class{parse(t){return z(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,r,n){return z(this.locale,this.options,t).isValidPartialNumber(t,r,n)}getNumberingSystem(t){return z(this.locale,this.options,t).options.numberingSystem}constructor(t,r={}){this.locale=t,this.options=r}},Te=new Map;function z(e,t,r){let n=Ie(e,t);if(!e.includes("-nu-")&&!n.isValidPartialNumber(r)){for(let i of _e)if(i!==n.options.numberingSystem){let a=Ie(e+(e.includes("-u-")?"-nu-":"-u-nu-")+i,t);if(a.isValidPartialNumber(r))return a}}return n}function Ie(e,t){let r=e+(t?Object.entries(t).sort((i,a)=>i[0]<a[0]?-1:1).join():""),n=Te.get(r);return n||(n=new K(e,t),Te.set(r,n)),n}var K=class{parse(t){let r=this.sanitize(t);if(this.symbols.group&&(r=x(r,this.symbols.group,"")),this.symbols.decimal&&(r=r.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(r=r.replace(this.symbols.minusSign,"-")),r=r.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=r.indexOf("-");r=r.replace("-",""),r=r.replace("+","");let l=r.indexOf(".");l===-1&&(l=r.length),r=r.replace(".",""),l-2===0?r=`0.${r}`:l-2===-1?r=`0.0${r}`:l-2===-2?r="0.00":r=`${r.slice(0,l-2)}.${r.slice(l-2)}`,s>-1&&(r=`-${r}`)}let n=r?+r:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,a;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)+2,20)};return new C(this.locale,s).parse(new B(this.locale,s).format(n))}return this.options.currencySign==="accounting"&&Be.test(t)&&(n=-1*n),n}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("\u060C",this.symbols.decimal)),this.symbols.group&&(t=x(t,".",this.symbols.group))),this.symbols.group==="\u2019"&&t.includes("'")&&(t=x(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=x(t," ",this.symbols.group),t=x(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,r=-1/0,n=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&r<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&n>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=x(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,r={}){this.locale=t,r.roundingIncrement!==1&&r.roundingIncrement!=null&&(r.maximumFractionDigits==null&&r.minimumFractionDigits==null?(r.maximumFractionDigits=0,r.minimumFractionDigits=0):r.maximumFractionDigits==null?r.maximumFractionDigits=r.minimumFractionDigits:r.minimumFractionDigits==null&&(r.minimumFractionDigits=r.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,r),this.options=this.formatter.resolvedOptions(),this.symbols=We(t,this.formatter,this.options,r);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}},Re=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ge=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function We(e,t,r,n){var i,a,s,l;let u=new Intl.NumberFormat(e,{...r,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=u.formatToParts(-10000.111),g=u.formatToParts(10000.111),p=Ge.map(d=>u.formatToParts(d));var D;let b=(D=(i=c.find(d=>d.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&D!==void 0?D:"-",P=(a=g.find(d=>d.type==="plusSign"))===null||a===void 0?void 0:a.value;!P&&(n?.signDisplay==="exceptZero"||n?.signDisplay==="always")&&(P="+");let F=(s=new Intl.NumberFormat(e,{...r,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(d=>d.type==="decimal"))===null||s===void 0?void 0:s.value,o=(l=c.find(d=>d.type==="group"))===null||l===void 0?void 0:l.value,f=c.filter(d=>!Re.has(d.type)).map(d=>xe(d.value)),O=p.flatMap(d=>d.filter(N=>!Re.has(N.type)).map(N=>xe(N.value))),v=[...new Set([...f,...O])].sort((d,N)=>N.length-d.length),w=v.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${v.join("|")}|[\\p{White_Space}]`,"gu"),A=[...new Intl.NumberFormat(r.locale,{useGrouping:!1}).format(9876543210)].reverse(),Fe=new Map(A.map((d,N)=>[d,N])),He=new RegExp(`[${A.join("")}]`,"g");return{minusSign:b,plusSign:P,decimal:F,group:o,literals:w,numeral:He,index:d=>String(Fe.get(d))}}function x(e,t,r){return e.replaceAll?e.replaceAll(t,r):e.split(t).join(r)}function xe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var qe=ee("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),E=qe.build();function Q(e,t){if(!(!e||!t.isActiveElement(e)))try{let{selectionStart:r,selectionEnd:n,value:i}=e;return r==null||n==null?void 0:{start:r,end:n,value:i}}catch{return}}function je(e,t,r){if(!(!e||!r.isActiveElement(e))){if(!t){let n=e.value.length;e.setSelectionRange(n,n);return}try{let n=e.value,{start:i,end:a,value:s}=t;if(n===s){e.setSelectionRange(i,a);return}let l=Ce(s,n,i),u=i===a?l:Ce(s,n,a),c=Math.max(0,Math.min(l,n.length)),g=Math.max(c,Math.min(u,n.length));e.setSelectionRange(c,g)}catch{let n=e.value.length;e.setSelectionRange(n,n)}}}function Ce(e,t,r){let n=e.slice(0,r),i=e.slice(r),a=0,s=Math.min(n.length,t.length);for(let c=0;c<s&&n[c]===t[c];c++)a=c+1;let l=0,u=Math.min(i.length,t.length-a);for(let c=0;c<u;c++){let g=i.length-1-c,p=t.length-1-c;if(i[g]===t[p])l=c+1;else break}if(n.length>0&&a>=n.length)return a;if(l>=i.length)return t.length-l;if(a>0)return a;if(l>0)return t.length-l;if(r===0&&a===0&&l===0)return t.length;if(e.length>0){let c=r/e.length;return Math.round(c*t.length)}return t.length}var Ze=e=>e.ids?.root??`number-input:${e.id}`,L=e=>e.ids?.input??`number-input:${e.id}:input`,Oe=e=>e.ids?.incrementTrigger??`number-input:${e.id}:inc`,we=e=>e.ids?.decrementTrigger??`number-input:${e.id}:dec`,Ye=e=>e.ids?.scrubber??`number-input:${e.id}:scrubber`,Ae=e=>`number-input:${e.id}:cursor`,Xe=e=>e.ids?.label??`number-input:${e.id}:label`,I=e=>e.getById(L(e)),ze=e=>e.getById(Oe(e)),Ke=e=>e.getById(we(e)),Me=e=>e.getDoc().getElementById(Ae(e)),Je=(e,t)=>{let r=null;return t==="increment"&&(r=ze(e)),t==="decrement"&&(r=Ke(e)),r},Qe=(e,t)=>{if(!q())return rt(e,t),()=>{Me(e)?.remove()}},et=e=>{let t=e.getDoc(),r=t.documentElement,n=t.body;return n.style.pointerEvents="none",r.style.userSelect="none",r.style.cursor="ew-resize",()=>{n.style.pointerEvents="",r.style.userSelect="",r.style.cursor="",r.style.length||r.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},tt=(e,t)=>{let{point:r,isRtl:n,event:i}=t,a=e.getWin(),s=R(i.movementX,a.devicePixelRatio),l=R(i.movementY,a.devicePixelRatio),u=s>0?"increment":s<0?"decrement":null;n&&u==="increment"&&(u="decrement"),n&&u==="decrement"&&(u="increment");let c={x:r.x+s,y:r.y+l},g=a.innerWidth,p=R(7.5,a.devicePixelRatio);return c.x=me(c.x+p,g)-p,{hint:u,point:c}},rt=(e,t)=>{let r=e.getDoc(),n=r.createElement("div");n.className="scrubber--cursor",n.id=Ae(e),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:te,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,r.body.appendChild(n)};function $e(e,t){let{state:r,send:n,prop:i,scope:a,computed:s}=e,l=r.hasTag("focus"),u=s("isDisabled"),c=!!i("readOnly"),g=!!i("required"),p=r.matches("scrubbing"),D=s("isValueEmpty"),b=s("isOutOfRange")||!!i("invalid"),P=u||!s("canIncrement")||c,V=u||!s("canDecrement")||c,F=i("translations");return{focused:l,invalid:b,empty:D,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(o){n({type:"VALUE.SET",value:o})},clearValue(){n({type:"VALUE.CLEAR"})},increment(){n({type:"VALUE.INCREMENT"})},decrement(){n({type:"VALUE.DECREMENT"})},setToMax(){n({type:"VALUE.SET",value:i("max")})},setToMin(){n({type:"VALUE.SET",value:i("min")})},focus(){I(a)?.focus()},getRootProps(){return t.element({id:Ze(a),...E.root.attrs,dir:i("dir"),"data-disabled":m(u),"data-focus":m(l),"data-invalid":m(b),"data-scrubbing":m(p)})},getLabelProps(){return t.label({...E.label.attrs,dir:i("dir"),"data-disabled":m(u),"data-focus":m(l),"data-invalid":m(b),"data-required":m(g),"data-scrubbing":m(p),id:Xe(a),htmlFor:L(a),onClick(){M(()=>{G(I(a))})}})},getControlProps(){return t.element({...E.control.attrs,dir:i("dir"),role:"group","aria-disabled":u,"data-focus":m(l),"data-disabled":m(u),"data-invalid":m(b),"data-scrubbing":m(p),"aria-invalid":W(b)})},getValueTextProps(){return t.element({...E.valueText.attrs,dir:i("dir"),"data-disabled":m(u),"data-invalid":m(b),"data-focus":m(l),"data-scrubbing":m(p)})},getInputProps(){return t.input({...E.input.attrs,dir:i("dir"),name:i("name"),form:i("form"),id:L(a),role:"spinbutton",defaultValue:s("formattedValue"),pattern:i("formatOptions")?void 0:i("pattern"),inputMode:i("inputMode"),"aria-invalid":W(b),"data-invalid":m(b),disabled:u,"data-disabled":m(u),readOnly:c,required:i("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":i("min"),"aria-valuemax":i("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),"data-scrubbing":m(p),onFocus(){n({type:"INPUT.FOCUS"})},onBlur(){n({type:"INPUT.BLUR"})},onInput(o){let f=Q(o.currentTarget,a);n({type:"INPUT.CHANGE",target:o.currentTarget,hint:"set",selection:f})},onBeforeInput(o){try{let{selectionStart:f,selectionEnd:O,value:v}=o.currentTarget,w=v.slice(0,f)+(o.data??"")+v.slice(O);s("parser").isValidPartialNumber(w)||o.preventDefault()}catch{}},onKeyDown(o){if(o.defaultPrevented||c||ne(o))return;let f=ie(o)*i("step"),v={ArrowUp(){n({type:"INPUT.ARROW_UP",step:f}),o.preventDefault()},ArrowDown(){n({type:"INPUT.ARROW_DOWN",step:f}),o.preventDefault()},Home(){j(o)||(n({type:"INPUT.HOME"}),o.preventDefault())},End(){j(o)||(n({type:"INPUT.END"}),o.preventDefault())},Enter(w){let A=Q(w.currentTarget,a);n({type:"INPUT.ENTER",selection:A})}}[o.key];v?.(o)}})},getDecrementTriggerProps(){return t.button({...E.decrementTrigger.attrs,dir:i("dir"),id:we(a),disabled:V,"data-disabled":m(V),"aria-label":F.decrementLabel,type:"button",tabIndex:-1,"aria-controls":L(a),"data-scrubbing":m(p),onPointerDown(o){V||H(o)&&(n({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&o.currentTarget?.focus({preventScroll:!0}))},onPointerUp(o){n({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:o.pointerType})},onPointerLeave(){V||n({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return t.button({...E.incrementTrigger.attrs,dir:i("dir"),id:Oe(a),disabled:P,"data-disabled":m(P),"aria-label":F.incrementLabel,type:"button",tabIndex:-1,"aria-controls":L(a),"data-scrubbing":m(p),onPointerDown(o){P||!H(o)||(n({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&o.currentTarget?.focus({preventScroll:!0}))},onPointerUp(o){n({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})},onPointerLeave(o){n({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})}})},getScrubberProps(){return t.element({...E.scrubber.attrs,dir:i("dir"),"data-disabled":m(u),id:Ye(a),role:"presentation","data-scrubbing":m(p),onMouseDown(o){if(u||!H(o))return;let f=ae(o),v=re(o.currentTarget).devicePixelRatio;f.x=f.x-R(7.5,v),f.y=f.y-R(7.5,v),n({type:"SCRUBBER.PRESS_DOWN",point:f}),o.preventDefault(),M(()=>{G(I(a))})},style:{cursor:u?void 0:"ew-resize"}})}}}var nt=(e,t={})=>new Intl.NumberFormat(e,t),it=(e,t={})=>new C(e,t),J=(e,t)=>{let{prop:r,computed:n}=t;return r("formatOptions")?e===""?Number.NaN:n("parser").parse(e):parseFloat(e)},T=(e,t)=>{let{prop:r,computed:n}=t;return Number.isNaN(e)?"":r("formatOptions")?n("formatter").format(e):e.toString()},at=(e,t)=>{let r=e!==void 0&&!Number.isNaN(e)?e:1;return t?.style==="percent"&&(e===void 0||Number.isNaN(e))&&(r=.01),r},{choose:st,guards:ot,createMachine:lt}=ve(),{not:De,and:Ve}=ot,Le=lt({props({props:e}){let t=at(e.step,e.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...e,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:r}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){let i=r(),a=J(n,{computed:i,prop:e});e("onValueChange")?.({value:n,valueAsNumber:a})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(n){return n?`x:${n.x}, y:${n.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:r})=>J(e.get("value"),{computed:t,prop:r}),formattedValue:({computed:e,prop:t})=>T(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>pe(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>de(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!fe(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>e("translations").valueText?.(t.get("value")),formatter:Z(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>nt(e,t)),parser:Z(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>it(e,t))},watch({track:e,action:t,context:r,computed:n,prop:i}){e([()=>r.get("value"),()=>i("locale"),()=>JSON.stringify(i("formatOptions"))],()=>{t(["syncInputElement"])}),e([()=>n("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>r.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Ve("clampValueOnBlur",De("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]},{guard:De("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid","invokeOnValueCommit"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnValueCommit"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:st([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Ve("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="decrement",isIncrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="increment",isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){let t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){let t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){let r=I(t);return oe(r,{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){let r=e.get("scrubberCursorPoint");return Qe(t,r)},preventTextSelection({scope:e}){return et(e)},trackButtonDisabled({context:e,scope:t,send:r}){let n=e.get("hint"),i=Je(t,n);return le(i,{attributes:["disabled"],callback(){r({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:r}){let n=I(e);if(!n||!e.isActiveElement(n)||!r("allowMouseWheel"))return;function i(a){a.preventDefault();let s=Math.sign(a.deltaY)*-1;s===1?t({type:"VALUE.INCREMENT"}):s===-1&&t({type:"VALUE.DECREMENT"})}return U(n,"wheel",i,{passive:!1})},activatePointerLock({scope:e}){if(!q())return ue(e.getDoc())},trackMousemove({scope:e,send:t,context:r,computed:n}){let i=e.getDoc();function a(l){let u=r.get("scrubberCursorPoint"),c=n("isRtl"),g=tt(e,{point:u,isRtl:c,event:l});g.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:g.hint,point:g.point})}function s(){t({type:"SCRUBBER.POINTER_UP"})}return ce(U(i,"mousemove",a,!1),U(i,"mouseup",s,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;let r=I(e);e.isActiveElement(r)||M(()=>r?.focus({preventScroll:!0}))},increment({context:e,event:t,prop:r,computed:n}){let i=ge(n("valueAsNumber"),t.step??r("step"));r("allowOverflow")||(i=$(i,r("min"),r("max"))),e.set("value",T(i,{computed:n,prop:r}))},decrement({context:e,event:t,prop:r,computed:n}){let i=he(n("valueAsNumber"),t.step??r("step"));r("allowOverflow")||(i=$(i,r("min"),r("max"))),e.set("value",T(i,{computed:n,prop:r}))},setClampedValue({context:e,prop:t,computed:r}){let n=$(r("valueAsNumber"),t("min"),t("max"));e.set("value",T(n,{computed:r,prop:t}))},setRawValue({context:e,event:t,prop:r,computed:n}){let i=J(t.value,{computed:n,prop:r});r("allowOverflow")||(i=$(i,r("min"),r("max"))),e.set("value",T(i,{computed:n,prop:r}))},setValue({context:e,event:t}){let r=t.target?.value??t.value;e.set("value",r)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:r}){let n=T(t("max"),{computed:r,prop:t});e.set("value",n)},decrementToMin({context:e,prop:t,computed:r}){let n=T(t("min"),{computed:r,prop:t});e.set("value",n)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){t("onFocusChange")?.({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){t("onFocusChange")?.({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:r}){if(r.type==="INPUT.CHANGE")return;let n=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";t("onValueInvalid")?.({reason:n,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnValueCommit({computed:e,prop:t}){t("onValueCommit")?.({value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:r,scope:n}){let i=t.type.endsWith("CHANGE")?e.get("value"):r("formattedValue"),a=I(n),s=t.selection??Q(a,n);M(()=>{se(a,i),je(a,s,n)})},setFormattedValue({context:e,computed:t,action:r}){e.set("value",t("formattedValue")),r(["syncInputElement"])},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){let r=Me(t),n=e.get("scrubberCursorPoint");!r||!n||(r.style.transform=`translate3d(${n.x}px, ${n.y}px, 0px)`)}}}}),ut=ye()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueCommit","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]),Nt=be(ut);var _=class extends Ne{initMachine(t){return new Pe(Le,t)}initApi(){return $e(this.machine.service,Ee)}render(){let t=this.el.querySelector('[data-scope="number-input"][data-part="root"]')??this.el;this.spreadProps(t,this.api.getRootProps());let r=this.el.querySelector('[data-scope="number-input"][data-part="label"]');r&&this.spreadProps(r,this.api.getLabelProps());let n=this.el.querySelector('[data-scope="number-input"][data-part="control"]');n&&this.spreadProps(n,this.api.getControlProps());let i=this.el.querySelector('[data-scope="number-input"][data-part="value-text"]');i&&this.spreadProps(i,this.api.getValueTextProps());let a=this.el.querySelector('[data-scope="number-input"][data-part="input"]');a&&this.spreadProps(a,this.api.getInputProps());let s=this.el.querySelector('[data-scope="number-input"][data-part="decrement-trigger"]');s&&this.spreadProps(s,this.api.getDecrementTriggerProps());let l=this.el.querySelector('[data-scope="number-input"][data-part="increment-trigger"]');l&&this.spreadProps(l,this.api.getIncrementTriggerProps());let u=this.el.querySelector('[data-scope="number-input"][data-part="scrubber"]');u&&this.spreadProps(u,this.api.getScrubberProps())}};var Vt={mounted(){let e=this.el,t=y(e,"value"),r=y(e,"defaultValue"),n=h(e,"controlled"),i=new _(e,{id:e.id,...n&&t!==void 0?{value:t}:{defaultValue:r},min:S(e,"min"),max:S(e,"max"),step:S(e,"step"),disabled:h(e,"disabled"),readOnly:h(e,"readOnly"),invalid:h(e,"invalid"),required:h(e,"required"),allowMouseWheel:h(e,"allowMouseWheel"),name:y(e,"name"),form:y(e,"form"),onValueChange:a=>{let s=e.querySelector('[data-scope="number-input"][data-part="input"]');s&&(s.value=a.value,s.dispatchEvent(new Event("input",{bubbles:!0})),s.dispatchEvent(new Event("change",{bubbles:!0})));let l=y(e,"onValueChange");l&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(l,{value:a.value,valueAsNumber:a.valueAsNumber,id:e.id});let u=y(e,"onValueChangeClient");u&&e.dispatchEvent(new CustomEvent(u,{bubbles:!0,detail:{value:a,id:e.id}}))}});i.init(),this.numberInput=i,this.handlers=[]},updated(){let e=y(this.el,"value"),t=h(this.el,"controlled");this.numberInput?.updateProps({id:this.el.id,...t&&e!==void 0?{value:e}:{},min:S(this.el,"min"),max:S(this.el,"max"),step:S(this.el,"step"),disabled:h(this.el,"disabled"),readOnly:h(this.el,"readOnly"),invalid:h(this.el,"invalid"),required:h(this.el,"required"),name:y(this.el,"name"),form:y(this.el,"form")})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e);this.numberInput?.destroy()}};export{Vt as NumberInput};
