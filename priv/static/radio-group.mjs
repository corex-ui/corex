import{b as G,c as $}from"./chunk-XQAZHZIC.mjs";import{Bb as w,Cb as O,Db as M,Fb as p,I as R,Ib as v,T as D,U as q,a as k,d as s,kb as y,nb as S,oa as L,ta as A,wb as _,ya as F,yb as C,z as H}from"./chunk-IYURAQ6S.mjs";var K=k("radio-group").parts("root","label","item","itemText","itemControl","indicator"),g=K.build(),b=e=>e.ids?.root??`radio-group:${e.id}`,U=e=>e.ids?.label??`radio-group:${e.id}:label`,B=(e,t)=>e.ids?.item?.(t)??`radio-group:${e.id}:radio:${t}`,P=(e,t)=>e.ids?.itemHiddenInput?.(t)??`radio-group:${e.id}:radio:input:${t}`,W=(e,t)=>e.ids?.itemControl?.(t)??`radio-group:${e.id}:radio:control:${t}`,J=(e,t)=>e.ids?.itemLabel?.(t)??`radio-group:${e.id}:radio:label:${t}`,z=e=>e.ids?.indicator??`radio-group:${e.id}:indicator`,E=e=>e.getById(b(e)),Q=(e,t)=>e.getById(P(e,t)),X=e=>e.getById(z(e)),Y=e=>E(e)?.querySelector("input:not(:disabled)"),Z=e=>E(e)?.querySelector("input:not(:disabled):checked"),j=e=>{let r=`input[type=radio][data-ownedby='${CSS.escape(b(e))}']:not([disabled])`;return L(E(e),r)},ee=(e,t)=>{if(t)return e.getById(B(e,t))},te=e=>({x:e?.offsetLeft??0,y:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0});function x(e,t){let{context:r,send:o,computed:d,prop:i,scope:n}=e,c=d("isDisabled"),m=i("invalid"),h=i("readOnly");function f(a){return{value:a.value,invalid:!!a.invalid||!!m,disabled:!!a.disabled||c,checked:r.get("value")===a.value,focused:r.get("focusedValue")===a.value,focusVisible:r.get("focusVisibleValue")===a.value,hovered:r.get("hoveredValue")===a.value,active:r.get("activeValue")===a.value}}function I(a){let l=f(a);return{"data-focus":s(l.focused),"data-focus-visible":s(l.focusVisible),"data-disabled":s(l.disabled),"data-readonly":s(h),"data-state":l.checked?"checked":"unchecked","data-hover":s(l.hovered),"data-invalid":s(l.invalid),"data-orientation":i("orientation"),"data-ssr":s(r.get("ssr"))}}let T=()=>{(Z(n)??Y(n))?.focus()};return{focus:T,value:r.get("value"),setValue(a){o({type:"SET_VALUE",value:a,isTrusted:!1})},clearValue(){o({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...g.root.attrs,role:"radiogroup",id:b(n),"aria-labelledby":U(n),"aria-required":i("required")||void 0,"aria-disabled":c||void 0,"aria-readonly":h||void 0,"data-orientation":i("orientation"),"data-disabled":s(c),"data-invalid":s(m),"data-required":s(i("required")),"aria-orientation":i("orientation"),dir:i("dir"),style:{position:"relative"}})},getLabelProps(){return t.element({...g.label.attrs,dir:i("dir"),"data-orientation":i("orientation"),"data-disabled":s(c),"data-invalid":s(m),"data-required":s(i("required")),id:U(n),onClick:T})},getItemState:f,getItemProps(a){let l=f(a);return t.label({...g.item.attrs,dir:i("dir"),id:B(n,a.value),htmlFor:P(n,a.value),...I(a),onPointerMove(){l.disabled||l.hovered||o({type:"SET_HOVERED",value:a.value,hovered:!0})},onPointerLeave(){l.disabled||o({type:"SET_HOVERED",value:null})},onPointerDown(u){l.disabled||R(u)&&(l.focused&&u.pointerType==="mouse"&&u.preventDefault(),o({type:"SET_ACTIVE",value:a.value,active:!0}))},onPointerUp(){l.disabled||o({type:"SET_ACTIVE",value:null})},onClick(){!l.disabled&&H()&&Q(n,a.value)?.focus()}})},getItemTextProps(a){return t.element({...g.itemText.attrs,dir:i("dir"),id:J(n,a.value),...I(a)})},getItemControlProps(a){let l=f(a);return t.element({...g.itemControl.attrs,dir:i("dir"),id:W(n,a.value),"data-active":s(l.active),"aria-hidden":!0,...I(a)})},getItemHiddenInputProps(a){let l=f(a);return t.input({"data-ownedby":b(n),id:P(n,a.value),type:"radio",name:i("name")||i("id"),form:i("form"),value:a.value,required:i("required"),"aria-invalid":l.invalid||void 0,onClick(u){if(h){u.preventDefault();return}u.currentTarget.checked&&o({type:"SET_VALUE",value:a.value,isTrusted:!0})},onBlur(){o({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){let u=G();o({type:"SET_FOCUSED",value:a.value,focused:!0,focusVisible:u})},onKeyDown(u){u.defaultPrevented||u.key===" "&&o({type:"SET_ACTIVE",value:a.value,active:!0})},onKeyUp(u){u.defaultPrevented||u.key===" "&&o({type:"SET_ACTIVE",value:null})},disabled:l.disabled||h,defaultChecked:l.checked,style:F})},getIndicatorProps(){let a=r.get("indicatorRect"),l=a==null||a.width===0&&a.height===0&&a.x===0&&a.y===0;return t.element({id:z(n),...g.indicator.attrs,dir:i("dir"),hidden:r.get("value")==null||l,"data-disabled":s(c),"data-orientation":i("orientation"),style:{"--transition-property":"left, top, width, height","--left":y(a?.x),"--top":y(a?.y),"--width":y(a?.width),"--height":y(a?.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[i("orientation")==="horizontal"?"left":"top"]:i("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:ae}=_(),N={props({props:e}){return{orientation:"vertical",...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(r){e("onValueChange")?.({value:r})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),focusVisibleValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:r}){e([()=>r.get("value")],()=>{t(["syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:ae("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return q(E(t),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){return $({root:e.getRootNode?.()})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t}){e.set("focusedValue",t.value);let r=t.value!=null&&t.focusVisible?t.value:null;e.set("focusVisibleValue",r)},syncInputElements({context:e,scope:t}){j(t).forEach(o=>{o.checked=o.value===e.get("value")})},cleanupObserver({refs:e}){e.get("indicatorCleanup")?.()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:r}){if(r.get("indicatorCleanup")?.(),!X(t))return;let o=e.get("value"),d=ee(t,o);if(o==null||!d){e.set("indicatorRect",null);return}let i=()=>{e.set("indicatorRect",te(d))};i();let n=A.observe(d,i);r.set("indicatorCleanup",n)},dispatchChangeEvent({context:e,scope:t}){j(t).forEach(o=>{let d=o.value===e.get("value");d!==o.checked&&D(o,{checked:d})})}}}},ie=C()(["dir","disabled","form","getRootNode","id","ids","invalid","name","onValueChange","orientation","readOnly","required","value","defaultValue"]),pe=S(ie),re=C()(["value","disabled","invalid"]),ve=S(re);var V=class extends M{initMachine(t){return new O(N,t)}initApi(){return x(this.machine.service,w)}render(){let t=this.el.querySelector('[data-scope="radio-group"][data-part="root"]')??this.el;this.spreadProps(t,this.api.getRootProps());let r=this.el.querySelector('[data-scope="radio-group"][data-part="label"]');r&&this.spreadProps(r,this.api.getLabelProps());let o=this.el.querySelector('[data-scope="radio-group"][data-part="indicator"]');o&&this.spreadProps(o,this.api.getIndicatorProps()),this.el.querySelectorAll('[data-scope="radio-group"][data-part="item"]').forEach(d=>{let i=d.dataset.value;if(i==null)return;let n=d.dataset.disabled==="true",c=d.dataset.invalid==="true";this.spreadProps(d,this.api.getItemProps({value:i,disabled:n,invalid:c}));let m=d.querySelector('[data-scope="radio-group"][data-part="item-text"]');m&&this.spreadProps(m,this.api.getItemTextProps({value:i,disabled:n,invalid:c}));let h=d.querySelector('[data-scope="radio-group"][data-part="item-control"]');h&&this.spreadProps(h,this.api.getItemControlProps({value:i,disabled:n,invalid:c}));let f=d.querySelector('[data-scope="radio-group"][data-part="item-hidden-input"]');f&&this.spreadProps(f,this.api.getItemHiddenInputProps({value:i,disabled:n,invalid:c}))})}};var Ve={mounted(){let e=this.el,t=p(e,"value"),r=p(e,"defaultValue"),o=v(e,"controlled"),d=new V(e,{id:e.id,...o&&t!==void 0?{value:t??null}:{defaultValue:r??null},name:p(e,"name"),form:p(e,"form"),disabled:v(e,"disabled"),invalid:v(e,"invalid"),required:v(e,"required"),readOnly:v(e,"readOnly"),dir:p(e,"dir",["ltr","rtl"]),orientation:p(e,"orientation",["horizontal","vertical"]),onValueChange:i=>{let n=p(e,"onValueChange");n&&!this.liveSocket.main.isDead&&this.liveSocket.main.isConnected()&&this.pushEvent(n,{value:i.value,id:e.id});let c=p(e,"onValueChangeClient");c&&e.dispatchEvent(new CustomEvent(c,{bubbles:!0,detail:{value:i,id:e.id}}))}});d.init(),this.radioGroup=d,this.handlers=[]},updated(){let e=p(this.el,"value"),t=v(this.el,"controlled");this.radioGroup?.updateProps({id:this.el.id,...t&&e!==void 0?{value:e??null}:{},name:p(this.el,"name"),form:p(this.el,"form"),disabled:v(this.el,"disabled"),invalid:v(this.el,"invalid"),required:v(this.el,"required"),readOnly:v(this.el,"readOnly"),orientation:p(this.el,"orientation",["horizontal","vertical"])})},destroyed(){if(this.handlers)for(let e of this.handlers)this.removeHandleEvent(e);this.radioGroup?.destroy()}};export{Ve as RadioGroup};
